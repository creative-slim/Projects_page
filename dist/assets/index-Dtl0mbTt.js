function _mergeNamespaces(se,te){for(var ae=0;ae<te.length;ae++){const oe=te[ae];if(typeof oe!="string"&&!Array.isArray(oe)){for(const ce in oe)if(ce!=="default"&&!(ce in se)){const ue=Object.getOwnPropertyDescriptor(oe,ce);ue&&Object.defineProperty(se,ce,ue.get?ue:{enumerable:!0,get:()=>oe[ce]})}}}return Object.freeze(Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}))}(function(){const te=document.createElement("link").relList;if(te&&te.supports&&te.supports("modulepreload"))return;for(const ce of document.querySelectorAll('link[rel="modulepreload"]'))oe(ce);new MutationObserver(ce=>{for(const ue of ce)if(ue.type==="childList")for(const fe of ue.addedNodes)fe.tagName==="LINK"&&fe.rel==="modulepreload"&&oe(fe)}).observe(document,{childList:!0,subtree:!0});function ae(ce){const ue={};return ce.integrity&&(ue.integrity=ce.integrity),ce.referrerPolicy&&(ue.referrerPolicy=ce.referrerPolicy),ce.crossOrigin==="use-credentials"?ue.credentials="include":ce.crossOrigin==="anonymous"?ue.credentials="omit":ue.credentials="same-origin",ue}function oe(ce){if(ce.ep)return;ce.ep=!0;const ue=ae(ce);fetch(ce.href,ue)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(se){return se&&se.__esModule&&Object.prototype.hasOwnProperty.call(se,"default")?se.default:se}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var se=Symbol.for("react.transitional.element"),te=Symbol.for("react.fragment");function ae(oe,ce,ue){var fe=null;if(ue!==void 0&&(fe=""+ue),ce.key!==void 0&&(fe=""+ce.key),"key"in ce){ue={};for(var de in ce)de!=="key"&&(ue[de]=ce[de])}else ue=ce;return ce=ue.ref,{$$typeof:se,type:oe,key:fe,ref:ce!==void 0?ce:null,props:ue}}return reactJsxRuntime_production.Fragment=te,reactJsxRuntime_production.jsx=ae,reactJsxRuntime_production.jsxs=ae,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var se=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),be=Symbol.iterator;function Ee(Xe){return Xe===null||typeof Xe!="object"?null:(Xe=be&&Xe[be]||Xe["@@iterator"],typeof Xe=="function"?Xe:null)}var Ae={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Re=Object.assign,Be={};function De(Xe,et,ft){this.props=Xe,this.context=et,this.refs=Be,this.updater=ft||Ae}De.prototype.isReactComponent={},De.prototype.setState=function(Xe,et){if(typeof Xe!="object"&&typeof Xe!="function"&&Xe!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Xe,et,"setState")},De.prototype.forceUpdate=function(Xe){this.updater.enqueueForceUpdate(this,Xe,"forceUpdate")};function Oe(){}Oe.prototype=De.prototype;function Pe(Xe,et,ft){this.props=Xe,this.context=et,this.refs=Be,this.updater=ft||Ae}var Ie=Pe.prototype=new Oe;Ie.constructor=Pe,Re(Ie,De.prototype),Ie.isPureReactComponent=!0;var Fe=Array.isArray,$e={H:null,A:null,T:null,S:null,V:null},Ve=Object.prototype.hasOwnProperty;function ke(Xe,et,ft,yt,st,gt){return ft=gt.ref,{$$typeof:se,type:Xe,key:et,ref:ft!==void 0?ft:null,props:gt}}function We(Xe,et){return ke(Xe.type,et,void 0,void 0,void 0,Xe.props)}function je(Xe){return typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===se}function He(Xe){var et={"=":"=0",":":"=2"};return"$"+Xe.replace(/[=:]/g,function(ft){return et[ft]})}var tt=/\/+/g;function Ze(Xe,et){return typeof Xe=="object"&&Xe!==null&&Xe.key!=null?He(""+Xe.key):et.toString(36)}function nt(){}function at(Xe){switch(Xe.status){case"fulfilled":return Xe.value;case"rejected":throw Xe.reason;default:switch(typeof Xe.status=="string"?Xe.then(nt,nt):(Xe.status="pending",Xe.then(function(et){Xe.status==="pending"&&(Xe.status="fulfilled",Xe.value=et)},function(et){Xe.status==="pending"&&(Xe.status="rejected",Xe.reason=et)})),Xe.status){case"fulfilled":return Xe.value;case"rejected":throw Xe.reason}}throw Xe}function mt(Xe,et,ft,yt,st){var gt=typeof Xe;(gt==="undefined"||gt==="boolean")&&(Xe=null);var Et=!1;if(Xe===null)Et=!0;else switch(gt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(Xe.$$typeof){case se:case te:Et=!0;break;case _e:return Et=Xe._init,mt(Et(Xe._payload),et,ft,yt,st)}}if(Et)return st=st(Xe),Et=yt===""?"."+Ze(Xe,0):yt,Fe(st)?(ft="",Et!=null&&(ft=Et.replace(tt,"$&/")+"/"),mt(st,et,ft,"",function(nn){return nn})):st!=null&&(je(st)&&(st=We(st,ft+(st.key==null||Xe&&Xe.key===st.key?"":(""+st.key).replace(tt,"$&/")+"/")+Et)),et.push(st)),1;Et=0;var bt=yt===""?".":yt+":";if(Fe(Xe))for(var Dt=0;Dt<Xe.length;Dt++)yt=Xe[Dt],gt=bt+Ze(yt,Dt),Et+=mt(yt,et,ft,gt,st);else if(Dt=Ee(Xe),typeof Dt=="function")for(Xe=Dt.call(Xe),Dt=0;!(yt=Xe.next()).done;)yt=yt.value,gt=bt+Ze(yt,Dt++),Et+=mt(yt,et,ft,gt,st);else if(gt==="object"){if(typeof Xe.then=="function")return mt(at(Xe),et,ft,yt,st);throw et=String(Xe),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(Xe).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Ye(Xe,et,ft){if(Xe==null)return Xe;var yt=[],st=0;return mt(Xe,yt,"","",function(gt){return et.call(ft,gt,st++)}),yt}function rt(Xe){if(Xe._status===-1){var et=Xe._result;et=et(),et.then(function(ft){(Xe._status===0||Xe._status===-1)&&(Xe._status=1,Xe._result=ft)},function(ft){(Xe._status===0||Xe._status===-1)&&(Xe._status=2,Xe._result=ft)}),Xe._status===-1&&(Xe._status=0,Xe._result=et)}if(Xe._status===1)return Xe._result.default;throw Xe._result}var lt=typeof reportError=="function"?reportError:function(Xe){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Xe=="object"&&Xe!==null&&typeof Xe.message=="string"?String(Xe.message):String(Xe),error:Xe});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Xe);return}console.error(Xe)};function _t(){}return react_production.Children={map:Ye,forEach:function(Xe,et,ft){Ye(Xe,function(){et.apply(this,arguments)},ft)},count:function(Xe){var et=0;return Ye(Xe,function(){et++}),et},toArray:function(Xe){return Ye(Xe,function(et){return et})||[]},only:function(Xe){if(!je(Xe))throw Error("React.Children.only expected to receive a single React element child.");return Xe}},react_production.Component=De,react_production.Fragment=ae,react_production.Profiler=ce,react_production.PureComponent=Pe,react_production.StrictMode=oe,react_production.Suspense=pe,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Xe){return $e.H.useMemoCache(Xe)}},react_production.cache=function(Xe){return function(){return Xe.apply(null,arguments)}},react_production.cloneElement=function(Xe,et,ft){if(Xe==null)throw Error("The argument must be a React element, but you passed "+Xe+".");var yt=Re({},Xe.props),st=Xe.key,gt=void 0;if(et!=null)for(Et in et.ref!==void 0&&(gt=void 0),et.key!==void 0&&(st=""+et.key),et)!Ve.call(et,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&et.ref===void 0||(yt[Et]=et[Et]);var Et=arguments.length-2;if(Et===1)yt.children=ft;else if(1<Et){for(var bt=Array(Et),Dt=0;Dt<Et;Dt++)bt[Dt]=arguments[Dt+2];yt.children=bt}return ke(Xe.type,st,void 0,void 0,gt,yt)},react_production.createContext=function(Xe){return Xe={$$typeof:fe,_currentValue:Xe,_currentValue2:Xe,_threadCount:0,Provider:null,Consumer:null},Xe.Provider=Xe,Xe.Consumer={$$typeof:ue,_context:Xe},Xe},react_production.createElement=function(Xe,et,ft){var yt,st={},gt=null;if(et!=null)for(yt in et.key!==void 0&&(gt=""+et.key),et)Ve.call(et,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(st[yt]=et[yt]);var Et=arguments.length-2;if(Et===1)st.children=ft;else if(1<Et){for(var bt=Array(Et),Dt=0;Dt<Et;Dt++)bt[Dt]=arguments[Dt+2];st.children=bt}if(Xe&&Xe.defaultProps)for(yt in Et=Xe.defaultProps,Et)st[yt]===void 0&&(st[yt]=Et[yt]);return ke(Xe,gt,void 0,void 0,null,st)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Xe){return{$$typeof:de,render:Xe}},react_production.isValidElement=je,react_production.lazy=function(Xe){return{$$typeof:_e,_payload:{_status:-1,_result:Xe},_init:rt}},react_production.memo=function(Xe,et){return{$$typeof:me,type:Xe,compare:et===void 0?null:et}},react_production.startTransition=function(Xe){var et=$e.T,ft={};$e.T=ft;try{var yt=Xe(),st=$e.S;st!==null&&st(ft,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then(_t,lt)}catch(gt){lt(gt)}finally{$e.T=et}},react_production.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()},react_production.use=function(Xe){return $e.H.use(Xe)},react_production.useActionState=function(Xe,et,ft){return $e.H.useActionState(Xe,et,ft)},react_production.useCallback=function(Xe,et){return $e.H.useCallback(Xe,et)},react_production.useContext=function(Xe){return $e.H.useContext(Xe)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Xe,et){return $e.H.useDeferredValue(Xe,et)},react_production.useEffect=function(Xe,et,ft){var yt=$e.H;if(typeof ft=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return yt.useEffect(Xe,et)},react_production.useId=function(){return $e.H.useId()},react_production.useImperativeHandle=function(Xe,et,ft){return $e.H.useImperativeHandle(Xe,et,ft)},react_production.useInsertionEffect=function(Xe,et){return $e.H.useInsertionEffect(Xe,et)},react_production.useLayoutEffect=function(Xe,et){return $e.H.useLayoutEffect(Xe,et)},react_production.useMemo=function(Xe,et){return $e.H.useMemo(Xe,et)},react_production.useOptimistic=function(Xe,et){return $e.H.useOptimistic(Xe,et)},react_production.useReducer=function(Xe,et,ft){return $e.H.useReducer(Xe,et,ft)},react_production.useRef=function(Xe){return $e.H.useRef(Xe)},react_production.useState=function(Xe){return $e.H.useState(Xe)},react_production.useSyncExternalStore=function(Xe,et,ft){return $e.H.useSyncExternalStore(Xe,et,ft)},react_production.useTransition=function(){return $e.H.useTransition()},react_production.version="19.1.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),$2AODx$react=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler$1={exports:{}},scheduler_production$1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production$1;function requireScheduler_production$1(){return hasRequiredScheduler_production$1||(hasRequiredScheduler_production$1=1,function(se){function te(Ye,rt){var lt=Ye.length;Ye.push(rt);e:for(;0<lt;){var _t=lt-1>>>1,Xe=Ye[_t];if(0<ce(Xe,rt))Ye[_t]=rt,Ye[lt]=Xe,lt=_t;else break e}}function ae(Ye){return Ye.length===0?null:Ye[0]}function oe(Ye){if(Ye.length===0)return null;var rt=Ye[0],lt=Ye.pop();if(lt!==rt){Ye[0]=lt;e:for(var _t=0,Xe=Ye.length,et=Xe>>>1;_t<et;){var ft=2*(_t+1)-1,yt=Ye[ft],st=ft+1,gt=Ye[st];if(0>ce(yt,lt))st<Xe&&0>ce(gt,yt)?(Ye[_t]=gt,Ye[st]=lt,_t=st):(Ye[_t]=yt,Ye[ft]=lt,_t=ft);else if(st<Xe&&0>ce(gt,lt))Ye[_t]=gt,Ye[st]=lt,_t=st;else break e}}return rt}function ce(Ye,rt){var lt=Ye.sortIndex-rt.sortIndex;return lt!==0?lt:Ye.id-rt.id}if(se.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var ue=performance;se.unstable_now=function(){return ue.now()}}else{var fe=Date,de=fe.now();se.unstable_now=function(){return fe.now()-de}}var pe=[],me=[],_e=1,be=null,Ee=3,Ae=!1,Re=!1,Be=!1,De=!1,Oe=typeof setTimeout=="function"?setTimeout:null,Pe=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;function Fe(Ye){for(var rt=ae(me);rt!==null;){if(rt.callback===null)oe(me);else if(rt.startTime<=Ye)oe(me),rt.sortIndex=rt.expirationTime,te(pe,rt);else break;rt=ae(me)}}function $e(Ye){if(Be=!1,Fe(Ye),!Re)if(ae(pe)!==null)Re=!0,Ve||(Ve=!0,Ze());else{var rt=ae(me);rt!==null&&mt($e,rt.startTime-Ye)}}var Ve=!1,ke=-1,We=5,je=-1;function He(){return De?!0:!(se.unstable_now()-je<We)}function tt(){if(De=!1,Ve){var Ye=se.unstable_now();je=Ye;var rt=!0;try{e:{Re=!1,Be&&(Be=!1,Pe(ke),ke=-1),Ae=!0;var lt=Ee;try{t:{for(Fe(Ye),be=ae(pe);be!==null&&!(be.expirationTime>Ye&&He());){var _t=be.callback;if(typeof _t=="function"){be.callback=null,Ee=be.priorityLevel;var Xe=_t(be.expirationTime<=Ye);if(Ye=se.unstable_now(),typeof Xe=="function"){be.callback=Xe,Fe(Ye),rt=!0;break t}be===ae(pe)&&oe(pe),Fe(Ye)}else oe(pe);be=ae(pe)}if(be!==null)rt=!0;else{var et=ae(me);et!==null&&mt($e,et.startTime-Ye),rt=!1}}break e}finally{be=null,Ee=lt,Ae=!1}rt=void 0}}finally{rt?Ze():Ve=!1}}}var Ze;if(typeof Ie=="function")Ze=function(){Ie(tt)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,at=nt.port2;nt.port1.onmessage=tt,Ze=function(){at.postMessage(null)}}else Ze=function(){Oe(tt,0)};function mt(Ye,rt){ke=Oe(function(){Ye(se.unstable_now())},rt)}se.unstable_IdlePriority=5,se.unstable_ImmediatePriority=1,se.unstable_LowPriority=4,se.unstable_NormalPriority=3,se.unstable_Profiling=null,se.unstable_UserBlockingPriority=2,se.unstable_cancelCallback=function(Ye){Ye.callback=null},se.unstable_forceFrameRate=function(Ye){0>Ye||125<Ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):We=0<Ye?Math.floor(1e3/Ye):5},se.unstable_getCurrentPriorityLevel=function(){return Ee},se.unstable_next=function(Ye){switch(Ee){case 1:case 2:case 3:var rt=3;break;default:rt=Ee}var lt=Ee;Ee=rt;try{return Ye()}finally{Ee=lt}},se.unstable_requestPaint=function(){De=!0},se.unstable_runWithPriority=function(Ye,rt){switch(Ye){case 1:case 2:case 3:case 4:case 5:break;default:Ye=3}var lt=Ee;Ee=Ye;try{return rt()}finally{Ee=lt}},se.unstable_scheduleCallback=function(Ye,rt,lt){var _t=se.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?_t+lt:_t):lt=_t,Ye){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=lt+Xe,Ye={id:_e++,callback:rt,priorityLevel:Ye,startTime:lt,expirationTime:Xe,sortIndex:-1},lt>_t?(Ye.sortIndex=lt,te(me,Ye),ae(pe)===null&&Ye===ae(me)&&(Be?(Pe(ke),ke=-1):Be=!0,mt($e,lt-_t))):(Ye.sortIndex=Xe,te(pe,Ye),Re||Ae||(Re=!0,Ve||(Ve=!0,Ze()))),Ye},se.unstable_shouldYield=He,se.unstable_wrapCallback=function(Ye){var rt=Ee;return function(){var lt=Ee;Ee=rt;try{return Ye.apply(this,arguments)}finally{Ee=lt}}}}(scheduler_production$1)),scheduler_production$1}var hasRequiredScheduler$1;function requireScheduler$1(){return hasRequiredScheduler$1||(hasRequiredScheduler$1=1,scheduler$1.exports=requireScheduler_production$1()),scheduler$1.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var se=requireReact();function te(pe){var me="https://react.dev/errors/"+pe;if(1<arguments.length){me+="?args[]="+encodeURIComponent(arguments[1]);for(var _e=2;_e<arguments.length;_e++)me+="&args[]="+encodeURIComponent(arguments[_e])}return"Minified React error #"+pe+"; visit "+me+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ae(){}var oe={d:{f:ae,r:function(){throw Error(te(522))},D:ae,C:ae,L:ae,m:ae,X:ae,S:ae,M:ae},p:0,findDOMNode:null},ce=Symbol.for("react.portal");function ue(pe,me,_e){var be=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:be==null?null:""+be,children:pe,containerInfo:me,implementation:_e}}var fe=se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function de(pe,me){if(pe==="font")return"";if(typeof me=="string")return me==="use-credentials"?me:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,reactDom_production.createPortal=function(pe,me){var _e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!me||me.nodeType!==1&&me.nodeType!==9&&me.nodeType!==11)throw Error(te(299));return ue(pe,me,null,_e)},reactDom_production.flushSync=function(pe){var me=fe.T,_e=oe.p;try{if(fe.T=null,oe.p=2,pe)return pe()}finally{fe.T=me,oe.p=_e,oe.d.f()}},reactDom_production.preconnect=function(pe,me){typeof pe=="string"&&(me?(me=me.crossOrigin,me=typeof me=="string"?me==="use-credentials"?me:"":void 0):me=null,oe.d.C(pe,me))},reactDom_production.prefetchDNS=function(pe){typeof pe=="string"&&oe.d.D(pe)},reactDom_production.preinit=function(pe,me){if(typeof pe=="string"&&me&&typeof me.as=="string"){var _e=me.as,be=de(_e,me.crossOrigin),Ee=typeof me.integrity=="string"?me.integrity:void 0,Ae=typeof me.fetchPriority=="string"?me.fetchPriority:void 0;_e==="style"?oe.d.S(pe,typeof me.precedence=="string"?me.precedence:void 0,{crossOrigin:be,integrity:Ee,fetchPriority:Ae}):_e==="script"&&oe.d.X(pe,{crossOrigin:be,integrity:Ee,fetchPriority:Ae,nonce:typeof me.nonce=="string"?me.nonce:void 0})}},reactDom_production.preinitModule=function(pe,me){if(typeof pe=="string")if(typeof me=="object"&&me!==null){if(me.as==null||me.as==="script"){var _e=de(me.as,me.crossOrigin);oe.d.M(pe,{crossOrigin:_e,integrity:typeof me.integrity=="string"?me.integrity:void 0,nonce:typeof me.nonce=="string"?me.nonce:void 0})}}else me==null&&oe.d.M(pe)},reactDom_production.preload=function(pe,me){if(typeof pe=="string"&&typeof me=="object"&&me!==null&&typeof me.as=="string"){var _e=me.as,be=de(_e,me.crossOrigin);oe.d.L(pe,_e,{crossOrigin:be,integrity:typeof me.integrity=="string"?me.integrity:void 0,nonce:typeof me.nonce=="string"?me.nonce:void 0,type:typeof me.type=="string"?me.type:void 0,fetchPriority:typeof me.fetchPriority=="string"?me.fetchPriority:void 0,referrerPolicy:typeof me.referrerPolicy=="string"?me.referrerPolicy:void 0,imageSrcSet:typeof me.imageSrcSet=="string"?me.imageSrcSet:void 0,imageSizes:typeof me.imageSizes=="string"?me.imageSizes:void 0,media:typeof me.media=="string"?me.media:void 0})}},reactDom_production.preloadModule=function(pe,me){if(typeof pe=="string")if(me){var _e=de(me.as,me.crossOrigin);oe.d.m(pe,{as:typeof me.as=="string"&&me.as!=="script"?me.as:void 0,crossOrigin:_e,integrity:typeof me.integrity=="string"?me.integrity:void 0})}else oe.d.m(pe)},reactDom_production.requestFormReset=function(pe){oe.d.r(pe)},reactDom_production.unstable_batchedUpdates=function(pe,me){return pe(me)},reactDom_production.useFormState=function(pe,me,_e){return fe.H.useFormState(pe,me,_e)},reactDom_production.useFormStatus=function(){return fe.H.useHostTransitionStatus()},reactDom_production.version="19.1.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function se(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(se)}catch(te){console.error(te)}}return se(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var se=requireScheduler$1(),te=requireReact(),ae=requireReactDom();function oe(he){var ge="https://react.dev/errors/"+he;if(1<arguments.length){ge+="?args[]="+encodeURIComponent(arguments[1]);for(var Se=2;Se<arguments.length;Se++)ge+="&args[]="+encodeURIComponent(arguments[Se])}return"Minified React error #"+he+"; visit "+ge+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ce(he){return!(!he||he.nodeType!==1&&he.nodeType!==9&&he.nodeType!==11)}function ue(he){var ge=he,Se=he;if(he.alternate)for(;ge.return;)ge=ge.return;else{he=ge;do ge=he,(ge.flags&4098)!==0&&(Se=ge.return),he=ge.return;while(he)}return ge.tag===3?Se:null}function fe(he){if(he.tag===13){var ge=he.memoizedState;if(ge===null&&(he=he.alternate,he!==null&&(ge=he.memoizedState)),ge!==null)return ge.dehydrated}return null}function de(he){if(ue(he)!==he)throw Error(oe(188))}function pe(he){var ge=he.alternate;if(!ge){if(ge=ue(he),ge===null)throw Error(oe(188));return ge!==he?null:he}for(var Se=he,Te=ge;;){var Le=Se.return;if(Le===null)break;var Ge=Le.alternate;if(Ge===null){if(Te=Le.return,Te!==null){Se=Te;continue}break}if(Le.child===Ge.child){for(Ge=Le.child;Ge;){if(Ge===Se)return de(Le),he;if(Ge===Te)return de(Le),ge;Ge=Ge.sibling}throw Error(oe(188))}if(Se.return!==Te.return)Se=Le,Te=Ge;else{for(var Je=!1,ot=Le.child;ot;){if(ot===Se){Je=!0,Se=Le,Te=Ge;break}if(ot===Te){Je=!0,Te=Le,Se=Ge;break}ot=ot.sibling}if(!Je){for(ot=Ge.child;ot;){if(ot===Se){Je=!0,Se=Ge,Te=Le;break}if(ot===Te){Je=!0,Te=Ge,Se=Le;break}ot=ot.sibling}if(!Je)throw Error(oe(189))}}if(Se.alternate!==Te)throw Error(oe(190))}if(Se.tag!==3)throw Error(oe(188));return Se.stateNode.current===Se?he:ge}function me(he){var ge=he.tag;if(ge===5||ge===26||ge===27||ge===6)return he;for(he=he.child;he!==null;){if(ge=me(he),ge!==null)return ge;he=he.sibling}return null}var _e=Object.assign,be=Symbol.for("react.element"),Ee=Symbol.for("react.transitional.element"),Ae=Symbol.for("react.portal"),Re=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Pe=Symbol.for("react.consumer"),Ie=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),$e=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),He=Symbol.for("react.memo_cache_sentinel"),tt=Symbol.iterator;function Ze(he){return he===null||typeof he!="object"?null:(he=tt&&he[tt]||he["@@iterator"],typeof he=="function"?he:null)}var nt=Symbol.for("react.client.reference");function at(he){if(he==null)return null;if(typeof he=="function")return he.$$typeof===nt?null:he.displayName||he.name||null;if(typeof he=="string")return he;switch(he){case Re:return"Fragment";case De:return"Profiler";case Be:return"StrictMode";case $e:return"Suspense";case Ve:return"SuspenseList";case je:return"Activity"}if(typeof he=="object")switch(he.$$typeof){case Ae:return"Portal";case Ie:return(he.displayName||"Context")+".Provider";case Pe:return(he._context.displayName||"Context")+".Consumer";case Fe:var ge=he.render;return he=he.displayName,he||(he=ge.displayName||ge.name||"",he=he!==""?"ForwardRef("+he+")":"ForwardRef"),he;case ke:return ge=he.displayName||null,ge!==null?ge:at(he.type)||"Memo";case We:ge=he._payload,he=he._init;try{return at(he(ge))}catch{}}return null}var mt=Array.isArray,Ye=te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=ae.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},_t=[],Xe=-1;function et(he){return{current:he}}function ft(he){0>Xe||(he.current=_t[Xe],_t[Xe]=null,Xe--)}function yt(he,ge){Xe++,_t[Xe]=he.current,he.current=ge}var st=et(null),gt=et(null),Et=et(null),bt=et(null);function Dt(he,ge){switch(yt(Et,ge),yt(gt,he),yt(st,null),ge.nodeType){case 9:case 11:he=(he=ge.documentElement)&&(he=he.namespaceURI)?fp(he):0;break;default:if(he=ge.tagName,ge=ge.namespaceURI)ge=fp(ge),he=dp(ge,he);else switch(he){case"svg":he=1;break;case"math":he=2;break;default:he=0}}ft(st),yt(st,he)}function nn(){ft(st),ft(gt),ft(Et)}function ln(he){he.memoizedState!==null&&yt(bt,he);var ge=st.current,Se=dp(ge,he.type);ge!==Se&&(yt(gt,he),yt(st,Se))}function tn(he){gt.current===he&&(ft(st),ft(gt)),bt.current===he&&(ft(bt),qf._currentValue=lt)}var Wt=Object.prototype.hasOwnProperty,on=se.unstable_scheduleCallback,pt=se.unstable_cancelCallback,Sn=se.unstable_shouldYield,Nt=se.unstable_requestPaint,ht=se.unstable_now,Rt=se.unstable_getCurrentPriorityLevel,kt=se.unstable_ImmediatePriority,Bt=se.unstable_UserBlockingPriority,Qe=se.unstable_NormalPriority,Ke=se.unstable_LowPriority,ct=se.unstable_IdlePriority,St=se.log,Mt=se.unstable_setDisableYieldValue,Ft=null,zt=null;function $t(he){if(typeof St=="function"&&Mt(he),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Ft,he)}catch{}}var Jt=Math.clz32?Math.clz32:cn,Mn=Math.log,rn=Math.LN2;function cn(he){return he>>>=0,he===0?32:31-(Mn(he)/rn|0)|0}var vn=256,hn=4194304;function Qt(he){var ge=he&42;if(ge!==0)return ge;switch(he&-he){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return he&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return he&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return he}}function Cn(he,ge,Se){var Te=he.pendingLanes;if(Te===0)return 0;var Le=0,Ge=he.suspendedLanes,Je=he.pingedLanes;he=he.warmLanes;var ot=Te&134217727;return ot!==0?(Te=ot&~Ge,Te!==0?Le=Qt(Te):(Je&=ot,Je!==0?Le=Qt(Je):Se||(Se=ot&~he,Se!==0&&(Le=Qt(Se))))):(ot=Te&~Ge,ot!==0?Le=Qt(ot):Je!==0?Le=Qt(Je):Se||(Se=Te&~he,Se!==0&&(Le=Qt(Se)))),Le===0?0:ge!==0&&ge!==Le&&(ge&Ge)===0&&(Ge=Le&-Le,Se=ge&-ge,Ge>=Se||Ge===32&&(Se&4194048)!==0)?ge:Le}function Tn(he,ge){return(he.pendingLanes&~(he.suspendedLanes&~he.pingedLanes)&ge)===0}function Xn(he,ge){switch(he){case 1:case 2:case 4:case 8:case 64:return ge+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ge+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var he=vn;return vn<<=1,(vn&4194048)===0&&(vn=256),he}function sn(){var he=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),he}function Gt(he){for(var ge=[],Se=0;31>Se;Se++)ge.push(he);return ge}function an(he,ge){he.pendingLanes|=ge,ge!==268435456&&(he.suspendedLanes=0,he.pingedLanes=0,he.warmLanes=0)}function mn(he,ge,Se,Te,Le,Ge){var Je=he.pendingLanes;he.pendingLanes=Se,he.suspendedLanes=0,he.pingedLanes=0,he.warmLanes=0,he.expiredLanes&=Se,he.entangledLanes&=Se,he.errorRecoveryDisabledLanes&=Se,he.shellSuspendCounter=0;var ot=he.entanglements,At=he.expirationTimes,Xt=he.hiddenUpdates;for(Se=Je&~Se;0<Se;){var dn=31-Jt(Se),yn=1<<dn;ot[dn]=0,At[dn]=-1;var Kt=Xt[dn];if(Kt!==null)for(Xt[dn]=null,dn=0;dn<Kt.length;dn++){var Zt=Kt[dn];Zt!==null&&(Zt.lane&=-536870913)}Se&=~yn}Te!==0&&un(he,Te,0),Ge!==0&&Le===0&&he.tag!==0&&(he.suspendedLanes|=Ge&~(Je&~ge))}function un(he,ge,Se){he.pendingLanes|=ge,he.suspendedLanes&=~ge;var Te=31-Jt(ge);he.entangledLanes|=ge,he.entanglements[Te]=he.entanglements[Te]|1073741824|Se&4194090}function Un(he,ge){var Se=he.entangledLanes|=ge;for(he=he.entanglements;Se;){var Te=31-Jt(Se),Le=1<<Te;Le&ge|he[Te]&ge&&(he[Te]|=ge),Se&=~Le}}function Hn(he){switch(he){case 2:he=1;break;case 8:he=4;break;case 32:he=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:he=128;break;case 268435456:he=134217728;break;default:he=0}return he}function Pn(he){return he&=-he,2<he?8<he?(he&134217727)!==0?32:268435456:8:2}function xn(){var he=rt.p;return he!==0?he:(he=window.event,he===void 0?32:Dp(he.type))}function wn(he,ge){var Se=rt.p;try{return rt.p=he,ge()}finally{rt.p=Se}}var Fn=Math.random().toString(36).slice(2),_n="__reactFiber$"+Fn,On="__reactProps$"+Fn,Bn="__reactContainer$"+Fn,In="__reactEvents$"+Fn,Ri="__reactListeners$"+Fn,qn="__reactHandles$"+Fn,ti="__reactResources$"+Fn,si="__reactMarker$"+Fn;function $n(he){delete he[_n],delete he[On],delete he[In],delete he[Ri],delete he[qn]}function gi(he){var ge=he[_n];if(ge)return ge;for(var Se=he.parentNode;Se;){if(ge=Se[Bn]||Se[_n]){if(Se=ge.alternate,ge.child!==null||Se!==null&&Se.child!==null)for(he=gp(he);he!==null;){if(Se=he[_n])return Se;he=gp(he)}return ge}he=Se,Se=he.parentNode}return null}function oi(he){if(he=he[_n]||he[Bn]){var ge=he.tag;if(ge===5||ge===6||ge===13||ge===26||ge===27||ge===3)return he}return null}function or(he){var ge=he.tag;if(ge===5||ge===26||ge===27||ge===6)return he.stateNode;throw Error(oe(33))}function Ei(he){var ge=he[ti];return ge||(ge=he[ti]={hoistableStyles:new Map,hoistableScripts:new Map}),ge}function vi(he){he[si]=!0}var pr=new Set,qi={};function Di(he,ge){it(he,ge),it(he+"Capture",ge)}function it(he,ge){for(qi[he]=ge,he=0;he<ge.length;he++)pr.add(ge[he])}var Ot=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Ct={};function Lt(he){return Wt.call(Ct,he)?!0:Wt.call(jt,he)?!1:Ot.test(he)?Ct[he]=!0:(jt[he]=!0,!1)}function pn(he,ge,Se){if(Lt(ge))if(Se===null)he.removeAttribute(ge);else{switch(typeof Se){case"undefined":case"function":case"symbol":he.removeAttribute(ge);return;case"boolean":var Te=ge.toLowerCase().slice(0,5);if(Te!=="data-"&&Te!=="aria-"){he.removeAttribute(ge);return}}he.setAttribute(ge,""+Se)}}function En(he,ge,Se){if(Se===null)he.removeAttribute(ge);else{switch(typeof Se){case"undefined":case"function":case"symbol":case"boolean":he.removeAttribute(ge);return}he.setAttribute(ge,""+Se)}}function Rn(he,ge,Se,Te){if(Te===null)he.removeAttribute(Se);else{switch(typeof Te){case"undefined":case"function":case"symbol":case"boolean":he.removeAttribute(Se);return}he.setAttributeNS(ge,Se,""+Te)}}var Dn,Vn;function zn(he){if(Dn===void 0)try{throw Error()}catch(Se){var ge=Se.stack.trim().match(/\n( *(at )?)/);Dn=ge&&ge[1]||"",Vn=-1<Se.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Se.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+he+Vn}var Gn=!1;function ni(he,ge){if(!he||Gn)return"";Gn=!0;var Se=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Te={DetermineComponentFrameRoot:function(){try{if(ge){var yn=function(){throw Error()};if(Object.defineProperty(yn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yn,[])}catch(Zt){var Kt=Zt}Reflect.construct(he,[],yn)}else{try{yn.call()}catch(Zt){Kt=Zt}he.call(yn.prototype)}}else{try{throw Error()}catch(Zt){Kt=Zt}(yn=he())&&typeof yn.catch=="function"&&yn.catch(function(){})}}catch(Zt){if(Zt&&Kt&&typeof Zt.stack=="string")return[Zt.stack,Kt.stack]}return[null,null]}};Te.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Le=Object.getOwnPropertyDescriptor(Te.DetermineComponentFrameRoot,"name");Le&&Le.configurable&&Object.defineProperty(Te.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Ge=Te.DetermineComponentFrameRoot(),Je=Ge[0],ot=Ge[1];if(Je&&ot){var At=Je.split(`
`),Xt=ot.split(`
`);for(Le=Te=0;Te<At.length&&!At[Te].includes("DetermineComponentFrameRoot");)Te++;for(;Le<Xt.length&&!Xt[Le].includes("DetermineComponentFrameRoot");)Le++;if(Te===At.length||Le===Xt.length)for(Te=At.length-1,Le=Xt.length-1;1<=Te&&0<=Le&&At[Te]!==Xt[Le];)Le--;for(;1<=Te&&0<=Le;Te--,Le--)if(At[Te]!==Xt[Le]){if(Te!==1||Le!==1)do if(Te--,Le--,0>Le||At[Te]!==Xt[Le]){var dn=`
`+At[Te].replace(" at new "," at ");return he.displayName&&dn.includes("<anonymous>")&&(dn=dn.replace("<anonymous>",he.displayName)),dn}while(1<=Te&&0<=Le);break}}}finally{Gn=!1,Error.prepareStackTrace=Se}return(Se=he?he.displayName||he.name:"")?zn(Se):""}function xi(he){switch(he.tag){case 26:case 27:case 5:return zn(he.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 15:return ni(he.type,!1);case 11:return ni(he.type.render,!1);case 1:return ni(he.type,!0);case 31:return zn("Activity");default:return""}}function Vi(he){try{var ge="";do ge+=xi(he),he=he.return;while(he);return ge}catch(Se){return`
Error generating stack: `+Se.message+`
`+Se.stack}}function di(he){switch(typeof he){case"bigint":case"boolean":case"number":case"string":case"undefined":return he;case"object":return he;default:return""}}function yi(he){var ge=he.type;return(he=he.nodeName)&&he.toLowerCase()==="input"&&(ge==="checkbox"||ge==="radio")}function jn(he){var ge=yi(he)?"checked":"value",Se=Object.getOwnPropertyDescriptor(he.constructor.prototype,ge),Te=""+he[ge];if(!he.hasOwnProperty(ge)&&typeof Se<"u"&&typeof Se.get=="function"&&typeof Se.set=="function"){var Le=Se.get,Ge=Se.set;return Object.defineProperty(he,ge,{configurable:!0,get:function(){return Le.call(this)},set:function(Je){Te=""+Je,Ge.call(this,Je)}}),Object.defineProperty(he,ge,{enumerable:Se.enumerable}),{getValue:function(){return Te},setValue:function(Je){Te=""+Je},stopTracking:function(){he._valueTracker=null,delete he[ge]}}}}function ki(he){he._valueTracker||(he._valueTracker=jn(he))}function hi(he){if(!he)return!1;var ge=he._valueTracker;if(!ge)return!0;var Se=ge.getValue(),Te="";return he&&(Te=yi(he)?he.checked?"true":"false":he.value),he=Te,he!==Se?(ge.setValue(he),!0):!1}function mr(he){if(he=he||(typeof document<"u"?document:void 0),typeof he>"u")return null;try{return he.activeElement||he.body}catch{return he.body}}var ca=/[\n"\\]/g;function Ui(he){return he.replace(ca,function(ge){return"\\"+ge.charCodeAt(0).toString(16)+" "})}function gr(he,ge,Se,Te,Le,Ge,Je,ot){he.name="",Je!=null&&typeof Je!="function"&&typeof Je!="symbol"&&typeof Je!="boolean"?he.type=Je:he.removeAttribute("type"),ge!=null?Je==="number"?(ge===0&&he.value===""||he.value!=ge)&&(he.value=""+di(ge)):he.value!==""+di(ge)&&(he.value=""+di(ge)):Je!=="submit"&&Je!=="reset"||he.removeAttribute("value"),ge!=null?lr(he,Je,di(ge)):Se!=null?lr(he,Je,di(Se)):Te!=null&&he.removeAttribute("value"),Le==null&&Ge!=null&&(he.defaultChecked=!!Ge),Le!=null&&(he.checked=Le&&typeof Le!="function"&&typeof Le!="symbol"),ot!=null&&typeof ot!="function"&&typeof ot!="symbol"&&typeof ot!="boolean"?he.name=""+di(ot):he.removeAttribute("name")}function Pi(he,ge,Se,Te,Le,Ge,Je,ot){if(Ge!=null&&typeof Ge!="function"&&typeof Ge!="symbol"&&typeof Ge!="boolean"&&(he.type=Ge),ge!=null||Se!=null){if(!(Ge!=="submit"&&Ge!=="reset"||ge!=null))return;Se=Se!=null?""+di(Se):"",ge=ge!=null?""+di(ge):Se,ot||ge===he.value||(he.value=ge),he.defaultValue=ge}Te=Te??Le,Te=typeof Te!="function"&&typeof Te!="symbol"&&!!Te,he.checked=ot?he.checked:!!Te,he.defaultChecked=!!Te,Je!=null&&typeof Je!="function"&&typeof Je!="symbol"&&typeof Je!="boolean"&&(he.name=Je)}function lr(he,ge,Se){ge==="number"&&mr(he.ownerDocument)===he||he.defaultValue===""+Se||(he.defaultValue=""+Se)}function Yi(he,ge,Se,Te){if(he=he.options,ge){ge={};for(var Le=0;Le<Se.length;Le++)ge["$"+Se[Le]]=!0;for(Se=0;Se<he.length;Se++)Le=ge.hasOwnProperty("$"+he[Se].value),he[Se].selected!==Le&&(he[Se].selected=Le),Le&&Te&&(he[Se].defaultSelected=!0)}else{for(Se=""+di(Se),ge=null,Le=0;Le<he.length;Le++){if(he[Le].value===Se){he[Le].selected=!0,Te&&(he[Le].defaultSelected=!0);return}ge!==null||he[Le].disabled||(ge=he[Le])}ge!==null&&(ge.selected=!0)}}function vr(he,ge,Se){if(ge!=null&&(ge=""+di(ge),ge!==he.value&&(he.value=ge),Se==null)){he.defaultValue!==ge&&(he.defaultValue=ge);return}he.defaultValue=Se!=null?""+di(Se):""}function rr(he,ge,Se,Te){if(ge==null){if(Te!=null){if(Se!=null)throw Error(oe(92));if(mt(Te)){if(1<Te.length)throw Error(oe(93));Te=Te[0]}Se=Te}Se==null&&(Se=""),ge=Se}Se=di(ge),he.defaultValue=Se,Te=he.textContent,Te===Se&&Te!==""&&Te!==null&&(he.value=Te)}function Tr(he,ge){if(ge){var Se=he.firstChild;if(Se&&Se===he.lastChild&&Se.nodeType===3){Se.nodeValue=ge;return}}he.textContent=ge}var ua=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mo(he,ge,Se){var Te=ge.indexOf("--")===0;Se==null||typeof Se=="boolean"||Se===""?Te?he.setProperty(ge,""):ge==="float"?he.cssFloat="":he[ge]="":Te?he.setProperty(ge,Se):typeof Se!="number"||Se===0||ua.has(ge)?ge==="float"?he.cssFloat=Se:he[ge]=(""+Se).trim():he[ge]=Se+"px"}function go(he,ge,Se){if(ge!=null&&typeof ge!="object")throw Error(oe(62));if(he=he.style,Se!=null){for(var Te in Se)!Se.hasOwnProperty(Te)||ge!=null&&ge.hasOwnProperty(Te)||(Te.indexOf("--")===0?he.setProperty(Te,""):Te==="float"?he.cssFloat="":he[Te]="");for(var Le in ge)Te=ge[Le],ge.hasOwnProperty(Le)&&Se[Le]!==Te&&mo(he,Le,Te)}else for(var Ge in ge)ge.hasOwnProperty(Ge)&&mo(he,Ge,ge[Ge])}function vo(he){if(he.indexOf("-")===-1)return!1;switch(he){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(he){return oc.test(""+he)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":he}var ns=null;function rs(he){return he=he.target||he.srcElement||window,he.correspondingUseElement&&(he=he.correspondingUseElement),he.nodeType===3?he.parentNode:he}var fa=null,_s=null;function Fs(he){var ge=oi(he);if(ge&&(he=ge.stateNode)){var Se=he[On]||null;e:switch(he=ge.stateNode,ge.type){case"input":if(gr(he,Se.value,Se.defaultValue,Se.defaultValue,Se.checked,Se.defaultChecked,Se.type,Se.name),ge=Se.name,Se.type==="radio"&&ge!=null){for(Se=he;Se.parentNode;)Se=Se.parentNode;for(Se=Se.querySelectorAll('input[name="'+Ui(""+ge)+'"][type="radio"]'),ge=0;ge<Se.length;ge++){var Te=Se[ge];if(Te!==he&&Te.form===he.form){var Le=Te[On]||null;if(!Le)throw Error(oe(90));gr(Te,Le.value,Le.defaultValue,Le.defaultValue,Le.checked,Le.defaultChecked,Le.type,Le.name)}}for(ge=0;ge<Se.length;ge++)Te=Se[ge],Te.form===he.form&&hi(Te)}break e;case"textarea":vr(he,Se.value,Se.defaultValue);break e;case"select":ge=Se.value,ge!=null&&Yi(he,!!Se.multiple,ge,!1)}}}var Is=!1;function Ko(he,ge,Se){if(Is)return he(ge,Se);Is=!0;try{var Te=he(ge);return Te}finally{if(Is=!1,(fa!==null||_s!==null)&&(Ls(),fa&&(ge=fa,he=_s,_s=fa=null,Fs(ge),he)))for(ge=0;ge<he.length;ge++)Fs(he[ge])}}function Gs(he,ge){var Se=he.stateNode;if(Se===null)return null;var Te=Se[On]||null;if(Te===null)return null;Se=Te[ge];e:switch(ge){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Te=!Te.disabled)||(he=he.type,Te=!(he==="button"||he==="input"||he==="select"||he==="textarea")),he=!Te;break e;default:he=!1}if(he)return null;if(Se&&typeof Se!="function")throw Error(oe(231,ge,typeof Se));return Se}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(Zr)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{zs=!1}var _r=null,Jo=null,Qo=null;function bl(){if(Qo)return Qo;var he,ge=Jo,Se=ge.length,Te,Le="value"in _r?_r.value:_r.textContent,Ge=Le.length;for(he=0;he<Se&&ge[he]===Le[he];he++);var Je=Se-he;for(Te=1;Te<=Je&&ge[Se-Te]===Le[Ge-Te];Te++);return Qo=Le.slice(he,1<Te?1-Te:void 0)}function Ga(he){var ge=he.keyCode;return"charCode"in he?(he=he.charCode,he===0&&ge===13&&(he=13)):he=ge,he===10&&(he=13),32<=he||he===13?he:0}function Vs(){return!0}function _o(){return!1}function yr(he){function ge(Se,Te,Le,Ge,Je){this._reactName=Se,this._targetInst=Le,this.type=Te,this.nativeEvent=Ge,this.target=Je,this.currentTarget=null;for(var ot in he)he.hasOwnProperty(ot)&&(Se=he[ot],this[ot]=Se?Se(Ge):Ge[ot]);return this.isDefaultPrevented=(Ge.defaultPrevented!=null?Ge.defaultPrevented:Ge.returnValue===!1)?Vs:_o,this.isPropagationStopped=_o,this}return _e(ge.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Se=this.nativeEvent;Se&&(Se.preventDefault?Se.preventDefault():typeof Se.returnValue!="unknown"&&(Se.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var Se=this.nativeEvent;Se&&(Se.stopPropagation?Se.stopPropagation():typeof Se.cancelBubble!="unknown"&&(Se.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),ge}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(he){return he.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=yr(da),ks=_e({},da,{view:0,detail:0}),El=yr(ks),ba,za,$s,Ha=_e({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(he){return he.relatedTarget===void 0?he.fromElement===he.srcElement?he.toElement:he.fromElement:he.relatedTarget},movementX:function(he){return"movementX"in he?he.movementX:(he!==$s&&($s&&he.type==="mousemove"?(ba=he.screenX-$s.screenX,za=he.screenY-$s.screenY):za=ba=0,$s=he),ba)},movementY:function(he){return"movementY"in he?he.movementY:za}}),Zo=yr(Ha),Wr=_e({},Ha,{dataTransfer:0}),$u=yr(Wr),cr=_e({},ks,{relatedTarget:0}),js=yr(cr),lc=_e({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),qc=yr(lc),Gr=_e({},da,{clipboardData:function(he){return"clipboardData"in he?he.clipboardData:window.clipboardData}}),ha=yr(Gr),Mr=_e({},da,{data:0}),Ea=yr(Mr),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ed={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ju(he){var ge=this.nativeEvent;return ge.getModifierState?ge.getModifierState(he):(he=ed[he])?!!ge[he]:!1}function uc(){return ju}var td=_e({},ks,{key:function(he){if(he.key){var ge=cc[he.key]||he.key;if(ge!=="Unidentified")return ge}return he.type==="keypress"?(he=Ga(he),he===13?"Enter":String.fromCharCode(he)):he.type==="keydown"||he.type==="keyup"?Zf[he.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(he){return he.type==="keypress"?Ga(he):0},keyCode:function(he){return he.type==="keydown"||he.type==="keyup"?he.keyCode:0},which:function(he){return he.type==="keypress"?Ga(he):he.type==="keydown"||he.type==="keyup"?he.keyCode:0}}),Xu=yr(td),Wu=_e({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=yr(Wu),nd=_e({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),qu=yr(nd),id=_e({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xs=yr(id),Yu=_e({},Ha,{deltaX:function(he){return"deltaX"in he?he.deltaX:"wheelDeltaX"in he?-he.wheelDeltaX:0},deltaY:function(he){return"deltaY"in he?he.deltaY:"wheelDeltaY"in he?-he.wheelDeltaY:"wheelDelta"in he?-he.wheelDelta:0},deltaZ:0,deltaMode:0}),_h=yr(Yu),rd=_e({},da,{newState:0,oldState:0}),yo=yr(rd),Ws=[9,13,27,32],fc=Zr&&"CompositionEvent"in window,el=null;Zr&&"documentMode"in document&&(el=document.documentMode);var dc=Zr&&"TextEvent"in window&&!el,hc=Zr&&(!fc||el&&8<el&&11>=el),xo=" ",zr=!1;function pc(he,ge){switch(he){case"keyup":return Ws.indexOf(ge.keyCode)!==-1;case"keydown":return ge.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ku(he){return he=he.detail,typeof he=="object"&&"data"in he?he.data:null}var So=!1;function mc(he,ge){switch(he){case"compositionend":return Ku(ge);case"keypress":return ge.which!==32?null:(zr=!0,xo);case"textInput":return he=ge.data,he===xo&&zr?null:he;default:return null}}function Ju(he,ge){if(So)return he==="compositionend"||!fc&&pc(he,ge)?(he=bl(),Qo=Jo=_r=null,So=!1,he):null;switch(he){case"paste":return null;case"keypress":if(!(ge.ctrlKey||ge.altKey||ge.metaKey)||ge.ctrlKey&&ge.altKey){if(ge.char&&1<ge.char.length)return ge.char;if(ge.which)return String.fromCharCode(ge.which)}return null;case"compositionend":return hc&&ge.locale!=="ko"?null:ge.data;default:return null}}var Kc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(he){var ge=he&&he.nodeName&&he.nodeName.toLowerCase();return ge==="input"?!!Kc[he.type]:ge==="textarea"}function pa(he,ge,Se,Te){fa?_s?_s.push(Te):_s=[Te]:fa=Te,ge=ih(ge,"onChange"),0<ge.length&&(Se=new ea("onChange","change",null,Se,Te),he.push({event:Se,listeners:ge}))}var Al=null,tl=null;function ad(he){sp(he,0)}function gc(he){var ge=or(he);if(hi(ge))return he}function Jc(he,ge){if(he==="change")return ge}var Qc=!1;if(Zr){var Zc;if(Zr){var Tl="oninput"in document;if(!Tl){var Ml=document.createElement("div");Ml.setAttribute("oninput","return;"),Tl=typeof Ml.oninput=="function"}Zc=Tl}else Zc=!1;Qc=Zc&&(!document.documentMode||9<document.documentMode)}function ir(){Al&&(Al.detachEvent("onpropertychange",sd),tl=Al=null)}function sd(he){if(he.propertyName==="value"&&gc(tl)){var ge=[];pa(ge,tl,he,rs(he)),Ko(ad,ge)}}function yh(he,ge,Se){he==="focusin"?(ir(),Al=ge,tl=Se,Al.attachEvent("onpropertychange",sd)):he==="focusout"&&ir()}function od(he){if(he==="selectionchange"||he==="keyup"||he==="keydown")return gc(tl)}function vc(he,ge){if(he==="click")return gc(ge)}function bo(he,ge){if(he==="input"||he==="change")return gc(ge)}function ld(he,ge){return he===ge&&(he!==0||1/he===1/ge)||he!==he&&ge!==ge}var ma=typeof Object.is=="function"?Object.is:ld;function as(he,ge){if(ma(he,ge))return!0;if(typeof he!="object"||he===null||typeof ge!="object"||ge===null)return!1;var Se=Object.keys(he),Te=Object.keys(ge);if(Se.length!==Te.length)return!1;for(Te=0;Te<Se.length;Te++){var Le=Se[Te];if(!Wt.call(ge,Le)||!ma(he[Le],ge[Le]))return!1}return!0}function ga(he){for(;he&&he.firstChild;)he=he.firstChild;return he}function Zu(he,ge){var Se=ga(he);he=0;for(var Te;Se;){if(Se.nodeType===3){if(Te=he+Se.textContent.length,he<=ge&&Te>=ge)return{node:Se,offset:ge-he};he=Te}e:{for(;Se;){if(Se.nextSibling){Se=Se.nextSibling;break e}Se=Se.parentNode}Se=void 0}Se=ga(Se)}}function ef(he,ge){return he&&ge?he===ge?!0:he&&he.nodeType===3?!1:ge&&ge.nodeType===3?ef(he,ge.parentNode):"contains"in he?he.contains(ge):he.compareDocumentPosition?!!(he.compareDocumentPosition(ge)&16):!1:!1}function tf(he){he=he!=null&&he.ownerDocument!=null&&he.ownerDocument.defaultView!=null?he.ownerDocument.defaultView:window;for(var ge=mr(he.document);ge instanceof he.HTMLIFrameElement;){try{var Se=typeof ge.contentWindow.location.href=="string"}catch{Se=!1}if(Se)he=ge.contentWindow;else break;ge=mr(he.document)}return ge}function _c(he){var ge=he&&he.nodeName&&he.nodeName.toLowerCase();return ge&&(ge==="input"&&(he.type==="text"||he.type==="search"||he.type==="tel"||he.type==="url"||he.type==="password")||ge==="textarea"||he.contentEditable==="true")}var nf=Zr&&"documentMode"in document&&11>=document.documentMode,qs=null,eu=null,yc=null,tu=!1;function rf(he,ge,Se){var Te=Se.window===Se?Se.document:Se.nodeType===9?Se:Se.ownerDocument;tu||qs==null||qs!==mr(Te)||(Te=qs,"selectionStart"in Te&&_c(Te)?Te={start:Te.selectionStart,end:Te.selectionEnd}:(Te=(Te.ownerDocument&&Te.ownerDocument.defaultView||window).getSelection(),Te={anchorNode:Te.anchorNode,anchorOffset:Te.anchorOffset,focusNode:Te.focusNode,focusOffset:Te.focusOffset}),yc&&as(yc,Te)||(yc=Te,Te=ih(eu,"onSelect"),0<Te.length&&(ge=new ea("onSelect","select",null,ge,Se),he.push({event:ge,listeners:Te}),ge.target=qs)))}function Hr(he,ge){var Se={};return Se[he.toLowerCase()]=ge.toLowerCase(),Se["Webkit"+he]="webkit"+ge,Se["Moz"+he]="moz"+ge,Se}var Eo={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},nu={},cd={};Zr&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Ys(he){if(nu[he])return nu[he];if(!Eo[he])return he;var ge=Eo[he],Se;for(Se in ge)if(ge.hasOwnProperty(Se)&&Se in cd)return nu[he]=ge[Se];return he}var ta=Ys("animationend"),af=Ys("animationiteration"),va=Ys("animationstart"),ud=Ys("transitionrun"),Ks=Ys("transitionstart"),Cl=Ys("transitioncancel"),Js=Ys("transitionend"),iu=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function Ur(he,ge){iu.set(he,ge),Di(ge,[he])}var sf=new WeakMap;function Vr(he,ge){if(typeof he=="object"&&he!==null){var Se=sf.get(he);return Se!==void 0?Se:(ge={value:he,source:ge,stack:Vi(ge)},sf.set(he,ge),ge)}return{value:he,source:ge,stack:Vi(ge)}}var qr=[],Va=0,ru=0;function Sc(){for(var he=Va,ge=ru=Va=0;ge<he;){var Se=qr[ge];qr[ge++]=null;var Te=qr[ge];qr[ge++]=null;var Le=qr[ge];qr[ge++]=null;var Ge=qr[ge];if(qr[ge++]=null,Te!==null&&Le!==null){var Je=Te.pending;Je===null?Le.next=Le:(Le.next=Je.next,Je.next=Le),Te.pending=Le}Ge!==0&&of(Se,Le,Ge)}}function Ao(he,ge,Se,Te){qr[Va++]=he,qr[Va++]=ge,qr[Va++]=Se,qr[Va++]=Te,ru|=Te,he.lanes|=Te,he=he.alternate,he!==null&&(he.lanes|=Te)}function au(he,ge,Se,Te){return Ao(he,ge,Se,Te),Rl(he)}function Qs(he,ge){return Ao(he,null,null,ge),Rl(he)}function of(he,ge,Se){he.lanes|=Se;var Te=he.alternate;Te!==null&&(Te.lanes|=Se);for(var Le=!1,Ge=he.return;Ge!==null;)Ge.childLanes|=Se,Te=Ge.alternate,Te!==null&&(Te.childLanes|=Se),Ge.tag===22&&(he=Ge.stateNode,he===null||he._visibility&1||(Le=!0)),he=Ge,Ge=Ge.return;return he.tag===3?(Ge=he.stateNode,Le&&ge!==null&&(Le=31-Jt(Se),he=Ge.hiddenUpdates,Te=he[Le],Te===null?he[Le]=[ge]:Te.push(ge),ge.lane=Se|536870912),Ge):null}function Rl(he){if(50<Os)throw Os=0,yl=null,Error(oe(185));for(var ge=he.return;ge!==null;)he=ge,ge=he.return;return he.tag===3?he.stateNode:null}var To={};function lf(he,ge,Se,Te){this.tag=he,this.key=Se,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=ge,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Te,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(he,ge,Se,Te){return new lf(he,ge,Se,Te)}function bc(he){return he=he.prototype,!(!he||!he.isReactComponent)}function xr(he,ge){var Se=he.alternate;return Se===null?(Se=_a(he.tag,ge,he.key,he.mode),Se.elementType=he.elementType,Se.type=he.type,Se.stateNode=he.stateNode,Se.alternate=he,he.alternate=Se):(Se.pendingProps=ge,Se.type=he.type,Se.flags=0,Se.subtreeFlags=0,Se.deletions=null),Se.flags=he.flags&65011712,Se.childLanes=he.childLanes,Se.lanes=he.lanes,Se.child=he.child,Se.memoizedProps=he.memoizedProps,Se.memoizedState=he.memoizedState,Se.updateQueue=he.updateQueue,ge=he.dependencies,Se.dependencies=ge===null?null:{lanes:ge.lanes,firstContext:ge.firstContext},Se.sibling=he.sibling,Se.index=he.index,Se.ref=he.ref,Se.refCleanup=he.refCleanup,Se}function cf(he,ge){he.flags&=65011714;var Se=he.alternate;return Se===null?(he.childLanes=0,he.lanes=ge,he.child=null,he.subtreeFlags=0,he.memoizedProps=null,he.memoizedState=null,he.updateQueue=null,he.dependencies=null,he.stateNode=null):(he.childLanes=Se.childLanes,he.lanes=Se.lanes,he.child=Se.child,he.subtreeFlags=0,he.deletions=null,he.memoizedProps=Se.memoizedProps,he.memoizedState=Se.memoizedState,he.updateQueue=Se.updateQueue,he.type=Se.type,ge=Se.dependencies,he.dependencies=ge===null?null:{lanes:ge.lanes,firstContext:ge.firstContext}),he}function Pr(he,ge,Se,Te,Le,Ge){var Je=0;if(Te=he,typeof he=="function")bc(he)&&(Je=1);else if(typeof he=="string")Je=cm(he,Se,st.current)?26:he==="html"||he==="head"||he==="body"?27:5;else e:switch(he){case je:return he=_a(31,Se,ge,Le),he.elementType=je,he.lanes=Ge,he;case Re:return Mo(Se.children,Le,Ge,ge);case Be:Je=8,Le|=24;break;case De:return he=_a(12,Se,ge,Le|2),he.elementType=De,he.lanes=Ge,he;case $e:return he=_a(13,Se,ge,Le),he.elementType=$e,he.lanes=Ge,he;case Ve:return he=_a(19,Se,ge,Le),he.elementType=Ve,he.lanes=Ge,he;default:if(typeof he=="object"&&he!==null)switch(he.$$typeof){case Oe:case Ie:Je=10;break e;case Pe:Je=9;break e;case Fe:Je=11;break e;case ke:Je=14;break e;case We:Je=16,Te=null;break e}Je=29,Se=Error(oe(130,he===null?"null":typeof he,"")),Te=null}return ge=_a(Je,Se,ge,Le),ge.elementType=he,ge.type=Te,ge.lanes=Ge,ge}function Mo(he,ge,Se,Te){return he=_a(7,he,Te,ge),he.lanes=Se,he}function Ec(he,ge,Se){return he=_a(6,he,null,ge),he.lanes=Se,he}function su(he,ge,Se){return ge=_a(4,he.children!==null?he.children:[],he.key,ge),ge.lanes=Se,ge.stateNode={containerInfo:he.containerInfo,pendingChildren:null,implementation:he.implementation},ge}var wl=[],ya=0,Ac=null,Bl=0,kr=[],Aa=0,Co=null,ys=1,xs="";function Zs(he,ge){wl[ya++]=Bl,wl[ya++]=Ac,Ac=he,Bl=ge}function ou(he,ge,Se){kr[Aa++]=ys,kr[Aa++]=xs,kr[Aa++]=Co,Co=he;var Te=ys;he=xs;var Le=32-Jt(Te)-1;Te&=~(1<<Le),Se+=1;var Ge=32-Jt(ge)+Le;if(30<Ge){var Je=Le-Le%5;Ge=(Te&(1<<Je)-1).toString(32),Te>>=Je,Le-=Je,ys=1<<32-Jt(ge)+Le|Se<<Le|Te,xs=Ge+he}else ys=1<<Ge|Se<<Le|Te,xs=he}function uf(he){he.return!==null&&(Zs(he,1),ou(he,1,0))}function ff(he){for(;he===Ac;)Ac=wl[--ya],wl[ya]=null,Bl=wl[--ya],wl[ya]=null;for(;he===Co;)Co=kr[--Aa],kr[Aa]=null,xs=kr[--Aa],kr[Aa]=null,ys=kr[--Aa],kr[Aa]=null}var na=null,ar=null,Oi=!1,ka=null,Ta=!1,lu=Error(oe(519));function Ro(he){var ge=Error(oe(418,""));throw nl(Vr(ge,he)),lu}function fd(he){var ge=he.stateNode,Se=he.type,Te=he.memoizedProps;switch(ge[_n]=he,ge[On]=Te,Se){case"dialog":Mi("cancel",ge),Mi("close",ge);break;case"iframe":case"object":case"embed":Mi("load",ge);break;case"video":case"audio":for(Se=0;Se<Vf.length;Se++)Mi(Vf[Se],ge);break;case"source":Mi("error",ge);break;case"img":case"image":case"link":Mi("error",ge),Mi("load",ge);break;case"details":Mi("toggle",ge);break;case"input":Mi("invalid",ge),Pi(ge,Te.value,Te.defaultValue,Te.checked,Te.defaultChecked,Te.type,Te.name,!0),ki(ge);break;case"select":Mi("invalid",ge);break;case"textarea":Mi("invalid",ge),rr(ge,Te.value,Te.defaultValue,Te.children),ki(ge)}Se=Te.children,typeof Se!="string"&&typeof Se!="number"&&typeof Se!="bigint"||ge.textContent===""+Se||Te.suppressHydrationWarning===!0||up(ge.textContent,Se)?(Te.popover!=null&&(Mi("beforetoggle",ge),Mi("toggle",ge)),Te.onScroll!=null&&Mi("scroll",ge),Te.onScrollEnd!=null&&Mi("scrollend",ge),Te.onClick!=null&&(ge.onclick=rh),ge=!0):ge=!1,ge||Ro(he)}function df(he){for(na=he.return;na;)switch(na.tag){case 5:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:na=na.return}}function ss(he){if(he!==na)return!1;if(!Oi)return df(he),Oi=!0,!1;var ge=he.tag,Se;if((Se=ge!==3&&ge!==27)&&((Se=ge===5)&&(Se=he.type,Se=!(Se!=="form"&&Se!=="button")||Gh(he.type,he.memoizedProps)),Se=!Se),Se&&ar&&Ro(he),df(he),ge===13){if(he=he.memoizedState,he=he!==null?he.dehydrated:null,!he)throw Error(oe(317));e:{for(he=he.nextSibling,ge=0;he;){if(he.nodeType===8)if(Se=he.data,Se==="/$"){if(ge===0){ar=po(he.nextSibling);break e}ge--}else Se!=="$"&&Se!=="$!"&&Se!=="$?"||ge++;he=he.nextSibling}ar=null}}else ge===27?(ge=ar,tc(he.type)?(he=kh,kh=null,ar=he):ar=ge):ar=na?po(he.stateNode.nextSibling):null;return!0}function Dl(){ar=na=null,Oi=!1}function Ni(){var he=ka;return he!==null&&(Qn===null?Qn=he:Qn.push.apply(Qn,he),ka=null),he}function nl(he){ka===null?ka=[he]:ka.push(he)}var hf=et(null),wo=null,eo=null;function Bo(he,ge,Se){yt(hf,ge._currentValue),ge._currentValue=Se}function to(he){he._currentValue=hf.current,ft(hf)}function pf(he,ge,Se){for(;he!==null;){var Te=he.alternate;if((he.childLanes&ge)!==ge?(he.childLanes|=ge,Te!==null&&(Te.childLanes|=ge)):Te!==null&&(Te.childLanes&ge)!==ge&&(Te.childLanes|=ge),he===Se)break;he=he.return}}function Tc(he,ge,Se,Te){var Le=he.child;for(Le!==null&&(Le.return=he);Le!==null;){var Ge=Le.dependencies;if(Ge!==null){var Je=Le.child;Ge=Ge.firstContext;e:for(;Ge!==null;){var ot=Ge;Ge=Le;for(var At=0;At<ge.length;At++)if(ot.context===ge[At]){Ge.lanes|=Se,ot=Ge.alternate,ot!==null&&(ot.lanes|=Se),pf(Ge.return,Se,he),Te||(Je=null);break e}Ge=ot.next}}else if(Le.tag===18){if(Je=Le.return,Je===null)throw Error(oe(341));Je.lanes|=Se,Ge=Je.alternate,Ge!==null&&(Ge.lanes|=Se),pf(Je,Se,he),Je=null}else Je=Le.child;if(Je!==null)Je.return=Le;else for(Je=Le;Je!==null;){if(Je===he){Je=null;break}if(Le=Je.sibling,Le!==null){Le.return=Je.return,Je=Le;break}Je=Je.return}Le=Je}}function $a(he,ge,Se,Te){he=null;for(var Le=ge,Ge=!1;Le!==null;){if(!Ge){if((Le.flags&524288)!==0)Ge=!0;else if((Le.flags&262144)!==0)break}if(Le.tag===10){var Je=Le.alternate;if(Je===null)throw Error(oe(387));if(Je=Je.memoizedProps,Je!==null){var ot=Le.type;ma(Le.pendingProps.value,Je.value)||(he!==null?he.push(ot):he=[ot])}}else if(Le===bt.current){if(Je=Le.alternate,Je===null)throw Error(oe(387));Je.memoizedState.memoizedState!==Le.memoizedState.memoizedState&&(he!==null?he.push(qf):he=[qf])}Le=Le.return}he!==null&&Tc(ge,he,Se,Te),ge.flags|=262144}function Mc(he){for(he=he.firstContext;he!==null;){if(!ma(he.context._currentValue,he.memoizedValue))return!0;he=he.next}return!1}function Ss(he){wo=he,eo=null,he=he.dependencies,he!==null&&(he.firstContext=null)}function ur(he){return cu(wo,he)}function Cc(he,ge){return wo===null&&Ss(he),cu(he,ge)}function cu(he,ge){var Se=ge._currentValue;if(ge={context:ge,memoizedValue:Se,next:null},eo===null){if(he===null)throw Error(oe(308));eo=ge,he.dependencies={lanes:0,firstContext:ge},he.flags|=524288}else eo=eo.next=ge;return Se}var mf=typeof AbortController<"u"?AbortController:function(){var he=[],ge=this.signal={aborted:!1,addEventListener:function(Se,Te){he.push(Te)}};this.abort=function(){ge.aborted=!0,he.forEach(function(Se){return Se()})}},xh=se.unstable_scheduleCallback,dd=se.unstable_NormalPriority,Cr={$$typeof:Ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uu(){return{controller:new mf,data:new Map,refCount:0}}function Ol(he){he.refCount--,he.refCount===0&&xh(dd,function(){he.controller.abort()})}var Ll=null,Rc=0,ui=0,Ul=null;function Ma(he,ge){if(Ll===null){var Se=Ll=[];Rc=0,ui=Bh(),Ul={status:"pending",value:void 0,then:function(Te){Se.push(Te)}}}return Rc++,ge.then(fu,fu),ge}function fu(){if(--Rc===0&&Ll!==null){Ul!==null&&(Ul.status="fulfilled");var he=Ll;Ll=null,ui=0,Ul=null;for(var ge=0;ge<he.length;ge++)(0,he[ge])()}}function Sh(he,ge){var Se=[],Te={status:"pending",value:null,reason:null,then:function(Le){Se.push(Le)}};return he.then(function(){Te.status="fulfilled",Te.value=ge;for(var Le=0;Le<Se.length;Le++)(0,Se[Le])(ge)},function(Le){for(Te.status="rejected",Te.reason=Le,Le=0;Le<Se.length;Le++)(0,Se[Le])(void 0)}),Te}var wc=Ye.S;Ye.S=function(he,ge){typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&Ma(he,ge),wc!==null&&wc(he,ge)};var ja=et(null);function Do(){var he=ja.current;return he!==null?he:li.pooledCache}function Bc(he,ge){ge===null?yt(ja,ja.current):yt(ja,ge.pool)}function du(){var he=Do();return he===null?null:{parent:Cr._currentValue,pool:he}}var Dc=Error(oe(460)),gf=Error(oe(474)),os=Error(oe(542)),Oc={then:function(){}};function hu(he){return he=he.status,he==="fulfilled"||he==="rejected"}function Pl(){}function pu(he,ge,Se){switch(Se=he[Se],Se===void 0?he.push(ge):Se!==ge&&(ge.then(Pl,Pl),ge=Se),ge.status){case"fulfilled":return ge.value;case"rejected":throw he=ge.reason,hd(he),he;default:if(typeof ge.status=="string")ge.then(Pl,Pl);else{if(he=li,he!==null&&100<he.shellSuspendCounter)throw Error(oe(482));he=ge,he.status="pending",he.then(function(Te){if(ge.status==="pending"){var Le=ge;Le.status="fulfilled",Le.value=Te}},function(Te){if(ge.status==="pending"){var Le=ge;Le.status="rejected",Le.reason=Te}})}switch(ge.status){case"fulfilled":return ge.value;case"rejected":throw he=ge.reason,hd(he),he}throw Xa=ge,Dc}}var Xa=null;function vf(){if(Xa===null)throw Error(oe(459));var he=Xa;return Xa=null,he}function hd(he){if(he===Dc||he===os)throw Error(oe(483))}var no=!1;function _f(he){he.updateQueue={baseState:he.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(he,ge){he=he.updateQueue,ge.updateQueue===he&&(ge.updateQueue={baseState:he.baseState,firstBaseUpdate:he.firstBaseUpdate,lastBaseUpdate:he.lastBaseUpdate,shared:he.shared,callbacks:null})}function bs(he){return{lane:he,tag:0,payload:null,callback:null,next:null}}function io(he,ge,Se){var Te=he.updateQueue;if(Te===null)return null;if(Te=Te.shared,(Fi&2)!==0){var Le=Te.pending;return Le===null?ge.next=ge:(ge.next=Le.next,Le.next=ge),Te.pending=ge,ge=Rl(he),of(he,null,Se),ge}return Ao(he,Te,ge,Se),Rl(he)}function il(he,ge,Se){if(ge=ge.updateQueue,ge!==null&&(ge=ge.shared,(Se&4194048)!==0)){var Te=ge.lanes;Te&=he.pendingLanes,Se|=Te,ge.lanes=Se,Un(he,Se)}}function Nl(he,ge){var Se=he.updateQueue,Te=he.alternate;if(Te!==null&&(Te=Te.updateQueue,Se===Te)){var Le=null,Ge=null;if(Se=Se.firstBaseUpdate,Se!==null){do{var Je={lane:Se.lane,tag:Se.tag,payload:Se.payload,callback:null,next:null};Ge===null?Le=Ge=Je:Ge=Ge.next=Je,Se=Se.next}while(Se!==null);Ge===null?Le=Ge=ge:Ge=Ge.next=ge}else Le=Ge=ge;Se={baseState:Te.baseState,firstBaseUpdate:Le,lastBaseUpdate:Ge,shared:Te.shared,callbacks:Te.callbacks},he.updateQueue=Se;return}he=Se.lastBaseUpdate,he===null?Se.firstBaseUpdate=ge:he.next=ge,Se.lastBaseUpdate=ge}var yf=!1;function Lc(){if(yf){var he=Ul;if(he!==null)throw he}}function Fl(he,ge,Se,Te){yf=!1;var Le=he.updateQueue;no=!1;var Ge=Le.firstBaseUpdate,Je=Le.lastBaseUpdate,ot=Le.shared.pending;if(ot!==null){Le.shared.pending=null;var At=ot,Xt=At.next;At.next=null,Je===null?Ge=Xt:Je.next=Xt,Je=At;var dn=he.alternate;dn!==null&&(dn=dn.updateQueue,ot=dn.lastBaseUpdate,ot!==Je&&(ot===null?dn.firstBaseUpdate=Xt:ot.next=Xt,dn.lastBaseUpdate=At))}if(Ge!==null){var yn=Le.baseState;Je=0,dn=Xt=At=null,ot=Ge;do{var Kt=ot.lane&-536870913,Zt=Kt!==ot.lane;if(Zt?(Kn&Kt)===Kt:(Te&Kt)===Kt){Kt!==0&&Kt===ui&&(yf=!0),dn!==null&&(dn=dn.next={lane:0,tag:ot.tag,payload:ot.payload,callback:null,next:null});e:{var ai=he,Zn=ot;Kt=ge;var er=Se;switch(Zn.tag){case 1:if(ai=Zn.payload,typeof ai=="function"){yn=ai.call(er,yn,Kt);break e}yn=ai;break e;case 3:ai.flags=ai.flags&-65537|128;case 0:if(ai=Zn.payload,Kt=typeof ai=="function"?ai.call(er,yn,Kt):ai,Kt==null)break e;yn=_e({},yn,Kt);break e;case 2:no=!0}}Kt=ot.callback,Kt!==null&&(he.flags|=64,Zt&&(he.flags|=8192),Zt=Le.callbacks,Zt===null?Le.callbacks=[Kt]:Zt.push(Kt))}else Zt={lane:Kt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},dn===null?(Xt=dn=Zt,At=yn):dn=dn.next=Zt,Je|=Kt;if(ot=ot.next,ot===null){if(ot=Le.shared.pending,ot===null)break;Zt=ot,ot=Zt.next,Zt.next=null,Le.lastBaseUpdate=Zt,Le.shared.pending=null}}while(!0);dn===null&&(At=yn),Le.baseState=At,Le.firstBaseUpdate=Xt,Le.lastBaseUpdate=dn,Ge===null&&(Le.shared.lanes=0),ms|=Je,he.lanes=Je,he.memoizedState=yn}}function Il(he,ge){if(typeof he!="function")throw Error(oe(191,he));he.call(ge)}function pd(he,ge){var Se=he.callbacks;if(Se!==null)for(he.callbacks=null,he=0;he<Se.length;he++)Il(Se[he],ge)}var Gl=et(null),mu=et(0);function md(he,ge){he=Qa,yt(mu,he),yt(Gl,ge),Qa=he|ge.baseLanes}function xf(){yt(mu,Qa),yt(Gl,Gl.current)}function Uc(){Qa=mu.current,ft(Gl),ft(mu)}var ro=0,fi=null,zi=null,Rr=null,gu=!1,Oo=!1,ia=!1,Br=0,Wa=0,$r=null,gd=0;function Sr(){throw Error(oe(321))}function Yr(he,ge){if(ge===null)return!1;for(var Se=0;Se<ge.length&&Se<he.length;Se++)if(!ma(he[Se],ge[Se]))return!1;return!0}function ao(he,ge,Se,Te,Le,Ge){return ro=Ge,fi=ge,ge.memoizedState=null,ge.updateQueue=null,ge.lanes=0,Ye.H=he===null||he.memoizedState===null?Tu:Nf,ia=!1,Ge=Se(Te,Le),ia=!1,Oo&&(Ge=_d(ge,Se,Te,Le)),vd(he),Ge}function vd(he){Ye.H=Fc;var ge=zi!==null&&zi.next!==null;if(ro=0,Rr=zi=fi=null,gu=!1,Wa=0,$r=null,ge)throw Error(oe(300));he===null||Nr||(he=he.dependencies,he!==null&&Mc(he)&&(Nr=!0))}function _d(he,ge,Se,Te){fi=he;var Le=0;do{if(Oo&&($r=null),Wa=0,Oo=!1,25<=Le)throw Error(oe(301));if(Le+=1,Rr=zi=null,he.updateQueue!=null){var Ge=he.updateQueue;Ge.lastEffect=null,Ge.events=null,Ge.stores=null,Ge.memoCache!=null&&(Ge.memoCache.index=0)}Ye.H=$d,Ge=ge(Se,Te)}while(Oo);return Ge}function bh(){var he=Ye.H,ge=he.useState()[0];return ge=typeof ge.then=="function"?ls(ge):ge,he=he.useState()[0],(zi!==null?zi.memoizedState:null)!==he&&(fi.flags|=1024),ge}function Sf(){var he=Br!==0;return Br=0,he}function vu(he,ge,Se){ge.updateQueue=he.updateQueue,ge.flags&=-2053,he.lanes&=~Se}function bf(he){if(gu){for(he=he.memoizedState;he!==null;){var ge=he.queue;ge!==null&&(ge.pending=null),he=he.next}gu=!1}ro=0,Rr=zi=fi=null,Oo=!1,Wa=Br=0,$r=null}function ra(){var he={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?fi.memoizedState=Rr=he:Rr=Rr.next=he,Rr}function wr(){if(zi===null){var he=fi.alternate;he=he!==null?he.memoizedState:null}else he=zi.next;var ge=Rr===null?fi.memoizedState:Rr.next;if(ge!==null)Rr=ge,zi=he;else{if(he===null)throw fi.alternate===null?Error(oe(467)):Error(oe(310));zi=he,he={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},Rr===null?fi.memoizedState=Rr=he:Rr=Rr.next=he}return Rr}function Lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ls(he){var ge=Wa;return Wa+=1,$r===null&&($r=[]),he=pu($r,he,ge),ge=fi,(Rr===null?ge.memoizedState:Rr.next)===null&&(ge=ge.alternate,Ye.H=ge===null||ge.memoizedState===null?Tu:Nf),he}function _u(he){if(he!==null&&typeof he=="object"){if(typeof he.then=="function")return ls(he);if(he.$$typeof===Ie)return ur(he)}throw Error(oe(438,String(he)))}function Ef(he){var ge=null,Se=fi.updateQueue;if(Se!==null&&(ge=Se.memoCache),ge==null){var Te=fi.alternate;Te!==null&&(Te=Te.updateQueue,Te!==null&&(Te=Te.memoCache,Te!=null&&(ge={data:Te.data.map(function(Le){return Le.slice()}),index:0})))}if(ge==null&&(ge={data:[],index:0}),Se===null&&(Se=Lo(),fi.updateQueue=Se),Se.memoCache=ge,Se=ge.data[ge.index],Se===void 0)for(Se=ge.data[ge.index]=Array(he),Te=0;Te<he;Te++)Se[Te]=He;return ge.index++,Se}function so(he,ge){return typeof ge=="function"?ge(he):ge}function Uo(he){var ge=wr();return Af(ge,zi,he)}function Af(he,ge,Se){var Te=he.queue;if(Te===null)throw Error(oe(311));Te.lastRenderedReducer=Se;var Le=he.baseQueue,Ge=Te.pending;if(Ge!==null){if(Le!==null){var Je=Le.next;Le.next=Ge.next,Ge.next=Je}ge.baseQueue=Le=Ge,Te.pending=null}if(Ge=he.baseState,Le===null)he.memoizedState=Ge;else{ge=Le.next;var ot=Je=null,At=null,Xt=ge,dn=!1;do{var yn=Xt.lane&-536870913;if(yn!==Xt.lane?(Kn&yn)===yn:(ro&yn)===yn){var Kt=Xt.revertLane;if(Kt===0)At!==null&&(At=At.next={lane:0,revertLane:0,action:Xt.action,hasEagerState:Xt.hasEagerState,eagerState:Xt.eagerState,next:null}),yn===ui&&(dn=!0);else if((ro&Kt)===Kt){Xt=Xt.next,Kt===ui&&(dn=!0);continue}else yn={lane:0,revertLane:Xt.revertLane,action:Xt.action,hasEagerState:Xt.hasEagerState,eagerState:Xt.eagerState,next:null},At===null?(ot=At=yn,Je=Ge):At=At.next=yn,fi.lanes|=Kt,ms|=Kt;yn=Xt.action,ia&&Se(Ge,yn),Ge=Xt.hasEagerState?Xt.eagerState:Se(Ge,yn)}else Kt={lane:yn,revertLane:Xt.revertLane,action:Xt.action,hasEagerState:Xt.hasEagerState,eagerState:Xt.eagerState,next:null},At===null?(ot=At=Kt,Je=Ge):At=At.next=Kt,fi.lanes|=yn,ms|=yn;Xt=Xt.next}while(Xt!==null&&Xt!==ge);if(At===null?Je=Ge:At.next=ot,!ma(Ge,he.memoizedState)&&(Nr=!0,dn&&(Se=Ul,Se!==null)))throw Se;he.memoizedState=Ge,he.baseState=Je,he.baseQueue=At,Te.lastRenderedState=Ge}return Le===null&&(Te.lanes=0),[he.memoizedState,Te.dispatch]}function Tf(he){var ge=wr(),Se=ge.queue;if(Se===null)throw Error(oe(311));Se.lastRenderedReducer=he;var Te=Se.dispatch,Le=Se.pending,Ge=ge.memoizedState;if(Le!==null){Se.pending=null;var Je=Le=Le.next;do Ge=he(Ge,Je.action),Je=Je.next;while(Je!==Le);ma(Ge,ge.memoizedState)||(Nr=!0),ge.memoizedState=Ge,ge.baseQueue===null&&(ge.baseState=Ge),Se.lastRenderedState=Ge}return[Ge,Te]}function yd(he,ge,Se){var Te=fi,Le=wr(),Ge=Oi;if(Ge){if(Se===void 0)throw Error(oe(407));Se=Se()}else Se=ge();var Je=!ma((zi||Le).memoizedState,Se);Je&&(Le.memoizedState=Se,Nr=!0),Le=Le.queue;var ot=Sd.bind(null,Te,Le,he);if(Vl(2048,8,ot,[he]),Le.getSnapshot!==ge||Je||Rr!==null&&Rr.memoizedState.tag&1){if(Te.flags|=2048,Hl(9,Pc(),xd.bind(null,Te,Le,Se,ge),null),li===null)throw Error(oe(349));Ge||(ro&124)!==0||zl(Te,ge,Se)}return Se}function zl(he,ge,Se){he.flags|=16384,he={getSnapshot:ge,value:Se},ge=fi.updateQueue,ge===null?(ge=Lo(),fi.updateQueue=ge,ge.stores=[he]):(Se=ge.stores,Se===null?ge.stores=[he]:Se.push(he))}function xd(he,ge,Se,Te){ge.value=Se,ge.getSnapshot=Te,bd(ge)&&Ed(he)}function Sd(he,ge,Se){return Se(function(){bd(ge)&&Ed(he)})}function bd(he){var ge=he.getSnapshot;he=he.value;try{var Se=ge();return!ma(he,Se)}catch{return!0}}function Ed(he){var ge=Qs(he,2);ge!==null&&oa(ge,he,2)}function Mf(he){var ge=ra();if(typeof he=="function"){var Se=he;if(he=Se(),ia){$t(!0);try{Se()}finally{$t(!1)}}}return ge.memoizedState=ge.baseState=he,ge.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:he},ge}function Ad(he,ge,Se,Te){return he.baseState=Se,Af(he,zi,typeof Te=="function"?Te:so)}function Eh(he,ge,Se,Te,Le){if(Au(he))throw Error(oe(485));if(he=ge.action,he!==null){var Ge={payload:Le,action:he,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Je){Ge.listeners.push(Je)}};Ye.T!==null?Se(!0):Ge.isTransition=!1,Te(Ge),Se=ge.pending,Se===null?(Ge.next=ge.pending=Ge,Td(ge,Ge)):(Ge.next=Se.next,ge.pending=Se.next=Ge)}}function Td(he,ge){var Se=ge.action,Te=ge.payload,Le=he.state;if(ge.isTransition){var Ge=Ye.T,Je={};Ye.T=Je;try{var ot=Se(Le,Te),At=Ye.S;At!==null&&At(Je,ot),Md(he,ge,ot)}catch(Xt){Cf(he,ge,Xt)}finally{Ye.T=Ge}}else try{Ge=Se(Le,Te),Md(he,ge,Ge)}catch(Xt){Cf(he,ge,Xt)}}function Md(he,ge,Se){Se!==null&&typeof Se=="object"&&typeof Se.then=="function"?Se.then(function(Te){Cd(he,ge,Te)},function(Te){return Cf(he,ge,Te)}):Cd(he,ge,Se)}function Cd(he,ge,Se){ge.status="fulfilled",ge.value=Se,Rd(ge),he.state=Se,ge=he.pending,ge!==null&&(Se=ge.next,Se===ge?he.pending=null:(Se=Se.next,ge.next=Se,Td(he,Se)))}function Cf(he,ge,Se){var Te=he.pending;if(he.pending=null,Te!==null){Te=Te.next;do ge.status="rejected",ge.reason=Se,Rd(ge),ge=ge.next;while(ge!==Te)}he.action=null}function Rd(he){he=he.listeners;for(var ge=0;ge<he.length;ge++)(0,he[ge])()}function Rf(he,ge){return ge}function wd(he,ge){if(Oi){var Se=li.formState;if(Se!==null){e:{var Te=fi;if(Oi){if(ar){t:{for(var Le=ar,Ge=Ta;Le.nodeType!==8;){if(!Ge){Le=null;break t}if(Le=po(Le.nextSibling),Le===null){Le=null;break t}}Ge=Le.data,Le=Ge==="F!"||Ge==="F"?Le:null}if(Le){ar=po(Le.nextSibling),Te=Le.data==="F!";break e}}Ro(Te)}Te=!1}Te&&(ge=Se[0])}}return Se=ra(),Se.memoizedState=Se.baseState=ge,Te={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:ge},Se.queue=Te,Se=Vd.bind(null,fi,Te),Te.dispatch=Se,Te=Mf(!1),Ge=Eu.bind(null,fi,!1,Te.queue),Te=ra(),Le={state:ge,dispatch:null,action:he,pending:null},Te.queue=Le,Se=Eh.bind(null,fi,Le,Ge,Se),Le.dispatch=Se,Te.memoizedState=he,[ge,Se,!1]}function Bd(he){var ge=wr();return Dd(ge,zi,he)}function Dd(he,ge,Se){if(ge=Af(he,ge,Rf)[0],he=Uo(so)[0],typeof ge=="object"&&ge!==null&&typeof ge.then=="function")try{var Te=ls(ge)}catch(Je){throw Je===Dc?os:Je}else Te=ge;ge=wr();var Le=ge.queue,Ge=Le.dispatch;return Se!==ge.memoizedState&&(fi.flags|=2048,Hl(9,Pc(),Ah.bind(null,Le,Se),null)),[Te,Ge,he]}function Ah(he,ge){he.action=ge}function Od(he){var ge=wr(),Se=zi;if(Se!==null)return Dd(ge,Se,he);wr(),ge=ge.memoizedState,Se=wr();var Te=Se.queue.dispatch;return Se.memoizedState=he,[ge,Te,!1]}function Hl(he,ge,Se,Te){return he={tag:he,create:Se,deps:Te,inst:ge,next:null},ge=fi.updateQueue,ge===null&&(ge=Lo(),fi.updateQueue=ge),Se=ge.lastEffect,Se===null?ge.lastEffect=he.next=he:(Te=Se.next,Se.next=he,he.next=Te,ge.lastEffect=he),he}function Pc(){return{destroy:void 0,resource:void 0}}function wf(){return wr().memoizedState}function yu(he,ge,Se,Te){var Le=ra();Te=Te===void 0?null:Te,fi.flags|=he,Le.memoizedState=Hl(1|ge,Pc(),Se,Te)}function Vl(he,ge,Se,Te){var Le=wr();Te=Te===void 0?null:Te;var Ge=Le.memoizedState.inst;zi!==null&&Te!==null&&Yr(Te,zi.memoizedState.deps)?Le.memoizedState=Hl(ge,Ge,Se,Te):(fi.flags|=he,Le.memoizedState=Hl(1|ge,Ge,Se,Te))}function Bf(he,ge){yu(8390656,8,he,ge)}function Df(he,ge){Vl(2048,8,he,ge)}function xu(he,ge){return Vl(4,2,he,ge)}function Su(he,ge){return Vl(4,4,he,ge)}function Ld(he,ge){if(typeof ge=="function"){he=he();var Se=ge(he);return function(){typeof Se=="function"?Se():ge(null)}}if(ge!=null)return he=he(),ge.current=he,function(){ge.current=null}}function Ud(he,ge,Se){Se=Se!=null?Se.concat([he]):null,Vl(4,4,Ld.bind(null,ge,he),Se)}function Of(){}function Pd(he,ge){var Se=wr();ge=ge===void 0?null:ge;var Te=Se.memoizedState;return ge!==null&&Yr(ge,Te[1])?Te[0]:(Se.memoizedState=[he,ge],he)}function Lf(he,ge){var Se=wr();ge=ge===void 0?null:ge;var Te=Se.memoizedState;if(ge!==null&&Yr(ge,Te[1]))return Te[0];if(Te=he(),ia){$t(!0);try{he()}finally{$t(!1)}}return Se.memoizedState=[Te,ge],Te}function bu(he,ge,Se){return Se===void 0||(ro&1073741824)!==0?he.memoizedState=ge:(he.memoizedState=Se,he=Nu(),fi.lanes|=he,ms|=he,Se)}function Nd(he,ge,Se,Te){return ma(Se,ge)?Se:Gl.current!==null?(he=bu(he,Se,Te),ma(he,ge)||(Nr=!0),he):(ro&42)===0?(Nr=!0,he.memoizedState=Se):(he=Nu(),fi.lanes|=he,ms|=he,ge)}function Fd(he,ge,Se,Te,Le){var Ge=rt.p;rt.p=Ge!==0&&8>Ge?Ge:8;var Je=Ye.T,ot={};Ye.T=ot,Eu(he,!1,ge,Se);try{var At=Le(),Xt=Ye.S;if(Xt!==null&&Xt(ot,At),At!==null&&typeof At=="object"&&typeof At.then=="function"){var dn=Sh(At,Te);Nc(he,ge,dn,hr(he))}else Nc(he,ge,Te,hr(he))}catch(yn){Nc(he,ge,{then:function(){},status:"rejected",reason:yn},hr())}finally{rt.p=Ge,Ye.T=Je}}function Th(){}function Uf(he,ge,Se,Te){if(he.tag!==5)throw Error(oe(476));var Le=Id(he).queue;Fd(he,Le,ge,lt,Se===null?Th:function(){return Gd(he),Se(Te)})}function Id(he){var ge=he.memoizedState;if(ge!==null)return ge;ge={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:lt},next:null};var Se={};return ge.next={memoizedState:Se,baseState:Se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:Se},next:null},he.memoizedState=ge,he=he.alternate,he!==null&&(he.memoizedState=ge),ge}function Gd(he){var ge=Id(he).next.queue;Nc(he,ge,{},hr())}function Pf(){return ur(qf)}function zd(){return wr().memoizedState}function Hd(){return wr().memoizedState}function Mh(he){for(var ge=he.return;ge!==null;){switch(ge.tag){case 24:case 3:var Se=hr();he=bs(Se);var Te=io(ge,he,Se);Te!==null&&(oa(Te,ge,Se),il(Te,ge,Se)),ge={cache:uu()},he.payload=ge;return}ge=ge.return}}function Ch(he,ge,Se){var Te=hr();Se={lane:Te,revertLane:0,action:Se,hasEagerState:!1,eagerState:null,next:null},Au(he)?kd(ge,Se):(Se=au(he,ge,Se,Te),Se!==null&&(oa(Se,he,Te),Ca(Se,ge,Te)))}function Vd(he,ge,Se){var Te=hr();Nc(he,ge,Se,Te)}function Nc(he,ge,Se,Te){var Le={lane:Te,revertLane:0,action:Se,hasEagerState:!1,eagerState:null,next:null};if(Au(he))kd(ge,Le);else{var Ge=he.alternate;if(he.lanes===0&&(Ge===null||Ge.lanes===0)&&(Ge=ge.lastRenderedReducer,Ge!==null))try{var Je=ge.lastRenderedState,ot=Ge(Je,Se);if(Le.hasEagerState=!0,Le.eagerState=ot,ma(ot,Je))return Ao(he,ge,Le,0),li===null&&Sc(),!1}catch{}finally{}if(Se=au(he,ge,Le,Te),Se!==null)return oa(Se,he,Te),Ca(Se,ge,Te),!0}return!1}function Eu(he,ge,Se,Te){if(Te={lane:2,revertLane:Bh(),action:Te,hasEagerState:!1,eagerState:null,next:null},Au(he)){if(ge)throw Error(oe(479))}else ge=au(he,Se,Te,2),ge!==null&&oa(ge,he,2)}function Au(he){var ge=he.alternate;return he===fi||ge!==null&&ge===fi}function kd(he,ge){Oo=gu=!0;var Se=he.pending;Se===null?ge.next=ge:(ge.next=Se.next,Se.next=ge),he.pending=ge}function Ca(he,ge,Se){if((Se&4194048)!==0){var Te=ge.lanes;Te&=he.pendingLanes,Se|=Te,ge.lanes=Se,Un(he,Se)}}var Fc={readContext:ur,use:_u,useCallback:Sr,useContext:Sr,useEffect:Sr,useImperativeHandle:Sr,useLayoutEffect:Sr,useInsertionEffect:Sr,useMemo:Sr,useReducer:Sr,useRef:Sr,useState:Sr,useDebugValue:Sr,useDeferredValue:Sr,useTransition:Sr,useSyncExternalStore:Sr,useId:Sr,useHostTransitionStatus:Sr,useFormState:Sr,useActionState:Sr,useOptimistic:Sr,useMemoCache:Sr,useCacheRefresh:Sr},Tu={readContext:ur,use:_u,useCallback:function(he,ge){return ra().memoizedState=[he,ge===void 0?null:ge],he},useContext:ur,useEffect:Bf,useImperativeHandle:function(he,ge,Se){Se=Se!=null?Se.concat([he]):null,yu(4194308,4,Ld.bind(null,ge,he),Se)},useLayoutEffect:function(he,ge){return yu(4194308,4,he,ge)},useInsertionEffect:function(he,ge){yu(4,2,he,ge)},useMemo:function(he,ge){var Se=ra();ge=ge===void 0?null:ge;var Te=he();if(ia){$t(!0);try{he()}finally{$t(!1)}}return Se.memoizedState=[Te,ge],Te},useReducer:function(he,ge,Se){var Te=ra();if(Se!==void 0){var Le=Se(ge);if(ia){$t(!0);try{Se(ge)}finally{$t(!1)}}}else Le=ge;return Te.memoizedState=Te.baseState=Le,he={pending:null,lanes:0,dispatch:null,lastRenderedReducer:he,lastRenderedState:Le},Te.queue=he,he=he.dispatch=Ch.bind(null,fi,he),[Te.memoizedState,he]},useRef:function(he){var ge=ra();return he={current:he},ge.memoizedState=he},useState:function(he){he=Mf(he);var ge=he.queue,Se=Vd.bind(null,fi,ge);return ge.dispatch=Se,[he.memoizedState,Se]},useDebugValue:Of,useDeferredValue:function(he,ge){var Se=ra();return bu(Se,he,ge)},useTransition:function(){var he=Mf(!1);return he=Fd.bind(null,fi,he.queue,!0,!1),ra().memoizedState=he,[!1,he]},useSyncExternalStore:function(he,ge,Se){var Te=fi,Le=ra();if(Oi){if(Se===void 0)throw Error(oe(407));Se=Se()}else{if(Se=ge(),li===null)throw Error(oe(349));(Kn&124)!==0||zl(Te,ge,Se)}Le.memoizedState=Se;var Ge={value:Se,getSnapshot:ge};return Le.queue=Ge,Bf(Sd.bind(null,Te,Ge,he),[he]),Te.flags|=2048,Hl(9,Pc(),xd.bind(null,Te,Ge,Se,ge),null),Se},useId:function(){var he=ra(),ge=li.identifierPrefix;if(Oi){var Se=xs,Te=ys;Se=(Te&~(1<<32-Jt(Te)-1)).toString(32)+Se,ge="«"+ge+"R"+Se,Se=Br++,0<Se&&(ge+="H"+Se.toString(32)),ge+="»"}else Se=gd++,ge="«"+ge+"r"+Se.toString(32)+"»";return he.memoizedState=ge},useHostTransitionStatus:Pf,useFormState:wd,useActionState:wd,useOptimistic:function(he){var ge=ra();ge.memoizedState=ge.baseState=he;var Se={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return ge.queue=Se,ge=Eu.bind(null,fi,!0,Se),Se.dispatch=ge,[he,ge]},useMemoCache:Ef,useCacheRefresh:function(){return ra().memoizedState=Mh.bind(null,fi)}},Nf={readContext:ur,use:_u,useCallback:Pd,useContext:ur,useEffect:Df,useImperativeHandle:Ud,useInsertionEffect:xu,useLayoutEffect:Su,useMemo:Lf,useReducer:Uo,useRef:wf,useState:function(){return Uo(so)},useDebugValue:Of,useDeferredValue:function(he,ge){var Se=wr();return Nd(Se,zi.memoizedState,he,ge)},useTransition:function(){var he=Uo(so)[0],ge=wr().memoizedState;return[typeof he=="boolean"?he:ls(he),ge]},useSyncExternalStore:yd,useId:zd,useHostTransitionStatus:Pf,useFormState:Bd,useActionState:Bd,useOptimistic:function(he,ge){var Se=wr();return Ad(Se,zi,he,ge)},useMemoCache:Ef,useCacheRefresh:Hd},$d={readContext:ur,use:_u,useCallback:Pd,useContext:ur,useEffect:Df,useImperativeHandle:Ud,useInsertionEffect:xu,useLayoutEffect:Su,useMemo:Lf,useReducer:Tf,useRef:wf,useState:function(){return Tf(so)},useDebugValue:Of,useDeferredValue:function(he,ge){var Se=wr();return zi===null?bu(Se,he,ge):Nd(Se,zi.memoizedState,he,ge)},useTransition:function(){var he=Tf(so)[0],ge=wr().memoizedState;return[typeof he=="boolean"?he:ls(he),ge]},useSyncExternalStore:yd,useId:zd,useHostTransitionStatus:Pf,useFormState:Od,useActionState:Od,useOptimistic:function(he,ge){var Se=wr();return zi!==null?Ad(Se,zi,he,ge):(Se.baseState=he,[he,Se.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Hd},rl=null,Ic=0;function Gc(he){var ge=Ic;return Ic+=1,rl===null&&(rl=[]),pu(rl,he,ge)}function kl(he,ge){ge=ge.props.ref,he.ref=ge!==void 0?ge:null}function Mu(he,ge){throw ge.$$typeof===be?Error(oe(525)):(he=Object.prototype.toString.call(ge),Error(oe(31,he==="[object Object]"?"object with keys {"+Object.keys(ge).join(", ")+"}":he)))}function jd(he){var ge=he._init;return ge(he._payload)}function Xd(he){function ge(It,Pt){if(he){var Vt=It.deletions;Vt===null?(It.deletions=[Pt],It.flags|=16):Vt.push(Pt)}}function Se(It,Pt){if(!he)return null;for(;Pt!==null;)ge(It,Pt),Pt=Pt.sibling;return null}function Te(It){for(var Pt=new Map;It!==null;)It.key!==null?Pt.set(It.key,It):Pt.set(It.index,It),It=It.sibling;return Pt}function Le(It,Pt){return It=xr(It,Pt),It.index=0,It.sibling=null,It}function Ge(It,Pt,Vt){return It.index=Vt,he?(Vt=It.alternate,Vt!==null?(Vt=Vt.index,Vt<Pt?(It.flags|=67108866,Pt):Vt):(It.flags|=67108866,Pt)):(It.flags|=1048576,Pt)}function Je(It){return he&&It.alternate===null&&(It.flags|=67108866),It}function ot(It,Pt,Vt,gn){return Pt===null||Pt.tag!==6?(Pt=Ec(Vt,It.mode,gn),Pt.return=It,Pt):(Pt=Le(Pt,Vt),Pt.return=It,Pt)}function At(It,Pt,Vt,gn){var kn=Vt.type;return kn===Re?dn(It,Pt,Vt.props.children,gn,Vt.key):Pt!==null&&(Pt.elementType===kn||typeof kn=="object"&&kn!==null&&kn.$$typeof===We&&jd(kn)===Pt.type)?(Pt=Le(Pt,Vt.props),kl(Pt,Vt),Pt.return=It,Pt):(Pt=Pr(Vt.type,Vt.key,Vt.props,null,It.mode,gn),kl(Pt,Vt),Pt.return=It,Pt)}function Xt(It,Pt,Vt,gn){return Pt===null||Pt.tag!==4||Pt.stateNode.containerInfo!==Vt.containerInfo||Pt.stateNode.implementation!==Vt.implementation?(Pt=su(Vt,It.mode,gn),Pt.return=It,Pt):(Pt=Le(Pt,Vt.children||[]),Pt.return=It,Pt)}function dn(It,Pt,Vt,gn,kn){return Pt===null||Pt.tag!==7?(Pt=Mo(Vt,It.mode,gn,kn),Pt.return=It,Pt):(Pt=Le(Pt,Vt),Pt.return=It,Pt)}function yn(It,Pt,Vt){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number"||typeof Pt=="bigint")return Pt=Ec(""+Pt,It.mode,Vt),Pt.return=It,Pt;if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case Ee:return Vt=Pr(Pt.type,Pt.key,Pt.props,null,It.mode,Vt),kl(Vt,Pt),Vt.return=It,Vt;case Ae:return Pt=su(Pt,It.mode,Vt),Pt.return=It,Pt;case We:var gn=Pt._init;return Pt=gn(Pt._payload),yn(It,Pt,Vt)}if(mt(Pt)||Ze(Pt))return Pt=Mo(Pt,It.mode,Vt,null),Pt.return=It,Pt;if(typeof Pt.then=="function")return yn(It,Gc(Pt),Vt);if(Pt.$$typeof===Ie)return yn(It,Cc(It,Pt),Vt);Mu(It,Pt)}return null}function Kt(It,Pt,Vt,gn){var kn=Pt!==null?Pt.key:null;if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return kn!==null?null:ot(It,Pt,""+Vt,gn);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case Ee:return Vt.key===kn?At(It,Pt,Vt,gn):null;case Ae:return Vt.key===kn?Xt(It,Pt,Vt,gn):null;case We:return kn=Vt._init,Vt=kn(Vt._payload),Kt(It,Pt,Vt,gn)}if(mt(Vt)||Ze(Vt))return kn!==null?null:dn(It,Pt,Vt,gn,null);if(typeof Vt.then=="function")return Kt(It,Pt,Gc(Vt),gn);if(Vt.$$typeof===Ie)return Kt(It,Pt,Cc(It,Vt),gn);Mu(It,Vt)}return null}function Zt(It,Pt,Vt,gn,kn){if(typeof gn=="string"&&gn!==""||typeof gn=="number"||typeof gn=="bigint")return It=It.get(Vt)||null,ot(Pt,It,""+gn,kn);if(typeof gn=="object"&&gn!==null){switch(gn.$$typeof){case Ee:return It=It.get(gn.key===null?Vt:gn.key)||null,At(Pt,It,gn,kn);case Ae:return It=It.get(gn.key===null?Vt:gn.key)||null,Xt(Pt,It,gn,kn);case We:var Ti=gn._init;return gn=Ti(gn._payload),Zt(It,Pt,Vt,gn,kn)}if(mt(gn)||Ze(gn))return It=It.get(Vt)||null,dn(Pt,It,gn,kn,null);if(typeof gn.then=="function")return Zt(It,Pt,Vt,Gc(gn),kn);if(gn.$$typeof===Ie)return Zt(It,Pt,Vt,Cc(Pt,gn),kn);Mu(Pt,gn)}return null}function ai(It,Pt,Vt,gn){for(var kn=null,Ti=null,Yn=Pt,ei=Pt=0,Qr=null;Yn!==null&&ei<Vt.length;ei++){Yn.index>ei?(Qr=Yn,Yn=null):Qr=Yn.sibling;var Gi=Kt(It,Yn,Vt[ei],gn);if(Gi===null){Yn===null&&(Yn=Qr);break}he&&Yn&&Gi.alternate===null&&ge(It,Yn),Pt=Ge(Gi,Pt,ei),Ti===null?kn=Gi:Ti.sibling=Gi,Ti=Gi,Yn=Qr}if(ei===Vt.length)return Se(It,Yn),Oi&&Zs(It,ei),kn;if(Yn===null){for(;ei<Vt.length;ei++)Yn=yn(It,Vt[ei],gn),Yn!==null&&(Pt=Ge(Yn,Pt,ei),Ti===null?kn=Yn:Ti.sibling=Yn,Ti=Yn);return Oi&&Zs(It,ei),kn}for(Yn=Te(Yn);ei<Vt.length;ei++)Qr=Zt(Yn,It,ei,Vt[ei],gn),Qr!==null&&(he&&Qr.alternate!==null&&Yn.delete(Qr.key===null?ei:Qr.key),Pt=Ge(Qr,Pt,ei),Ti===null?kn=Qr:Ti.sibling=Qr,Ti=Qr);return he&&Yn.forEach(function(sc){return ge(It,sc)}),Oi&&Zs(It,ei),kn}function Zn(It,Pt,Vt,gn){if(Vt==null)throw Error(oe(151));for(var kn=null,Ti=null,Yn=Pt,ei=Pt=0,Qr=null,Gi=Vt.next();Yn!==null&&!Gi.done;ei++,Gi=Vt.next()){Yn.index>ei?(Qr=Yn,Yn=null):Qr=Yn.sibling;var sc=Kt(It,Yn,Gi.value,gn);if(sc===null){Yn===null&&(Yn=Qr);break}he&&Yn&&sc.alternate===null&&ge(It,Yn),Pt=Ge(sc,Pt,ei),Ti===null?kn=sc:Ti.sibling=sc,Ti=sc,Yn=Qr}if(Gi.done)return Se(It,Yn),Oi&&Zs(It,ei),kn;if(Yn===null){for(;!Gi.done;ei++,Gi=Vt.next())Gi=yn(It,Gi.value,gn),Gi!==null&&(Pt=Ge(Gi,Pt,ei),Ti===null?kn=Gi:Ti.sibling=Gi,Ti=Gi);return Oi&&Zs(It,ei),kn}for(Yn=Te(Yn);!Gi.done;ei++,Gi=Vt.next())Gi=Zt(Yn,It,ei,Gi.value,gn),Gi!==null&&(he&&Gi.alternate!==null&&Yn.delete(Gi.key===null?ei:Gi.key),Pt=Ge(Gi,Pt,ei),Ti===null?kn=Gi:Ti.sibling=Gi,Ti=Gi);return he&&Yn.forEach(function(Sm){return ge(It,Sm)}),Oi&&Zs(It,ei),kn}function er(It,Pt,Vt,gn){if(typeof Vt=="object"&&Vt!==null&&Vt.type===Re&&Vt.key===null&&(Vt=Vt.props.children),typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case Ee:e:{for(var kn=Vt.key;Pt!==null;){if(Pt.key===kn){if(kn=Vt.type,kn===Re){if(Pt.tag===7){Se(It,Pt.sibling),gn=Le(Pt,Vt.props.children),gn.return=It,It=gn;break e}}else if(Pt.elementType===kn||typeof kn=="object"&&kn!==null&&kn.$$typeof===We&&jd(kn)===Pt.type){Se(It,Pt.sibling),gn=Le(Pt,Vt.props),kl(gn,Vt),gn.return=It,It=gn;break e}Se(It,Pt);break}else ge(It,Pt);Pt=Pt.sibling}Vt.type===Re?(gn=Mo(Vt.props.children,It.mode,gn,Vt.key),gn.return=It,It=gn):(gn=Pr(Vt.type,Vt.key,Vt.props,null,It.mode,gn),kl(gn,Vt),gn.return=It,It=gn)}return Je(It);case Ae:e:{for(kn=Vt.key;Pt!==null;){if(Pt.key===kn)if(Pt.tag===4&&Pt.stateNode.containerInfo===Vt.containerInfo&&Pt.stateNode.implementation===Vt.implementation){Se(It,Pt.sibling),gn=Le(Pt,Vt.children||[]),gn.return=It,It=gn;break e}else{Se(It,Pt);break}else ge(It,Pt);Pt=Pt.sibling}gn=su(Vt,It.mode,gn),gn.return=It,It=gn}return Je(It);case We:return kn=Vt._init,Vt=kn(Vt._payload),er(It,Pt,Vt,gn)}if(mt(Vt))return ai(It,Pt,Vt,gn);if(Ze(Vt)){if(kn=Ze(Vt),typeof kn!="function")throw Error(oe(150));return Vt=kn.call(Vt),Zn(It,Pt,Vt,gn)}if(typeof Vt.then=="function")return er(It,Pt,Gc(Vt),gn);if(Vt.$$typeof===Ie)return er(It,Pt,Cc(It,Vt),gn);Mu(It,Vt)}return typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint"?(Vt=""+Vt,Pt!==null&&Pt.tag===6?(Se(It,Pt.sibling),gn=Le(Pt,Vt),gn.return=It,It=gn):(Se(It,Pt),gn=Ec(Vt,It.mode,gn),gn.return=It,It=gn),Je(It)):Se(It,Pt)}return function(It,Pt,Vt,gn){try{Ic=0;var kn=er(It,Pt,Vt,gn);return rl=null,kn}catch(Yn){if(Yn===Dc||Yn===os)throw Yn;var Ti=_a(29,Yn,null,It.mode);return Ti.lanes=gn,Ti.return=It,Ti}finally{}}}var al=Xd(!0),Wd=Xd(!1),$i=et(null),cs=null;function Po(he){var ge=he.alternate;yt(br,br.current&1),yt($i,he),cs===null&&(ge===null||Gl.current!==null||ge.memoizedState!==null)&&(cs=he)}function qd(he){if(he.tag===22){if(yt(br,br.current),yt($i,he),cs===null){var ge=he.alternate;ge!==null&&ge.memoizedState!==null&&(cs=he)}}else No()}function No(){yt(br,br.current),yt($i,$i.current)}function Es(he){ft($i),cs===he&&(cs=null),ft(br)}var br=et(0);function oo(he){for(var ge=he;ge!==null;){if(ge.tag===13){var Se=ge.memoizedState;if(Se!==null&&(Se=Se.dehydrated,Se===null||Se.data==="$?"||Vh(Se)))return ge}else if(ge.tag===19&&ge.memoizedProps.revealOrder!==void 0){if((ge.flags&128)!==0)return ge}else if(ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===he)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===he)return null;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}return null}function Fo(he,ge,Se,Te){ge=he.memoizedState,Se=Se(Te,ge),Se=Se==null?ge:_e({},ge,Se),he.memoizedState=Se,he.lanes===0&&(he.updateQueue.baseState=Se)}var aa={enqueueSetState:function(he,ge,Se){he=he._reactInternals;var Te=hr(),Le=bs(Te);Le.payload=ge,Se!=null&&(Le.callback=Se),ge=io(he,Le,Te),ge!==null&&(oa(ge,he,Te),il(ge,he,Te))},enqueueReplaceState:function(he,ge,Se){he=he._reactInternals;var Te=hr(),Le=bs(Te);Le.tag=1,Le.payload=ge,Se!=null&&(Le.callback=Se),ge=io(he,Le,Te),ge!==null&&(oa(ge,he,Te),il(ge,he,Te))},enqueueForceUpdate:function(he,ge){he=he._reactInternals;var Se=hr(),Te=bs(Se);Te.tag=2,ge!=null&&(Te.callback=ge),ge=io(he,Te,Se),ge!==null&&(oa(ge,he,Se),il(ge,he,Se))}};function Yd(he,ge,Se,Te,Le,Ge,Je){return he=he.stateNode,typeof he.shouldComponentUpdate=="function"?he.shouldComponentUpdate(Te,Ge,Je):ge.prototype&&ge.prototype.isPureReactComponent?!as(Se,Te)||!as(Le,Ge):!0}function Kd(he,ge,Se,Te){he=ge.state,typeof ge.componentWillReceiveProps=="function"&&ge.componentWillReceiveProps(Se,Te),typeof ge.UNSAFE_componentWillReceiveProps=="function"&&ge.UNSAFE_componentWillReceiveProps(Se,Te),ge.state!==he&&aa.enqueueReplaceState(ge,ge.state,null)}function As(he,ge){var Se=ge;if("ref"in ge){Se={};for(var Te in ge)Te!=="ref"&&(Se[Te]=ge[Te])}if(he=he.defaultProps){Se===ge&&(Se=_e({},Se));for(var Le in he)Se[Le]===void 0&&(Se[Le]=he[Le])}return Se}var sl=typeof reportError=="function"?reportError:function(he){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof he=="object"&&he!==null&&typeof he.message=="string"?String(he.message):String(he),error:he});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",he);return}console.error(he)};function zc(he){sl(he)}function Cu(he){console.error(he)}function Jd(he){sl(he)}function Ru(he,ge){try{var Se=he.onUncaughtError;Se(ge.value,{componentStack:ge.stack})}catch(Te){setTimeout(function(){throw Te})}}function qa(he,ge,Se){try{var Te=he.onCaughtError;Te(Se.value,{componentStack:Se.stack,errorBoundary:ge.tag===1?ge.stateNode:null})}catch(Le){setTimeout(function(){throw Le})}}function wu(he,ge,Se){return Se=bs(Se),Se.tag=3,Se.payload={element:null},Se.callback=function(){Ru(he,ge)},Se}function Qd(he){return he=bs(he),he.tag=3,he}function Bu(he,ge,Se,Te){var Le=Se.type.getDerivedStateFromError;if(typeof Le=="function"){var Ge=Te.value;he.payload=function(){return Le(Ge)},he.callback=function(){qa(ge,Se,Te)}}var Je=Se.stateNode;Je!==null&&typeof Je.componentDidCatch=="function"&&(he.callback=function(){qa(ge,Se,Te),typeof Le!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var ot=Te.stack;this.componentDidCatch(Te.value,{componentStack:ot!==null?ot:""})})}function Rh(he,ge,Se,Te,Le){if(Se.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){if(ge=Se.alternate,ge!==null&&$a(ge,Se,Le,!0),Se=$i.current,Se!==null){switch(Se.tag){case 13:return cs===null?ve():Se.alternate===null&&tr===0&&(tr=3),Se.flags&=-257,Se.flags|=65536,Se.lanes=Le,Te===Oc?Se.flags|=16384:(ge=Se.updateQueue,ge===null?Se.updateQueue=new Set([Te]):ge.add(Te),en(he,Te,Le)),!1;case 22:return Se.flags|=65536,Te===Oc?Se.flags|=16384:(ge=Se.updateQueue,ge===null?(ge={transitions:null,markerInstances:null,retryQueue:new Set([Te])},Se.updateQueue=ge):(Se=ge.retryQueue,Se===null?ge.retryQueue=new Set([Te]):Se.add(Te)),en(he,Te,Le)),!1}throw Error(oe(435,Se.tag))}return en(he,Te,Le),ve(),!1}if(Oi)return ge=$i.current,ge!==null?((ge.flags&65536)===0&&(ge.flags|=256),ge.flags|=65536,ge.lanes=Le,Te!==lu&&(he=Error(oe(422),{cause:Te}),nl(Vr(he,Se)))):(Te!==lu&&(ge=Error(oe(423),{cause:Te}),nl(Vr(ge,Se))),he=he.current.alternate,he.flags|=65536,Le&=-Le,he.lanes|=Le,Te=Vr(Te,Se),Le=wu(he.stateNode,Te,Le),Nl(he,Le),tr!==4&&(tr=2)),!1;var Ge=Error(oe(520),{cause:Te});if(Ge=Vr(Ge,Se),Ii===null?Ii=[Ge]:Ii.push(Ge),tr!==4&&(tr=2),ge===null)return!0;Te=Vr(Te,Se),Se=ge;do{switch(Se.tag){case 3:return Se.flags|=65536,he=Le&-Le,Se.lanes|=he,he=wu(Se.stateNode,Te,he),Nl(Se,he),!1;case 1:if(ge=Se.type,Ge=Se.stateNode,(Se.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(Pa===null||!Pa.has(Ge))))return Se.flags|=65536,Le&=-Le,Se.lanes|=Le,Le=Qd(Le),Bu(Le,he,Se,Te),Nl(Se,Le),!1}Se=Se.return}while(Se!==null);return!1}var Zd=Error(oe(461)),Nr=!1;function Er(he,ge,Se,Te){ge.child=he===null?Wd(ge,null,Se,Te):al(ge,he.child,Se,Te)}function xa(he,ge,Se,Te,Le){Se=Se.render;var Ge=ge.ref;if("ref"in Te){var Je={};for(var ot in Te)ot!=="ref"&&(Je[ot]=Te[ot])}else Je=Te;return Ss(ge),Te=ao(he,ge,Se,Je,Ge,Le),ot=Sf(),he!==null&&!Nr?(vu(he,ge,Le),Fr(he,ge,Le)):(Oi&&ot&&uf(ge),ge.flags|=1,Er(he,ge,Te,Le),ge.child)}function Sa(he,ge,Se,Te,Le){if(he===null){var Ge=Se.type;return typeof Ge=="function"&&!bc(Ge)&&Ge.defaultProps===void 0&&Se.compare===null?(ge.tag=15,ge.type=Ge,Ff(he,ge,Ge,Te,Le)):(he=Pr(Se.type,null,Te,ge,ge.mode,Le),he.ref=ge.ref,he.return=ge,ge.child=he)}if(Ge=he.child,!Hc(he,Le)){var Je=Ge.memoizedProps;if(Se=Se.compare,Se=Se!==null?Se:as,Se(Je,Te)&&he.ref===ge.ref)return Fr(he,ge,Le)}return ge.flags|=1,he=xr(Ge,Te),he.ref=ge.ref,he.return=ge,ge.child=he}function Ff(he,ge,Se,Te,Le){if(he!==null){var Ge=he.memoizedProps;if(as(Ge,Te)&&he.ref===ge.ref)if(Nr=!1,ge.pendingProps=Te=Ge,Hc(he,Le))(he.flags&131072)!==0&&(Nr=!0);else return ge.lanes=he.lanes,Fr(he,ge,Le)}return $l(he,ge,Se,Te,Le)}function ol(he,ge,Se){var Te=ge.pendingProps,Le=Te.children,Ge=he!==null?he.memoizedState:null;if(Te.mode==="hidden"){if((ge.flags&128)!==0){if(Te=Ge!==null?Ge.baseLanes|Se:Se,he!==null){for(Le=ge.child=he.child,Ge=0;Le!==null;)Ge=Ge|Le.lanes|Le.childLanes,Le=Le.sibling;ge.childLanes=Ge&~Te}else ge.childLanes=0,ge.child=null;return ll(he,ge,Te,Se)}if((Se&536870912)!==0)ge.memoizedState={baseLanes:0,cachePool:null},he!==null&&Bc(ge,Ge!==null?Ge.cachePool:null),Ge!==null?md(ge,Ge):xf(),qd(ge);else return ge.lanes=ge.childLanes=536870912,ll(he,ge,Ge!==null?Ge.baseLanes|Se:Se,Se)}else Ge!==null?(Bc(ge,Ge.cachePool),md(ge,Ge),No(),ge.memoizedState=null):(he!==null&&Bc(ge,null),xf(),No());return Er(he,ge,Le,Se),ge.child}function ll(he,ge,Se,Te){var Le=Do();return Le=Le===null?null:{parent:Cr._currentValue,pool:Le},ge.memoizedState={baseLanes:Se,cachePool:Le},he!==null&&Bc(ge,null),xf(),qd(ge),he!==null&&$a(he,ge,Te,!0),null}function cl(he,ge){var Se=ge.ref;if(Se===null)he!==null&&he.ref!==null&&(ge.flags|=4194816);else{if(typeof Se!="function"&&typeof Se!="object")throw Error(oe(284));(he===null||he.ref!==Se)&&(ge.flags|=4194816)}}function $l(he,ge,Se,Te,Le){return Ss(ge),Se=ao(he,ge,Se,Te,void 0,Le),Te=Sf(),he!==null&&!Nr?(vu(he,ge,Le),Fr(he,ge,Le)):(Oi&&Te&&uf(ge),ge.flags|=1,Er(he,ge,Se,Le),ge.child)}function Ra(he,ge,Se,Te,Le,Ge){return Ss(ge),ge.updateQueue=null,Se=_d(ge,Te,Se,Le),vd(he),Te=Sf(),he!==null&&!Nr?(vu(he,ge,Ge),Fr(he,ge,Ge)):(Oi&&Te&&uf(ge),ge.flags|=1,Er(he,ge,Se,Ge),ge.child)}function wa(he,ge,Se,Te,Le){if(Ss(ge),ge.stateNode===null){var Ge=To,Je=Se.contextType;typeof Je=="object"&&Je!==null&&(Ge=ur(Je)),Ge=new Se(Te,Ge),ge.memoizedState=Ge.state!==null&&Ge.state!==void 0?Ge.state:null,Ge.updater=aa,ge.stateNode=Ge,Ge._reactInternals=ge,Ge=ge.stateNode,Ge.props=Te,Ge.state=ge.memoizedState,Ge.refs={},_f(ge),Je=Se.contextType,Ge.context=typeof Je=="object"&&Je!==null?ur(Je):To,Ge.state=ge.memoizedState,Je=Se.getDerivedStateFromProps,typeof Je=="function"&&(Fo(ge,Se,Je,Te),Ge.state=ge.memoizedState),typeof Se.getDerivedStateFromProps=="function"||typeof Ge.getSnapshotBeforeUpdate=="function"||typeof Ge.UNSAFE_componentWillMount!="function"&&typeof Ge.componentWillMount!="function"||(Je=Ge.state,typeof Ge.componentWillMount=="function"&&Ge.componentWillMount(),typeof Ge.UNSAFE_componentWillMount=="function"&&Ge.UNSAFE_componentWillMount(),Je!==Ge.state&&aa.enqueueReplaceState(Ge,Ge.state,null),Fl(ge,Te,Ge,Le),Lc(),Ge.state=ge.memoizedState),typeof Ge.componentDidMount=="function"&&(ge.flags|=4194308),Te=!0}else if(he===null){Ge=ge.stateNode;var ot=ge.memoizedProps,At=As(Se,ot);Ge.props=At;var Xt=Ge.context,dn=Se.contextType;Je=To,typeof dn=="object"&&dn!==null&&(Je=ur(dn));var yn=Se.getDerivedStateFromProps;dn=typeof yn=="function"||typeof Ge.getSnapshotBeforeUpdate=="function",ot=ge.pendingProps!==ot,dn||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(ot||Xt!==Je)&&Kd(ge,Ge,Te,Je),no=!1;var Kt=ge.memoizedState;Ge.state=Kt,Fl(ge,Te,Ge,Le),Lc(),Xt=ge.memoizedState,ot||Kt!==Xt||no?(typeof yn=="function"&&(Fo(ge,Se,yn,Te),Xt=ge.memoizedState),(At=no||Yd(ge,Se,At,Te,Kt,Xt,Je))?(dn||typeof Ge.UNSAFE_componentWillMount!="function"&&typeof Ge.componentWillMount!="function"||(typeof Ge.componentWillMount=="function"&&Ge.componentWillMount(),typeof Ge.UNSAFE_componentWillMount=="function"&&Ge.UNSAFE_componentWillMount()),typeof Ge.componentDidMount=="function"&&(ge.flags|=4194308)):(typeof Ge.componentDidMount=="function"&&(ge.flags|=4194308),ge.memoizedProps=Te,ge.memoizedState=Xt),Ge.props=Te,Ge.state=Xt,Ge.context=Je,Te=At):(typeof Ge.componentDidMount=="function"&&(ge.flags|=4194308),Te=!1)}else{Ge=ge.stateNode,ii(he,ge),Je=ge.memoizedProps,dn=As(Se,Je),Ge.props=dn,yn=ge.pendingProps,Kt=Ge.context,Xt=Se.contextType,At=To,typeof Xt=="object"&&Xt!==null&&(At=ur(Xt)),ot=Se.getDerivedStateFromProps,(Xt=typeof ot=="function"||typeof Ge.getSnapshotBeforeUpdate=="function")||typeof Ge.UNSAFE_componentWillReceiveProps!="function"&&typeof Ge.componentWillReceiveProps!="function"||(Je!==yn||Kt!==At)&&Kd(ge,Ge,Te,At),no=!1,Kt=ge.memoizedState,Ge.state=Kt,Fl(ge,Te,Ge,Le),Lc();var Zt=ge.memoizedState;Je!==yn||Kt!==Zt||no||he!==null&&he.dependencies!==null&&Mc(he.dependencies)?(typeof ot=="function"&&(Fo(ge,Se,ot,Te),Zt=ge.memoizedState),(dn=no||Yd(ge,Se,dn,Te,Kt,Zt,At)||he!==null&&he.dependencies!==null&&Mc(he.dependencies))?(Xt||typeof Ge.UNSAFE_componentWillUpdate!="function"&&typeof Ge.componentWillUpdate!="function"||(typeof Ge.componentWillUpdate=="function"&&Ge.componentWillUpdate(Te,Zt,At),typeof Ge.UNSAFE_componentWillUpdate=="function"&&Ge.UNSAFE_componentWillUpdate(Te,Zt,At)),typeof Ge.componentDidUpdate=="function"&&(ge.flags|=4),typeof Ge.getSnapshotBeforeUpdate=="function"&&(ge.flags|=1024)):(typeof Ge.componentDidUpdate!="function"||Je===he.memoizedProps&&Kt===he.memoizedState||(ge.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||Je===he.memoizedProps&&Kt===he.memoizedState||(ge.flags|=1024),ge.memoizedProps=Te,ge.memoizedState=Zt),Ge.props=Te,Ge.state=Zt,Ge.context=At,Te=dn):(typeof Ge.componentDidUpdate!="function"||Je===he.memoizedProps&&Kt===he.memoizedState||(ge.flags|=4),typeof Ge.getSnapshotBeforeUpdate!="function"||Je===he.memoizedProps&&Kt===he.memoizedState||(ge.flags|=1024),Te=!1)}return Ge=Te,cl(he,ge),Te=(ge.flags&128)!==0,Ge||Te?(Ge=ge.stateNode,Se=Te&&typeof Se.getDerivedStateFromError!="function"?null:Ge.render(),ge.flags|=1,he!==null&&Te?(ge.child=al(ge,he.child,null,Le),ge.child=al(ge,null,Se,Le)):Er(he,ge,Se,Le),ge.memoizedState=Ge.state,he=ge.child):he=Fr(he,ge,Le),he}function Io(he,ge,Se,Te){return Dl(),ge.flags|=256,Er(he,ge,Se,Te),ge.child}var us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fs(he){return{baseLanes:he,cachePool:du()}}function Dr(he,ge,Se){return he=he!==null?he.childLanes&~Se:0,ge&&(he|=Za),he}function jl(he,ge,Se){var Te=ge.pendingProps,Le=!1,Ge=(ge.flags&128)!==0,Je;if((Je=Ge)||(Je=he!==null&&he.memoizedState===null?!1:(br.current&2)!==0),Je&&(Le=!0,ge.flags&=-129),Je=(ge.flags&32)!==0,ge.flags&=-33,he===null){if(Oi){if(Le?Po(ge):No(),Oi){var ot=ar,At;if(At=ot){e:{for(At=ot,ot=Ta;At.nodeType!==8;){if(!ot){ot=null;break e}if(At=po(At.nextSibling),At===null){ot=null;break e}}ot=At}ot!==null?(ge.memoizedState={dehydrated:ot,treeContext:Co!==null?{id:ys,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},At=_a(18,null,null,0),At.stateNode=ot,At.return=ge,ge.child=At,na=ge,ar=null,At=!0):At=!1}At||Ro(ge)}if(ot=ge.memoizedState,ot!==null&&(ot=ot.dehydrated,ot!==null))return Vh(ot)?ge.lanes=32:ge.lanes=536870912,null;Es(ge)}return ot=Te.children,Te=Te.fallback,Le?(No(),Le=ge.mode,ot=ul({mode:"hidden",children:ot},Le),Te=Mo(Te,Le,Se,null),ot.return=ge,Te.return=ge,ot.sibling=Te,ge.child=ot,Le=ge.child,Le.memoizedState=fs(Se),Le.childLanes=Dr(he,Je,Se),ge.memoizedState=us,Te):(Po(ge),Ts(ge,ot))}if(At=he.memoizedState,At!==null&&(ot=At.dehydrated,ot!==null)){if(Ge)ge.flags&256?(Po(ge),ge.flags&=-257,ge=jr(he,ge,Se)):ge.memoizedState!==null?(No(),ge.child=he.child,ge.flags|=128,ge=null):(No(),Le=Te.fallback,ot=ge.mode,Te=ul({mode:"visible",children:Te.children},ot),Le=Mo(Le,ot,Se,null),Le.flags|=2,Te.return=ge,Le.return=ge,Te.sibling=Le,ge.child=Te,al(ge,he.child,null,Se),Te=ge.child,Te.memoizedState=fs(Se),Te.childLanes=Dr(he,Je,Se),ge.memoizedState=us,ge=Le);else if(Po(ge),Vh(ot)){if(Je=ot.nextSibling&&ot.nextSibling.dataset,Je)var Xt=Je.dgst;Je=Xt,Te=Error(oe(419)),Te.stack="",Te.digest=Je,nl({value:Te,source:null,stack:null}),ge=jr(he,ge,Se)}else if(Nr||$a(he,ge,Se,!1),Je=(Se&he.childLanes)!==0,Nr||Je){if(Je=li,Je!==null&&(Te=Se&-Se,Te=(Te&42)!==0?1:Hn(Te),Te=(Te&(Je.suspendedLanes|Se))!==0?0:Te,Te!==0&&Te!==At.retryLane))throw At.retryLane=Te,Qs(he,Te),oa(Je,he,Te),Zd;ot.data==="$?"||ve(),ge=jr(he,ge,Se)}else ot.data==="$?"?(ge.flags|=192,ge.child=he.child,ge=null):(he=At.treeContext,ar=po(ot.nextSibling),na=ge,Oi=!0,ka=null,Ta=!1,he!==null&&(kr[Aa++]=ys,kr[Aa++]=xs,kr[Aa++]=Co,ys=he.id,xs=he.overflow,Co=ge),ge=Ts(ge,Te.children),ge.flags|=4096);return ge}return Le?(No(),Le=Te.fallback,ot=ge.mode,At=he.child,Xt=At.sibling,Te=xr(At,{mode:"hidden",children:Te.children}),Te.subtreeFlags=At.subtreeFlags&65011712,Xt!==null?Le=xr(Xt,Le):(Le=Mo(Le,ot,Se,null),Le.flags|=2),Le.return=ge,Te.return=ge,Te.sibling=Le,ge.child=Te,Te=Le,Le=ge.child,ot=he.child.memoizedState,ot===null?ot=fs(Se):(At=ot.cachePool,At!==null?(Xt=Cr._currentValue,At=At.parent!==Xt?{parent:Xt,pool:Xt}:At):At=du(),ot={baseLanes:ot.baseLanes|Se,cachePool:At}),Le.memoizedState=ot,Le.childLanes=Dr(he,Je,Se),ge.memoizedState=us,Te):(Po(ge),Se=he.child,he=Se.sibling,Se=xr(Se,{mode:"visible",children:Te.children}),Se.return=ge,Se.sibling=null,he!==null&&(Je=ge.deletions,Je===null?(ge.deletions=[he],ge.flags|=16):Je.push(he)),ge.child=Se,ge.memoizedState=null,Se)}function Ts(he,ge){return ge=ul({mode:"visible",children:ge},he.mode),ge.return=he,he.child=ge}function ul(he,ge){return he=_a(22,he,null,ge),he.lanes=0,he.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},he}function jr(he,ge,Se){return al(ge,he.child,null,Se),he=Ts(ge,ge.pendingProps.children),he.flags|=2,ge.memoizedState=null,he}function Xr(he,ge,Se){he.lanes|=ge;var Te=he.alternate;Te!==null&&(Te.lanes|=ge),pf(he.return,ge,Se)}function Ci(he,ge,Se,Te,Le){var Ge=he.memoizedState;Ge===null?he.memoizedState={isBackwards:ge,rendering:null,renderingStartTime:0,last:Te,tail:Se,tailMode:Le}:(Ge.isBackwards=ge,Ge.rendering=null,Ge.renderingStartTime=0,Ge.last=Te,Ge.tail=Se,Ge.tailMode=Le)}function Ya(he,ge,Se){var Te=ge.pendingProps,Le=Te.revealOrder,Ge=Te.tail;if(Er(he,ge,Te.children,Se),Te=br.current,(Te&2)!==0)Te=Te&1|2,ge.flags|=128;else{if(he!==null&&(he.flags&128)!==0)e:for(he=ge.child;he!==null;){if(he.tag===13)he.memoizedState!==null&&Xr(he,Se,ge);else if(he.tag===19)Xr(he,Se,ge);else if(he.child!==null){he.child.return=he,he=he.child;continue}if(he===ge)break e;for(;he.sibling===null;){if(he.return===null||he.return===ge)break e;he=he.return}he.sibling.return=he.return,he=he.sibling}Te&=1}switch(yt(br,Te),Le){case"forwards":for(Se=ge.child,Le=null;Se!==null;)he=Se.alternate,he!==null&&oo(he)===null&&(Le=Se),Se=Se.sibling;Se=Le,Se===null?(Le=ge.child,ge.child=null):(Le=Se.sibling,Se.sibling=null),Ci(ge,!1,Le,Se,Ge);break;case"backwards":for(Se=null,Le=ge.child,ge.child=null;Le!==null;){if(he=Le.alternate,he!==null&&oo(he)===null){ge.child=Le;break}he=Le.sibling,Le.sibling=Se,Se=Le,Le=he}Ci(ge,!0,Se,null,Ge);break;case"together":Ci(ge,!1,null,null,void 0);break;default:ge.memoizedState=null}return ge.child}function Fr(he,ge,Se){if(he!==null&&(ge.dependencies=he.dependencies),ms|=ge.lanes,(Se&ge.childLanes)===0)if(he!==null){if($a(he,ge,Se,!1),(Se&ge.childLanes)===0)return null}else return null;if(he!==null&&ge.child!==he.child)throw Error(oe(153));if(ge.child!==null){for(he=ge.child,Se=xr(he,he.pendingProps),ge.child=Se,Se.return=ge;he.sibling!==null;)he=he.sibling,Se=Se.sibling=xr(he,he.pendingProps),Se.return=ge;Se.sibling=null}return ge.child}function Hc(he,ge){return(he.lanes&ge)!==0?!0:(he=he.dependencies,!!(he!==null&&Mc(he)))}function Ka(he,ge,Se){switch(ge.tag){case 3:Dt(ge,ge.stateNode.containerInfo),Bo(ge,Cr,he.memoizedState.cache),Dl();break;case 27:case 5:ln(ge);break;case 4:Dt(ge,ge.stateNode.containerInfo);break;case 10:Bo(ge,ge.type,ge.memoizedProps.value);break;case 13:var Te=ge.memoizedState;if(Te!==null)return Te.dehydrated!==null?(Po(ge),ge.flags|=128,null):(Se&ge.child.childLanes)!==0?jl(he,ge,Se):(Po(ge),he=Fr(he,ge,Se),he!==null?he.sibling:null);Po(ge);break;case 19:var Le=(he.flags&128)!==0;if(Te=(Se&ge.childLanes)!==0,Te||($a(he,ge,Se,!1),Te=(Se&ge.childLanes)!==0),Le){if(Te)return Ya(he,ge,Se);ge.flags|=128}if(Le=ge.memoizedState,Le!==null&&(Le.rendering=null,Le.tail=null,Le.lastEffect=null),yt(br,br.current),Te)break;return null;case 22:case 23:return ge.lanes=0,ol(he,ge,Se);case 24:Bo(ge,Cr,he.memoizedState.cache)}return Fr(he,ge,Se)}function fl(he,ge,Se){if(he!==null)if(he.memoizedProps!==ge.pendingProps)Nr=!0;else{if(!Hc(he,Se)&&(ge.flags&128)===0)return Nr=!1,Ka(he,ge,Se);Nr=(he.flags&131072)!==0}else Nr=!1,Oi&&(ge.flags&1048576)!==0&&ou(ge,Bl,ge.index);switch(ge.lanes=0,ge.tag){case 16:e:{he=ge.pendingProps;var Te=ge.elementType,Le=Te._init;if(Te=Le(Te._payload),ge.type=Te,typeof Te=="function")bc(Te)?(he=As(Te,he),ge.tag=1,ge=wa(null,ge,Te,he,Se)):(ge.tag=0,ge=$l(null,ge,Te,he,Se));else{if(Te!=null){if(Le=Te.$$typeof,Le===Fe){ge.tag=11,ge=xa(null,ge,Te,he,Se);break e}else if(Le===ke){ge.tag=14,ge=Sa(null,ge,Te,he,Se);break e}}throw ge=at(Te)||Te,Error(oe(306,ge,""))}}return ge;case 0:return $l(he,ge,ge.type,ge.pendingProps,Se);case 1:return Te=ge.type,Le=As(Te,ge.pendingProps),wa(he,ge,Te,Le,Se);case 3:e:{if(Dt(ge,ge.stateNode.containerInfo),he===null)throw Error(oe(387));Te=ge.pendingProps;var Ge=ge.memoizedState;Le=Ge.element,ii(he,ge),Fl(ge,Te,null,Se);var Je=ge.memoizedState;if(Te=Je.cache,Bo(ge,Cr,Te),Te!==Ge.cache&&Tc(ge,[Cr],Se,!0),Lc(),Te=Je.element,Ge.isDehydrated)if(Ge={element:Te,isDehydrated:!1,cache:Je.cache},ge.updateQueue.baseState=Ge,ge.memoizedState=Ge,ge.flags&256){ge=Io(he,ge,Te,Se);break e}else if(Te!==Le){Le=Vr(Error(oe(424)),ge),nl(Le),ge=Io(he,ge,Te,Se);break e}else{switch(he=ge.stateNode.containerInfo,he.nodeType){case 9:he=he.body;break;default:he=he.nodeName==="HTML"?he.ownerDocument.body:he}for(ar=po(he.firstChild),na=ge,Oi=!0,ka=null,Ta=!0,Se=Wd(ge,null,Te,Se),ge.child=Se;Se;)Se.flags=Se.flags&-3|4096,Se=Se.sibling}else{if(Dl(),Te===Le){ge=Fr(he,ge,Se);break e}Er(he,ge,Te,Se)}ge=ge.child}return ge;case 26:return cl(he,ge),he===null?(Se=xp(ge.type,null,ge.pendingProps,null))?ge.memoizedState=Se:Oi||(Se=ge.type,he=ge.pendingProps,Te=ah(Et.current).createElement(Se),Te[_n]=ge,Te[On]=he,la(Te,Se,he),vi(Te),ge.stateNode=Te):ge.memoizedState=xp(ge.type,he.memoizedProps,ge.pendingProps,he.memoizedState),null;case 27:return ln(ge),he===null&&Oi&&(Te=ge.stateNode=vp(ge.type,ge.pendingProps,Et.current),na=ge,Ta=!0,Le=ar,tc(ge.type)?(kh=Le,ar=po(Te.firstChild)):ar=Le),Er(he,ge,ge.pendingProps.children,Se),cl(he,ge),he===null&&(ge.flags|=4194304),ge.child;case 5:return he===null&&Oi&&((Le=Te=ar)&&(Te=Kp(Te,ge.type,ge.pendingProps,Ta),Te!==null?(ge.stateNode=Te,na=ge,ar=po(Te.firstChild),Ta=!1,Le=!0):Le=!1),Le||Ro(ge)),ln(ge),Le=ge.type,Ge=ge.pendingProps,Je=he!==null?he.memoizedProps:null,Te=Ge.children,Gh(Le,Ge)?Te=null:Je!==null&&Gh(Le,Je)&&(ge.flags|=32),ge.memoizedState!==null&&(Le=ao(he,ge,bh,null,null,Se),qf._currentValue=Le),cl(he,ge),Er(he,ge,Te,Se),ge.child;case 6:return he===null&&Oi&&((he=Se=ar)&&(Se=Jp(Se,ge.pendingProps,Ta),Se!==null?(ge.stateNode=Se,na=ge,ar=null,he=!0):he=!1),he||Ro(ge)),null;case 13:return jl(he,ge,Se);case 4:return Dt(ge,ge.stateNode.containerInfo),Te=ge.pendingProps,he===null?ge.child=al(ge,null,Te,Se):Er(he,ge,Te,Se),ge.child;case 11:return xa(he,ge,ge.type,ge.pendingProps,Se);case 7:return Er(he,ge,ge.pendingProps,Se),ge.child;case 8:return Er(he,ge,ge.pendingProps.children,Se),ge.child;case 12:return Er(he,ge,ge.pendingProps.children,Se),ge.child;case 10:return Te=ge.pendingProps,Bo(ge,ge.type,Te.value),Er(he,ge,Te.children,Se),ge.child;case 9:return Le=ge.type._context,Te=ge.pendingProps.children,Ss(ge),Le=ur(Le),Te=Te(Le),ge.flags|=1,Er(he,ge,Te,Se),ge.child;case 14:return Sa(he,ge,ge.type,ge.pendingProps,Se);case 15:return Ff(he,ge,ge.type,ge.pendingProps,Se);case 19:return Ya(he,ge,Se);case 31:return Te=ge.pendingProps,Se=ge.mode,Te={mode:Te.mode,children:Te.children},he===null?(Se=ul(Te,Se),Se.ref=ge.ref,ge.child=Se,Se.return=ge,ge=Se):(Se=xr(he.child,Te),Se.ref=ge.ref,ge.child=Se,Se.return=ge,ge=Se),ge;case 22:return ol(he,ge,Se);case 24:return Ss(ge),Te=ur(Cr),he===null?(Le=Do(),Le===null&&(Le=li,Ge=uu(),Le.pooledCache=Ge,Ge.refCount++,Ge!==null&&(Le.pooledCacheLanes|=Se),Le=Ge),ge.memoizedState={parent:Te,cache:Le},_f(ge),Bo(ge,Cr,Le)):((he.lanes&Se)!==0&&(ii(he,ge),Fl(ge,null,null,Se),Lc()),Le=he.memoizedState,Ge=ge.memoizedState,Le.parent!==Te?(Le={parent:Te,cache:Te},ge.memoizedState=Le,ge.lanes===0&&(ge.memoizedState=ge.updateQueue.baseState=Le),Bo(ge,Cr,Te)):(Te=Ge.cache,Bo(ge,Cr,Te),Te!==Le.cache&&Tc(ge,[Cr],Se,!0))),Er(he,ge,ge.pendingProps.children,Se),ge.child;case 29:throw ge.pendingProps}throw Error(oe(156,ge.tag))}function ds(he){he.flags|=4}function Vc(he,ge){if(ge.type!=="stylesheet"||(ge.state.loading&4)!==0)he.flags&=-16777217;else if(he.flags|=16777216,!Tp(ge)){if(ge=$i.current,ge!==null&&((Kn&4194048)===Kn?cs!==null:(Kn&62914560)!==Kn&&(Kn&536870912)===0||ge!==cs))throw Xa=Oc,gf;he.flags|=8192}}function lo(he,ge){ge!==null&&(he.flags|=4),he.flags&16384&&(ge=he.tag!==22?sn():536870912,he.lanes|=ge,Bi|=ge)}function dl(he,ge){if(!Oi)switch(he.tailMode){case"hidden":ge=he.tail;for(var Se=null;ge!==null;)ge.alternate!==null&&(Se=ge),ge=ge.sibling;Se===null?he.tail=null:Se.sibling=null;break;case"collapsed":Se=he.tail;for(var Te=null;Se!==null;)Se.alternate!==null&&(Te=Se),Se=Se.sibling;Te===null?ge||he.tail===null?he.tail=null:he.tail.sibling=null:Te.sibling=null}}function Ki(he){var ge=he.alternate!==null&&he.alternate.child===he.child,Se=0,Te=0;if(ge)for(var Le=he.child;Le!==null;)Se|=Le.lanes|Le.childLanes,Te|=Le.subtreeFlags&65011712,Te|=Le.flags&65011712,Le.return=he,Le=Le.sibling;else for(Le=he.child;Le!==null;)Se|=Le.lanes|Le.childLanes,Te|=Le.subtreeFlags,Te|=Le.flags,Le.return=he,Le=Le.sibling;return he.subtreeFlags|=Te,he.childLanes=Se,ge}function If(he,ge,Se){var Te=ge.pendingProps;switch(ff(ge),ge.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(ge),null;case 1:return Ki(ge),null;case 3:return Se=ge.stateNode,Te=null,he!==null&&(Te=he.memoizedState.cache),ge.memoizedState.cache!==Te&&(ge.flags|=2048),to(Cr),nn(),Se.pendingContext&&(Se.context=Se.pendingContext,Se.pendingContext=null),(he===null||he.child===null)&&(ss(ge)?ds(ge):he===null||he.memoizedState.isDehydrated&&(ge.flags&256)===0||(ge.flags|=1024,Ni())),Ki(ge),null;case 26:return Se=ge.memoizedState,he===null?(ds(ge),Se!==null?(Ki(ge),Vc(ge,Se)):(Ki(ge),ge.flags&=-16777217)):Se?Se!==he.memoizedState?(ds(ge),Ki(ge),Vc(ge,Se)):(Ki(ge),ge.flags&=-16777217):(he.memoizedProps!==Te&&ds(ge),Ki(ge),ge.flags&=-16777217),null;case 27:tn(ge),Se=Et.current;var Le=ge.type;if(he!==null&&ge.stateNode!=null)he.memoizedProps!==Te&&ds(ge);else{if(!Te){if(ge.stateNode===null)throw Error(oe(166));return Ki(ge),null}he=st.current,ss(ge)?fd(ge):(he=vp(Le,Te,Se),ge.stateNode=he,ds(ge))}return Ki(ge),null;case 5:if(tn(ge),Se=ge.type,he!==null&&ge.stateNode!=null)he.memoizedProps!==Te&&ds(ge);else{if(!Te){if(ge.stateNode===null)throw Error(oe(166));return Ki(ge),null}if(he=st.current,ss(ge))fd(ge);else{switch(Le=ah(Et.current),he){case 1:he=Le.createElementNS("http://www.w3.org/2000/svg",Se);break;case 2:he=Le.createElementNS("http://www.w3.org/1998/Math/MathML",Se);break;default:switch(Se){case"svg":he=Le.createElementNS("http://www.w3.org/2000/svg",Se);break;case"math":he=Le.createElementNS("http://www.w3.org/1998/Math/MathML",Se);break;case"script":he=Le.createElement("div"),he.innerHTML="<script><\/script>",he=he.removeChild(he.firstChild);break;case"select":he=typeof Te.is=="string"?Le.createElement("select",{is:Te.is}):Le.createElement("select"),Te.multiple?he.multiple=!0:Te.size&&(he.size=Te.size);break;default:he=typeof Te.is=="string"?Le.createElement(Se,{is:Te.is}):Le.createElement(Se)}}he[_n]=ge,he[On]=Te;e:for(Le=ge.child;Le!==null;){if(Le.tag===5||Le.tag===6)he.appendChild(Le.stateNode);else if(Le.tag!==4&&Le.tag!==27&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===ge)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===ge)break e;Le=Le.return}Le.sibling.return=Le.return,Le=Le.sibling}ge.stateNode=he;e:switch(la(he,Se,Te),Se){case"button":case"input":case"select":case"textarea":he=!!Te.autoFocus;break e;case"img":he=!0;break e;default:he=!1}he&&ds(ge)}}return Ki(ge),ge.flags&=-16777217,null;case 6:if(he&&ge.stateNode!=null)he.memoizedProps!==Te&&ds(ge);else{if(typeof Te!="string"&&ge.stateNode===null)throw Error(oe(166));if(he=Et.current,ss(ge)){if(he=ge.stateNode,Se=ge.memoizedProps,Te=null,Le=na,Le!==null)switch(Le.tag){case 27:case 5:Te=Le.memoizedProps}he[_n]=ge,he=!!(he.nodeValue===Se||Te!==null&&Te.suppressHydrationWarning===!0||up(he.nodeValue,Se)),he||Ro(ge)}else he=ah(he).createTextNode(Te),he[_n]=ge,ge.stateNode=he}return Ki(ge),null;case 13:if(Te=ge.memoizedState,he===null||he.memoizedState!==null&&he.memoizedState.dehydrated!==null){if(Le=ss(ge),Te!==null&&Te.dehydrated!==null){if(he===null){if(!Le)throw Error(oe(318));if(Le=ge.memoizedState,Le=Le!==null?Le.dehydrated:null,!Le)throw Error(oe(317));Le[_n]=ge}else Dl(),(ge.flags&128)===0&&(ge.memoizedState=null),ge.flags|=4;Ki(ge),Le=!1}else Le=Ni(),he!==null&&he.memoizedState!==null&&(he.memoizedState.hydrationErrors=Le),Le=!0;if(!Le)return ge.flags&256?(Es(ge),ge):(Es(ge),null)}if(Es(ge),(ge.flags&128)!==0)return ge.lanes=Se,ge;if(Se=Te!==null,he=he!==null&&he.memoizedState!==null,Se){Te=ge.child,Le=null,Te.alternate!==null&&Te.alternate.memoizedState!==null&&Te.alternate.memoizedState.cachePool!==null&&(Le=Te.alternate.memoizedState.cachePool.pool);var Ge=null;Te.memoizedState!==null&&Te.memoizedState.cachePool!==null&&(Ge=Te.memoizedState.cachePool.pool),Ge!==Le&&(Te.flags|=2048)}return Se!==he&&Se&&(ge.child.flags|=8192),lo(ge,ge.updateQueue),Ki(ge),null;case 4:return nn(),he===null&&Uh(ge.stateNode.containerInfo),Ki(ge),null;case 10:return to(ge.type),Ki(ge),null;case 19:if(ft(br),Le=ge.memoizedState,Le===null)return Ki(ge),null;if(Te=(ge.flags&128)!==0,Ge=Le.rendering,Ge===null)if(Te)dl(Le,!1);else{if(tr!==0||he!==null&&(he.flags&128)!==0)for(he=ge.child;he!==null;){if(Ge=oo(he),Ge!==null){for(ge.flags|=128,dl(Le,!1),he=Ge.updateQueue,ge.updateQueue=he,lo(ge,he),ge.subtreeFlags=0,he=Se,Se=ge.child;Se!==null;)cf(Se,he),Se=Se.sibling;return yt(br,br.current&1|2),ge.child}he=he.sibling}Le.tail!==null&&ht()>Kr&&(ge.flags|=128,Te=!0,dl(Le,!1),ge.lanes=4194304)}else{if(!Te)if(he=oo(Ge),he!==null){if(ge.flags|=128,Te=!0,he=he.updateQueue,ge.updateQueue=he,lo(ge,he),dl(Le,!0),Le.tail===null&&Le.tailMode==="hidden"&&!Ge.alternate&&!Oi)return Ki(ge),null}else 2*ht()-Le.renderingStartTime>Kr&&Se!==536870912&&(ge.flags|=128,Te=!0,dl(Le,!1),ge.lanes=4194304);Le.isBackwards?(Ge.sibling=ge.child,ge.child=Ge):(he=Le.last,he!==null?he.sibling=Ge:ge.child=Ge,Le.last=Ge)}return Le.tail!==null?(ge=Le.tail,Le.rendering=ge,Le.tail=ge.sibling,Le.renderingStartTime=ht(),ge.sibling=null,he=br.current,yt(br,Te?he&1|2:he&1),ge):(Ki(ge),null);case 22:case 23:return Es(ge),Uc(),Te=ge.memoizedState!==null,he!==null?he.memoizedState!==null!==Te&&(ge.flags|=8192):Te&&(ge.flags|=8192),Te?(Se&536870912)!==0&&(ge.flags&128)===0&&(Ki(ge),ge.subtreeFlags&6&&(ge.flags|=8192)):Ki(ge),Se=ge.updateQueue,Se!==null&&lo(ge,Se.retryQueue),Se=null,he!==null&&he.memoizedState!==null&&he.memoizedState.cachePool!==null&&(Se=he.memoizedState.cachePool.pool),Te=null,ge.memoizedState!==null&&ge.memoizedState.cachePool!==null&&(Te=ge.memoizedState.cachePool.pool),Te!==Se&&(ge.flags|=2048),he!==null&&ft(ja),null;case 24:return Se=null,he!==null&&(Se=he.memoizedState.cache),ge.memoizedState.cache!==Se&&(ge.flags|=2048),to(Cr),Ki(ge),null;case 25:return null;case 30:return null}throw Error(oe(156,ge.tag))}function Xl(he,ge){switch(ff(ge),ge.tag){case 1:return he=ge.flags,he&65536?(ge.flags=he&-65537|128,ge):null;case 3:return to(Cr),nn(),he=ge.flags,(he&65536)!==0&&(he&128)===0?(ge.flags=he&-65537|128,ge):null;case 26:case 27:case 5:return tn(ge),null;case 13:if(Es(ge),he=ge.memoizedState,he!==null&&he.dehydrated!==null){if(ge.alternate===null)throw Error(oe(340));Dl()}return he=ge.flags,he&65536?(ge.flags=he&-65537|128,ge):null;case 19:return ft(br),null;case 4:return nn(),null;case 10:return to(ge.type),null;case 22:case 23:return Es(ge),Uc(),he!==null&&ft(ja),he=ge.flags,he&65536?(ge.flags=he&-65537|128,ge):null;case 24:return to(Cr),null;case 25:return null;default:return null}}function Wl(he,ge){switch(ff(ge),ge.tag){case 3:to(Cr),nn();break;case 26:case 27:case 5:tn(ge);break;case 4:nn();break;case 13:Es(ge);break;case 19:ft(br);break;case 10:to(ge.type);break;case 22:case 23:Es(ge),Uc(),he!==null&&ft(ja);break;case 24:to(Cr)}}function hl(he,ge){try{var Se=ge.updateQueue,Te=Se!==null?Se.lastEffect:null;if(Te!==null){var Le=Te.next;Se=Le;do{if((Se.tag&he)===he){Te=void 0;var Ge=Se.create,Je=Se.inst;Te=Ge(),Je.destroy=Te}Se=Se.next}while(Se!==Le)}}catch(ot){Ut(ge,ge.return,ot)}}function Ba(he,ge,Se){try{var Te=ge.updateQueue,Le=Te!==null?Te.lastEffect:null;if(Le!==null){var Ge=Le.next;Te=Ge;do{if((Te.tag&he)===he){var Je=Te.inst,ot=Je.destroy;if(ot!==void 0){Je.destroy=void 0,Le=ge;var At=Se,Xt=ot;try{Xt()}catch(dn){Ut(Le,At,dn)}}}Te=Te.next}while(Te!==Ge)}}catch(dn){Ut(ge,ge.return,dn)}}function pl(he){var ge=he.updateQueue;if(ge!==null){var Se=he.stateNode;try{pd(ge,Se)}catch(Te){Ut(he,he.return,Te)}}}function co(he,ge,Se){Se.props=As(he.type,he.memoizedProps),Se.state=he.memoizedState;try{Se.componentWillUnmount()}catch(Te){Ut(he,ge,Te)}}function ml(he,ge){try{var Se=he.ref;if(Se!==null){switch(he.tag){case 26:case 27:case 5:var Te=he.stateNode;break;case 30:Te=he.stateNode;break;default:Te=he.stateNode}typeof Se=="function"?he.refCleanup=Se(Te):Se.current=Te}}catch(Le){Ut(he,ge,Le)}}function Ms(he,ge){var Se=he.ref,Te=he.refCleanup;if(Se!==null)if(typeof Te=="function")try{Te()}catch(Le){Ut(he,ge,Le)}finally{he.refCleanup=null,he=he.alternate,he!=null&&(he.refCleanup=null)}else if(typeof Se=="function")try{Se(null)}catch(Le){Ut(he,ge,Le)}else Se.current=null}function ql(he){var ge=he.type,Se=he.memoizedProps,Te=he.stateNode;try{e:switch(ge){case"button":case"input":case"select":case"textarea":Se.autoFocus&&Te.focus();break e;case"img":Se.src?Te.src=Se.src:Se.srcSet&&(Te.srcset=Se.srcSet)}}catch(Le){Ut(he,he.return,Le)}}function kc(he,ge,Se){try{var Te=he.stateNode;jp(Te,he.type,Se,ge),Te[On]=ge}catch(Le){Ut(he,he.return,Le)}}function $c(he){return he.tag===5||he.tag===3||he.tag===26||he.tag===27&&tc(he.type)||he.tag===4}function Go(he){e:for(;;){for(;he.sibling===null;){if(he.return===null||$c(he.return))return null;he=he.return}for(he.sibling.return=he.return,he=he.sibling;he.tag!==5&&he.tag!==6&&he.tag!==18;){if(he.tag===27&&tc(he.type)||he.flags&2||he.child===null||he.tag===4)continue e;he.child.return=he,he=he.child}if(!(he.flags&2))return he.stateNode}}function zo(he,ge,Se){var Te=he.tag;if(Te===5||Te===6)he=he.stateNode,ge?(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).insertBefore(he,ge):(ge=Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se,ge.appendChild(he),Se=Se._reactRootContainer,Se!=null||ge.onclick!==null||(ge.onclick=rh));else if(Te!==4&&(Te===27&&tc(he.type)&&(Se=he.stateNode,ge=null),he=he.child,he!==null))for(zo(he,ge,Se),he=he.sibling;he!==null;)zo(he,ge,Se),he=he.sibling}function Ho(he,ge,Se){var Te=he.tag;if(Te===5||Te===6)he=he.stateNode,ge?Se.insertBefore(he,ge):Se.appendChild(he);else if(Te!==4&&(Te===27&&tc(he.type)&&(Se=he.stateNode),he=he.child,he!==null))for(Ho(he,ge,Se),he=he.sibling;he!==null;)Ho(he,ge,Se),he=he.sibling}function Vo(he){var ge=he.stateNode,Se=he.memoizedProps;try{for(var Te=he.type,Le=ge.attributes;Le.length;)ge.removeAttributeNode(Le[0]);la(ge,Te,Se),ge[_n]=he,ge[On]=Se}catch(Ge){Ut(he,he.return,Ge)}}var Cs=!1,Ji=!1,Yl=!1,Da=typeof WeakSet=="function"?WeakSet:Set,ji=null;function Or(he,ge){if(he=he.containerInfo,Fh=fh,he=tf(he),_c(he)){if("selectionStart"in he)var Se={start:he.selectionStart,end:he.selectionEnd};else e:{Se=(Se=he.ownerDocument)&&Se.defaultView||window;var Te=Se.getSelection&&Se.getSelection();if(Te&&Te.rangeCount!==0){Se=Te.anchorNode;var Le=Te.anchorOffset,Ge=Te.focusNode;Te=Te.focusOffset;try{Se.nodeType,Ge.nodeType}catch{Se=null;break e}var Je=0,ot=-1,At=-1,Xt=0,dn=0,yn=he,Kt=null;t:for(;;){for(var Zt;yn!==Se||Le!==0&&yn.nodeType!==3||(ot=Je+Le),yn!==Ge||Te!==0&&yn.nodeType!==3||(At=Je+Te),yn.nodeType===3&&(Je+=yn.nodeValue.length),(Zt=yn.firstChild)!==null;)Kt=yn,yn=Zt;for(;;){if(yn===he)break t;if(Kt===Se&&++Xt===Le&&(ot=Je),Kt===Ge&&++dn===Te&&(At=Je),(Zt=yn.nextSibling)!==null)break;yn=Kt,Kt=yn.parentNode}yn=Zt}Se=ot===-1||At===-1?null:{start:ot,end:At}}else Se=null}Se=Se||{start:0,end:0}}else Se=null;for(Ih={focusedElem:he,selectionRange:Se},fh=!1,ji=ge;ji!==null;)if(ge=ji,he=ge.child,(ge.subtreeFlags&1024)!==0&&he!==null)he.return=ge,ji=he;else for(;ji!==null;){switch(ge=ji,Ge=ge.alternate,he=ge.flags,ge.tag){case 0:break;case 11:case 15:break;case 1:if((he&1024)!==0&&Ge!==null){he=void 0,Se=ge,Le=Ge.memoizedProps,Ge=Ge.memoizedState,Te=Se.stateNode;try{var ai=As(Se.type,Le,Se.elementType===Se.type);he=Te.getSnapshotBeforeUpdate(ai,Ge),Te.__reactInternalSnapshotBeforeUpdate=he}catch(Zn){Ut(Se,Se.return,Zn)}}break;case 3:if((he&1024)!==0){if(he=ge.stateNode.containerInfo,Se=he.nodeType,Se===9)Hh(he);else if(Se===1)switch(he.nodeName){case"HEAD":case"HTML":case"BODY":Hh(he);break;default:he.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((he&1024)!==0)throw Error(oe(163))}if(he=ge.sibling,he!==null){he.return=ge.return,ji=he;break}ji=ge.return}}function uo(he,ge,Se){var Te=Se.flags;switch(Se.tag){case 0:case 11:case 15:sa(he,Se),Te&4&&hl(5,Se);break;case 1:if(sa(he,Se),Te&4)if(he=Se.stateNode,ge===null)try{he.componentDidMount()}catch(Je){Ut(Se,Se.return,Je)}else{var Le=As(Se.type,ge.memoizedProps);ge=ge.memoizedState;try{he.componentDidUpdate(Le,ge,he.__reactInternalSnapshotBeforeUpdate)}catch(Je){Ut(Se,Se.return,Je)}}Te&64&&pl(Se),Te&512&&ml(Se,Se.return);break;case 3:if(sa(he,Se),Te&64&&(he=Se.updateQueue,he!==null)){if(ge=null,Se.child!==null)switch(Se.child.tag){case 27:case 5:ge=Se.child.stateNode;break;case 1:ge=Se.child.stateNode}try{pd(he,ge)}catch(Je){Ut(Se,Se.return,Je)}}break;case 27:ge===null&&Te&4&&Vo(Se);case 26:case 5:sa(he,Se),ge===null&&Te&4&&ql(Se),Te&512&&ml(Se,Se.return);break;case 12:sa(he,Se);break;case 13:sa(he,Se),Te&4&&ko(he,Se),Te&64&&(he=Se.memoizedState,he!==null&&(he=he.dehydrated,he!==null&&(Se=nr.bind(null,Se),Qp(he,Se))));break;case 22:if(Te=Se.memoizedState!==null||Cs,!Te){ge=ge!==null&&ge.memoizedState!==null||Ji,Le=Cs;var Ge=Ji;Cs=Te,(Ji=ge)&&!Ge?Rs(he,Se,(Se.subtreeFlags&8772)!==0):sa(he,Se),Cs=Le,Ji=Ge}break;case 30:break;default:sa(he,Se)}}function mi(he){var ge=he.alternate;ge!==null&&(he.alternate=null,mi(ge)),he.child=null,he.deletions=null,he.sibling=null,he.tag===5&&(ge=he.stateNode,ge!==null&&$n(ge)),he.stateNode=null,he.return=null,he.dependencies=null,he.memoizedProps=null,he.memoizedState=null,he.pendingProps=null,he.stateNode=null,he.updateQueue=null}var Jn=null,wi=!1;function Ja(he,ge,Se){for(Se=Se.child;Se!==null;)gl(he,ge,Se),Se=Se.sibling}function gl(he,ge,Se){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Ft,Se)}catch{}switch(Se.tag){case 26:Ji||Ms(Se,ge),Ja(he,ge,Se),Se.memoizedState?Se.memoizedState.count--:Se.stateNode&&(Se=Se.stateNode,Se.parentNode.removeChild(Se));break;case 27:Ji||Ms(Se,ge);var Te=Jn,Le=wi;tc(Se.type)&&(Jn=Se.stateNode,wi=!1),Ja(he,ge,Se),$f(Se.stateNode),Jn=Te,wi=Le;break;case 5:Ji||Ms(Se,ge);case 6:if(Te=Jn,Le=wi,Jn=null,Ja(he,ge,Se),Jn=Te,wi=Le,Jn!==null)if(wi)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(Se.stateNode)}catch(Ge){Ut(Se,ge,Ge)}else try{Jn.removeChild(Se.stateNode)}catch(Ge){Ut(Se,ge,Ge)}break;case 18:Jn!==null&&(wi?(he=Jn,mp(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he,Se.stateNode),Qf(he)):mp(Jn,Se.stateNode));break;case 4:Te=Jn,Le=wi,Jn=Se.stateNode.containerInfo,wi=!0,Ja(he,ge,Se),Jn=Te,wi=Le;break;case 0:case 11:case 14:case 15:Ji||Ba(2,Se,ge),Ji||Ba(4,Se,ge),Ja(he,ge,Se);break;case 1:Ji||(Ms(Se,ge),Te=Se.stateNode,typeof Te.componentWillUnmount=="function"&&co(Se,ge,Te)),Ja(he,ge,Se);break;case 21:Ja(he,ge,Se);break;case 22:Ji=(Te=Ji)||Se.memoizedState!==null,Ja(he,ge,Se),Ji=Te;break;default:Ja(he,ge,Se)}}function ko(he,ge){if(ge.memoizedState===null&&(he=ge.alternate,he!==null&&(he=he.memoizedState,he!==null&&(he=he.dehydrated,he!==null))))try{Qf(he)}catch(Se){Ut(ge,ge.return,Se)}}function Du(he){switch(he.tag){case 13:case 19:var ge=he.stateNode;return ge===null&&(ge=he.stateNode=new Da),ge;case 22:return he=he.stateNode,ge=he._retryCache,ge===null&&(ge=he._retryCache=new Da),ge;default:throw Error(oe(435,he.tag))}}function vl(he,ge){var Se=Du(he);ge.forEach(function(Te){var Le=ri.bind(null,he,Te);Se.has(Te)||(Se.add(Te),Te.then(Le,Le))})}function Ir(he,ge){var Se=ge.deletions;if(Se!==null)for(var Te=0;Te<Se.length;Te++){var Le=Se[Te],Ge=he,Je=ge,ot=Je;e:for(;ot!==null;){switch(ot.tag){case 27:if(tc(ot.type)){Jn=ot.stateNode,wi=!1;break e}break;case 5:Jn=ot.stateNode,wi=!1;break e;case 3:case 4:Jn=ot.stateNode.containerInfo,wi=!0;break e}ot=ot.return}if(Jn===null)throw Error(oe(160));gl(Ge,Je,Le),Jn=null,wi=!1,Ge=Le.alternate,Ge!==null&&(Ge.return=null),Le.return=null}if(ge.subtreeFlags&13878)for(ge=ge.child;ge!==null;)Ou(ge,he),ge=ge.sibling}var hs=null;function Ou(he,ge){var Se=he.alternate,Te=he.flags;switch(he.tag){case 0:case 11:case 14:case 15:Ir(ge,he),fr(he),Te&4&&(Ba(3,he,he.return),hl(3,he),Ba(5,he,he.return));break;case 1:Ir(ge,he),fr(he),Te&512&&(Ji||Se===null||Ms(Se,Se.return)),Te&64&&Cs&&(he=he.updateQueue,he!==null&&(Te=he.callbacks,Te!==null&&(Se=he.shared.hiddenCallbacks,he.shared.hiddenCallbacks=Se===null?Te:Se.concat(Te))));break;case 26:var Le=hs;if(Ir(ge,he),fr(he),Te&512&&(Ji||Se===null||Ms(Se,Se.return)),Te&4){var Ge=Se!==null?Se.memoizedState:null;if(Te=he.memoizedState,Se===null)if(Te===null)if(he.stateNode===null){e:{Te=he.type,Se=he.memoizedProps,Le=Le.ownerDocument||Le;t:switch(Te){case"title":Ge=Le.getElementsByTagName("title")[0],(!Ge||Ge[si]||Ge[_n]||Ge.namespaceURI==="http://www.w3.org/2000/svg"||Ge.hasAttribute("itemprop"))&&(Ge=Le.createElement(Te),Le.head.insertBefore(Ge,Le.querySelector("head > title"))),la(Ge,Te,Se),Ge[_n]=he,vi(Ge),Te=Ge;break e;case"link":var Je=Ep("link","href",Le).get(Te+(Se.href||""));if(Je){for(var ot=0;ot<Je.length;ot++)if(Ge=Je[ot],Ge.getAttribute("href")===(Se.href==null||Se.href===""?null:Se.href)&&Ge.getAttribute("rel")===(Se.rel==null?null:Se.rel)&&Ge.getAttribute("title")===(Se.title==null?null:Se.title)&&Ge.getAttribute("crossorigin")===(Se.crossOrigin==null?null:Se.crossOrigin)){Je.splice(ot,1);break t}}Ge=Le.createElement(Te),la(Ge,Te,Se),Le.head.appendChild(Ge);break;case"meta":if(Je=Ep("meta","content",Le).get(Te+(Se.content||""))){for(ot=0;ot<Je.length;ot++)if(Ge=Je[ot],Ge.getAttribute("content")===(Se.content==null?null:""+Se.content)&&Ge.getAttribute("name")===(Se.name==null?null:Se.name)&&Ge.getAttribute("property")===(Se.property==null?null:Se.property)&&Ge.getAttribute("http-equiv")===(Se.httpEquiv==null?null:Se.httpEquiv)&&Ge.getAttribute("charset")===(Se.charSet==null?null:Se.charSet)){Je.splice(ot,1);break t}}Ge=Le.createElement(Te),la(Ge,Te,Se),Le.head.appendChild(Ge);break;default:throw Error(oe(468,Te))}Ge[_n]=he,vi(Ge),Te=Ge}he.stateNode=Te}else Ap(Le,he.type,he.stateNode);else he.stateNode=bp(Le,Te,he.memoizedProps);else Ge!==Te?(Ge===null?Se.stateNode!==null&&(Se=Se.stateNode,Se.parentNode.removeChild(Se)):Ge.count--,Te===null?Ap(Le,he.type,he.stateNode):bp(Le,Te,he.memoizedProps)):Te===null&&he.stateNode!==null&&kc(he,he.memoizedProps,Se.memoizedProps)}break;case 27:Ir(ge,he),fr(he),Te&512&&(Ji||Se===null||Ms(Se,Se.return)),Se!==null&&Te&4&&kc(he,he.memoizedProps,Se.memoizedProps);break;case 5:if(Ir(ge,he),fr(he),Te&512&&(Ji||Se===null||Ms(Se,Se.return)),he.flags&32){Le=he.stateNode;try{Tr(Le,"")}catch(Zt){Ut(he,he.return,Zt)}}Te&4&&he.stateNode!=null&&(Le=he.memoizedProps,kc(he,Le,Se!==null?Se.memoizedProps:Le)),Te&1024&&(Yl=!0);break;case 6:if(Ir(ge,he),fr(he),Te&4){if(he.stateNode===null)throw Error(oe(162));Te=he.memoizedProps,Se=he.stateNode;try{Se.nodeValue=Te}catch(Zt){Ut(he,he.return,Zt)}}break;case 3:if(lh=null,Le=hs,hs=sh(ge.containerInfo),Ir(ge,he),hs=Le,fr(he),Te&4&&Se!==null&&Se.memoizedState.isDehydrated)try{Qf(ge.containerInfo)}catch(Zt){Ut(he,he.return,Zt)}Yl&&(Yl=!1,$o(he));break;case 4:Te=hs,hs=sh(he.stateNode.containerInfo),Ir(ge,he),fr(he),hs=Te;break;case 12:Ir(ge,he),fr(he);break;case 13:Ir(ge,he),fr(he),he.child.flags&8192&&he.memoizedState!==null!=(Se!==null&&Se.memoizedState!==null)&&(Hi=ht()),Te&4&&(Te=he.updateQueue,Te!==null&&(he.updateQueue=null,vl(he,Te)));break;case 22:Le=he.memoizedState!==null;var At=Se!==null&&Se.memoizedState!==null,Xt=Cs,dn=Ji;if(Cs=Xt||Le,Ji=dn||At,Ir(ge,he),Ji=dn,Cs=Xt,fr(he),Te&8192)e:for(ge=he.stateNode,ge._visibility=Le?ge._visibility&-2:ge._visibility|1,Le&&(Se===null||At||Cs||Ji||Oa(he)),Se=null,ge=he;;){if(ge.tag===5||ge.tag===26){if(Se===null){At=Se=ge;try{if(Ge=At.stateNode,Le)Je=Ge.style,typeof Je.setProperty=="function"?Je.setProperty("display","none","important"):Je.display="none";else{ot=At.stateNode;var yn=At.memoizedProps.style,Kt=yn!=null&&yn.hasOwnProperty("display")?yn.display:null;ot.style.display=Kt==null||typeof Kt=="boolean"?"":(""+Kt).trim()}}catch(Zt){Ut(At,At.return,Zt)}}}else if(ge.tag===6){if(Se===null){At=ge;try{At.stateNode.nodeValue=Le?"":At.memoizedProps}catch(Zt){Ut(At,At.return,Zt)}}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===he)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===he)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===he)break e;Se===ge&&(Se=null),ge=ge.return}Se===ge&&(Se=null),ge.sibling.return=ge.return,ge=ge.sibling}Te&4&&(Te=he.updateQueue,Te!==null&&(Se=Te.retryQueue,Se!==null&&(Te.retryQueue=null,vl(he,Se))));break;case 19:Ir(ge,he),fr(he),Te&4&&(Te=he.updateQueue,Te!==null&&(he.updateQueue=null,vl(he,Te)));break;case 30:break;case 21:break;default:Ir(ge,he),fr(he)}}function fr(he){var ge=he.flags;if(ge&2){try{for(var Se,Te=he.return;Te!==null;){if($c(Te)){Se=Te;break}Te=Te.return}if(Se==null)throw Error(oe(160));switch(Se.tag){case 27:var Le=Se.stateNode,Ge=Go(he);Ho(he,Ge,Le);break;case 5:var Je=Se.stateNode;Se.flags&32&&(Tr(Je,""),Se.flags&=-33);var ot=Go(he);Ho(he,ot,Je);break;case 3:case 4:var At=Se.stateNode.containerInfo,Xt=Go(he);zo(he,Xt,At);break;default:throw Error(oe(161))}}catch(dn){Ut(he,he.return,dn)}he.flags&=-3}ge&4096&&(he.flags&=-4097)}function $o(he){if(he.subtreeFlags&1024)for(he=he.child;he!==null;){var ge=he;$o(ge),ge.tag===5&&ge.flags&1024&&ge.stateNode.reset(),he=he.sibling}}function sa(he,ge){if(ge.subtreeFlags&8772)for(ge=ge.child;ge!==null;)uo(he,ge.alternate,ge),ge=ge.sibling}function Oa(he){for(he=he.child;he!==null;){var ge=he;switch(ge.tag){case 0:case 11:case 14:case 15:Ba(4,ge,ge.return),Oa(ge);break;case 1:Ms(ge,ge.return);var Se=ge.stateNode;typeof Se.componentWillUnmount=="function"&&co(ge,ge.return,Se),Oa(ge);break;case 27:$f(ge.stateNode);case 26:case 5:Ms(ge,ge.return),Oa(ge);break;case 22:ge.memoizedState===null&&Oa(ge);break;case 30:Oa(ge);break;default:Oa(ge)}he=he.sibling}}function Rs(he,ge,Se){for(Se=Se&&(ge.subtreeFlags&8772)!==0,ge=ge.child;ge!==null;){var Te=ge.alternate,Le=he,Ge=ge,Je=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:Rs(Le,Ge,Se),hl(4,Ge);break;case 1:if(Rs(Le,Ge,Se),Te=Ge,Le=Te.stateNode,typeof Le.componentDidMount=="function")try{Le.componentDidMount()}catch(Xt){Ut(Te,Te.return,Xt)}if(Te=Ge,Le=Te.updateQueue,Le!==null){var ot=Te.stateNode;try{var At=Le.shared.hiddenCallbacks;if(At!==null)for(Le.shared.hiddenCallbacks=null,Le=0;Le<At.length;Le++)Il(At[Le],ot)}catch(Xt){Ut(Te,Te.return,Xt)}}Se&&Je&64&&pl(Ge),ml(Ge,Ge.return);break;case 27:Vo(Ge);case 26:case 5:Rs(Le,Ge,Se),Se&&Te===null&&Je&4&&ql(Ge),ml(Ge,Ge.return);break;case 12:Rs(Le,Ge,Se);break;case 13:Rs(Le,Ge,Se),Se&&Je&4&&ko(Le,Ge);break;case 22:Ge.memoizedState===null&&Rs(Le,Ge,Se),ml(Ge,Ge.return);break;case 30:break;default:Rs(Le,Ge,Se)}ge=ge.sibling}}function Lu(he,ge){var Se=null;he!==null&&he.memoizedState!==null&&he.memoizedState.cachePool!==null&&(Se=he.memoizedState.cachePool.pool),he=null,ge.memoizedState!==null&&ge.memoizedState.cachePool!==null&&(he=ge.memoizedState.cachePool.pool),he!==Se&&(he!=null&&he.refCount++,Se!=null&&Ol(Se))}function Uu(he,ge){he=null,ge.alternate!==null&&(he=ge.alternate.memoizedState.cache),ge=ge.memoizedState.cache,ge!==he&&(ge.refCount++,he!=null&&Ol(he))}function Xi(he,ge,Se,Te){if(ge.subtreeFlags&10256)for(ge=ge.child;ge!==null;)Pu(he,ge,Se,Te),ge=ge.sibling}function Pu(he,ge,Se,Te){var Le=ge.flags;switch(ge.tag){case 0:case 11:case 15:Xi(he,ge,Se,Te),Le&2048&&hl(9,ge);break;case 1:Xi(he,ge,Se,Te);break;case 3:Xi(he,ge,Se,Te),Le&2048&&(he=null,ge.alternate!==null&&(he=ge.alternate.memoizedState.cache),ge=ge.memoizedState.cache,ge!==he&&(ge.refCount++,he!=null&&Ol(he)));break;case 12:if(Le&2048){Xi(he,ge,Se,Te),he=ge.stateNode;try{var Ge=ge.memoizedProps,Je=Ge.id,ot=Ge.onPostCommit;typeof ot=="function"&&ot(Je,ge.alternate===null?"mount":"update",he.passiveEffectDuration,-0)}catch(At){Ut(ge,ge.return,At)}}else Xi(he,ge,Se,Te);break;case 13:Xi(he,ge,Se,Te);break;case 23:break;case 22:Ge=ge.stateNode,Je=ge.alternate,ge.memoizedState!==null?Ge._visibility&2?Xi(he,ge,Se,Te):ps(he,ge):Ge._visibility&2?Xi(he,ge,Se,Te):(Ge._visibility|=2,fo(he,ge,Se,Te,(ge.subtreeFlags&10256)!==0)),Le&2048&&Lu(Je,ge);break;case 24:Xi(he,ge,Se,Te),Le&2048&&Uu(ge.alternate,ge);break;default:Xi(he,ge,Se,Te)}}function fo(he,ge,Se,Te,Le){for(Le=Le&&(ge.subtreeFlags&10256)!==0,ge=ge.child;ge!==null;){var Ge=he,Je=ge,ot=Se,At=Te,Xt=Je.flags;switch(Je.tag){case 0:case 11:case 15:fo(Ge,Je,ot,At,Le),hl(8,Je);break;case 23:break;case 22:var dn=Je.stateNode;Je.memoizedState!==null?dn._visibility&2?fo(Ge,Je,ot,At,Le):ps(Ge,Je):(dn._visibility|=2,fo(Ge,Je,ot,At,Le)),Le&&Xt&2048&&Lu(Je.alternate,Je);break;case 24:fo(Ge,Je,ot,At,Le),Le&&Xt&2048&&Uu(Je.alternate,Je);break;default:fo(Ge,Je,ot,At,Le)}ge=ge.sibling}}function ps(he,ge){if(ge.subtreeFlags&10256)for(ge=ge.child;ge!==null;){var Se=he,Te=ge,Le=Te.flags;switch(Te.tag){case 22:ps(Se,Te),Le&2048&&Lu(Te.alternate,Te);break;case 24:ps(Se,Te),Le&2048&&Uu(Te.alternate,Te);break;default:ps(Se,Te)}ge=ge.sibling}}var La=8192;function Kl(he){if(he.subtreeFlags&La)for(he=he.child;he!==null;)eh(he),he=he.sibling}function eh(he){switch(he.tag){case 26:Kl(he),he.flags&La&&he.memoizedState!==null&&fm(hs,he.memoizedState,he.memoizedProps);break;case 5:Kl(he);break;case 3:case 4:var ge=hs;hs=sh(he.stateNode.containerInfo),Kl(he),hs=ge;break;case 22:he.memoizedState===null&&(ge=he.alternate,ge!==null&&ge.memoizedState!==null?(ge=La,La=16777216,Kl(he),La=ge):Kl(he));break;default:Kl(he)}}function th(he){var ge=he.alternate;if(ge!==null&&(he=ge.child,he!==null)){ge.child=null;do ge=he.sibling,he.sibling=null,he=ge;while(he!==null)}}function Qi(he){var ge=he.deletions;if((he.flags&16)!==0){if(ge!==null)for(var Se=0;Se<ge.length;Se++){var Te=ge[Se];ji=Te,Bs(Te,he)}th(he)}if(he.subtreeFlags&10256)for(he=he.child;he!==null;)Gf(he),he=he.sibling}function Gf(he){switch(he.tag){case 0:case 11:case 15:Qi(he),he.flags&2048&&Ba(9,he,he.return);break;case 3:Qi(he);break;case 12:Qi(he);break;case 22:var ge=he.stateNode;he.memoizedState!==null&&ge._visibility&2&&(he.return===null||he.return.tag!==13)?(ge._visibility&=-3,ws(he)):Qi(he);break;default:Qi(he)}}function ws(he){var ge=he.deletions;if((he.flags&16)!==0){if(ge!==null)for(var Se=0;Se<ge.length;Se++){var Te=ge[Se];ji=Te,Bs(Te,he)}th(he)}for(he=he.child;he!==null;){switch(ge=he,ge.tag){case 0:case 11:case 15:Ba(8,ge,ge.return),ws(ge);break;case 22:Se=ge.stateNode,Se._visibility&2&&(Se._visibility&=-3,ws(ge));break;default:ws(ge)}he=he.sibling}}function Bs(he,ge){for(;ji!==null;){var Se=ji;switch(Se.tag){case 0:case 11:case 15:Ba(8,Se,ge);break;case 23:case 22:if(Se.memoizedState!==null&&Se.memoizedState.cachePool!==null){var Te=Se.memoizedState.cachePool.pool;Te!=null&&Te.refCount++}break;case 24:Ol(Se.memoizedState.cache)}if(Te=Se.child,Te!==null)Te.return=Se,ji=Te;else e:for(Se=he;ji!==null;){Te=ji;var Le=Te.sibling,Ge=Te.return;if(mi(Te),Te===Se){ji=null;break e}if(Le!==null){Le.return=Ge,ji=Le;break e}ji=Ge}}}var dr={getCacheForType:function(he){var ge=ur(Cr),Se=ge.data.get(he);return Se===void 0&&(Se=he(),ge.data.set(he,Se)),Se}},zf=typeof WeakMap=="function"?WeakMap:Map,Fi=0,li=null,Si=null,Kn=0,pi=0,sr=null,Ua=!1,Jl=!1,Ql=!1,Qa=0,tr=0,ms=0,Ds=0,_l=0,Za=0,Bi=0,Ii=null,Qn=null,Ai=!1,Hi=0,Kr=1/0,ts=null,Pa=null,Lr=0,Jr=null,Wi=null,Na=0,ho=0,jc=null,Fa=null,Os=0,yl=null;function hr(){if((Fi&2)!==0&&Kn!==0)return Kn&-Kn;if(Ye.T!==null){var he=ui;return he!==0?he:Bh()}return xn()}function Nu(){Za===0&&(Za=(Kn&536870912)===0||Oi?xt():536870912);var he=$i.current;return he!==null&&(he.flags|=32),Za}function oa(he,ge,Se){(he===li&&(pi===2||pi===9)||he.cancelPendingCommit!==null)&&(Xo(he,0),gs(he,Kn,Za,!1)),an(he,Se),((Fi&2)===0||he!==li)&&(he===li&&((Fi&2)===0&&(Ds|=Se),tr===4&&gs(he,Kn,Za,!1)),Yo(he))}function Zl(he,ge,Se){if((Fi&6)!==0)throw Error(oe(327));var Te=!Se&&(ge&124)===0&&(ge&he.expiredLanes)===0||Tn(he,ge),Le=Te?Ue(he,ge):ye(he,ge,!0),Ge=Te;do{if(Le===0){Jl&&!Te&&gs(he,ge,0,!1);break}else{if(Se=he.current.alternate,Ge&&!jo(Se)){Le=ye(he,ge,!1),Ge=!1;continue}if(Le===2){if(Ge=ge,he.errorRecoveryDisabledLanes&Ge)var Je=0;else Je=he.pendingLanes&-536870913,Je=Je!==0?Je:Je&536870912?536870912:0;if(Je!==0){ge=Je;e:{var ot=he;Le=Ii;var At=ot.current.memoizedState.isDehydrated;if(At&&(Xo(ot,Je).flags|=256),Je=ye(ot,Je,!1),Je!==2){if(Ql&&!At){ot.errorRecoveryDisabledLanes|=Ge,Ds|=Ge,Le=4;break e}Ge=Qn,Qn=Le,Ge!==null&&(Qn===null?Qn=Ge:Qn.push.apply(Qn,Ge))}Le=Je}if(Ge=!1,Le!==2)continue}}if(Le===1){Xo(he,0),gs(he,ge,0,!0);break}e:{switch(Te=he,Ge=Le,Ge){case 0:case 1:throw Error(oe(345));case 4:if((ge&4194048)!==ge)break;case 6:gs(Te,ge,Za,!Ua);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(oe(329))}if((ge&62914560)===ge&&(Le=Hi+300-ht(),10<Le)){if(gs(Te,ge,Za,!Ua),Cn(Te,0,!0)!==0)break e;Te.timeoutHandle=hp(Xc.bind(null,Te,Se,Qn,ts,Ai,ge,Za,Ds,Bi,Ua,Ge,2,-0,0),Le);break e}Xc(Te,Se,Qn,ts,Ai,ge,Za,Ds,Bi,Ua,Ge,0,-0,0)}}break}while(!0);Yo(he)}function Xc(he,ge,Se,Te,Le,Ge,Je,ot,At,Xt,dn,yn,Kt,Zt){if(he.timeoutHandle=-1,yn=ge.subtreeFlags,(yn&8192||(yn&16785408)===16785408)&&(Wf={stylesheets:null,count:0,unsuspend:um},eh(ge),yn=dm(),yn!==null)){he.cancelPendingCommit=yn(An.bind(null,he,ge,Ge,Se,Te,Le,Je,ot,At,dn,1,Kt,Zt)),gs(he,Ge,Je,!Xt);return}An(he,ge,Ge,Se,Te,Le,Je,ot,At)}function jo(he){for(var ge=he;;){var Se=ge.tag;if((Se===0||Se===11||Se===15)&&ge.flags&16384&&(Se=ge.updateQueue,Se!==null&&(Se=Se.stores,Se!==null)))for(var Te=0;Te<Se.length;Te++){var Le=Se[Te],Ge=Le.getSnapshot;Le=Le.value;try{if(!ma(Ge(),Le))return!1}catch{return!1}}if(Se=ge.child,ge.subtreeFlags&16384&&Se!==null)Se.return=ge,ge=Se;else{if(ge===he)break;for(;ge.sibling===null;){if(ge.return===null||ge.return===he)return!0;ge=ge.return}ge.sibling.return=ge.return,ge=ge.sibling}}return!0}function gs(he,ge,Se,Te){ge&=~_l,ge&=~Ds,he.suspendedLanes|=ge,he.pingedLanes&=~ge,Te&&(he.warmLanes|=ge),Te=he.expirationTimes;for(var Le=ge;0<Le;){var Ge=31-Jt(Le),Je=1<<Ge;Te[Ge]=-1,Le&=~Je}Se!==0&&un(he,Se,ge)}function Ls(){return(Fi&6)===0?(Hf(0),!1):!0}function xl(){if(Si!==null){if(pi===0)var he=Si.return;else he=Si,eo=wo=null,bf(he),rl=null,Ic=0,he=Si;for(;he!==null;)Wl(he.alternate,he),he=he.return;Si=null}}function Xo(he,ge){var Se=he.timeoutHandle;Se!==-1&&(he.timeoutHandle=-1,Wp(Se)),Se=he.cancelPendingCommit,Se!==null&&(he.cancelPendingCommit=null,Se()),xl(),li=he,Si=Se=xr(he.current,null),Kn=ge,pi=0,sr=null,Ua=!1,Jl=Tn(he,ge),Ql=!1,Bi=Za=_l=Ds=ms=tr=0,Qn=Ii=null,Ai=!1,(ge&8)!==0&&(ge|=ge&32);var Te=he.entangledLanes;if(Te!==0)for(he=he.entanglements,Te&=ge;0<Te;){var Le=31-Jt(Te),Ge=1<<Le;ge|=he[Le],Te&=~Ge}return Qa=ge,Sc(),Se}function Fu(he,ge){fi=null,Ye.H=Fc,ge===Dc||ge===os?(ge=vf(),pi=3):ge===gf?(ge=vf(),pi=4):pi=ge===Zd?8:ge!==null&&typeof ge=="object"&&typeof ge.then=="function"?6:1,sr=ge,Si===null&&(tr=1,Ru(he,Vr(ge,he.current)))}function ec(){var he=Ye.H;return Ye.H=Fc,he===null?Fc:he}function Iu(){var he=Ye.A;return Ye.A=dr,he}function ve(){tr=4,Ua||(Kn&4194048)!==Kn&&$i.current!==null||(Jl=!0),(ms&134217727)===0&&(Ds&134217727)===0||li===null||gs(li,Kn,Za,!1)}function ye(he,ge,Se){var Te=Fi;Fi|=2;var Le=ec(),Ge=Iu();(li!==he||Kn!==ge)&&(ts=null,Xo(he,ge)),ge=!1;var Je=tr;e:do try{if(pi!==0&&Si!==null){var ot=Si,At=sr;switch(pi){case 8:xl(),Je=6;break e;case 3:case 2:case 9:case 6:$i.current===null&&(ge=!0);var Xt=pi;if(pi=0,sr=null,Tt(he,ot,At,Xt),Se&&Jl){Je=0;break e}break;default:Xt=pi,pi=0,sr=null,Tt(he,ot,At,Xt)}}we(),Je=tr;break}catch(dn){Fu(he,dn)}while(!0);return ge&&he.shellSuspendCounter++,eo=wo=null,Fi=Te,Ye.H=Le,Ye.A=Ge,Si===null&&(li=null,Kn=0,Sc()),Je}function we(){for(;Si!==null;)qe(Si)}function Ue(he,ge){var Se=Fi;Fi|=2;var Te=ec(),Le=Iu();li!==he||Kn!==ge?(ts=null,Kr=ht()+500,Xo(he,ge)):Jl=Tn(he,ge);e:do try{if(pi!==0&&Si!==null){ge=Si;var Ge=sr;t:switch(pi){case 1:pi=0,sr=null,Tt(he,ge,Ge,1);break;case 2:case 9:if(hu(Ge)){pi=0,sr=null,ut(ge);break}ge=function(){pi!==2&&pi!==9||li!==he||(pi=7),Yo(he)},Ge.then(ge,ge);break e;case 3:pi=7;break e;case 4:pi=5;break e;case 7:hu(Ge)?(pi=0,sr=null,ut(ge)):(pi=0,sr=null,Tt(he,ge,Ge,7));break;case 5:var Je=null;switch(Si.tag){case 26:Je=Si.memoizedState;case 5:case 27:var ot=Si;if(!Je||Tp(Je)){pi=0,sr=null;var At=ot.sibling;if(At!==null)Si=At;else{var Xt=ot.return;Xt!==null?(Si=Xt,Ht(Xt)):Si=null}break t}}pi=0,sr=null,Tt(he,ge,Ge,5);break;case 6:pi=0,sr=null,Tt(he,ge,Ge,6);break;case 8:xl(),tr=6;break e;default:throw Error(oe(462))}}ze();break}catch(dn){Fu(he,dn)}while(!0);return eo=wo=null,Ye.H=Te,Ye.A=Le,Fi=Se,Si!==null?0:(li=null,Kn=0,Sc(),tr)}function ze(){for(;Si!==null&&!Sn();)qe(Si)}function qe(he){var ge=fl(he.alternate,he,Qa);he.memoizedProps=he.pendingProps,ge===null?Ht(he):Si=ge}function ut(he){var ge=he,Se=ge.alternate;switch(ge.tag){case 15:case 0:ge=Ra(Se,ge,ge.pendingProps,ge.type,void 0,Kn);break;case 11:ge=Ra(Se,ge,ge.pendingProps,ge.type.render,ge.ref,Kn);break;case 5:bf(ge);default:Wl(Se,ge),ge=Si=cf(ge,Qa),ge=fl(Se,ge,Qa)}he.memoizedProps=he.pendingProps,ge===null?Ht(he):Si=ge}function Tt(he,ge,Se,Te){eo=wo=null,bf(ge),rl=null,Ic=0;var Le=ge.return;try{if(Rh(he,Le,ge,Se,Kn)){tr=1,Ru(he,Vr(Se,he.current)),Si=null;return}}catch(Ge){if(Le!==null)throw Si=Le,Ge;tr=1,Ru(he,Vr(Se,he.current)),Si=null;return}ge.flags&32768?(Oi||Te===1?he=!0:Jl||(Kn&536870912)!==0?he=!1:(Ua=he=!0,(Te===2||Te===9||Te===3||Te===6)&&(Te=$i.current,Te!==null&&Te.tag===13&&(Te.flags|=16384))),fn(ge,he)):Ht(ge)}function Ht(he){var ge=he;do{if((ge.flags&32768)!==0){fn(ge,Ua);return}he=ge.return;var Se=If(ge.alternate,ge,Qa);if(Se!==null){Si=Se;return}if(ge=ge.sibling,ge!==null){Si=ge;return}Si=ge=he}while(ge!==null);tr===0&&(tr=5)}function fn(he,ge){do{var Se=Xl(he.alternate,he);if(Se!==null){Se.flags&=32767,Si=Se;return}if(Se=he.return,Se!==null&&(Se.flags|=32768,Se.subtreeFlags=0,Se.deletions=null),!ge&&(he=he.sibling,he!==null)){Si=he;return}Si=he=Se}while(he!==null);tr=6,Si=null}function An(he,ge,Se,Te,Le,Ge,Je,ot,At){he.cancelPendingCommit=null;do Wo();while(Lr!==0);if((Fi&6)!==0)throw Error(oe(327));if(ge!==null){if(ge===he.current)throw Error(oe(177));if(Ge=ge.lanes|ge.childLanes,Ge|=ru,mn(he,Se,Ge,Je,ot,At),he===li&&(Si=li=null,Kn=0),Wi=ge,Jr=he,Na=Se,ho=Ge,jc=Le,Fa=Te,(ge.subtreeFlags&10256)!==0||(ge.flags&10256)!==0?(he.callbackNode=null,he.callbackPriority=0,Li(Qe,function(){return qo(),null})):(he.callbackNode=null,he.callbackPriority=0),Te=(ge.flags&13878)!==0,(ge.subtreeFlags&13878)!==0||Te){Te=Ye.T,Ye.T=null,Le=rt.p,rt.p=2,Je=Fi,Fi|=4;try{Or(he,ge,Se)}finally{Fi=Je,rt.p=Le,Ye.T=Te}}Lr=1,Ln(),Nn(),ci()}}function Ln(){if(Lr===1){Lr=0;var he=Jr,ge=Wi,Se=(ge.flags&13878)!==0;if((ge.subtreeFlags&13878)!==0||Se){Se=Ye.T,Ye.T=null;var Te=rt.p;rt.p=2;var Le=Fi;Fi|=4;try{Ou(ge,he);var Ge=Ih,Je=tf(he.containerInfo),ot=Ge.focusedElem,At=Ge.selectionRange;if(Je!==ot&&ot&&ot.ownerDocument&&ef(ot.ownerDocument.documentElement,ot)){if(At!==null&&_c(ot)){var Xt=At.start,dn=At.end;if(dn===void 0&&(dn=Xt),"selectionStart"in ot)ot.selectionStart=Xt,ot.selectionEnd=Math.min(dn,ot.value.length);else{var yn=ot.ownerDocument||document,Kt=yn&&yn.defaultView||window;if(Kt.getSelection){var Zt=Kt.getSelection(),ai=ot.textContent.length,Zn=Math.min(At.start,ai),er=At.end===void 0?Zn:Math.min(At.end,ai);!Zt.extend&&Zn>er&&(Je=er,er=Zn,Zn=Je);var It=Zu(ot,Zn),Pt=Zu(ot,er);if(It&&Pt&&(Zt.rangeCount!==1||Zt.anchorNode!==It.node||Zt.anchorOffset!==It.offset||Zt.focusNode!==Pt.node||Zt.focusOffset!==Pt.offset)){var Vt=yn.createRange();Vt.setStart(It.node,It.offset),Zt.removeAllRanges(),Zn>er?(Zt.addRange(Vt),Zt.extend(Pt.node,Pt.offset)):(Vt.setEnd(Pt.node,Pt.offset),Zt.addRange(Vt))}}}}for(yn=[],Zt=ot;Zt=Zt.parentNode;)Zt.nodeType===1&&yn.push({element:Zt,left:Zt.scrollLeft,top:Zt.scrollTop});for(typeof ot.focus=="function"&&ot.focus(),ot=0;ot<yn.length;ot++){var gn=yn[ot];gn.element.scrollLeft=gn.left,gn.element.scrollTop=gn.top}}fh=!!Fh,Ih=Fh=null}finally{Fi=Le,rt.p=Te,Ye.T=Se}}he.current=ge,Lr=2}}function Nn(){if(Lr===2){Lr=0;var he=Jr,ge=Wi,Se=(ge.flags&8772)!==0;if((ge.subtreeFlags&8772)!==0||Se){Se=Ye.T,Ye.T=null;var Te=rt.p;rt.p=2;var Le=Fi;Fi|=4;try{uo(he,ge.alternate,ge)}finally{Fi=Le,rt.p=Te,Ye.T=Se}}Lr=3}}function ci(){if(Lr===4||Lr===3){Lr=0,Nt();var he=Jr,ge=Wi,Se=Na,Te=Fa;(ge.subtreeFlags&10256)!==0||(ge.flags&10256)!==0?Lr=5:(Lr=0,Wi=Jr=null,Ia(he,he.pendingLanes));var Le=he.pendingLanes;if(Le===0&&(Pa=null),Pn(Se),ge=ge.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Ft,ge,void 0,(ge.current.flags&128)===128)}catch{}if(Te!==null){ge=Ye.T,Le=rt.p,rt.p=2,Ye.T=null;try{for(var Ge=he.onRecoverableError,Je=0;Je<Te.length;Je++){var ot=Te[Je];Ge(ot.value,{componentStack:ot.stack})}}finally{Ye.T=ge,rt.p=Le}}(Na&3)!==0&&Wo(),Yo(he),Le=he.pendingLanes,(Se&4194090)!==0&&(Le&42)!==0?he===yl?Os++:(Os=0,yl=he):Os=0,Hf(0)}}function Ia(he,ge){(he.pooledCacheLanes&=ge)===0&&(ge=he.pooledCache,ge!=null&&(he.pooledCache=null,Ol(ge)))}function Wo(he){return Ln(),Nn(),ci(),qo()}function qo(){if(Lr!==5)return!1;var he=Jr,ge=ho;ho=0;var Se=Pn(Na),Te=Ye.T,Le=rt.p;try{rt.p=32>Se?32:Se,Ye.T=null,Se=jc,jc=null;var Ge=Jr,Je=Na;if(Lr=0,Wi=Jr=null,Na=0,(Fi&6)!==0)throw Error(oe(331));var ot=Fi;if(Fi|=4,Gf(Ge.current),Pu(Ge,Ge.current,Je,Se),Fi=ot,Hf(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Ft,Ge)}catch{}return!0}finally{rt.p=Le,Ye.T=Te,Ia(he,ge)}}function Yt(he,ge,Se){ge=Vr(Se,ge),ge=wu(he.stateNode,ge,2),he=io(he,ge,2),he!==null&&(an(he,2),Yo(he))}function Ut(he,ge,Se){if(he.tag===3)Yt(he,he,Se);else for(;ge!==null;){if(ge.tag===3){Yt(ge,he,Se);break}else if(ge.tag===1){var Te=ge.stateNode;if(typeof ge.type.getDerivedStateFromError=="function"||typeof Te.componentDidCatch=="function"&&(Pa===null||!Pa.has(Te))){he=Vr(Se,he),Se=Qd(2),Te=io(ge,Se,2),Te!==null&&(Bu(Se,Te,ge,he),an(Te,2),Yo(Te));break}}ge=ge.return}}function en(he,ge,Se){var Te=he.pingCache;if(Te===null){Te=he.pingCache=new zf;var Le=new Set;Te.set(ge,Le)}else Le=Te.get(ge),Le===void 0&&(Le=new Set,Te.set(ge,Le));Le.has(Se)||(Ql=!0,Le.add(Se),he=bn.bind(null,he,ge,Se),ge.then(he,he))}function bn(he,ge,Se){var Te=he.pingCache;Te!==null&&Te.delete(ge),he.pingedLanes|=he.suspendedLanes&Se,he.warmLanes&=~Se,li===he&&(Kn&Se)===Se&&(tr===4||tr===3&&(Kn&62914560)===Kn&&300>ht()-Hi?(Fi&2)===0&&Xo(he,0):_l|=Se,Bi===Kn&&(Bi=0)),Yo(he)}function Wn(he,ge){ge===0&&(ge=sn()),he=Qs(he,ge),he!==null&&(an(he,ge),Yo(he))}function nr(he){var ge=he.memoizedState,Se=0;ge!==null&&(Se=ge.retryLane),Wn(he,Se)}function ri(he,ge){var Se=0;switch(he.tag){case 13:var Te=he.stateNode,Le=he.memoizedState;Le!==null&&(Se=Le.retryLane);break;case 19:Te=he.stateNode;break;case 22:Te=he.stateNode._retryCache;break;default:throw Error(oe(314))}Te!==null&&Te.delete(ge),Wn(he,Se)}function Li(he,ge){return on(he,ge)}var Ar=null,bi=null,Us=!1,Gu=!1,wh=!1,Wc=0;function Yo(he){he!==bi&&he.next===null&&(bi===null?Ar=bi=he:bi=bi.next=he),Gu=!0,Us||(Us=!0,Ip())}function Hf(he,ge){if(!wh&&Gu){wh=!0;do for(var Se=!1,Te=Ar;Te!==null;){if(he!==0){var Le=Te.pendingLanes;if(Le===0)var Ge=0;else{var Je=Te.suspendedLanes,ot=Te.pingedLanes;Ge=(1<<31-Jt(42|he)+1)-1,Ge&=Le&~(Je&~ot),Ge=Ge&201326741?Ge&201326741|1:Ge?Ge|2:0}Ge!==0&&(Se=!0,ip(Te,Ge))}else Ge=Kn,Ge=Cn(Te,Te===li?Ge:0,Te.cancelPendingCommit!==null||Te.timeoutHandle!==-1),(Ge&3)===0||Tn(Te,Ge)||(Se=!0,ip(Te,Ge));Te=Te.next}while(Se);wh=!1}}function Fp(){ep()}function ep(){Gu=Us=!1;var he=0;Wc!==0&&(Xp()&&(he=Wc),Wc=0);for(var ge=ht(),Se=null,Te=Ar;Te!==null;){var Le=Te.next,Ge=tp(Te,ge);Ge===0?(Te.next=null,Se===null?Ar=Le:Se.next=Le,Le===null&&(bi=Se)):(Se=Te,(he!==0||(Ge&3)!==0)&&(Gu=!0)),Te=Le}Hf(he)}function tp(he,ge){for(var Se=he.suspendedLanes,Te=he.pingedLanes,Le=he.expirationTimes,Ge=he.pendingLanes&-62914561;0<Ge;){var Je=31-Jt(Ge),ot=1<<Je,At=Le[Je];At===-1?((ot&Se)===0||(ot&Te)!==0)&&(Le[Je]=Xn(ot,ge)):At<=ge&&(he.expiredLanes|=ot),Ge&=~ot}if(ge=li,Se=Kn,Se=Cn(he,he===ge?Se:0,he.cancelPendingCommit!==null||he.timeoutHandle!==-1),Te=he.callbackNode,Se===0||he===ge&&(pi===2||pi===9)||he.cancelPendingCommit!==null)return Te!==null&&Te!==null&&pt(Te),he.callbackNode=null,he.callbackPriority=0;if((Se&3)===0||Tn(he,Se)){if(ge=Se&-Se,ge===he.callbackPriority)return ge;switch(Te!==null&&pt(Te),Pn(Se)){case 2:case 8:Se=Bt;break;case 32:Se=Qe;break;case 268435456:Se=ct;break;default:Se=Qe}return Te=np.bind(null,he),Se=on(Se,Te),he.callbackPriority=ge,he.callbackNode=Se,ge}return Te!==null&&Te!==null&&pt(Te),he.callbackPriority=2,he.callbackNode=null,2}function np(he,ge){if(Lr!==0&&Lr!==5)return he.callbackNode=null,he.callbackPriority=0,null;var Se=he.callbackNode;if(Wo()&&he.callbackNode!==Se)return null;var Te=Kn;return Te=Cn(he,he===li?Te:0,he.cancelPendingCommit!==null||he.timeoutHandle!==-1),Te===0?null:(Zl(he,Te,ge),tp(he,ht()),he.callbackNode!=null&&he.callbackNode===Se?np.bind(null,he):null)}function ip(he,ge){if(Wo())return null;Zl(he,ge,!0)}function Ip(){qp(function(){(Fi&6)!==0?on(kt,Fp):ep()})}function Bh(){return Wc===0&&(Wc=xt()),Wc}function rp(he){return he==null||typeof he=="symbol"||typeof he=="boolean"?null:typeof he=="function"?he:vs(""+he)}function ap(he,ge){var Se=ge.ownerDocument.createElement("input");return Se.name=ge.name,Se.value=ge.value,he.id&&Se.setAttribute("form",he.id),ge.parentNode.insertBefore(Se,ge),he=new FormData(he),Se.parentNode.removeChild(Se),he}function Gp(he,ge,Se,Te,Le){if(ge==="submit"&&Se&&Se.stateNode===Le){var Ge=rp((Le[On]||null).action),Je=Te.submitter;Je&&(ge=(ge=Je[On]||null)?rp(ge.formAction):Je.getAttribute("formAction"),ge!==null&&(Ge=ge,Je=null));var ot=new ea("action","action",null,Te,Le);he.push({event:ot,listeners:[{instance:null,listener:function(){if(Te.defaultPrevented){if(Wc!==0){var At=Je?ap(Le,Je):new FormData(Le);Uf(Se,{pending:!0,data:At,method:Le.method,action:Ge},null,At)}}else typeof Ge=="function"&&(ot.preventDefault(),At=Je?ap(Le,Je):new FormData(Le),Uf(Se,{pending:!0,data:At,method:Le.method,action:Ge},Ge,At))},currentTarget:Le}]})}}for(var Dh=0;Dh<xc.length;Dh++){var Oh=xc[Dh],zp=Oh.toLowerCase(),Hp=Oh[0].toUpperCase()+Oh.slice(1);Ur(zp,"on"+Hp)}Ur(ta,"onAnimationEnd"),Ur(af,"onAnimationIteration"),Ur(va,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(ud,"onTransitionRun"),Ur(Ks,"onTransitionStart"),Ur(Cl,"onTransitionCancel"),Ur(Js,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vf));function sp(he,ge){ge=(ge&4)!==0;for(var Se=0;Se<he.length;Se++){var Te=he[Se],Le=Te.event;Te=Te.listeners;e:{var Ge=void 0;if(ge)for(var Je=Te.length-1;0<=Je;Je--){var ot=Te[Je],At=ot.instance,Xt=ot.currentTarget;if(ot=ot.listener,At!==Ge&&Le.isPropagationStopped())break e;Ge=ot,Le.currentTarget=Xt;try{Ge(Le)}catch(dn){sl(dn)}Le.currentTarget=null,Ge=At}else for(Je=0;Je<Te.length;Je++){if(ot=Te[Je],At=ot.instance,Xt=ot.currentTarget,ot=ot.listener,At!==Ge&&Le.isPropagationStopped())break e;Ge=ot,Le.currentTarget=Xt;try{Ge(Le)}catch(dn){sl(dn)}Le.currentTarget=null,Ge=At}}}}function Mi(he,ge){var Se=ge[In];Se===void 0&&(Se=ge[In]=new Set);var Te=he+"__bubble";Se.has(Te)||(op(ge,he,2,!1),Se.add(Te))}function Lh(he,ge,Se){var Te=0;ge&&(Te|=4),op(Se,he,Te,ge)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Uh(he){if(!he[nh]){he[nh]=!0,pr.forEach(function(Se){Se!=="selectionchange"&&(Vp.has(Se)||Lh(Se,!1,he),Lh(Se,!0,he))});var ge=he.nodeType===9?he:he.ownerDocument;ge===null||ge[nh]||(ge[nh]=!0,Lh("selectionchange",!1,ge))}}function op(he,ge,Se,Te){switch(Dp(ge)){case 2:var Le=mm;break;case 8:Le=gm;break;default:Le=qh}Se=Le.bind(null,ge,Se,he),Le=void 0,!zs||ge!=="touchstart"&&ge!=="touchmove"&&ge!=="wheel"||(Le=!0),Te?Le!==void 0?he.addEventListener(ge,Se,{capture:!0,passive:Le}):he.addEventListener(ge,Se,!0):Le!==void 0?he.addEventListener(ge,Se,{passive:Le}):he.addEventListener(ge,Se,!1)}function Ph(he,ge,Se,Te,Le){var Ge=Te;if((ge&1)===0&&(ge&2)===0&&Te!==null)e:for(;;){if(Te===null)return;var Je=Te.tag;if(Je===3||Je===4){var ot=Te.stateNode.containerInfo;if(ot===Le)break;if(Je===4)for(Je=Te.return;Je!==null;){var At=Je.tag;if((At===3||At===4)&&Je.stateNode.containerInfo===Le)return;Je=Je.return}for(;ot!==null;){if(Je=gi(ot),Je===null)return;if(At=Je.tag,At===5||At===6||At===26||At===27){Te=Ge=Je;continue e}ot=ot.parentNode}}Te=Te.return}Ko(function(){var Xt=Ge,dn=rs(Se),yn=[];e:{var Kt=iu.get(he);if(Kt!==void 0){var Zt=ea,ai=he;switch(he){case"keypress":if(Ga(Se)===0)break e;case"keydown":case"keyup":Zt=Xu;break;case"focusin":ai="focus",Zt=js;break;case"focusout":ai="blur",Zt=js;break;case"beforeblur":case"afterblur":Zt=js;break;case"click":if(Se.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zt=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zt=$u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zt=qu;break;case ta:case af:case va:Zt=qc;break;case Js:Zt=Xs;break;case"scroll":case"scrollend":Zt=El;break;case"wheel":Zt=_h;break;case"copy":case"cut":case"paste":Zt=ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zt=Yc;break;case"toggle":case"beforetoggle":Zt=yo}var Zn=(ge&4)!==0,er=!Zn&&(he==="scroll"||he==="scrollend"),It=Zn?Kt!==null?Kt+"Capture":null:Kt;Zn=[];for(var Pt=Xt,Vt;Pt!==null;){var gn=Pt;if(Vt=gn.stateNode,gn=gn.tag,gn!==5&&gn!==26&&gn!==27||Vt===null||It===null||(gn=Gs(Pt,It),gn!=null&&Zn.push(kf(Pt,gn,Vt))),er)break;Pt=Pt.return}0<Zn.length&&(Kt=new Zt(Kt,ai,null,Se,dn),yn.push({event:Kt,listeners:Zn}))}}if((ge&7)===0){e:{if(Kt=he==="mouseover"||he==="pointerover",Zt=he==="mouseout"||he==="pointerout",Kt&&Se!==ns&&(ai=Se.relatedTarget||Se.fromElement)&&(gi(ai)||ai[Bn]))break e;if((Zt||Kt)&&(Kt=dn.window===dn?dn:(Kt=dn.ownerDocument)?Kt.defaultView||Kt.parentWindow:window,Zt?(ai=Se.relatedTarget||Se.toElement,Zt=Xt,ai=ai?gi(ai):null,ai!==null&&(er=ue(ai),Zn=ai.tag,ai!==er||Zn!==5&&Zn!==27&&Zn!==6)&&(ai=null)):(Zt=null,ai=Xt),Zt!==ai)){if(Zn=Zo,gn="onMouseLeave",It="onMouseEnter",Pt="mouse",(he==="pointerout"||he==="pointerover")&&(Zn=Yc,gn="onPointerLeave",It="onPointerEnter",Pt="pointer"),er=Zt==null?Kt:or(Zt),Vt=ai==null?Kt:or(ai),Kt=new Zn(gn,Pt+"leave",Zt,Se,dn),Kt.target=er,Kt.relatedTarget=Vt,gn=null,gi(dn)===Xt&&(Zn=new Zn(It,Pt+"enter",ai,Se,dn),Zn.target=Vt,Zn.relatedTarget=er,gn=Zn),er=gn,Zt&&ai)t:{for(Zn=Zt,It=ai,Pt=0,Vt=Zn;Vt;Vt=zu(Vt))Pt++;for(Vt=0,gn=It;gn;gn=zu(gn))Vt++;for(;0<Pt-Vt;)Zn=zu(Zn),Pt--;for(;0<Vt-Pt;)It=zu(It),Vt--;for(;Pt--;){if(Zn===It||It!==null&&Zn===It.alternate)break t;Zn=zu(Zn),It=zu(It)}Zn=null}else Zn=null;Zt!==null&&lp(yn,Kt,Zt,Zn,!1),ai!==null&&er!==null&&lp(yn,er,ai,Zn,!0)}}e:{if(Kt=Xt?or(Xt):window,Zt=Kt.nodeName&&Kt.nodeName.toLowerCase(),Zt==="select"||Zt==="input"&&Kt.type==="file")var kn=Jc;else if(Qu(Kt))if(Qc)kn=bo;else{kn=od;var Ti=yh}else Zt=Kt.nodeName,!Zt||Zt.toLowerCase()!=="input"||Kt.type!=="checkbox"&&Kt.type!=="radio"?Xt&&vo(Xt.elementType)&&(kn=Jc):kn=vc;if(kn&&(kn=kn(he,Xt))){pa(yn,kn,Se,dn);break e}Ti&&Ti(he,Kt,Xt),he==="focusout"&&Xt&&Kt.type==="number"&&Xt.memoizedProps.value!=null&&lr(Kt,"number",Kt.value)}switch(Ti=Xt?or(Xt):window,he){case"focusin":(Qu(Ti)||Ti.contentEditable==="true")&&(qs=Ti,eu=Xt,yc=null);break;case"focusout":yc=eu=qs=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,rf(yn,Se,dn);break;case"selectionchange":if(nf)break;case"keydown":case"keyup":rf(yn,Se,dn)}var Yn;if(fc)e:{switch(he){case"compositionstart":var ei="onCompositionStart";break e;case"compositionend":ei="onCompositionEnd";break e;case"compositionupdate":ei="onCompositionUpdate";break e}ei=void 0}else So?pc(he,Se)&&(ei="onCompositionEnd"):he==="keydown"&&Se.keyCode===229&&(ei="onCompositionStart");ei&&(hc&&Se.locale!=="ko"&&(So||ei!=="onCompositionStart"?ei==="onCompositionEnd"&&So&&(Yn=bl()):(_r=dn,Jo="value"in _r?_r.value:_r.textContent,So=!0)),Ti=ih(Xt,ei),0<Ti.length&&(ei=new Ea(ei,he,null,Se,dn),yn.push({event:ei,listeners:Ti}),Yn?ei.data=Yn:(Yn=Ku(Se),Yn!==null&&(ei.data=Yn)))),(Yn=dc?mc(he,Se):Ju(he,Se))&&(ei=ih(Xt,"onBeforeInput"),0<ei.length&&(Ti=new Ea("onBeforeInput","beforeinput",null,Se,dn),yn.push({event:Ti,listeners:ei}),Ti.data=Yn)),Gp(yn,he,Xt,Se,dn)}sp(yn,ge)})}function kf(he,ge,Se){return{instance:he,listener:ge,currentTarget:Se}}function ih(he,ge){for(var Se=ge+"Capture",Te=[];he!==null;){var Le=he,Ge=Le.stateNode;if(Le=Le.tag,Le!==5&&Le!==26&&Le!==27||Ge===null||(Le=Gs(he,Se),Le!=null&&Te.unshift(kf(he,Le,Ge)),Le=Gs(he,ge),Le!=null&&Te.push(kf(he,Le,Ge))),he.tag===3)return Te;he=he.return}return[]}function zu(he){if(he===null)return null;do he=he.return;while(he&&he.tag!==5&&he.tag!==27);return he||null}function lp(he,ge,Se,Te,Le){for(var Ge=ge._reactName,Je=[];Se!==null&&Se!==Te;){var ot=Se,At=ot.alternate,Xt=ot.stateNode;if(ot=ot.tag,At!==null&&At===Te)break;ot!==5&&ot!==26&&ot!==27||Xt===null||(At=Xt,Le?(Xt=Gs(Se,Ge),Xt!=null&&Je.unshift(kf(Se,Xt,At))):Le||(Xt=Gs(Se,Ge),Xt!=null&&Je.push(kf(Se,Xt,At)))),Se=Se.return}Je.length!==0&&he.push({event:ge,listeners:Je})}var kp=/\r\n?/g,$p=/\u0000|\uFFFD/g;function cp(he){return(typeof he=="string"?he:""+he).replace(kp,`
`).replace($p,"")}function up(he,ge){return ge=cp(ge),cp(he)===ge}function rh(){}function Zi(he,ge,Se,Te,Le,Ge){switch(Se){case"children":typeof Te=="string"?ge==="body"||ge==="textarea"&&Te===""||Tr(he,Te):(typeof Te=="number"||typeof Te=="bigint")&&ge!=="body"&&Tr(he,""+Te);break;case"className":En(he,"class",Te);break;case"tabIndex":En(he,"tabindex",Te);break;case"dir":case"role":case"viewBox":case"width":case"height":En(he,Se,Te);break;case"style":go(he,Te,Ge);break;case"data":if(ge!=="object"){En(he,"data",Te);break}case"src":case"href":if(Te===""&&(ge!=="a"||Se!=="href")){he.removeAttribute(Se);break}if(Te==null||typeof Te=="function"||typeof Te=="symbol"||typeof Te=="boolean"){he.removeAttribute(Se);break}Te=vs(""+Te),he.setAttribute(Se,Te);break;case"action":case"formAction":if(typeof Te=="function"){he.setAttribute(Se,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Ge=="function"&&(Se==="formAction"?(ge!=="input"&&Zi(he,ge,"name",Le.name,Le,null),Zi(he,ge,"formEncType",Le.formEncType,Le,null),Zi(he,ge,"formMethod",Le.formMethod,Le,null),Zi(he,ge,"formTarget",Le.formTarget,Le,null)):(Zi(he,ge,"encType",Le.encType,Le,null),Zi(he,ge,"method",Le.method,Le,null),Zi(he,ge,"target",Le.target,Le,null)));if(Te==null||typeof Te=="symbol"||typeof Te=="boolean"){he.removeAttribute(Se);break}Te=vs(""+Te),he.setAttribute(Se,Te);break;case"onClick":Te!=null&&(he.onclick=rh);break;case"onScroll":Te!=null&&Mi("scroll",he);break;case"onScrollEnd":Te!=null&&Mi("scrollend",he);break;case"dangerouslySetInnerHTML":if(Te!=null){if(typeof Te!="object"||!("__html"in Te))throw Error(oe(61));if(Se=Te.__html,Se!=null){if(Le.children!=null)throw Error(oe(60));he.innerHTML=Se}}break;case"multiple":he.multiple=Te&&typeof Te!="function"&&typeof Te!="symbol";break;case"muted":he.muted=Te&&typeof Te!="function"&&typeof Te!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Te==null||typeof Te=="function"||typeof Te=="boolean"||typeof Te=="symbol"){he.removeAttribute("xlink:href");break}Se=vs(""+Te),he.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Se);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Te!=null&&typeof Te!="function"&&typeof Te!="symbol"?he.setAttribute(Se,""+Te):he.removeAttribute(Se);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Te&&typeof Te!="function"&&typeof Te!="symbol"?he.setAttribute(Se,""):he.removeAttribute(Se);break;case"capture":case"download":Te===!0?he.setAttribute(Se,""):Te!==!1&&Te!=null&&typeof Te!="function"&&typeof Te!="symbol"?he.setAttribute(Se,Te):he.removeAttribute(Se);break;case"cols":case"rows":case"size":case"span":Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&!isNaN(Te)&&1<=Te?he.setAttribute(Se,Te):he.removeAttribute(Se);break;case"rowSpan":case"start":Te==null||typeof Te=="function"||typeof Te=="symbol"||isNaN(Te)?he.removeAttribute(Se):he.setAttribute(Se,Te);break;case"popover":Mi("beforetoggle",he),Mi("toggle",he),pn(he,"popover",Te);break;case"xlinkActuate":Rn(he,"http://www.w3.org/1999/xlink","xlink:actuate",Te);break;case"xlinkArcrole":Rn(he,"http://www.w3.org/1999/xlink","xlink:arcrole",Te);break;case"xlinkRole":Rn(he,"http://www.w3.org/1999/xlink","xlink:role",Te);break;case"xlinkShow":Rn(he,"http://www.w3.org/1999/xlink","xlink:show",Te);break;case"xlinkTitle":Rn(he,"http://www.w3.org/1999/xlink","xlink:title",Te);break;case"xlinkType":Rn(he,"http://www.w3.org/1999/xlink","xlink:type",Te);break;case"xmlBase":Rn(he,"http://www.w3.org/XML/1998/namespace","xml:base",Te);break;case"xmlLang":Rn(he,"http://www.w3.org/XML/1998/namespace","xml:lang",Te);break;case"xmlSpace":Rn(he,"http://www.w3.org/XML/1998/namespace","xml:space",Te);break;case"is":pn(he,"is",Te);break;case"innerText":case"textContent":break;default:(!(2<Se.length)||Se[0]!=="o"&&Se[0]!=="O"||Se[1]!=="n"&&Se[1]!=="N")&&(Se=Ns.get(Se)||Se,pn(he,Se,Te))}}function Nh(he,ge,Se,Te,Le,Ge){switch(Se){case"style":go(he,Te,Ge);break;case"dangerouslySetInnerHTML":if(Te!=null){if(typeof Te!="object"||!("__html"in Te))throw Error(oe(61));if(Se=Te.__html,Se!=null){if(Le.children!=null)throw Error(oe(60));he.innerHTML=Se}}break;case"children":typeof Te=="string"?Tr(he,Te):(typeof Te=="number"||typeof Te=="bigint")&&Tr(he,""+Te);break;case"onScroll":Te!=null&&Mi("scroll",he);break;case"onScrollEnd":Te!=null&&Mi("scrollend",he);break;case"onClick":Te!=null&&(he.onclick=rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qi.hasOwnProperty(Se))e:{if(Se[0]==="o"&&Se[1]==="n"&&(Le=Se.endsWith("Capture"),ge=Se.slice(2,Le?Se.length-7:void 0),Ge=he[On]||null,Ge=Ge!=null?Ge[Se]:null,typeof Ge=="function"&&he.removeEventListener(ge,Ge,Le),typeof Te=="function")){typeof Ge!="function"&&Ge!==null&&(Se in he?he[Se]=null:he.hasAttribute(Se)&&he.removeAttribute(Se)),he.addEventListener(ge,Te,Le);break e}Se in he?he[Se]=Te:Te===!0?he.setAttribute(Se,""):pn(he,Se,Te)}}}function la(he,ge,Se){switch(ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mi("error",he),Mi("load",he);var Te=!1,Le=!1,Ge;for(Ge in Se)if(Se.hasOwnProperty(Ge)){var Je=Se[Ge];if(Je!=null)switch(Ge){case"src":Te=!0;break;case"srcSet":Le=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(oe(137,ge));default:Zi(he,ge,Ge,Je,Se,null)}}Le&&Zi(he,ge,"srcSet",Se.srcSet,Se,null),Te&&Zi(he,ge,"src",Se.src,Se,null);return;case"input":Mi("invalid",he);var ot=Ge=Je=Le=null,At=null,Xt=null;for(Te in Se)if(Se.hasOwnProperty(Te)){var dn=Se[Te];if(dn!=null)switch(Te){case"name":Le=dn;break;case"type":Je=dn;break;case"checked":At=dn;break;case"defaultChecked":Xt=dn;break;case"value":Ge=dn;break;case"defaultValue":ot=dn;break;case"children":case"dangerouslySetInnerHTML":if(dn!=null)throw Error(oe(137,ge));break;default:Zi(he,ge,Te,dn,Se,null)}}Pi(he,Ge,ot,At,Xt,Je,Le,!1),ki(he);return;case"select":Mi("invalid",he),Te=Je=Ge=null;for(Le in Se)if(Se.hasOwnProperty(Le)&&(ot=Se[Le],ot!=null))switch(Le){case"value":Ge=ot;break;case"defaultValue":Je=ot;break;case"multiple":Te=ot;default:Zi(he,ge,Le,ot,Se,null)}ge=Ge,Se=Je,he.multiple=!!Te,ge!=null?Yi(he,!!Te,ge,!1):Se!=null&&Yi(he,!!Te,Se,!0);return;case"textarea":Mi("invalid",he),Ge=Le=Te=null;for(Je in Se)if(Se.hasOwnProperty(Je)&&(ot=Se[Je],ot!=null))switch(Je){case"value":Te=ot;break;case"defaultValue":Le=ot;break;case"children":Ge=ot;break;case"dangerouslySetInnerHTML":if(ot!=null)throw Error(oe(91));break;default:Zi(he,ge,Je,ot,Se,null)}rr(he,Te,Le,Ge),ki(he);return;case"option":for(At in Se)if(Se.hasOwnProperty(At)&&(Te=Se[At],Te!=null))switch(At){case"selected":he.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Zi(he,ge,At,Te,Se,null)}return;case"dialog":Mi("beforetoggle",he),Mi("toggle",he),Mi("cancel",he),Mi("close",he);break;case"iframe":case"object":Mi("load",he);break;case"video":case"audio":for(Te=0;Te<Vf.length;Te++)Mi(Vf[Te],he);break;case"image":Mi("error",he),Mi("load",he);break;case"details":Mi("toggle",he);break;case"embed":case"source":case"link":Mi("error",he),Mi("load",he);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xt in Se)if(Se.hasOwnProperty(Xt)&&(Te=Se[Xt],Te!=null))switch(Xt){case"children":case"dangerouslySetInnerHTML":throw Error(oe(137,ge));default:Zi(he,ge,Xt,Te,Se,null)}return;default:if(vo(ge)){for(dn in Se)Se.hasOwnProperty(dn)&&(Te=Se[dn],Te!==void 0&&Nh(he,ge,dn,Te,Se,void 0));return}}for(ot in Se)Se.hasOwnProperty(ot)&&(Te=Se[ot],Te!=null&&Zi(he,ge,ot,Te,Se,null))}function jp(he,ge,Se,Te){switch(ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Le=null,Ge=null,Je=null,ot=null,At=null,Xt=null,dn=null;for(Zt in Se){var yn=Se[Zt];if(Se.hasOwnProperty(Zt)&&yn!=null)switch(Zt){case"checked":break;case"value":break;case"defaultValue":At=yn;default:Te.hasOwnProperty(Zt)||Zi(he,ge,Zt,null,Te,yn)}}for(var Kt in Te){var Zt=Te[Kt];if(yn=Se[Kt],Te.hasOwnProperty(Kt)&&(Zt!=null||yn!=null))switch(Kt){case"type":Ge=Zt;break;case"name":Le=Zt;break;case"checked":Xt=Zt;break;case"defaultChecked":dn=Zt;break;case"value":Je=Zt;break;case"defaultValue":ot=Zt;break;case"children":case"dangerouslySetInnerHTML":if(Zt!=null)throw Error(oe(137,ge));break;default:Zt!==yn&&Zi(he,ge,Kt,Zt,Te,yn)}}gr(he,Je,ot,At,Xt,dn,Ge,Le);return;case"select":Zt=Je=ot=Kt=null;for(Ge in Se)if(At=Se[Ge],Se.hasOwnProperty(Ge)&&At!=null)switch(Ge){case"value":break;case"multiple":Zt=At;default:Te.hasOwnProperty(Ge)||Zi(he,ge,Ge,null,Te,At)}for(Le in Te)if(Ge=Te[Le],At=Se[Le],Te.hasOwnProperty(Le)&&(Ge!=null||At!=null))switch(Le){case"value":Kt=Ge;break;case"defaultValue":ot=Ge;break;case"multiple":Je=Ge;default:Ge!==At&&Zi(he,ge,Le,Ge,Te,At)}ge=ot,Se=Je,Te=Zt,Kt!=null?Yi(he,!!Se,Kt,!1):!!Te!=!!Se&&(ge!=null?Yi(he,!!Se,ge,!0):Yi(he,!!Se,Se?[]:"",!1));return;case"textarea":Zt=Kt=null;for(ot in Se)if(Le=Se[ot],Se.hasOwnProperty(ot)&&Le!=null&&!Te.hasOwnProperty(ot))switch(ot){case"value":break;case"children":break;default:Zi(he,ge,ot,null,Te,Le)}for(Je in Te)if(Le=Te[Je],Ge=Se[Je],Te.hasOwnProperty(Je)&&(Le!=null||Ge!=null))switch(Je){case"value":Kt=Le;break;case"defaultValue":Zt=Le;break;case"children":break;case"dangerouslySetInnerHTML":if(Le!=null)throw Error(oe(91));break;default:Le!==Ge&&Zi(he,ge,Je,Le,Te,Ge)}vr(he,Kt,Zt);return;case"option":for(var ai in Se)if(Kt=Se[ai],Se.hasOwnProperty(ai)&&Kt!=null&&!Te.hasOwnProperty(ai))switch(ai){case"selected":he.selected=!1;break;default:Zi(he,ge,ai,null,Te,Kt)}for(At in Te)if(Kt=Te[At],Zt=Se[At],Te.hasOwnProperty(At)&&Kt!==Zt&&(Kt!=null||Zt!=null))switch(At){case"selected":he.selected=Kt&&typeof Kt!="function"&&typeof Kt!="symbol";break;default:Zi(he,ge,At,Kt,Te,Zt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Zn in Se)Kt=Se[Zn],Se.hasOwnProperty(Zn)&&Kt!=null&&!Te.hasOwnProperty(Zn)&&Zi(he,ge,Zn,null,Te,Kt);for(Xt in Te)if(Kt=Te[Xt],Zt=Se[Xt],Te.hasOwnProperty(Xt)&&Kt!==Zt&&(Kt!=null||Zt!=null))switch(Xt){case"children":case"dangerouslySetInnerHTML":if(Kt!=null)throw Error(oe(137,ge));break;default:Zi(he,ge,Xt,Kt,Te,Zt)}return;default:if(vo(ge)){for(var er in Se)Kt=Se[er],Se.hasOwnProperty(er)&&Kt!==void 0&&!Te.hasOwnProperty(er)&&Nh(he,ge,er,void 0,Te,Kt);for(dn in Te)Kt=Te[dn],Zt=Se[dn],!Te.hasOwnProperty(dn)||Kt===Zt||Kt===void 0&&Zt===void 0||Nh(he,ge,dn,Kt,Te,Zt);return}}for(var It in Se)Kt=Se[It],Se.hasOwnProperty(It)&&Kt!=null&&!Te.hasOwnProperty(It)&&Zi(he,ge,It,null,Te,Kt);for(yn in Te)Kt=Te[yn],Zt=Se[yn],!Te.hasOwnProperty(yn)||Kt===Zt||Kt==null&&Zt==null||Zi(he,ge,yn,Kt,Te,Zt)}var Fh=null,Ih=null;function ah(he){return he.nodeType===9?he:he.ownerDocument}function fp(he){switch(he){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(he,ge){if(he===0)switch(ge){case"svg":return 1;case"math":return 2;default:return 0}return he===1&&ge==="foreignObject"?0:he}function Gh(he,ge){return he==="textarea"||he==="noscript"||typeof ge.children=="string"||typeof ge.children=="number"||typeof ge.children=="bigint"||typeof ge.dangerouslySetInnerHTML=="object"&&ge.dangerouslySetInnerHTML!==null&&ge.dangerouslySetInnerHTML.__html!=null}var zh=null;function Xp(){var he=window.event;return he&&he.type==="popstate"?he===zh?!1:(zh=he,!0):(zh=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,Wp=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(he){return pp.resolve(null).then(he).catch(Yp)}:hp;function Yp(he){setTimeout(function(){throw he})}function tc(he){return he==="head"}function mp(he,ge){var Se=ge,Te=0,Le=0;do{var Ge=Se.nextSibling;if(he.removeChild(Se),Ge&&Ge.nodeType===8)if(Se=Ge.data,Se==="/$"){if(0<Te&&8>Te){Se=Te;var Je=he.ownerDocument;if(Se&1&&$f(Je.documentElement),Se&2&&$f(Je.body),Se&4)for(Se=Je.head,$f(Se),Je=Se.firstChild;Je;){var ot=Je.nextSibling,At=Je.nodeName;Je[si]||At==="SCRIPT"||At==="STYLE"||At==="LINK"&&Je.rel.toLowerCase()==="stylesheet"||Se.removeChild(Je),Je=ot}}if(Le===0){he.removeChild(Ge),Qf(ge);return}Le--}else Se==="$"||Se==="$?"||Se==="$!"?Le++:Te=Se.charCodeAt(0)-48;else Te=0;Se=Ge}while(Se);Qf(ge)}function Hh(he){var ge=he.firstChild;for(ge&&ge.nodeType===10&&(ge=ge.nextSibling);ge;){var Se=ge;switch(ge=ge.nextSibling,Se.nodeName){case"HTML":case"HEAD":case"BODY":Hh(Se),$n(Se);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Se.rel.toLowerCase()==="stylesheet")continue}he.removeChild(Se)}}function Kp(he,ge,Se,Te){for(;he.nodeType===1;){var Le=Se;if(he.nodeName.toLowerCase()!==ge.toLowerCase()){if(!Te&&(he.nodeName!=="INPUT"||he.type!=="hidden"))break}else if(Te){if(!he[si])switch(ge){case"meta":if(!he.hasAttribute("itemprop"))break;return he;case"link":if(Ge=he.getAttribute("rel"),Ge==="stylesheet"&&he.hasAttribute("data-precedence"))break;if(Ge!==Le.rel||he.getAttribute("href")!==(Le.href==null||Le.href===""?null:Le.href)||he.getAttribute("crossorigin")!==(Le.crossOrigin==null?null:Le.crossOrigin)||he.getAttribute("title")!==(Le.title==null?null:Le.title))break;return he;case"style":if(he.hasAttribute("data-precedence"))break;return he;case"script":if(Ge=he.getAttribute("src"),(Ge!==(Le.src==null?null:Le.src)||he.getAttribute("type")!==(Le.type==null?null:Le.type)||he.getAttribute("crossorigin")!==(Le.crossOrigin==null?null:Le.crossOrigin))&&Ge&&he.hasAttribute("async")&&!he.hasAttribute("itemprop"))break;return he;default:return he}}else if(ge==="input"&&he.type==="hidden"){var Ge=Le.name==null?null:""+Le.name;if(Le.type==="hidden"&&he.getAttribute("name")===Ge)return he}else return he;if(he=po(he.nextSibling),he===null)break}return null}function Jp(he,ge,Se){if(ge==="")return null;for(;he.nodeType!==3;)if((he.nodeType!==1||he.nodeName!=="INPUT"||he.type!=="hidden")&&!Se||(he=po(he.nextSibling),he===null))return null;return he}function Vh(he){return he.data==="$!"||he.data==="$?"&&he.ownerDocument.readyState==="complete"}function Qp(he,ge){var Se=he.ownerDocument;if(he.data!=="$?"||Se.readyState==="complete")ge();else{var Te=function(){ge(),Se.removeEventListener("DOMContentLoaded",Te)};Se.addEventListener("DOMContentLoaded",Te),he._reactRetry=Te}}function po(he){for(;he!=null;he=he.nextSibling){var ge=he.nodeType;if(ge===1||ge===3)break;if(ge===8){if(ge=he.data,ge==="$"||ge==="$!"||ge==="$?"||ge==="F!"||ge==="F")break;if(ge==="/$")return null}}return he}var kh=null;function gp(he){he=he.previousSibling;for(var ge=0;he;){if(he.nodeType===8){var Se=he.data;if(Se==="$"||Se==="$!"||Se==="$?"){if(ge===0)return he;ge--}else Se==="/$"&&ge++}he=he.previousSibling}return null}function vp(he,ge,Se){switch(ge=ah(Se),he){case"html":if(he=ge.documentElement,!he)throw Error(oe(452));return he;case"head":if(he=ge.head,!he)throw Error(oe(453));return he;case"body":if(he=ge.body,!he)throw Error(oe(454));return he;default:throw Error(oe(451))}}function $f(he){for(var ge=he.attributes;ge.length;)he.removeAttributeNode(ge[0]);$n(he)}var Ps=new Map,_p=new Set;function sh(he){return typeof he.getRootNode=="function"?he.getRootNode():he.nodeType===9?he:he.ownerDocument}var Sl=rt.d;rt.d={f:Zp,r:em,D:tm,C:nm,L:im,m:rm,X:sm,S:am,M:om};function Zp(){var he=Sl.f(),ge=Ls();return he||ge}function em(he){var ge=oi(he);ge!==null&&ge.tag===5&&ge.type==="form"?Gd(ge):Sl.r(he)}var Hu=typeof document>"u"?null:document;function yp(he,ge,Se){var Te=Hu;if(Te&&typeof ge=="string"&&ge){var Le=Ui(ge);Le='link[rel="'+he+'"][href="'+Le+'"]',typeof Se=="string"&&(Le+='[crossorigin="'+Se+'"]'),_p.has(Le)||(_p.add(Le),he={rel:he,crossOrigin:Se,href:ge},Te.querySelector(Le)===null&&(ge=Te.createElement("link"),la(ge,"link",he),vi(ge),Te.head.appendChild(ge)))}}function tm(he){Sl.D(he),yp("dns-prefetch",he,null)}function nm(he,ge){Sl.C(he,ge),yp("preconnect",he,ge)}function im(he,ge,Se){Sl.L(he,ge,Se);var Te=Hu;if(Te&&he&&ge){var Le='link[rel="preload"][as="'+Ui(ge)+'"]';ge==="image"&&Se&&Se.imageSrcSet?(Le+='[imagesrcset="'+Ui(Se.imageSrcSet)+'"]',typeof Se.imageSizes=="string"&&(Le+='[imagesizes="'+Ui(Se.imageSizes)+'"]')):Le+='[href="'+Ui(he)+'"]';var Ge=Le;switch(ge){case"style":Ge=Vu(he);break;case"script":Ge=ku(he)}Ps.has(Ge)||(he=_e({rel:"preload",href:ge==="image"&&Se&&Se.imageSrcSet?void 0:he,as:ge},Se),Ps.set(Ge,he),Te.querySelector(Le)!==null||ge==="style"&&Te.querySelector(jf(Ge))||ge==="script"&&Te.querySelector(Xf(Ge))||(ge=Te.createElement("link"),la(ge,"link",he),vi(ge),Te.head.appendChild(ge)))}}function rm(he,ge){Sl.m(he,ge);var Se=Hu;if(Se&&he){var Te=ge&&typeof ge.as=="string"?ge.as:"script",Le='link[rel="modulepreload"][as="'+Ui(Te)+'"][href="'+Ui(he)+'"]',Ge=Le;switch(Te){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Ge=ku(he)}if(!Ps.has(Ge)&&(he=_e({rel:"modulepreload",href:he},ge),Ps.set(Ge,he),Se.querySelector(Le)===null)){switch(Te){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Se.querySelector(Xf(Ge)))return}Te=Se.createElement("link"),la(Te,"link",he),vi(Te),Se.head.appendChild(Te)}}}function am(he,ge,Se){Sl.S(he,ge,Se);var Te=Hu;if(Te&&he){var Le=Ei(Te).hoistableStyles,Ge=Vu(he);ge=ge||"default";var Je=Le.get(Ge);if(!Je){var ot={loading:0,preload:null};if(Je=Te.querySelector(jf(Ge)))ot.loading=5;else{he=_e({rel:"stylesheet",href:he,"data-precedence":ge},Se),(Se=Ps.get(Ge))&&$h(he,Se);var At=Je=Te.createElement("link");vi(At),la(At,"link",he),At._p=new Promise(function(Xt,dn){At.onload=Xt,At.onerror=dn}),At.addEventListener("load",function(){ot.loading|=1}),At.addEventListener("error",function(){ot.loading|=2}),ot.loading|=4,oh(Je,ge,Te)}Je={type:"stylesheet",instance:Je,count:1,state:ot},Le.set(Ge,Je)}}}function sm(he,ge){Sl.X(he,ge);var Se=Hu;if(Se&&he){var Te=Ei(Se).hoistableScripts,Le=ku(he),Ge=Te.get(Le);Ge||(Ge=Se.querySelector(Xf(Le)),Ge||(he=_e({src:he,async:!0},ge),(ge=Ps.get(Le))&&jh(he,ge),Ge=Se.createElement("script"),vi(Ge),la(Ge,"link",he),Se.head.appendChild(Ge)),Ge={type:"script",instance:Ge,count:1,state:null},Te.set(Le,Ge))}}function om(he,ge){Sl.M(he,ge);var Se=Hu;if(Se&&he){var Te=Ei(Se).hoistableScripts,Le=ku(he),Ge=Te.get(Le);Ge||(Ge=Se.querySelector(Xf(Le)),Ge||(he=_e({src:he,async:!0,type:"module"},ge),(ge=Ps.get(Le))&&jh(he,ge),Ge=Se.createElement("script"),vi(Ge),la(Ge,"link",he),Se.head.appendChild(Ge)),Ge={type:"script",instance:Ge,count:1,state:null},Te.set(Le,Ge))}}function xp(he,ge,Se,Te){var Le=(Le=Et.current)?sh(Le):null;if(!Le)throw Error(oe(446));switch(he){case"meta":case"title":return null;case"style":return typeof Se.precedence=="string"&&typeof Se.href=="string"?(ge=Vu(Se.href),Se=Ei(Le).hoistableStyles,Te=Se.get(ge),Te||(Te={type:"style",instance:null,count:0,state:null},Se.set(ge,Te)),Te):{type:"void",instance:null,count:0,state:null};case"link":if(Se.rel==="stylesheet"&&typeof Se.href=="string"&&typeof Se.precedence=="string"){he=Vu(Se.href);var Ge=Ei(Le).hoistableStyles,Je=Ge.get(he);if(Je||(Le=Le.ownerDocument||Le,Je={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Ge.set(he,Je),(Ge=Le.querySelector(jf(he)))&&!Ge._p&&(Je.instance=Ge,Je.state.loading=5),Ps.has(he)||(Se={rel:"preload",as:"style",href:Se.href,crossOrigin:Se.crossOrigin,integrity:Se.integrity,media:Se.media,hrefLang:Se.hrefLang,referrerPolicy:Se.referrerPolicy},Ps.set(he,Se),Ge||lm(Le,he,Se,Je.state))),ge&&Te===null)throw Error(oe(528,""));return Je}if(ge&&Te!==null)throw Error(oe(529,""));return null;case"script":return ge=Se.async,Se=Se.src,typeof Se=="string"&&ge&&typeof ge!="function"&&typeof ge!="symbol"?(ge=ku(Se),Se=Ei(Le).hoistableScripts,Te=Se.get(ge),Te||(Te={type:"script",instance:null,count:0,state:null},Se.set(ge,Te)),Te):{type:"void",instance:null,count:0,state:null};default:throw Error(oe(444,he))}}function Vu(he){return'href="'+Ui(he)+'"'}function jf(he){return'link[rel="stylesheet"]['+he+"]"}function Sp(he){return _e({},he,{"data-precedence":he.precedence,precedence:null})}function lm(he,ge,Se,Te){he.querySelector('link[rel="preload"][as="style"]['+ge+"]")?Te.loading=1:(ge=he.createElement("link"),Te.preload=ge,ge.addEventListener("load",function(){return Te.loading|=1}),ge.addEventListener("error",function(){return Te.loading|=2}),la(ge,"link",Se),vi(ge),he.head.appendChild(ge))}function ku(he){return'[src="'+Ui(he)+'"]'}function Xf(he){return"script[async]"+he}function bp(he,ge,Se){if(ge.count++,ge.instance===null)switch(ge.type){case"style":var Te=he.querySelector('style[data-href~="'+Ui(Se.href)+'"]');if(Te)return ge.instance=Te,vi(Te),Te;var Le=_e({},Se,{"data-href":Se.href,"data-precedence":Se.precedence,href:null,precedence:null});return Te=(he.ownerDocument||he).createElement("style"),vi(Te),la(Te,"style",Le),oh(Te,Se.precedence,he),ge.instance=Te;case"stylesheet":Le=Vu(Se.href);var Ge=he.querySelector(jf(Le));if(Ge)return ge.state.loading|=4,ge.instance=Ge,vi(Ge),Ge;Te=Sp(Se),(Le=Ps.get(Le))&&$h(Te,Le),Ge=(he.ownerDocument||he).createElement("link"),vi(Ge);var Je=Ge;return Je._p=new Promise(function(ot,At){Je.onload=ot,Je.onerror=At}),la(Ge,"link",Te),ge.state.loading|=4,oh(Ge,Se.precedence,he),ge.instance=Ge;case"script":return Ge=ku(Se.src),(Le=he.querySelector(Xf(Ge)))?(ge.instance=Le,vi(Le),Le):(Te=Se,(Le=Ps.get(Ge))&&(Te=_e({},Se),jh(Te,Le)),he=he.ownerDocument||he,Le=he.createElement("script"),vi(Le),la(Le,"link",Te),he.head.appendChild(Le),ge.instance=Le);case"void":return null;default:throw Error(oe(443,ge.type))}else ge.type==="stylesheet"&&(ge.state.loading&4)===0&&(Te=ge.instance,ge.state.loading|=4,oh(Te,Se.precedence,he));return ge.instance}function oh(he,ge,Se){for(var Te=Se.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Le=Te.length?Te[Te.length-1]:null,Ge=Le,Je=0;Je<Te.length;Je++){var ot=Te[Je];if(ot.dataset.precedence===ge)Ge=ot;else if(Ge!==Le)break}Ge?Ge.parentNode.insertBefore(he,Ge.nextSibling):(ge=Se.nodeType===9?Se.head:Se,ge.insertBefore(he,ge.firstChild))}function $h(he,ge){he.crossOrigin==null&&(he.crossOrigin=ge.crossOrigin),he.referrerPolicy==null&&(he.referrerPolicy=ge.referrerPolicy),he.title==null&&(he.title=ge.title)}function jh(he,ge){he.crossOrigin==null&&(he.crossOrigin=ge.crossOrigin),he.referrerPolicy==null&&(he.referrerPolicy=ge.referrerPolicy),he.integrity==null&&(he.integrity=ge.integrity)}var lh=null;function Ep(he,ge,Se){if(lh===null){var Te=new Map,Le=lh=new Map;Le.set(Se,Te)}else Le=lh,Te=Le.get(Se),Te||(Te=new Map,Le.set(Se,Te));if(Te.has(he))return Te;for(Te.set(he,null),Se=Se.getElementsByTagName(he),Le=0;Le<Se.length;Le++){var Ge=Se[Le];if(!(Ge[si]||Ge[_n]||he==="link"&&Ge.getAttribute("rel")==="stylesheet")&&Ge.namespaceURI!=="http://www.w3.org/2000/svg"){var Je=Ge.getAttribute(ge)||"";Je=he+Je;var ot=Te.get(Je);ot?ot.push(Ge):Te.set(Je,[Ge])}}return Te}function Ap(he,ge,Se){he=he.ownerDocument||he,he.head.insertBefore(Se,ge==="title"?he.querySelector("head > title"):null)}function cm(he,ge,Se){if(Se===1||ge.itemProp!=null)return!1;switch(he){case"meta":case"title":return!0;case"style":if(typeof ge.precedence!="string"||typeof ge.href!="string"||ge.href==="")break;return!0;case"link":if(typeof ge.rel!="string"||typeof ge.href!="string"||ge.href===""||ge.onLoad||ge.onError)break;switch(ge.rel){case"stylesheet":return he=ge.disabled,typeof ge.precedence=="string"&&he==null;default:return!0}case"script":if(ge.async&&typeof ge.async!="function"&&typeof ge.async!="symbol"&&!ge.onLoad&&!ge.onError&&ge.src&&typeof ge.src=="string")return!0}return!1}function Tp(he){return!(he.type==="stylesheet"&&(he.state.loading&3)===0)}var Wf=null;function um(){}function fm(he,ge,Se){if(Wf===null)throw Error(oe(475));var Te=Wf;if(ge.type==="stylesheet"&&(typeof Se.media!="string"||matchMedia(Se.media).matches!==!1)&&(ge.state.loading&4)===0){if(ge.instance===null){var Le=Vu(Se.href),Ge=he.querySelector(jf(Le));if(Ge){he=Ge._p,he!==null&&typeof he=="object"&&typeof he.then=="function"&&(Te.count++,Te=ch.bind(Te),he.then(Te,Te)),ge.state.loading|=4,ge.instance=Ge,vi(Ge);return}Ge=he.ownerDocument||he,Se=Sp(Se),(Le=Ps.get(Le))&&$h(Se,Le),Ge=Ge.createElement("link"),vi(Ge);var Je=Ge;Je._p=new Promise(function(ot,At){Je.onload=ot,Je.onerror=At}),la(Ge,"link",Se),ge.instance=Ge}Te.stylesheets===null&&(Te.stylesheets=new Map),Te.stylesheets.set(ge,he),(he=ge.state.preload)&&(ge.state.loading&3)===0&&(Te.count++,ge=ch.bind(Te),he.addEventListener("load",ge),he.addEventListener("error",ge))}}function dm(){if(Wf===null)throw Error(oe(475));var he=Wf;return he.stylesheets&&he.count===0&&Xh(he,he.stylesheets),0<he.count?function(ge){var Se=setTimeout(function(){if(he.stylesheets&&Xh(he,he.stylesheets),he.unsuspend){var Te=he.unsuspend;he.unsuspend=null,Te()}},6e4);return he.unsuspend=ge,function(){he.unsuspend=null,clearTimeout(Se)}}:null}function ch(){if(this.count--,this.count===0){if(this.stylesheets)Xh(this,this.stylesheets);else if(this.unsuspend){var he=this.unsuspend;this.unsuspend=null,he()}}}var uh=null;function Xh(he,ge){he.stylesheets=null,he.unsuspend!==null&&(he.count++,uh=new Map,ge.forEach(hm,he),uh=null,ch.call(he))}function hm(he,ge){if(!(ge.state.loading&4)){var Se=uh.get(he);if(Se)var Te=Se.get(null);else{Se=new Map,uh.set(he,Se);for(var Le=he.querySelectorAll("link[data-precedence],style[data-precedence]"),Ge=0;Ge<Le.length;Ge++){var Je=Le[Ge];(Je.nodeName==="LINK"||Je.getAttribute("media")!=="not all")&&(Se.set(Je.dataset.precedence,Je),Te=Je)}Te&&Se.set(null,Te)}Le=ge.instance,Je=Le.getAttribute("data-precedence"),Ge=Se.get(Je)||Te,Ge===Te&&Se.set(null,Le),Se.set(Je,Le),this.count++,Te=ch.bind(this),Le.addEventListener("load",Te),Le.addEventListener("error",Te),Ge?Ge.parentNode.insertBefore(Le,Ge.nextSibling):(he=he.nodeType===9?he.head:he,he.insertBefore(Le,he.firstChild)),ge.state.loading|=4}}var qf={$$typeof:Ie,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function pm(he,ge,Se,Te,Le,Ge,Je,ot){this.tag=1,this.containerInfo=he,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=Te,this.onUncaughtError=Le,this.onCaughtError=Ge,this.onRecoverableError=Je,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ot,this.incompleteTransitions=new Map}function Mp(he,ge,Se,Te,Le,Ge,Je,ot,At,Xt,dn,yn){return he=new pm(he,ge,Se,Je,ot,At,Xt,yn),ge=1,Ge===!0&&(ge|=24),Ge=_a(3,null,null,ge),he.current=Ge,Ge.stateNode=he,ge=uu(),ge.refCount++,he.pooledCache=ge,ge.refCount++,Ge.memoizedState={element:Te,isDehydrated:Se,cache:ge},_f(Ge),he}function Cp(he){return he?(he=To,he):To}function Rp(he,ge,Se,Te,Le,Ge){Le=Cp(Le),Te.context===null?Te.context=Le:Te.pendingContext=Le,Te=bs(ge),Te.payload={element:Se},Ge=Ge===void 0?null:Ge,Ge!==null&&(Te.callback=Ge),Se=io(he,Te,ge),Se!==null&&(oa(Se,he,ge),il(Se,he,ge))}function wp(he,ge){if(he=he.memoizedState,he!==null&&he.dehydrated!==null){var Se=he.retryLane;he.retryLane=Se!==0&&Se<ge?Se:ge}}function Wh(he,ge){wp(he,ge),(he=he.alternate)&&wp(he,ge)}function Bp(he){if(he.tag===13){var ge=Qs(he,67108864);ge!==null&&oa(ge,he,67108864),Wh(he,67108864)}}var fh=!0;function mm(he,ge,Se,Te){var Le=Ye.T;Ye.T=null;var Ge=rt.p;try{rt.p=2,qh(he,ge,Se,Te)}finally{rt.p=Ge,Ye.T=Le}}function gm(he,ge,Se,Te){var Le=Ye.T;Ye.T=null;var Ge=rt.p;try{rt.p=8,qh(he,ge,Se,Te)}finally{rt.p=Ge,Ye.T=Le}}function qh(he,ge,Se,Te){if(fh){var Le=Yh(Te);if(Le===null)Ph(he,ge,Te,dh,Se),Op(he,Te);else if(_m(Le,he,ge,Se,Te))Te.stopPropagation();else if(Op(he,Te),ge&4&&-1<vm.indexOf(he)){for(;Le!==null;){var Ge=oi(Le);if(Ge!==null)switch(Ge.tag){case 3:if(Ge=Ge.stateNode,Ge.current.memoizedState.isDehydrated){var Je=Qt(Ge.pendingLanes);if(Je!==0){var ot=Ge;for(ot.pendingLanes|=2,ot.entangledLanes|=2;Je;){var At=1<<31-Jt(Je);ot.entanglements[1]|=At,Je&=~At}Yo(Ge),(Fi&6)===0&&(Kr=ht()+500,Hf(0))}}break;case 13:ot=Qs(Ge,2),ot!==null&&oa(ot,Ge,2),Ls(),Wh(Ge,2)}if(Ge=Yh(Te),Ge===null&&Ph(he,ge,Te,dh,Se),Ge===Le)break;Le=Ge}Le!==null&&Te.stopPropagation()}else Ph(he,ge,Te,null,Se)}}function Yh(he){return he=rs(he),Kh(he)}var dh=null;function Kh(he){if(dh=null,he=gi(he),he!==null){var ge=ue(he);if(ge===null)he=null;else{var Se=ge.tag;if(Se===13){if(he=fe(ge),he!==null)return he;he=null}else if(Se===3){if(ge.stateNode.current.memoizedState.isDehydrated)return ge.tag===3?ge.stateNode.containerInfo:null;he=null}else ge!==he&&(he=null)}}return dh=he,null}function Dp(he){switch(he){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case kt:return 2;case Bt:return 8;case Qe:case Ke:return 32;case ct:return 268435456;default:return 32}default:return 32}}var Jh=!1,nc=null,ic=null,rc=null,Yf=new Map,Kf=new Map,ac=[],vm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(he,ge){switch(he){case"focusin":case"focusout":nc=null;break;case"dragenter":case"dragleave":ic=null;break;case"mouseover":case"mouseout":rc=null;break;case"pointerover":case"pointerout":Yf.delete(ge.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kf.delete(ge.pointerId)}}function Jf(he,ge,Se,Te,Le,Ge){return he===null||he.nativeEvent!==Ge?(he={blockedOn:ge,domEventName:Se,eventSystemFlags:Te,nativeEvent:Ge,targetContainers:[Le]},ge!==null&&(ge=oi(ge),ge!==null&&Bp(ge)),he):(he.eventSystemFlags|=Te,ge=he.targetContainers,Le!==null&&ge.indexOf(Le)===-1&&ge.push(Le),he)}function _m(he,ge,Se,Te,Le){switch(ge){case"focusin":return nc=Jf(nc,he,ge,Se,Te,Le),!0;case"dragenter":return ic=Jf(ic,he,ge,Se,Te,Le),!0;case"mouseover":return rc=Jf(rc,he,ge,Se,Te,Le),!0;case"pointerover":var Ge=Le.pointerId;return Yf.set(Ge,Jf(Yf.get(Ge)||null,he,ge,Se,Te,Le)),!0;case"gotpointercapture":return Ge=Le.pointerId,Kf.set(Ge,Jf(Kf.get(Ge)||null,he,ge,Se,Te,Le)),!0}return!1}function Lp(he){var ge=gi(he.target);if(ge!==null){var Se=ue(ge);if(Se!==null){if(ge=Se.tag,ge===13){if(ge=fe(Se),ge!==null){he.blockedOn=ge,wn(he.priority,function(){if(Se.tag===13){var Te=hr();Te=Hn(Te);var Le=Qs(Se,Te);Le!==null&&oa(Le,Se,Te),Wh(Se,Te)}});return}}else if(ge===3&&Se.stateNode.current.memoizedState.isDehydrated){he.blockedOn=Se.tag===3?Se.stateNode.containerInfo:null;return}}}he.blockedOn=null}function hh(he){if(he.blockedOn!==null)return!1;for(var ge=he.targetContainers;0<ge.length;){var Se=Yh(he.nativeEvent);if(Se===null){Se=he.nativeEvent;var Te=new Se.constructor(Se.type,Se);ns=Te,Se.target.dispatchEvent(Te),ns=null}else return ge=oi(Se),ge!==null&&Bp(ge),he.blockedOn=Se,!1;ge.shift()}return!0}function Up(he,ge,Se){hh(he)&&Se.delete(ge)}function ym(){Jh=!1,nc!==null&&hh(nc)&&(nc=null),ic!==null&&hh(ic)&&(ic=null),rc!==null&&hh(rc)&&(rc=null),Yf.forEach(Up),Kf.forEach(Up)}function ph(he,ge){he.blockedOn===ge&&(he.blockedOn=null,Jh||(Jh=!0,se.unstable_scheduleCallback(se.unstable_NormalPriority,ym)))}var mh=null;function Pp(he){mh!==he&&(mh=he,se.unstable_scheduleCallback(se.unstable_NormalPriority,function(){mh===he&&(mh=null);for(var ge=0;ge<he.length;ge+=3){var Se=he[ge],Te=he[ge+1],Le=he[ge+2];if(typeof Te!="function"){if(Kh(Te||Se)===null)continue;break}var Ge=oi(Se);Ge!==null&&(he.splice(ge,3),ge-=3,Uf(Ge,{pending:!0,data:Le,method:Se.method,action:Te},Te,Le))}}))}function Qf(he){function ge(At){return ph(At,he)}nc!==null&&ph(nc,he),ic!==null&&ph(ic,he),rc!==null&&ph(rc,he),Yf.forEach(ge),Kf.forEach(ge);for(var Se=0;Se<ac.length;Se++){var Te=ac[Se];Te.blockedOn===he&&(Te.blockedOn=null)}for(;0<ac.length&&(Se=ac[0],Se.blockedOn===null);)Lp(Se),Se.blockedOn===null&&ac.shift();if(Se=(he.ownerDocument||he).$$reactFormReplay,Se!=null)for(Te=0;Te<Se.length;Te+=3){var Le=Se[Te],Ge=Se[Te+1],Je=Le[On]||null;if(typeof Ge=="function")Je||Pp(Se);else if(Je){var ot=null;if(Ge&&Ge.hasAttribute("formAction")){if(Le=Ge,Je=Ge[On]||null)ot=Je.formAction;else if(Kh(Le)!==null)continue}else ot=Je.action;typeof ot=="function"?Se[Te+1]=ot:(Se.splice(Te,3),Te-=3),Pp(Se)}}}function Qh(he){this._internalRoot=he}gh.prototype.render=Qh.prototype.render=function(he){var ge=this._internalRoot;if(ge===null)throw Error(oe(409));var Se=ge.current,Te=hr();Rp(Se,Te,he,ge,null,null)},gh.prototype.unmount=Qh.prototype.unmount=function(){var he=this._internalRoot;if(he!==null){this._internalRoot=null;var ge=he.containerInfo;Rp(he.current,2,null,he,null,null),Ls(),ge[Bn]=null}};function gh(he){this._internalRoot=he}gh.prototype.unstable_scheduleHydration=function(he){if(he){var ge=xn();he={blockedOn:null,target:he,priority:ge};for(var Se=0;Se<ac.length&&ge!==0&&ge<ac[Se].priority;Se++);ac.splice(Se,0,he),Se===0&&Lp(he)}};var Np=te.version;if(Np!=="19.1.0")throw Error(oe(527,Np,"19.1.0"));rt.findDOMNode=function(he){var ge=he._reactInternals;if(ge===void 0)throw typeof he.render=="function"?Error(oe(188)):(he=Object.keys(he).join(","),Error(oe(268,he)));return he=pe(ge),he=he!==null?me(he):null,he=he===null?null:he.stateNode,he};var xm={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ye,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Ft=vh.inject(xm),zt=vh}catch{}}return reactDomClient_production.createRoot=function(he,ge){if(!ce(he))throw Error(oe(299));var Se=!1,Te="",Le=zc,Ge=Cu,Je=Jd,ot=null;return ge!=null&&(ge.unstable_strictMode===!0&&(Se=!0),ge.identifierPrefix!==void 0&&(Te=ge.identifierPrefix),ge.onUncaughtError!==void 0&&(Le=ge.onUncaughtError),ge.onCaughtError!==void 0&&(Ge=ge.onCaughtError),ge.onRecoverableError!==void 0&&(Je=ge.onRecoverableError),ge.unstable_transitionCallbacks!==void 0&&(ot=ge.unstable_transitionCallbacks)),ge=Mp(he,1,!1,null,null,Se,Te,Le,Ge,Je,ot,null),he[Bn]=ge.current,Uh(he),new Qh(ge)},reactDomClient_production.hydrateRoot=function(he,ge,Se){if(!ce(he))throw Error(oe(299));var Te=!1,Le="",Ge=zc,Je=Cu,ot=Jd,At=null,Xt=null;return Se!=null&&(Se.unstable_strictMode===!0&&(Te=!0),Se.identifierPrefix!==void 0&&(Le=Se.identifierPrefix),Se.onUncaughtError!==void 0&&(Ge=Se.onUncaughtError),Se.onCaughtError!==void 0&&(Je=Se.onCaughtError),Se.onRecoverableError!==void 0&&(ot=Se.onRecoverableError),Se.unstable_transitionCallbacks!==void 0&&(At=Se.unstable_transitionCallbacks),Se.formState!==void 0&&(Xt=Se.formState)),ge=Mp(he,1,!0,ge,Se??null,Te,Le,Ge,Je,ot,At,Xt),ge.context=Cp(null),Se=ge.current,Te=hr(),Te=Hn(Te),Le=bs(Te),Le.callback=null,io(Se,Le,Te),Se=Te,ge.current.lanes=Se,an(ge,Se),Yo(ge),he[Bn]=ge.current,Uh(he),new gh(ge)},reactDomClient_production.version="19.1.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function se(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(se)}catch(te){console.error(te)}}return se(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="175",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping$1=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace$1="srgb",LinearSRGBColorSpace$1="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001,TimestampQuery={COMPUTE:"compute",RENDER:"render"};class EventDispatcher{addEventListener(te,ae){this._listeners===void 0&&(this._listeners={});const oe=this._listeners;oe[te]===void 0&&(oe[te]=[]),oe[te].indexOf(ae)===-1&&oe[te].push(ae)}hasEventListener(te,ae){const oe=this._listeners;return oe===void 0?!1:oe[te]!==void 0&&oe[te].indexOf(ae)!==-1}removeEventListener(te,ae){const oe=this._listeners;if(oe===void 0)return;const ce=oe[te];if(ce!==void 0){const ue=ce.indexOf(ae);ue!==-1&&ce.splice(ue,1)}}dispatchEvent(te){const ae=this._listeners;if(ae===void 0)return;const oe=ae[te.type];if(oe!==void 0){te.target=this;const ce=oe.slice(0);for(let ue=0,fe=ce.length;ue<fe;ue++)ce[ue].call(this,te);te.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const se=Math.random()*4294967295|0,te=Math.random()*4294967295|0,ae=Math.random()*4294967295|0,oe=Math.random()*4294967295|0;return(_lut$1[se&255]+_lut$1[se>>8&255]+_lut$1[se>>16&255]+_lut$1[se>>24&255]+"-"+_lut$1[te&255]+_lut$1[te>>8&255]+"-"+_lut$1[te>>16&15|64]+_lut$1[te>>24&255]+"-"+_lut$1[ae&63|128]+_lut$1[ae>>8&255]+"-"+_lut$1[ae>>16&255]+_lut$1[ae>>24&255]+_lut$1[oe&255]+_lut$1[oe>>8&255]+_lut$1[oe>>16&255]+_lut$1[oe>>24&255]).toLowerCase()}function clamp$4(se,te,ae){return Math.max(te,Math.min(ae,se))}function euclideanModulo(se,te){return(se%te+te)%te}function mapLinear(se,te,ae,oe,ce){return oe+(se-te)*(ce-oe)/(ae-te)}function inverseLerp(se,te,ae){return se!==te?(ae-se)/(te-se):0}function lerp(se,te,ae){return(1-ae)*se+ae*te}function damp$1(se,te,ae,oe){return lerp(se,te,1-Math.exp(-ae*oe))}function pingpong(se,te=1){return te-Math.abs(euclideanModulo(se,te*2)-te)}function smoothstep(se,te,ae){return se<=te?0:se>=ae?1:(se=(se-te)/(ae-te),se*se*(3-2*se))}function smootherstep(se,te,ae){return se<=te?0:se>=ae?1:(se=(se-te)/(ae-te),se*se*se*(se*(se*6-15)+10))}function randInt(se,te){return se+Math.floor(Math.random()*(te-se+1))}function randFloat(se,te){return se+Math.random()*(te-se)}function randFloatSpread(se){return se*(.5-Math.random())}function seededRandom(se){se!==void 0&&(_seed=se);let te=_seed+=1831565813;return te=Math.imul(te^te>>>15,te|1),te^=te+Math.imul(te^te>>>7,te|61),((te^te>>>14)>>>0)/4294967296}function degToRad(se){return se*DEG2RAD}function radToDeg(se){return se*RAD2DEG}function isPowerOfTwo(se){return(se&se-1)===0&&se!==0}function ceilPowerOfTwo(se){return Math.pow(2,Math.ceil(Math.log(se)/Math.LN2))}function floorPowerOfTwo(se){return Math.pow(2,Math.floor(Math.log(se)/Math.LN2))}function setQuaternionFromProperEuler(se,te,ae,oe,ce){const ue=Math.cos,fe=Math.sin,de=ue(ae/2),pe=fe(ae/2),me=ue((te+oe)/2),_e=fe((te+oe)/2),be=ue((te-oe)/2),Ee=fe((te-oe)/2),Ae=ue((oe-te)/2),Re=fe((oe-te)/2);switch(ce){case"XYX":se.set(de*_e,pe*be,pe*Ee,de*me);break;case"YZY":se.set(pe*Ee,de*_e,pe*be,de*me);break;case"ZXZ":se.set(pe*be,pe*Ee,de*_e,de*me);break;case"XZX":se.set(de*_e,pe*Re,pe*Ae,de*me);break;case"YXY":se.set(pe*Ae,de*_e,pe*Re,de*me);break;case"ZYZ":se.set(pe*Re,pe*Ae,de*_e,de*me);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ce)}}function denormalize(se,te){switch(te.constructor){case Float32Array:return se;case Uint32Array:return se/4294967295;case Uint16Array:return se/65535;case Uint8Array:return se/255;case Int32Array:return Math.max(se/2147483647,-1);case Int16Array:return Math.max(se/32767,-1);case Int8Array:return Math.max(se/127,-1);default:throw new Error("Invalid component type.")}}function normalize$6(se,te){switch(te.constructor){case Float32Array:return se;case Uint32Array:return Math.round(se*4294967295);case Uint16Array:return Math.round(se*65535);case Uint8Array:return Math.round(se*255);case Int32Array:return Math.round(se*2147483647);case Int16Array:return Math.round(se*32767);case Int8Array:return Math.round(se*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp:clamp$4,euclideanModulo,mapLinear,inverseLerp,lerp,damp:damp$1,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$6,denormalize};class Vector2{constructor(te=0,ae=0){Vector2.prototype.isVector2=!0,this.x=te,this.y=ae}get width(){return this.x}set width(te){this.x=te}get height(){return this.y}set height(te){this.y=te}set(te,ae){return this.x=te,this.y=ae,this}setScalar(te){return this.x=te,this.y=te,this}setX(te){return this.x=te,this}setY(te){return this.y=te,this}setComponent(te,ae){switch(te){case 0:this.x=ae;break;case 1:this.y=ae;break;default:throw new Error("index is out of range: "+te)}return this}getComponent(te){switch(te){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+te)}}clone(){return new this.constructor(this.x,this.y)}copy(te){return this.x=te.x,this.y=te.y,this}add(te){return this.x+=te.x,this.y+=te.y,this}addScalar(te){return this.x+=te,this.y+=te,this}addVectors(te,ae){return this.x=te.x+ae.x,this.y=te.y+ae.y,this}addScaledVector(te,ae){return this.x+=te.x*ae,this.y+=te.y*ae,this}sub(te){return this.x-=te.x,this.y-=te.y,this}subScalar(te){return this.x-=te,this.y-=te,this}subVectors(te,ae){return this.x=te.x-ae.x,this.y=te.y-ae.y,this}multiply(te){return this.x*=te.x,this.y*=te.y,this}multiplyScalar(te){return this.x*=te,this.y*=te,this}divide(te){return this.x/=te.x,this.y/=te.y,this}divideScalar(te){return this.multiplyScalar(1/te)}applyMatrix3(te){const ae=this.x,oe=this.y,ce=te.elements;return this.x=ce[0]*ae+ce[3]*oe+ce[6],this.y=ce[1]*ae+ce[4]*oe+ce[7],this}min(te){return this.x=Math.min(this.x,te.x),this.y=Math.min(this.y,te.y),this}max(te){return this.x=Math.max(this.x,te.x),this.y=Math.max(this.y,te.y),this}clamp(te,ae){return this.x=clamp$4(this.x,te.x,ae.x),this.y=clamp$4(this.y,te.y,ae.y),this}clampScalar(te,ae){return this.x=clamp$4(this.x,te,ae),this.y=clamp$4(this.y,te,ae),this}clampLength(te,ae){const oe=this.length();return this.divideScalar(oe||1).multiplyScalar(clamp$4(oe,te,ae))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(te){return this.x*te.x+this.y*te.y}cross(te){return this.x*te.y-this.y*te.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(te){const ae=Math.sqrt(this.lengthSq()*te.lengthSq());if(ae===0)return Math.PI/2;const oe=this.dot(te)/ae;return Math.acos(clamp$4(oe,-1,1))}distanceTo(te){return Math.sqrt(this.distanceToSquared(te))}distanceToSquared(te){const ae=this.x-te.x,oe=this.y-te.y;return ae*ae+oe*oe}manhattanDistanceTo(te){return Math.abs(this.x-te.x)+Math.abs(this.y-te.y)}setLength(te){return this.normalize().multiplyScalar(te)}lerp(te,ae){return this.x+=(te.x-this.x)*ae,this.y+=(te.y-this.y)*ae,this}lerpVectors(te,ae,oe){return this.x=te.x+(ae.x-te.x)*oe,this.y=te.y+(ae.y-te.y)*oe,this}equals(te){return te.x===this.x&&te.y===this.y}fromArray(te,ae=0){return this.x=te[ae],this.y=te[ae+1],this}toArray(te=[],ae=0){return te[ae]=this.x,te[ae+1]=this.y,te}fromBufferAttribute(te,ae){return this.x=te.getX(ae),this.y=te.getY(ae),this}rotateAround(te,ae){const oe=Math.cos(ae),ce=Math.sin(ae),ue=this.x-te.x,fe=this.y-te.y;return this.x=ue*oe-fe*ce+te.x,this.y=ue*ce+fe*oe+te.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(te,ae,oe,ce,ue,fe,de,pe,me){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],te!==void 0&&this.set(te,ae,oe,ce,ue,fe,de,pe,me)}set(te,ae,oe,ce,ue,fe,de,pe,me){const _e=this.elements;return _e[0]=te,_e[1]=ce,_e[2]=de,_e[3]=ae,_e[4]=ue,_e[5]=pe,_e[6]=oe,_e[7]=fe,_e[8]=me,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(te){const ae=this.elements,oe=te.elements;return ae[0]=oe[0],ae[1]=oe[1],ae[2]=oe[2],ae[3]=oe[3],ae[4]=oe[4],ae[5]=oe[5],ae[6]=oe[6],ae[7]=oe[7],ae[8]=oe[8],this}extractBasis(te,ae,oe){return te.setFromMatrix3Column(this,0),ae.setFromMatrix3Column(this,1),oe.setFromMatrix3Column(this,2),this}setFromMatrix4(te){const ae=te.elements;return this.set(ae[0],ae[4],ae[8],ae[1],ae[5],ae[9],ae[2],ae[6],ae[10]),this}multiply(te){return this.multiplyMatrices(this,te)}premultiply(te){return this.multiplyMatrices(te,this)}multiplyMatrices(te,ae){const oe=te.elements,ce=ae.elements,ue=this.elements,fe=oe[0],de=oe[3],pe=oe[6],me=oe[1],_e=oe[4],be=oe[7],Ee=oe[2],Ae=oe[5],Re=oe[8],Be=ce[0],De=ce[3],Oe=ce[6],Pe=ce[1],Ie=ce[4],Fe=ce[7],$e=ce[2],Ve=ce[5],ke=ce[8];return ue[0]=fe*Be+de*Pe+pe*$e,ue[3]=fe*De+de*Ie+pe*Ve,ue[6]=fe*Oe+de*Fe+pe*ke,ue[1]=me*Be+_e*Pe+be*$e,ue[4]=me*De+_e*Ie+be*Ve,ue[7]=me*Oe+_e*Fe+be*ke,ue[2]=Ee*Be+Ae*Pe+Re*$e,ue[5]=Ee*De+Ae*Ie+Re*Ve,ue[8]=Ee*Oe+Ae*Fe+Re*ke,this}multiplyScalar(te){const ae=this.elements;return ae[0]*=te,ae[3]*=te,ae[6]*=te,ae[1]*=te,ae[4]*=te,ae[7]*=te,ae[2]*=te,ae[5]*=te,ae[8]*=te,this}determinant(){const te=this.elements,ae=te[0],oe=te[1],ce=te[2],ue=te[3],fe=te[4],de=te[5],pe=te[6],me=te[7],_e=te[8];return ae*fe*_e-ae*de*me-oe*ue*_e+oe*de*pe+ce*ue*me-ce*fe*pe}invert(){const te=this.elements,ae=te[0],oe=te[1],ce=te[2],ue=te[3],fe=te[4],de=te[5],pe=te[6],me=te[7],_e=te[8],be=_e*fe-de*me,Ee=de*pe-_e*ue,Ae=me*ue-fe*pe,Re=ae*be+oe*Ee+ce*Ae;if(Re===0)return this.set(0,0,0,0,0,0,0,0,0);const Be=1/Re;return te[0]=be*Be,te[1]=(ce*me-_e*oe)*Be,te[2]=(de*oe-ce*fe)*Be,te[3]=Ee*Be,te[4]=(_e*ae-ce*pe)*Be,te[5]=(ce*ue-de*ae)*Be,te[6]=Ae*Be,te[7]=(oe*pe-me*ae)*Be,te[8]=(fe*ae-oe*ue)*Be,this}transpose(){let te;const ae=this.elements;return te=ae[1],ae[1]=ae[3],ae[3]=te,te=ae[2],ae[2]=ae[6],ae[6]=te,te=ae[5],ae[5]=ae[7],ae[7]=te,this}getNormalMatrix(te){return this.setFromMatrix4(te).invert().transpose()}transposeIntoArray(te){const ae=this.elements;return te[0]=ae[0],te[1]=ae[3],te[2]=ae[6],te[3]=ae[1],te[4]=ae[4],te[5]=ae[7],te[6]=ae[2],te[7]=ae[5],te[8]=ae[8],this}setUvTransform(te,ae,oe,ce,ue,fe,de){const pe=Math.cos(ue),me=Math.sin(ue);return this.set(oe*pe,oe*me,-oe*(pe*fe+me*de)+fe+te,-ce*me,ce*pe,-ce*(-me*fe+pe*de)+de+ae,0,0,1),this}scale(te,ae){return this.premultiply(_m3.makeScale(te,ae)),this}rotate(te){return this.premultiply(_m3.makeRotation(-te)),this}translate(te,ae){return this.premultiply(_m3.makeTranslation(te,ae)),this}makeTranslation(te,ae){return te.isVector2?this.set(1,0,te.x,0,1,te.y,0,0,1):this.set(1,0,te,0,1,ae,0,0,1),this}makeRotation(te){const ae=Math.cos(te),oe=Math.sin(te);return this.set(ae,-oe,0,oe,ae,0,0,0,1),this}makeScale(te,ae){return this.set(te,0,0,0,ae,0,0,0,1),this}equals(te){const ae=this.elements,oe=te.elements;for(let ce=0;ce<9;ce++)if(ae[ce]!==oe[ce])return!1;return!0}fromArray(te,ae=0){for(let oe=0;oe<9;oe++)this.elements[oe]=te[oe+ae];return this}toArray(te=[],ae=0){const oe=this.elements;return te[ae]=oe[0],te[ae+1]=oe[1],te[ae+2]=oe[2],te[ae+3]=oe[3],te[ae+4]=oe[4],te[ae+5]=oe[5],te[ae+6]=oe[6],te[ae+7]=oe[7],te[ae+8]=oe[8],te}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(se){for(let te=se.length-1;te>=0;--te)if(se[te]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(se,te){return new TYPED_ARRAYS[se](te)}function createElementNS(se){return document.createElementNS("http://www.w3.org/1999/xhtml",se)}function createCanvasElement(){const se=createElementNS("canvas");return se.style.display="block",se}const _cache={};function warnOnce(se){se in _cache||(_cache[se]=!0,console.warn(se))}function probeAsync(se,te,ae){return new Promise(function(oe,ce){function ue(){switch(se.clientWaitSync(te,se.SYNC_FLUSH_COMMANDS_BIT,0)){case se.WAIT_FAILED:ce();break;case se.TIMEOUT_EXPIRED:setTimeout(ue,ae);break;default:oe()}}setTimeout(ue,ae)})}function toNormalizedProjectionMatrix(se){const te=se.elements;te[2]=.5*te[2]+.5*te[3],te[6]=.5*te[6]+.5*te[7],te[10]=.5*te[10]+.5*te[11],te[14]=.5*te[14]+.5*te[15]}function toReversedProjectionMatrix(se){const te=se.elements;te[11]===-1?(te[10]=-te[10]-1,te[14]=-te[14]):(te[10]=-te[10],te[14]=-te[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const se={enabled:!0,workingColorSpace:LinearSRGBColorSpace$1,spaces:{},convert:function(ce,ue,fe){return this.enabled===!1||ue===fe||!ue||!fe||(this.spaces[ue].transfer===SRGBTransfer&&(ce.r=SRGBToLinear(ce.r),ce.g=SRGBToLinear(ce.g),ce.b=SRGBToLinear(ce.b)),this.spaces[ue].primaries!==this.spaces[fe].primaries&&(ce.applyMatrix3(this.spaces[ue].toXYZ),ce.applyMatrix3(this.spaces[fe].fromXYZ)),this.spaces[fe].transfer===SRGBTransfer&&(ce.r=LinearToSRGB(ce.r),ce.g=LinearToSRGB(ce.g),ce.b=LinearToSRGB(ce.b))),ce},fromWorkingColorSpace:function(ce,ue){return this.convert(ce,this.workingColorSpace,ue)},toWorkingColorSpace:function(ce,ue){return this.convert(ce,ue,this.workingColorSpace)},getPrimaries:function(ce){return this.spaces[ce].primaries},getTransfer:function(ce){return ce===NoColorSpace?LinearTransfer:this.spaces[ce].transfer},getLuminanceCoefficients:function(ce,ue=this.workingColorSpace){return ce.fromArray(this.spaces[ue].luminanceCoefficients)},define:function(ce){Object.assign(this.spaces,ce)},_getMatrix:function(ce,ue,fe){return ce.copy(this.spaces[ue].toXYZ).multiply(this.spaces[fe].fromXYZ)},_getDrawingBufferColorSpace:function(ce){return this.spaces[ce].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(ce=this.workingColorSpace){return this.spaces[ce].workingColorSpaceConfig.unpackColorSpace}},te=[.64,.33,.3,.6,.15,.06],ae=[.2126,.7152,.0722],oe=[.3127,.329];return se.define({[LinearSRGBColorSpace$1]:{primaries:te,whitePoint:oe,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:ae,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace$1},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace$1}},[SRGBColorSpace$1]:{primaries:te,whitePoint:oe,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:ae,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace$1}}}),se}const ColorManagement=createColorManagement();function SRGBToLinear(se){return se<.04045?se*.0773993808:Math.pow(se*.9478672986+.0521327014,2.4)}function LinearToSRGB(se){return se<.0031308?se*12.92:1.055*Math.pow(se,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(te,ae="image/png"){if(/^data:/i.test(te.src)||typeof HTMLCanvasElement>"u")return te.src;let oe;if(te instanceof HTMLCanvasElement)oe=te;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=te.width,_canvas.height=te.height;const ce=_canvas.getContext("2d");te instanceof ImageData?ce.putImageData(te,0,0):ce.drawImage(te,0,0,te.width,te.height),oe=_canvas}return oe.toDataURL(ae)}static sRGBToLinear(te){if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap){const ae=createElementNS("canvas");ae.width=te.width,ae.height=te.height;const oe=ae.getContext("2d");oe.drawImage(te,0,0,te.width,te.height);const ce=oe.getImageData(0,0,te.width,te.height),ue=ce.data;for(let fe=0;fe<ue.length;fe++)ue[fe]=SRGBToLinear(ue[fe]/255)*255;return oe.putImageData(ce,0,0),ae}else if(te.data){const ae=te.data.slice(0);for(let oe=0;oe<ae.length;oe++)ae instanceof Uint8Array||ae instanceof Uint8ClampedArray?ae[oe]=Math.floor(SRGBToLinear(ae[oe]/255)*255):ae[oe]=SRGBToLinear(ae[oe]);return{data:ae,width:te.width,height:te.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),te}}let _sourceId=0;class Source{constructor(te=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=te,this.dataReady=!0,this.version=0}set needsUpdate(te){te===!0&&this.version++}toJSON(te){const ae=te===void 0||typeof te=="string";if(!ae&&te.images[this.uuid]!==void 0)return te.images[this.uuid];const oe={uuid:this.uuid,url:""},ce=this.data;if(ce!==null){let ue;if(Array.isArray(ce)){ue=[];for(let fe=0,de=ce.length;fe<de;fe++)ce[fe].isDataTexture?ue.push(serializeImage(ce[fe].image)):ue.push(serializeImage(ce[fe]))}else ue=serializeImage(ce);oe.url=ue}return ae||(te.images[this.uuid]=oe),oe}}function serializeImage(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap?ImageUtils.getDataURL(se):se.data?{data:Array.from(se.data),width:se.width,height:se.height,type:se.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(te=Texture.DEFAULT_IMAGE,ae=Texture.DEFAULT_MAPPING,oe=ClampToEdgeWrapping,ce=ClampToEdgeWrapping,ue=LinearFilter,fe=LinearMipmapLinearFilter,de=RGBAFormat,pe=UnsignedByteType,me=Texture.DEFAULT_ANISOTROPY,_e=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(te),this.mipmaps=[],this.mapping=ae,this.channel=0,this.wrapS=oe,this.wrapT=ce,this.magFilter=ue,this.minFilter=fe,this.anisotropy=me,this.format=de,this.internalFormat=null,this.type=pe,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=_e,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(te=null){this.source.data=te}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(te){return this.name=te.name,this.source=te.source,this.mipmaps=te.mipmaps.slice(0),this.mapping=te.mapping,this.channel=te.channel,this.wrapS=te.wrapS,this.wrapT=te.wrapT,this.magFilter=te.magFilter,this.minFilter=te.minFilter,this.anisotropy=te.anisotropy,this.format=te.format,this.internalFormat=te.internalFormat,this.type=te.type,this.offset.copy(te.offset),this.repeat.copy(te.repeat),this.center.copy(te.center),this.rotation=te.rotation,this.matrixAutoUpdate=te.matrixAutoUpdate,this.matrix.copy(te.matrix),this.generateMipmaps=te.generateMipmaps,this.premultiplyAlpha=te.premultiplyAlpha,this.flipY=te.flipY,this.unpackAlignment=te.unpackAlignment,this.colorSpace=te.colorSpace,this.renderTarget=te.renderTarget,this.isRenderTargetTexture=te.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(te.userData)),this.needsUpdate=!0,this}toJSON(te){const ae=te===void 0||typeof te=="string";if(!ae&&te.textures[this.uuid]!==void 0)return te.textures[this.uuid];const oe={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(te).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(oe.userData=this.userData),ae||(te.textures[this.uuid]=oe),oe}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(te){if(this.mapping!==UVMapping)return te;if(te.applyMatrix3(this.matrix),te.x<0||te.x>1)switch(this.wrapS){case RepeatWrapping:te.x=te.x-Math.floor(te.x);break;case ClampToEdgeWrapping:te.x=te.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(te.x)%2)===1?te.x=Math.ceil(te.x)-te.x:te.x=te.x-Math.floor(te.x);break}if(te.y<0||te.y>1)switch(this.wrapT){case RepeatWrapping:te.y=te.y-Math.floor(te.y);break;case ClampToEdgeWrapping:te.y=te.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(te.y)%2)===1?te.y=Math.ceil(te.y)-te.y:te.y=te.y-Math.floor(te.y);break}return this.flipY&&(te.y=1-te.y),te}set needsUpdate(te){te===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(te){te===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(te=0,ae=0,oe=0,ce=1){Vector4.prototype.isVector4=!0,this.x=te,this.y=ae,this.z=oe,this.w=ce}get width(){return this.z}set width(te){this.z=te}get height(){return this.w}set height(te){this.w=te}set(te,ae,oe,ce){return this.x=te,this.y=ae,this.z=oe,this.w=ce,this}setScalar(te){return this.x=te,this.y=te,this.z=te,this.w=te,this}setX(te){return this.x=te,this}setY(te){return this.y=te,this}setZ(te){return this.z=te,this}setW(te){return this.w=te,this}setComponent(te,ae){switch(te){case 0:this.x=ae;break;case 1:this.y=ae;break;case 2:this.z=ae;break;case 3:this.w=ae;break;default:throw new Error("index is out of range: "+te)}return this}getComponent(te){switch(te){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+te)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(te){return this.x=te.x,this.y=te.y,this.z=te.z,this.w=te.w!==void 0?te.w:1,this}add(te){return this.x+=te.x,this.y+=te.y,this.z+=te.z,this.w+=te.w,this}addScalar(te){return this.x+=te,this.y+=te,this.z+=te,this.w+=te,this}addVectors(te,ae){return this.x=te.x+ae.x,this.y=te.y+ae.y,this.z=te.z+ae.z,this.w=te.w+ae.w,this}addScaledVector(te,ae){return this.x+=te.x*ae,this.y+=te.y*ae,this.z+=te.z*ae,this.w+=te.w*ae,this}sub(te){return this.x-=te.x,this.y-=te.y,this.z-=te.z,this.w-=te.w,this}subScalar(te){return this.x-=te,this.y-=te,this.z-=te,this.w-=te,this}subVectors(te,ae){return this.x=te.x-ae.x,this.y=te.y-ae.y,this.z=te.z-ae.z,this.w=te.w-ae.w,this}multiply(te){return this.x*=te.x,this.y*=te.y,this.z*=te.z,this.w*=te.w,this}multiplyScalar(te){return this.x*=te,this.y*=te,this.z*=te,this.w*=te,this}applyMatrix4(te){const ae=this.x,oe=this.y,ce=this.z,ue=this.w,fe=te.elements;return this.x=fe[0]*ae+fe[4]*oe+fe[8]*ce+fe[12]*ue,this.y=fe[1]*ae+fe[5]*oe+fe[9]*ce+fe[13]*ue,this.z=fe[2]*ae+fe[6]*oe+fe[10]*ce+fe[14]*ue,this.w=fe[3]*ae+fe[7]*oe+fe[11]*ce+fe[15]*ue,this}divide(te){return this.x/=te.x,this.y/=te.y,this.z/=te.z,this.w/=te.w,this}divideScalar(te){return this.multiplyScalar(1/te)}setAxisAngleFromQuaternion(te){this.w=2*Math.acos(te.w);const ae=Math.sqrt(1-te.w*te.w);return ae<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=te.x/ae,this.y=te.y/ae,this.z=te.z/ae),this}setAxisAngleFromRotationMatrix(te){let ae,oe,ce,ue;const pe=te.elements,me=pe[0],_e=pe[4],be=pe[8],Ee=pe[1],Ae=pe[5],Re=pe[9],Be=pe[2],De=pe[6],Oe=pe[10];if(Math.abs(_e-Ee)<.01&&Math.abs(be-Be)<.01&&Math.abs(Re-De)<.01){if(Math.abs(_e+Ee)<.1&&Math.abs(be+Be)<.1&&Math.abs(Re+De)<.1&&Math.abs(me+Ae+Oe-3)<.1)return this.set(1,0,0,0),this;ae=Math.PI;const Ie=(me+1)/2,Fe=(Ae+1)/2,$e=(Oe+1)/2,Ve=(_e+Ee)/4,ke=(be+Be)/4,We=(Re+De)/4;return Ie>Fe&&Ie>$e?Ie<.01?(oe=0,ce=.707106781,ue=.707106781):(oe=Math.sqrt(Ie),ce=Ve/oe,ue=ke/oe):Fe>$e?Fe<.01?(oe=.707106781,ce=0,ue=.707106781):(ce=Math.sqrt(Fe),oe=Ve/ce,ue=We/ce):$e<.01?(oe=.707106781,ce=.707106781,ue=0):(ue=Math.sqrt($e),oe=ke/ue,ce=We/ue),this.set(oe,ce,ue,ae),this}let Pe=Math.sqrt((De-Re)*(De-Re)+(be-Be)*(be-Be)+(Ee-_e)*(Ee-_e));return Math.abs(Pe)<.001&&(Pe=1),this.x=(De-Re)/Pe,this.y=(be-Be)/Pe,this.z=(Ee-_e)/Pe,this.w=Math.acos((me+Ae+Oe-1)/2),this}setFromMatrixPosition(te){const ae=te.elements;return this.x=ae[12],this.y=ae[13],this.z=ae[14],this.w=ae[15],this}min(te){return this.x=Math.min(this.x,te.x),this.y=Math.min(this.y,te.y),this.z=Math.min(this.z,te.z),this.w=Math.min(this.w,te.w),this}max(te){return this.x=Math.max(this.x,te.x),this.y=Math.max(this.y,te.y),this.z=Math.max(this.z,te.z),this.w=Math.max(this.w,te.w),this}clamp(te,ae){return this.x=clamp$4(this.x,te.x,ae.x),this.y=clamp$4(this.y,te.y,ae.y),this.z=clamp$4(this.z,te.z,ae.z),this.w=clamp$4(this.w,te.w,ae.w),this}clampScalar(te,ae){return this.x=clamp$4(this.x,te,ae),this.y=clamp$4(this.y,te,ae),this.z=clamp$4(this.z,te,ae),this.w=clamp$4(this.w,te,ae),this}clampLength(te,ae){const oe=this.length();return this.divideScalar(oe||1).multiplyScalar(clamp$4(oe,te,ae))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(te){return this.x*te.x+this.y*te.y+this.z*te.z+this.w*te.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(te){return this.normalize().multiplyScalar(te)}lerp(te,ae){return this.x+=(te.x-this.x)*ae,this.y+=(te.y-this.y)*ae,this.z+=(te.z-this.z)*ae,this.w+=(te.w-this.w)*ae,this}lerpVectors(te,ae,oe){return this.x=te.x+(ae.x-te.x)*oe,this.y=te.y+(ae.y-te.y)*oe,this.z=te.z+(ae.z-te.z)*oe,this.w=te.w+(ae.w-te.w)*oe,this}equals(te){return te.x===this.x&&te.y===this.y&&te.z===this.z&&te.w===this.w}fromArray(te,ae=0){return this.x=te[ae],this.y=te[ae+1],this.z=te[ae+2],this.w=te[ae+3],this}toArray(te=[],ae=0){return te[ae]=this.x,te[ae+1]=this.y,te[ae+2]=this.z,te[ae+3]=this.w,te}fromBufferAttribute(te,ae){return this.x=te.getX(ae),this.y=te.getY(ae),this.z=te.getZ(ae),this.w=te.getW(ae),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(te=1,ae=1,oe={}){super(),this.isRenderTarget=!0,this.width=te,this.height=ae,this.depth=1,this.scissor=new Vector4(0,0,te,ae),this.scissorTest=!1,this.viewport=new Vector4(0,0,te,ae);const ce={width:te,height:ae,depth:1};oe=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},oe);const ue=new Texture(ce,oe.mapping,oe.wrapS,oe.wrapT,oe.magFilter,oe.minFilter,oe.format,oe.type,oe.anisotropy,oe.colorSpace);ue.flipY=!1,ue.generateMipmaps=oe.generateMipmaps,ue.internalFormat=oe.internalFormat,this.textures=[];const fe=oe.count;for(let de=0;de<fe;de++)this.textures[de]=ue.clone(),this.textures[de].isRenderTargetTexture=!0,this.textures[de].renderTarget=this;this.depthBuffer=oe.depthBuffer,this.stencilBuffer=oe.stencilBuffer,this.resolveDepthBuffer=oe.resolveDepthBuffer,this.resolveStencilBuffer=oe.resolveStencilBuffer,this._depthTexture=oe.depthTexture,this.samples=oe.samples}get texture(){return this.textures[0]}set texture(te){this.textures[0]=te}set depthTexture(te){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),te!==null&&(te.renderTarget=this),this._depthTexture=te}get depthTexture(){return this._depthTexture}setSize(te,ae,oe=1){if(this.width!==te||this.height!==ae||this.depth!==oe){this.width=te,this.height=ae,this.depth=oe;for(let ce=0,ue=this.textures.length;ce<ue;ce++)this.textures[ce].image.width=te,this.textures[ce].image.height=ae,this.textures[ce].image.depth=oe;this.dispose()}this.viewport.set(0,0,te,ae),this.scissor.set(0,0,te,ae)}clone(){return new this.constructor().copy(this)}copy(te){this.width=te.width,this.height=te.height,this.depth=te.depth,this.scissor.copy(te.scissor),this.scissorTest=te.scissorTest,this.viewport.copy(te.viewport),this.textures.length=0;for(let ae=0,oe=te.textures.length;ae<oe;ae++){this.textures[ae]=te.textures[ae].clone(),this.textures[ae].isRenderTargetTexture=!0,this.textures[ae].renderTarget=this;const ce=Object.assign({},te.textures[ae].image);this.textures[ae].source=new Source(ce)}return this.depthBuffer=te.depthBuffer,this.stencilBuffer=te.stencilBuffer,this.resolveDepthBuffer=te.resolveDepthBuffer,this.resolveStencilBuffer=te.resolveStencilBuffer,te.depthTexture!==null&&(this.depthTexture=te.depthTexture.clone()),this.samples=te.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(te=1,ae=1,oe={}){super(te,ae,oe),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(te=null,ae=1,oe=1,ce=1){super(null),this.isDataArrayTexture=!0,this.image={data:te,width:ae,height:oe,depth:ce},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(te){this.layerUpdates.add(te)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(te=1,ae=1,oe=1,ce={}){super(te,ae,ce),this.isWebGLArrayRenderTarget=!0,this.depth=oe,this.texture=new DataArrayTexture(null,te,ae,oe),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(te=null,ae=1,oe=1,ce=1){super(null),this.isData3DTexture=!0,this.image={data:te,width:ae,height:oe,depth:ce},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(te=1,ae=1,oe=1,ce={}){super(te,ae,ce),this.isWebGL3DRenderTarget=!0,this.depth=oe,this.texture=new Data3DTexture(null,te,ae,oe),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(te=0,ae=0,oe=0,ce=1){this.isQuaternion=!0,this._x=te,this._y=ae,this._z=oe,this._w=ce}static slerpFlat(te,ae,oe,ce,ue,fe,de){let pe=oe[ce+0],me=oe[ce+1],_e=oe[ce+2],be=oe[ce+3];const Ee=ue[fe+0],Ae=ue[fe+1],Re=ue[fe+2],Be=ue[fe+3];if(de===0){te[ae+0]=pe,te[ae+1]=me,te[ae+2]=_e,te[ae+3]=be;return}if(de===1){te[ae+0]=Ee,te[ae+1]=Ae,te[ae+2]=Re,te[ae+3]=Be;return}if(be!==Be||pe!==Ee||me!==Ae||_e!==Re){let De=1-de;const Oe=pe*Ee+me*Ae+_e*Re+be*Be,Pe=Oe>=0?1:-1,Ie=1-Oe*Oe;if(Ie>Number.EPSILON){const $e=Math.sqrt(Ie),Ve=Math.atan2($e,Oe*Pe);De=Math.sin(De*Ve)/$e,de=Math.sin(de*Ve)/$e}const Fe=de*Pe;if(pe=pe*De+Ee*Fe,me=me*De+Ae*Fe,_e=_e*De+Re*Fe,be=be*De+Be*Fe,De===1-de){const $e=1/Math.sqrt(pe*pe+me*me+_e*_e+be*be);pe*=$e,me*=$e,_e*=$e,be*=$e}}te[ae]=pe,te[ae+1]=me,te[ae+2]=_e,te[ae+3]=be}static multiplyQuaternionsFlat(te,ae,oe,ce,ue,fe){const de=oe[ce],pe=oe[ce+1],me=oe[ce+2],_e=oe[ce+3],be=ue[fe],Ee=ue[fe+1],Ae=ue[fe+2],Re=ue[fe+3];return te[ae]=de*Re+_e*be+pe*Ae-me*Ee,te[ae+1]=pe*Re+_e*Ee+me*be-de*Ae,te[ae+2]=me*Re+_e*Ae+de*Ee-pe*be,te[ae+3]=_e*Re-de*be-pe*Ee-me*Ae,te}get x(){return this._x}set x(te){this._x=te,this._onChangeCallback()}get y(){return this._y}set y(te){this._y=te,this._onChangeCallback()}get z(){return this._z}set z(te){this._z=te,this._onChangeCallback()}get w(){return this._w}set w(te){this._w=te,this._onChangeCallback()}set(te,ae,oe,ce){return this._x=te,this._y=ae,this._z=oe,this._w=ce,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(te){return this._x=te.x,this._y=te.y,this._z=te.z,this._w=te.w,this._onChangeCallback(),this}setFromEuler(te,ae=!0){const oe=te._x,ce=te._y,ue=te._z,fe=te._order,de=Math.cos,pe=Math.sin,me=de(oe/2),_e=de(ce/2),be=de(ue/2),Ee=pe(oe/2),Ae=pe(ce/2),Re=pe(ue/2);switch(fe){case"XYZ":this._x=Ee*_e*be+me*Ae*Re,this._y=me*Ae*be-Ee*_e*Re,this._z=me*_e*Re+Ee*Ae*be,this._w=me*_e*be-Ee*Ae*Re;break;case"YXZ":this._x=Ee*_e*be+me*Ae*Re,this._y=me*Ae*be-Ee*_e*Re,this._z=me*_e*Re-Ee*Ae*be,this._w=me*_e*be+Ee*Ae*Re;break;case"ZXY":this._x=Ee*_e*be-me*Ae*Re,this._y=me*Ae*be+Ee*_e*Re,this._z=me*_e*Re+Ee*Ae*be,this._w=me*_e*be-Ee*Ae*Re;break;case"ZYX":this._x=Ee*_e*be-me*Ae*Re,this._y=me*Ae*be+Ee*_e*Re,this._z=me*_e*Re-Ee*Ae*be,this._w=me*_e*be+Ee*Ae*Re;break;case"YZX":this._x=Ee*_e*be+me*Ae*Re,this._y=me*Ae*be+Ee*_e*Re,this._z=me*_e*Re-Ee*Ae*be,this._w=me*_e*be-Ee*Ae*Re;break;case"XZY":this._x=Ee*_e*be-me*Ae*Re,this._y=me*Ae*be-Ee*_e*Re,this._z=me*_e*Re+Ee*Ae*be,this._w=me*_e*be+Ee*Ae*Re;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+fe)}return ae===!0&&this._onChangeCallback(),this}setFromAxisAngle(te,ae){const oe=ae/2,ce=Math.sin(oe);return this._x=te.x*ce,this._y=te.y*ce,this._z=te.z*ce,this._w=Math.cos(oe),this._onChangeCallback(),this}setFromRotationMatrix(te){const ae=te.elements,oe=ae[0],ce=ae[4],ue=ae[8],fe=ae[1],de=ae[5],pe=ae[9],me=ae[2],_e=ae[6],be=ae[10],Ee=oe+de+be;if(Ee>0){const Ae=.5/Math.sqrt(Ee+1);this._w=.25/Ae,this._x=(_e-pe)*Ae,this._y=(ue-me)*Ae,this._z=(fe-ce)*Ae}else if(oe>de&&oe>be){const Ae=2*Math.sqrt(1+oe-de-be);this._w=(_e-pe)/Ae,this._x=.25*Ae,this._y=(ce+fe)/Ae,this._z=(ue+me)/Ae}else if(de>be){const Ae=2*Math.sqrt(1+de-oe-be);this._w=(ue-me)/Ae,this._x=(ce+fe)/Ae,this._y=.25*Ae,this._z=(pe+_e)/Ae}else{const Ae=2*Math.sqrt(1+be-oe-de);this._w=(fe-ce)/Ae,this._x=(ue+me)/Ae,this._y=(pe+_e)/Ae,this._z=.25*Ae}return this._onChangeCallback(),this}setFromUnitVectors(te,ae){let oe=te.dot(ae)+1;return oe<Number.EPSILON?(oe=0,Math.abs(te.x)>Math.abs(te.z)?(this._x=-te.y,this._y=te.x,this._z=0,this._w=oe):(this._x=0,this._y=-te.z,this._z=te.y,this._w=oe)):(this._x=te.y*ae.z-te.z*ae.y,this._y=te.z*ae.x-te.x*ae.z,this._z=te.x*ae.y-te.y*ae.x,this._w=oe),this.normalize()}angleTo(te){return 2*Math.acos(Math.abs(clamp$4(this.dot(te),-1,1)))}rotateTowards(te,ae){const oe=this.angleTo(te);if(oe===0)return this;const ce=Math.min(1,ae/oe);return this.slerp(te,ce),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(te){return this._x*te._x+this._y*te._y+this._z*te._z+this._w*te._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let te=this.length();return te===0?(this._x=0,this._y=0,this._z=0,this._w=1):(te=1/te,this._x=this._x*te,this._y=this._y*te,this._z=this._z*te,this._w=this._w*te),this._onChangeCallback(),this}multiply(te){return this.multiplyQuaternions(this,te)}premultiply(te){return this.multiplyQuaternions(te,this)}multiplyQuaternions(te,ae){const oe=te._x,ce=te._y,ue=te._z,fe=te._w,de=ae._x,pe=ae._y,me=ae._z,_e=ae._w;return this._x=oe*_e+fe*de+ce*me-ue*pe,this._y=ce*_e+fe*pe+ue*de-oe*me,this._z=ue*_e+fe*me+oe*pe-ce*de,this._w=fe*_e-oe*de-ce*pe-ue*me,this._onChangeCallback(),this}slerp(te,ae){if(ae===0)return this;if(ae===1)return this.copy(te);const oe=this._x,ce=this._y,ue=this._z,fe=this._w;let de=fe*te._w+oe*te._x+ce*te._y+ue*te._z;if(de<0?(this._w=-te._w,this._x=-te._x,this._y=-te._y,this._z=-te._z,de=-de):this.copy(te),de>=1)return this._w=fe,this._x=oe,this._y=ce,this._z=ue,this;const pe=1-de*de;if(pe<=Number.EPSILON){const Ae=1-ae;return this._w=Ae*fe+ae*this._w,this._x=Ae*oe+ae*this._x,this._y=Ae*ce+ae*this._y,this._z=Ae*ue+ae*this._z,this.normalize(),this}const me=Math.sqrt(pe),_e=Math.atan2(me,de),be=Math.sin((1-ae)*_e)/me,Ee=Math.sin(ae*_e)/me;return this._w=fe*be+this._w*Ee,this._x=oe*be+this._x*Ee,this._y=ce*be+this._y*Ee,this._z=ue*be+this._z*Ee,this._onChangeCallback(),this}slerpQuaternions(te,ae,oe){return this.copy(te).slerp(ae,oe)}random(){const te=2*Math.PI*Math.random(),ae=2*Math.PI*Math.random(),oe=Math.random(),ce=Math.sqrt(1-oe),ue=Math.sqrt(oe);return this.set(ce*Math.sin(te),ce*Math.cos(te),ue*Math.sin(ae),ue*Math.cos(ae))}equals(te){return te._x===this._x&&te._y===this._y&&te._z===this._z&&te._w===this._w}fromArray(te,ae=0){return this._x=te[ae],this._y=te[ae+1],this._z=te[ae+2],this._w=te[ae+3],this._onChangeCallback(),this}toArray(te=[],ae=0){return te[ae]=this._x,te[ae+1]=this._y,te[ae+2]=this._z,te[ae+3]=this._w,te}fromBufferAttribute(te,ae){return this._x=te.getX(ae),this._y=te.getY(ae),this._z=te.getZ(ae),this._w=te.getW(ae),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(te){return this._onChangeCallback=te,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(te=0,ae=0,oe=0){Vector3.prototype.isVector3=!0,this.x=te,this.y=ae,this.z=oe}set(te,ae,oe){return oe===void 0&&(oe=this.z),this.x=te,this.y=ae,this.z=oe,this}setScalar(te){return this.x=te,this.y=te,this.z=te,this}setX(te){return this.x=te,this}setY(te){return this.y=te,this}setZ(te){return this.z=te,this}setComponent(te,ae){switch(te){case 0:this.x=ae;break;case 1:this.y=ae;break;case 2:this.z=ae;break;default:throw new Error("index is out of range: "+te)}return this}getComponent(te){switch(te){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+te)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(te){return this.x=te.x,this.y=te.y,this.z=te.z,this}add(te){return this.x+=te.x,this.y+=te.y,this.z+=te.z,this}addScalar(te){return this.x+=te,this.y+=te,this.z+=te,this}addVectors(te,ae){return this.x=te.x+ae.x,this.y=te.y+ae.y,this.z=te.z+ae.z,this}addScaledVector(te,ae){return this.x+=te.x*ae,this.y+=te.y*ae,this.z+=te.z*ae,this}sub(te){return this.x-=te.x,this.y-=te.y,this.z-=te.z,this}subScalar(te){return this.x-=te,this.y-=te,this.z-=te,this}subVectors(te,ae){return this.x=te.x-ae.x,this.y=te.y-ae.y,this.z=te.z-ae.z,this}multiply(te){return this.x*=te.x,this.y*=te.y,this.z*=te.z,this}multiplyScalar(te){return this.x*=te,this.y*=te,this.z*=te,this}multiplyVectors(te,ae){return this.x=te.x*ae.x,this.y=te.y*ae.y,this.z=te.z*ae.z,this}applyEuler(te){return this.applyQuaternion(_quaternion$4.setFromEuler(te))}applyAxisAngle(te,ae){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(te,ae))}applyMatrix3(te){const ae=this.x,oe=this.y,ce=this.z,ue=te.elements;return this.x=ue[0]*ae+ue[3]*oe+ue[6]*ce,this.y=ue[1]*ae+ue[4]*oe+ue[7]*ce,this.z=ue[2]*ae+ue[5]*oe+ue[8]*ce,this}applyNormalMatrix(te){return this.applyMatrix3(te).normalize()}applyMatrix4(te){const ae=this.x,oe=this.y,ce=this.z,ue=te.elements,fe=1/(ue[3]*ae+ue[7]*oe+ue[11]*ce+ue[15]);return this.x=(ue[0]*ae+ue[4]*oe+ue[8]*ce+ue[12])*fe,this.y=(ue[1]*ae+ue[5]*oe+ue[9]*ce+ue[13])*fe,this.z=(ue[2]*ae+ue[6]*oe+ue[10]*ce+ue[14])*fe,this}applyQuaternion(te){const ae=this.x,oe=this.y,ce=this.z,ue=te.x,fe=te.y,de=te.z,pe=te.w,me=2*(fe*ce-de*oe),_e=2*(de*ae-ue*ce),be=2*(ue*oe-fe*ae);return this.x=ae+pe*me+fe*be-de*_e,this.y=oe+pe*_e+de*me-ue*be,this.z=ce+pe*be+ue*_e-fe*me,this}project(te){return this.applyMatrix4(te.matrixWorldInverse).applyMatrix4(te.projectionMatrix)}unproject(te){return this.applyMatrix4(te.projectionMatrixInverse).applyMatrix4(te.matrixWorld)}transformDirection(te){const ae=this.x,oe=this.y,ce=this.z,ue=te.elements;return this.x=ue[0]*ae+ue[4]*oe+ue[8]*ce,this.y=ue[1]*ae+ue[5]*oe+ue[9]*ce,this.z=ue[2]*ae+ue[6]*oe+ue[10]*ce,this.normalize()}divide(te){return this.x/=te.x,this.y/=te.y,this.z/=te.z,this}divideScalar(te){return this.multiplyScalar(1/te)}min(te){return this.x=Math.min(this.x,te.x),this.y=Math.min(this.y,te.y),this.z=Math.min(this.z,te.z),this}max(te){return this.x=Math.max(this.x,te.x),this.y=Math.max(this.y,te.y),this.z=Math.max(this.z,te.z),this}clamp(te,ae){return this.x=clamp$4(this.x,te.x,ae.x),this.y=clamp$4(this.y,te.y,ae.y),this.z=clamp$4(this.z,te.z,ae.z),this}clampScalar(te,ae){return this.x=clamp$4(this.x,te,ae),this.y=clamp$4(this.y,te,ae),this.z=clamp$4(this.z,te,ae),this}clampLength(te,ae){const oe=this.length();return this.divideScalar(oe||1).multiplyScalar(clamp$4(oe,te,ae))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(te){return this.x*te.x+this.y*te.y+this.z*te.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(te){return this.normalize().multiplyScalar(te)}lerp(te,ae){return this.x+=(te.x-this.x)*ae,this.y+=(te.y-this.y)*ae,this.z+=(te.z-this.z)*ae,this}lerpVectors(te,ae,oe){return this.x=te.x+(ae.x-te.x)*oe,this.y=te.y+(ae.y-te.y)*oe,this.z=te.z+(ae.z-te.z)*oe,this}cross(te){return this.crossVectors(this,te)}crossVectors(te,ae){const oe=te.x,ce=te.y,ue=te.z,fe=ae.x,de=ae.y,pe=ae.z;return this.x=ce*pe-ue*de,this.y=ue*fe-oe*pe,this.z=oe*de-ce*fe,this}projectOnVector(te){const ae=te.lengthSq();if(ae===0)return this.set(0,0,0);const oe=te.dot(this)/ae;return this.copy(te).multiplyScalar(oe)}projectOnPlane(te){return _vector$c.copy(this).projectOnVector(te),this.sub(_vector$c)}reflect(te){return this.sub(_vector$c.copy(te).multiplyScalar(2*this.dot(te)))}angleTo(te){const ae=Math.sqrt(this.lengthSq()*te.lengthSq());if(ae===0)return Math.PI/2;const oe=this.dot(te)/ae;return Math.acos(clamp$4(oe,-1,1))}distanceTo(te){return Math.sqrt(this.distanceToSquared(te))}distanceToSquared(te){const ae=this.x-te.x,oe=this.y-te.y,ce=this.z-te.z;return ae*ae+oe*oe+ce*ce}manhattanDistanceTo(te){return Math.abs(this.x-te.x)+Math.abs(this.y-te.y)+Math.abs(this.z-te.z)}setFromSpherical(te){return this.setFromSphericalCoords(te.radius,te.phi,te.theta)}setFromSphericalCoords(te,ae,oe){const ce=Math.sin(ae)*te;return this.x=ce*Math.sin(oe),this.y=Math.cos(ae)*te,this.z=ce*Math.cos(oe),this}setFromCylindrical(te){return this.setFromCylindricalCoords(te.radius,te.theta,te.y)}setFromCylindricalCoords(te,ae,oe){return this.x=te*Math.sin(ae),this.y=oe,this.z=te*Math.cos(ae),this}setFromMatrixPosition(te){const ae=te.elements;return this.x=ae[12],this.y=ae[13],this.z=ae[14],this}setFromMatrixScale(te){const ae=this.setFromMatrixColumn(te,0).length(),oe=this.setFromMatrixColumn(te,1).length(),ce=this.setFromMatrixColumn(te,2).length();return this.x=ae,this.y=oe,this.z=ce,this}setFromMatrixColumn(te,ae){return this.fromArray(te.elements,ae*4)}setFromMatrix3Column(te,ae){return this.fromArray(te.elements,ae*3)}setFromEuler(te){return this.x=te._x,this.y=te._y,this.z=te._z,this}setFromColor(te){return this.x=te.r,this.y=te.g,this.z=te.b,this}equals(te){return te.x===this.x&&te.y===this.y&&te.z===this.z}fromArray(te,ae=0){return this.x=te[ae],this.y=te[ae+1],this.z=te[ae+2],this}toArray(te=[],ae=0){return te[ae]=this.x,te[ae+1]=this.y,te[ae+2]=this.z,te}fromBufferAttribute(te,ae){return this.x=te.getX(ae),this.y=te.getY(ae),this.z=te.getZ(ae),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const te=Math.random()*Math.PI*2,ae=Math.random()*2-1,oe=Math.sqrt(1-ae*ae);return this.x=oe*Math.cos(te),this.y=ae,this.z=oe*Math.sin(te),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(te=new Vector3(1/0,1/0,1/0),ae=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=te,this.max=ae}set(te,ae){return this.min.copy(te),this.max.copy(ae),this}setFromArray(te){this.makeEmpty();for(let ae=0,oe=te.length;ae<oe;ae+=3)this.expandByPoint(_vector$b.fromArray(te,ae));return this}setFromBufferAttribute(te){this.makeEmpty();for(let ae=0,oe=te.count;ae<oe;ae++)this.expandByPoint(_vector$b.fromBufferAttribute(te,ae));return this}setFromPoints(te){this.makeEmpty();for(let ae=0,oe=te.length;ae<oe;ae++)this.expandByPoint(te[ae]);return this}setFromCenterAndSize(te,ae){const oe=_vector$b.copy(ae).multiplyScalar(.5);return this.min.copy(te).sub(oe),this.max.copy(te).add(oe),this}setFromObject(te,ae=!1){return this.makeEmpty(),this.expandByObject(te,ae)}clone(){return new this.constructor().copy(this)}copy(te){return this.min.copy(te.min),this.max.copy(te.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(te){return this.isEmpty()?te.set(0,0,0):te.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(te){return this.isEmpty()?te.set(0,0,0):te.subVectors(this.max,this.min)}expandByPoint(te){return this.min.min(te),this.max.max(te),this}expandByVector(te){return this.min.sub(te),this.max.add(te),this}expandByScalar(te){return this.min.addScalar(-te),this.max.addScalar(te),this}expandByObject(te,ae=!1){te.updateWorldMatrix(!1,!1);const oe=te.geometry;if(oe!==void 0){const ue=oe.getAttribute("position");if(ae===!0&&ue!==void 0&&te.isInstancedMesh!==!0)for(let fe=0,de=ue.count;fe<de;fe++)te.isMesh===!0?te.getVertexPosition(fe,_vector$b):_vector$b.fromBufferAttribute(ue,fe),_vector$b.applyMatrix4(te.matrixWorld),this.expandByPoint(_vector$b);else te.boundingBox!==void 0?(te.boundingBox===null&&te.computeBoundingBox(),_box$4.copy(te.boundingBox)):(oe.boundingBox===null&&oe.computeBoundingBox(),_box$4.copy(oe.boundingBox)),_box$4.applyMatrix4(te.matrixWorld),this.union(_box$4)}const ce=te.children;for(let ue=0,fe=ce.length;ue<fe;ue++)this.expandByObject(ce[ue],ae);return this}containsPoint(te){return te.x>=this.min.x&&te.x<=this.max.x&&te.y>=this.min.y&&te.y<=this.max.y&&te.z>=this.min.z&&te.z<=this.max.z}containsBox(te){return this.min.x<=te.min.x&&te.max.x<=this.max.x&&this.min.y<=te.min.y&&te.max.y<=this.max.y&&this.min.z<=te.min.z&&te.max.z<=this.max.z}getParameter(te,ae){return ae.set((te.x-this.min.x)/(this.max.x-this.min.x),(te.y-this.min.y)/(this.max.y-this.min.y),(te.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(te){return te.max.x>=this.min.x&&te.min.x<=this.max.x&&te.max.y>=this.min.y&&te.min.y<=this.max.y&&te.max.z>=this.min.z&&te.min.z<=this.max.z}intersectsSphere(te){return this.clampPoint(te.center,_vector$b),_vector$b.distanceToSquared(te.center)<=te.radius*te.radius}intersectsPlane(te){let ae,oe;return te.normal.x>0?(ae=te.normal.x*this.min.x,oe=te.normal.x*this.max.x):(ae=te.normal.x*this.max.x,oe=te.normal.x*this.min.x),te.normal.y>0?(ae+=te.normal.y*this.min.y,oe+=te.normal.y*this.max.y):(ae+=te.normal.y*this.max.y,oe+=te.normal.y*this.min.y),te.normal.z>0?(ae+=te.normal.z*this.min.z,oe+=te.normal.z*this.max.z):(ae+=te.normal.z*this.max.z,oe+=te.normal.z*this.min.z),ae<=-te.constant&&oe>=-te.constant}intersectsTriangle(te){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(te.a,_center),_v1$7.subVectors(te.b,_center),_v2$4.subVectors(te.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let ae=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(ae,_v0$2,_v1$7,_v2$4,_extents)||(ae=[1,0,0,0,1,0,0,0,1],!satForAxes(ae,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),ae=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(ae,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(te,ae){return ae.copy(te).clamp(this.min,this.max)}distanceToPoint(te){return this.clampPoint(te,_vector$b).distanceTo(te)}getBoundingSphere(te){return this.isEmpty()?te.makeEmpty():(this.getCenter(te.center),te.radius=this.getSize(_vector$b).length()*.5),te}intersect(te){return this.min.max(te.min),this.max.min(te.max),this.isEmpty()&&this.makeEmpty(),this}union(te){return this.min.min(te.min),this.max.max(te.max),this}applyMatrix4(te){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(te),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(te),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(te),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(te),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(te),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(te),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(te),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(te),this.setFromPoints(_points),this)}translate(te){return this.min.add(te),this.max.add(te),this}equals(te){return te.min.equals(this.min)&&te.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(se,te,ae,oe,ce){for(let ue=0,fe=se.length-3;ue<=fe;ue+=3){_testAxis.fromArray(se,ue);const de=ce.x*Math.abs(_testAxis.x)+ce.y*Math.abs(_testAxis.y)+ce.z*Math.abs(_testAxis.z),pe=te.dot(_testAxis),me=ae.dot(_testAxis),_e=oe.dot(_testAxis);if(Math.max(-Math.max(pe,me,_e),Math.min(pe,me,_e))>de)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(te=new Vector3,ae=-1){this.isSphere=!0,this.center=te,this.radius=ae}set(te,ae){return this.center.copy(te),this.radius=ae,this}setFromPoints(te,ae){const oe=this.center;ae!==void 0?oe.copy(ae):_box$3.setFromPoints(te).getCenter(oe);let ce=0;for(let ue=0,fe=te.length;ue<fe;ue++)ce=Math.max(ce,oe.distanceToSquared(te[ue]));return this.radius=Math.sqrt(ce),this}copy(te){return this.center.copy(te.center),this.radius=te.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(te){return te.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(te){return te.distanceTo(this.center)-this.radius}intersectsSphere(te){const ae=this.radius+te.radius;return te.center.distanceToSquared(this.center)<=ae*ae}intersectsBox(te){return te.intersectsSphere(this)}intersectsPlane(te){return Math.abs(te.distanceToPoint(this.center))<=this.radius}clampPoint(te,ae){const oe=this.center.distanceToSquared(te);return ae.copy(te),oe>this.radius*this.radius&&(ae.sub(this.center).normalize(),ae.multiplyScalar(this.radius).add(this.center)),ae}getBoundingBox(te){return this.isEmpty()?(te.makeEmpty(),te):(te.set(this.center,this.center),te.expandByScalar(this.radius),te)}applyMatrix4(te){return this.center.applyMatrix4(te),this.radius=this.radius*te.getMaxScaleOnAxis(),this}translate(te){return this.center.add(te),this}expandByPoint(te){if(this.isEmpty())return this.center.copy(te),this.radius=0,this;_v1$6.subVectors(te,this.center);const ae=_v1$6.lengthSq();if(ae>this.radius*this.radius){const oe=Math.sqrt(ae),ce=(oe-this.radius)*.5;this.center.addScaledVector(_v1$6,ce/oe),this.radius+=ce}return this}union(te){return te.isEmpty()?this:this.isEmpty()?(this.copy(te),this):(this.center.equals(te.center)===!0?this.radius=Math.max(this.radius,te.radius):(_v2$3.subVectors(te.center,this.center).setLength(te.radius),this.expandByPoint(_v1$6.copy(te.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(te.center).sub(_v2$3))),this)}equals(te){return te.center.equals(this.center)&&te.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(te=new Vector3,ae=new Vector3(0,0,-1)){this.origin=te,this.direction=ae}set(te,ae){return this.origin.copy(te),this.direction.copy(ae),this}copy(te){return this.origin.copy(te.origin),this.direction.copy(te.direction),this}at(te,ae){return ae.copy(this.origin).addScaledVector(this.direction,te)}lookAt(te){return this.direction.copy(te).sub(this.origin).normalize(),this}recast(te){return this.origin.copy(this.at(te,_vector$a)),this}closestPointToPoint(te,ae){ae.subVectors(te,this.origin);const oe=ae.dot(this.direction);return oe<0?ae.copy(this.origin):ae.copy(this.origin).addScaledVector(this.direction,oe)}distanceToPoint(te){return Math.sqrt(this.distanceSqToPoint(te))}distanceSqToPoint(te){const ae=_vector$a.subVectors(te,this.origin).dot(this.direction);return ae<0?this.origin.distanceToSquared(te):(_vector$a.copy(this.origin).addScaledVector(this.direction,ae),_vector$a.distanceToSquared(te))}distanceSqToSegment(te,ae,oe,ce){_segCenter.copy(te).add(ae).multiplyScalar(.5),_segDir.copy(ae).sub(te).normalize(),_diff.copy(this.origin).sub(_segCenter);const ue=te.distanceTo(ae)*.5,fe=-this.direction.dot(_segDir),de=_diff.dot(this.direction),pe=-_diff.dot(_segDir),me=_diff.lengthSq(),_e=Math.abs(1-fe*fe);let be,Ee,Ae,Re;if(_e>0)if(be=fe*pe-de,Ee=fe*de-pe,Re=ue*_e,be>=0)if(Ee>=-Re)if(Ee<=Re){const Be=1/_e;be*=Be,Ee*=Be,Ae=be*(be+fe*Ee+2*de)+Ee*(fe*be+Ee+2*pe)+me}else Ee=ue,be=Math.max(0,-(fe*Ee+de)),Ae=-be*be+Ee*(Ee+2*pe)+me;else Ee=-ue,be=Math.max(0,-(fe*Ee+de)),Ae=-be*be+Ee*(Ee+2*pe)+me;else Ee<=-Re?(be=Math.max(0,-(-fe*ue+de)),Ee=be>0?-ue:Math.min(Math.max(-ue,-pe),ue),Ae=-be*be+Ee*(Ee+2*pe)+me):Ee<=Re?(be=0,Ee=Math.min(Math.max(-ue,-pe),ue),Ae=Ee*(Ee+2*pe)+me):(be=Math.max(0,-(fe*ue+de)),Ee=be>0?ue:Math.min(Math.max(-ue,-pe),ue),Ae=-be*be+Ee*(Ee+2*pe)+me);else Ee=fe>0?-ue:ue,be=Math.max(0,-(fe*Ee+de)),Ae=-be*be+Ee*(Ee+2*pe)+me;return oe&&oe.copy(this.origin).addScaledVector(this.direction,be),ce&&ce.copy(_segCenter).addScaledVector(_segDir,Ee),Ae}intersectSphere(te,ae){_vector$a.subVectors(te.center,this.origin);const oe=_vector$a.dot(this.direction),ce=_vector$a.dot(_vector$a)-oe*oe,ue=te.radius*te.radius;if(ce>ue)return null;const fe=Math.sqrt(ue-ce),de=oe-fe,pe=oe+fe;return pe<0?null:de<0?this.at(pe,ae):this.at(de,ae)}intersectsSphere(te){return this.distanceSqToPoint(te.center)<=te.radius*te.radius}distanceToPlane(te){const ae=te.normal.dot(this.direction);if(ae===0)return te.distanceToPoint(this.origin)===0?0:null;const oe=-(this.origin.dot(te.normal)+te.constant)/ae;return oe>=0?oe:null}intersectPlane(te,ae){const oe=this.distanceToPlane(te);return oe===null?null:this.at(oe,ae)}intersectsPlane(te){const ae=te.distanceToPoint(this.origin);return ae===0||te.normal.dot(this.direction)*ae<0}intersectBox(te,ae){let oe,ce,ue,fe,de,pe;const me=1/this.direction.x,_e=1/this.direction.y,be=1/this.direction.z,Ee=this.origin;return me>=0?(oe=(te.min.x-Ee.x)*me,ce=(te.max.x-Ee.x)*me):(oe=(te.max.x-Ee.x)*me,ce=(te.min.x-Ee.x)*me),_e>=0?(ue=(te.min.y-Ee.y)*_e,fe=(te.max.y-Ee.y)*_e):(ue=(te.max.y-Ee.y)*_e,fe=(te.min.y-Ee.y)*_e),oe>fe||ue>ce||((ue>oe||isNaN(oe))&&(oe=ue),(fe<ce||isNaN(ce))&&(ce=fe),be>=0?(de=(te.min.z-Ee.z)*be,pe=(te.max.z-Ee.z)*be):(de=(te.max.z-Ee.z)*be,pe=(te.min.z-Ee.z)*be),oe>pe||de>ce)||((de>oe||oe!==oe)&&(oe=de),(pe<ce||ce!==ce)&&(ce=pe),ce<0)?null:this.at(oe>=0?oe:ce,ae)}intersectsBox(te){return this.intersectBox(te,_vector$a)!==null}intersectTriangle(te,ae,oe,ce,ue){_edge1.subVectors(ae,te),_edge2.subVectors(oe,te),_normal$1.crossVectors(_edge1,_edge2);let fe=this.direction.dot(_normal$1),de;if(fe>0){if(ce)return null;de=1}else if(fe<0)de=-1,fe=-fe;else return null;_diff.subVectors(this.origin,te);const pe=de*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(pe<0)return null;const me=de*this.direction.dot(_edge1.cross(_diff));if(me<0||pe+me>fe)return null;const _e=-de*_diff.dot(_normal$1);return _e<0?null:this.at(_e/fe,ue)}applyMatrix4(te){return this.origin.applyMatrix4(te),this.direction.transformDirection(te),this}equals(te){return te.origin.equals(this.origin)&&te.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(te,ae,oe,ce,ue,fe,de,pe,me,_e,be,Ee,Ae,Re,Be,De){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],te!==void 0&&this.set(te,ae,oe,ce,ue,fe,de,pe,me,_e,be,Ee,Ae,Re,Be,De)}set(te,ae,oe,ce,ue,fe,de,pe,me,_e,be,Ee,Ae,Re,Be,De){const Oe=this.elements;return Oe[0]=te,Oe[4]=ae,Oe[8]=oe,Oe[12]=ce,Oe[1]=ue,Oe[5]=fe,Oe[9]=de,Oe[13]=pe,Oe[2]=me,Oe[6]=_e,Oe[10]=be,Oe[14]=Ee,Oe[3]=Ae,Oe[7]=Re,Oe[11]=Be,Oe[15]=De,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(te){const ae=this.elements,oe=te.elements;return ae[0]=oe[0],ae[1]=oe[1],ae[2]=oe[2],ae[3]=oe[3],ae[4]=oe[4],ae[5]=oe[5],ae[6]=oe[6],ae[7]=oe[7],ae[8]=oe[8],ae[9]=oe[9],ae[10]=oe[10],ae[11]=oe[11],ae[12]=oe[12],ae[13]=oe[13],ae[14]=oe[14],ae[15]=oe[15],this}copyPosition(te){const ae=this.elements,oe=te.elements;return ae[12]=oe[12],ae[13]=oe[13],ae[14]=oe[14],this}setFromMatrix3(te){const ae=te.elements;return this.set(ae[0],ae[3],ae[6],0,ae[1],ae[4],ae[7],0,ae[2],ae[5],ae[8],0,0,0,0,1),this}extractBasis(te,ae,oe){return te.setFromMatrixColumn(this,0),ae.setFromMatrixColumn(this,1),oe.setFromMatrixColumn(this,2),this}makeBasis(te,ae,oe){return this.set(te.x,ae.x,oe.x,0,te.y,ae.y,oe.y,0,te.z,ae.z,oe.z,0,0,0,0,1),this}extractRotation(te){const ae=this.elements,oe=te.elements,ce=1/_v1$5.setFromMatrixColumn(te,0).length(),ue=1/_v1$5.setFromMatrixColumn(te,1).length(),fe=1/_v1$5.setFromMatrixColumn(te,2).length();return ae[0]=oe[0]*ce,ae[1]=oe[1]*ce,ae[2]=oe[2]*ce,ae[3]=0,ae[4]=oe[4]*ue,ae[5]=oe[5]*ue,ae[6]=oe[6]*ue,ae[7]=0,ae[8]=oe[8]*fe,ae[9]=oe[9]*fe,ae[10]=oe[10]*fe,ae[11]=0,ae[12]=0,ae[13]=0,ae[14]=0,ae[15]=1,this}makeRotationFromEuler(te){const ae=this.elements,oe=te.x,ce=te.y,ue=te.z,fe=Math.cos(oe),de=Math.sin(oe),pe=Math.cos(ce),me=Math.sin(ce),_e=Math.cos(ue),be=Math.sin(ue);if(te.order==="XYZ"){const Ee=fe*_e,Ae=fe*be,Re=de*_e,Be=de*be;ae[0]=pe*_e,ae[4]=-pe*be,ae[8]=me,ae[1]=Ae+Re*me,ae[5]=Ee-Be*me,ae[9]=-de*pe,ae[2]=Be-Ee*me,ae[6]=Re+Ae*me,ae[10]=fe*pe}else if(te.order==="YXZ"){const Ee=pe*_e,Ae=pe*be,Re=me*_e,Be=me*be;ae[0]=Ee+Be*de,ae[4]=Re*de-Ae,ae[8]=fe*me,ae[1]=fe*be,ae[5]=fe*_e,ae[9]=-de,ae[2]=Ae*de-Re,ae[6]=Be+Ee*de,ae[10]=fe*pe}else if(te.order==="ZXY"){const Ee=pe*_e,Ae=pe*be,Re=me*_e,Be=me*be;ae[0]=Ee-Be*de,ae[4]=-fe*be,ae[8]=Re+Ae*de,ae[1]=Ae+Re*de,ae[5]=fe*_e,ae[9]=Be-Ee*de,ae[2]=-fe*me,ae[6]=de,ae[10]=fe*pe}else if(te.order==="ZYX"){const Ee=fe*_e,Ae=fe*be,Re=de*_e,Be=de*be;ae[0]=pe*_e,ae[4]=Re*me-Ae,ae[8]=Ee*me+Be,ae[1]=pe*be,ae[5]=Be*me+Ee,ae[9]=Ae*me-Re,ae[2]=-me,ae[6]=de*pe,ae[10]=fe*pe}else if(te.order==="YZX"){const Ee=fe*pe,Ae=fe*me,Re=de*pe,Be=de*me;ae[0]=pe*_e,ae[4]=Be-Ee*be,ae[8]=Re*be+Ae,ae[1]=be,ae[5]=fe*_e,ae[9]=-de*_e,ae[2]=-me*_e,ae[6]=Ae*be+Re,ae[10]=Ee-Be*be}else if(te.order==="XZY"){const Ee=fe*pe,Ae=fe*me,Re=de*pe,Be=de*me;ae[0]=pe*_e,ae[4]=-be,ae[8]=me*_e,ae[1]=Ee*be+Be,ae[5]=fe*_e,ae[9]=Ae*be-Re,ae[2]=Re*be-Ae,ae[6]=de*_e,ae[10]=Be*be+Ee}return ae[3]=0,ae[7]=0,ae[11]=0,ae[12]=0,ae[13]=0,ae[14]=0,ae[15]=1,this}makeRotationFromQuaternion(te){return this.compose(_zero,te,_one)}lookAt(te,ae,oe){const ce=this.elements;return _z.subVectors(te,ae),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(oe,_z),_x.lengthSq()===0&&(Math.abs(oe.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(oe,_z)),_x.normalize(),_y.crossVectors(_z,_x),ce[0]=_x.x,ce[4]=_y.x,ce[8]=_z.x,ce[1]=_x.y,ce[5]=_y.y,ce[9]=_z.y,ce[2]=_x.z,ce[6]=_y.z,ce[10]=_z.z,this}multiply(te){return this.multiplyMatrices(this,te)}premultiply(te){return this.multiplyMatrices(te,this)}multiplyMatrices(te,ae){const oe=te.elements,ce=ae.elements,ue=this.elements,fe=oe[0],de=oe[4],pe=oe[8],me=oe[12],_e=oe[1],be=oe[5],Ee=oe[9],Ae=oe[13],Re=oe[2],Be=oe[6],De=oe[10],Oe=oe[14],Pe=oe[3],Ie=oe[7],Fe=oe[11],$e=oe[15],Ve=ce[0],ke=ce[4],We=ce[8],je=ce[12],He=ce[1],tt=ce[5],Ze=ce[9],nt=ce[13],at=ce[2],mt=ce[6],Ye=ce[10],rt=ce[14],lt=ce[3],_t=ce[7],Xe=ce[11],et=ce[15];return ue[0]=fe*Ve+de*He+pe*at+me*lt,ue[4]=fe*ke+de*tt+pe*mt+me*_t,ue[8]=fe*We+de*Ze+pe*Ye+me*Xe,ue[12]=fe*je+de*nt+pe*rt+me*et,ue[1]=_e*Ve+be*He+Ee*at+Ae*lt,ue[5]=_e*ke+be*tt+Ee*mt+Ae*_t,ue[9]=_e*We+be*Ze+Ee*Ye+Ae*Xe,ue[13]=_e*je+be*nt+Ee*rt+Ae*et,ue[2]=Re*Ve+Be*He+De*at+Oe*lt,ue[6]=Re*ke+Be*tt+De*mt+Oe*_t,ue[10]=Re*We+Be*Ze+De*Ye+Oe*Xe,ue[14]=Re*je+Be*nt+De*rt+Oe*et,ue[3]=Pe*Ve+Ie*He+Fe*at+$e*lt,ue[7]=Pe*ke+Ie*tt+Fe*mt+$e*_t,ue[11]=Pe*We+Ie*Ze+Fe*Ye+$e*Xe,ue[15]=Pe*je+Ie*nt+Fe*rt+$e*et,this}multiplyScalar(te){const ae=this.elements;return ae[0]*=te,ae[4]*=te,ae[8]*=te,ae[12]*=te,ae[1]*=te,ae[5]*=te,ae[9]*=te,ae[13]*=te,ae[2]*=te,ae[6]*=te,ae[10]*=te,ae[14]*=te,ae[3]*=te,ae[7]*=te,ae[11]*=te,ae[15]*=te,this}determinant(){const te=this.elements,ae=te[0],oe=te[4],ce=te[8],ue=te[12],fe=te[1],de=te[5],pe=te[9],me=te[13],_e=te[2],be=te[6],Ee=te[10],Ae=te[14],Re=te[3],Be=te[7],De=te[11],Oe=te[15];return Re*(+ue*pe*be-ce*me*be-ue*de*Ee+oe*me*Ee+ce*de*Ae-oe*pe*Ae)+Be*(+ae*pe*Ae-ae*me*Ee+ue*fe*Ee-ce*fe*Ae+ce*me*_e-ue*pe*_e)+De*(+ae*me*be-ae*de*Ae-ue*fe*be+oe*fe*Ae+ue*de*_e-oe*me*_e)+Oe*(-ce*de*_e-ae*pe*be+ae*de*Ee+ce*fe*be-oe*fe*Ee+oe*pe*_e)}transpose(){const te=this.elements;let ae;return ae=te[1],te[1]=te[4],te[4]=ae,ae=te[2],te[2]=te[8],te[8]=ae,ae=te[6],te[6]=te[9],te[9]=ae,ae=te[3],te[3]=te[12],te[12]=ae,ae=te[7],te[7]=te[13],te[13]=ae,ae=te[11],te[11]=te[14],te[14]=ae,this}setPosition(te,ae,oe){const ce=this.elements;return te.isVector3?(ce[12]=te.x,ce[13]=te.y,ce[14]=te.z):(ce[12]=te,ce[13]=ae,ce[14]=oe),this}invert(){const te=this.elements,ae=te[0],oe=te[1],ce=te[2],ue=te[3],fe=te[4],de=te[5],pe=te[6],me=te[7],_e=te[8],be=te[9],Ee=te[10],Ae=te[11],Re=te[12],Be=te[13],De=te[14],Oe=te[15],Pe=be*De*me-Be*Ee*me+Be*pe*Ae-de*De*Ae-be*pe*Oe+de*Ee*Oe,Ie=Re*Ee*me-_e*De*me-Re*pe*Ae+fe*De*Ae+_e*pe*Oe-fe*Ee*Oe,Fe=_e*Be*me-Re*be*me+Re*de*Ae-fe*Be*Ae-_e*de*Oe+fe*be*Oe,$e=Re*be*pe-_e*Be*pe-Re*de*Ee+fe*Be*Ee+_e*de*De-fe*be*De,Ve=ae*Pe+oe*Ie+ce*Fe+ue*$e;if(Ve===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ke=1/Ve;return te[0]=Pe*ke,te[1]=(Be*Ee*ue-be*De*ue-Be*ce*Ae+oe*De*Ae+be*ce*Oe-oe*Ee*Oe)*ke,te[2]=(de*De*ue-Be*pe*ue+Be*ce*me-oe*De*me-de*ce*Oe+oe*pe*Oe)*ke,te[3]=(be*pe*ue-de*Ee*ue-be*ce*me+oe*Ee*me+de*ce*Ae-oe*pe*Ae)*ke,te[4]=Ie*ke,te[5]=(_e*De*ue-Re*Ee*ue+Re*ce*Ae-ae*De*Ae-_e*ce*Oe+ae*Ee*Oe)*ke,te[6]=(Re*pe*ue-fe*De*ue-Re*ce*me+ae*De*me+fe*ce*Oe-ae*pe*Oe)*ke,te[7]=(fe*Ee*ue-_e*pe*ue+_e*ce*me-ae*Ee*me-fe*ce*Ae+ae*pe*Ae)*ke,te[8]=Fe*ke,te[9]=(Re*be*ue-_e*Be*ue-Re*oe*Ae+ae*Be*Ae+_e*oe*Oe-ae*be*Oe)*ke,te[10]=(fe*Be*ue-Re*de*ue+Re*oe*me-ae*Be*me-fe*oe*Oe+ae*de*Oe)*ke,te[11]=(_e*de*ue-fe*be*ue-_e*oe*me+ae*be*me+fe*oe*Ae-ae*de*Ae)*ke,te[12]=$e*ke,te[13]=(_e*Be*ce-Re*be*ce+Re*oe*Ee-ae*Be*Ee-_e*oe*De+ae*be*De)*ke,te[14]=(Re*de*ce-fe*Be*ce-Re*oe*pe+ae*Be*pe+fe*oe*De-ae*de*De)*ke,te[15]=(fe*be*ce-_e*de*ce+_e*oe*pe-ae*be*pe-fe*oe*Ee+ae*de*Ee)*ke,this}scale(te){const ae=this.elements,oe=te.x,ce=te.y,ue=te.z;return ae[0]*=oe,ae[4]*=ce,ae[8]*=ue,ae[1]*=oe,ae[5]*=ce,ae[9]*=ue,ae[2]*=oe,ae[6]*=ce,ae[10]*=ue,ae[3]*=oe,ae[7]*=ce,ae[11]*=ue,this}getMaxScaleOnAxis(){const te=this.elements,ae=te[0]*te[0]+te[1]*te[1]+te[2]*te[2],oe=te[4]*te[4]+te[5]*te[5]+te[6]*te[6],ce=te[8]*te[8]+te[9]*te[9]+te[10]*te[10];return Math.sqrt(Math.max(ae,oe,ce))}makeTranslation(te,ae,oe){return te.isVector3?this.set(1,0,0,te.x,0,1,0,te.y,0,0,1,te.z,0,0,0,1):this.set(1,0,0,te,0,1,0,ae,0,0,1,oe,0,0,0,1),this}makeRotationX(te){const ae=Math.cos(te),oe=Math.sin(te);return this.set(1,0,0,0,0,ae,-oe,0,0,oe,ae,0,0,0,0,1),this}makeRotationY(te){const ae=Math.cos(te),oe=Math.sin(te);return this.set(ae,0,oe,0,0,1,0,0,-oe,0,ae,0,0,0,0,1),this}makeRotationZ(te){const ae=Math.cos(te),oe=Math.sin(te);return this.set(ae,-oe,0,0,oe,ae,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(te,ae){const oe=Math.cos(ae),ce=Math.sin(ae),ue=1-oe,fe=te.x,de=te.y,pe=te.z,me=ue*fe,_e=ue*de;return this.set(me*fe+oe,me*de-ce*pe,me*pe+ce*de,0,me*de+ce*pe,_e*de+oe,_e*pe-ce*fe,0,me*pe-ce*de,_e*pe+ce*fe,ue*pe*pe+oe,0,0,0,0,1),this}makeScale(te,ae,oe){return this.set(te,0,0,0,0,ae,0,0,0,0,oe,0,0,0,0,1),this}makeShear(te,ae,oe,ce,ue,fe){return this.set(1,oe,ue,0,te,1,fe,0,ae,ce,1,0,0,0,0,1),this}compose(te,ae,oe){const ce=this.elements,ue=ae._x,fe=ae._y,de=ae._z,pe=ae._w,me=ue+ue,_e=fe+fe,be=de+de,Ee=ue*me,Ae=ue*_e,Re=ue*be,Be=fe*_e,De=fe*be,Oe=de*be,Pe=pe*me,Ie=pe*_e,Fe=pe*be,$e=oe.x,Ve=oe.y,ke=oe.z;return ce[0]=(1-(Be+Oe))*$e,ce[1]=(Ae+Fe)*$e,ce[2]=(Re-Ie)*$e,ce[3]=0,ce[4]=(Ae-Fe)*Ve,ce[5]=(1-(Ee+Oe))*Ve,ce[6]=(De+Pe)*Ve,ce[7]=0,ce[8]=(Re+Ie)*ke,ce[9]=(De-Pe)*ke,ce[10]=(1-(Ee+Be))*ke,ce[11]=0,ce[12]=te.x,ce[13]=te.y,ce[14]=te.z,ce[15]=1,this}decompose(te,ae,oe){const ce=this.elements;let ue=_v1$5.set(ce[0],ce[1],ce[2]).length();const fe=_v1$5.set(ce[4],ce[5],ce[6]).length(),de=_v1$5.set(ce[8],ce[9],ce[10]).length();this.determinant()<0&&(ue=-ue),te.x=ce[12],te.y=ce[13],te.z=ce[14],_m1$2.copy(this);const me=1/ue,_e=1/fe,be=1/de;return _m1$2.elements[0]*=me,_m1$2.elements[1]*=me,_m1$2.elements[2]*=me,_m1$2.elements[4]*=_e,_m1$2.elements[5]*=_e,_m1$2.elements[6]*=_e,_m1$2.elements[8]*=be,_m1$2.elements[9]*=be,_m1$2.elements[10]*=be,ae.setFromRotationMatrix(_m1$2),oe.x=ue,oe.y=fe,oe.z=de,this}makePerspective(te,ae,oe,ce,ue,fe,de=WebGLCoordinateSystem){const pe=this.elements,me=2*ue/(ae-te),_e=2*ue/(oe-ce),be=(ae+te)/(ae-te),Ee=(oe+ce)/(oe-ce);let Ae,Re;if(de===WebGLCoordinateSystem)Ae=-(fe+ue)/(fe-ue),Re=-2*fe*ue/(fe-ue);else if(de===WebGPUCoordinateSystem)Ae=-fe/(fe-ue),Re=-fe*ue/(fe-ue);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+de);return pe[0]=me,pe[4]=0,pe[8]=be,pe[12]=0,pe[1]=0,pe[5]=_e,pe[9]=Ee,pe[13]=0,pe[2]=0,pe[6]=0,pe[10]=Ae,pe[14]=Re,pe[3]=0,pe[7]=0,pe[11]=-1,pe[15]=0,this}makeOrthographic(te,ae,oe,ce,ue,fe,de=WebGLCoordinateSystem){const pe=this.elements,me=1/(ae-te),_e=1/(oe-ce),be=1/(fe-ue),Ee=(ae+te)*me,Ae=(oe+ce)*_e;let Re,Be;if(de===WebGLCoordinateSystem)Re=(fe+ue)*be,Be=-2*be;else if(de===WebGPUCoordinateSystem)Re=ue*be,Be=-1*be;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+de);return pe[0]=2*me,pe[4]=0,pe[8]=0,pe[12]=-Ee,pe[1]=0,pe[5]=2*_e,pe[9]=0,pe[13]=-Ae,pe[2]=0,pe[6]=0,pe[10]=Be,pe[14]=-Re,pe[3]=0,pe[7]=0,pe[11]=0,pe[15]=1,this}equals(te){const ae=this.elements,oe=te.elements;for(let ce=0;ce<16;ce++)if(ae[ce]!==oe[ce])return!1;return!0}fromArray(te,ae=0){for(let oe=0;oe<16;oe++)this.elements[oe]=te[oe+ae];return this}toArray(te=[],ae=0){const oe=this.elements;return te[ae]=oe[0],te[ae+1]=oe[1],te[ae+2]=oe[2],te[ae+3]=oe[3],te[ae+4]=oe[4],te[ae+5]=oe[5],te[ae+6]=oe[6],te[ae+7]=oe[7],te[ae+8]=oe[8],te[ae+9]=oe[9],te[ae+10]=oe[10],te[ae+11]=oe[11],te[ae+12]=oe[12],te[ae+13]=oe[13],te[ae+14]=oe[14],te[ae+15]=oe[15],te}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(te=0,ae=0,oe=0,ce=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=te,this._y=ae,this._z=oe,this._order=ce}get x(){return this._x}set x(te){this._x=te,this._onChangeCallback()}get y(){return this._y}set y(te){this._y=te,this._onChangeCallback()}get z(){return this._z}set z(te){this._z=te,this._onChangeCallback()}get order(){return this._order}set order(te){this._order=te,this._onChangeCallback()}set(te,ae,oe,ce=this._order){return this._x=te,this._y=ae,this._z=oe,this._order=ce,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(te){return this._x=te._x,this._y=te._y,this._z=te._z,this._order=te._order,this._onChangeCallback(),this}setFromRotationMatrix(te,ae=this._order,oe=!0){const ce=te.elements,ue=ce[0],fe=ce[4],de=ce[8],pe=ce[1],me=ce[5],_e=ce[9],be=ce[2],Ee=ce[6],Ae=ce[10];switch(ae){case"XYZ":this._y=Math.asin(clamp$4(de,-1,1)),Math.abs(de)<.9999999?(this._x=Math.atan2(-_e,Ae),this._z=Math.atan2(-fe,ue)):(this._x=Math.atan2(Ee,me),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$4(_e,-1,1)),Math.abs(_e)<.9999999?(this._y=Math.atan2(de,Ae),this._z=Math.atan2(pe,me)):(this._y=Math.atan2(-be,ue),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$4(Ee,-1,1)),Math.abs(Ee)<.9999999?(this._y=Math.atan2(-be,Ae),this._z=Math.atan2(-fe,me)):(this._y=0,this._z=Math.atan2(pe,ue));break;case"ZYX":this._y=Math.asin(-clamp$4(be,-1,1)),Math.abs(be)<.9999999?(this._x=Math.atan2(Ee,Ae),this._z=Math.atan2(pe,ue)):(this._x=0,this._z=Math.atan2(-fe,me));break;case"YZX":this._z=Math.asin(clamp$4(pe,-1,1)),Math.abs(pe)<.9999999?(this._x=Math.atan2(-_e,me),this._y=Math.atan2(-be,ue)):(this._x=0,this._y=Math.atan2(de,Ae));break;case"XZY":this._z=Math.asin(-clamp$4(fe,-1,1)),Math.abs(fe)<.9999999?(this._x=Math.atan2(Ee,me),this._y=Math.atan2(de,ue)):(this._x=Math.atan2(-_e,Ae),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+ae)}return this._order=ae,oe===!0&&this._onChangeCallback(),this}setFromQuaternion(te,ae,oe){return _matrix$2.makeRotationFromQuaternion(te),this.setFromRotationMatrix(_matrix$2,ae,oe)}setFromVector3(te,ae=this._order){return this.set(te.x,te.y,te.z,ae)}reorder(te){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,te)}equals(te){return te._x===this._x&&te._y===this._y&&te._z===this._z&&te._order===this._order}fromArray(te){return this._x=te[0],this._y=te[1],this._z=te[2],te[3]!==void 0&&(this._order=te[3]),this._onChangeCallback(),this}toArray(te=[],ae=0){return te[ae]=this._x,te[ae+1]=this._y,te[ae+2]=this._z,te[ae+3]=this._order,te}_onChange(te){return this._onChangeCallback=te,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(te){this.mask=(1<<te|0)>>>0}enable(te){this.mask|=1<<te|0}enableAll(){this.mask=-1}toggle(te){this.mask^=1<<te|0}disable(te){this.mask&=~(1<<te|0)}disableAll(){this.mask=0}test(te){return(this.mask&te.mask)!==0}isEnabled(te){return(this.mask&(1<<te|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const te=new Vector3,ae=new Euler,oe=new Quaternion,ce=new Vector3(1,1,1);function ue(){oe.setFromEuler(ae,!1)}function fe(){ae.setFromQuaternion(oe,void 0,!1)}ae._onChange(ue),oe._onChange(fe),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:te},rotation:{configurable:!0,enumerable:!0,value:ae},quaternion:{configurable:!0,enumerable:!0,value:oe},scale:{configurable:!0,enumerable:!0,value:ce},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(te){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(te),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(te){return this.quaternion.premultiply(te),this}setRotationFromAxisAngle(te,ae){this.quaternion.setFromAxisAngle(te,ae)}setRotationFromEuler(te){this.quaternion.setFromEuler(te,!0)}setRotationFromMatrix(te){this.quaternion.setFromRotationMatrix(te)}setRotationFromQuaternion(te){this.quaternion.copy(te)}rotateOnAxis(te,ae){return _q1.setFromAxisAngle(te,ae),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(te,ae){return _q1.setFromAxisAngle(te,ae),this.quaternion.premultiply(_q1),this}rotateX(te){return this.rotateOnAxis(_xAxis,te)}rotateY(te){return this.rotateOnAxis(_yAxis,te)}rotateZ(te){return this.rotateOnAxis(_zAxis,te)}translateOnAxis(te,ae){return _v1$4.copy(te).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(ae)),this}translateX(te){return this.translateOnAxis(_xAxis,te)}translateY(te){return this.translateOnAxis(_yAxis,te)}translateZ(te){return this.translateOnAxis(_zAxis,te)}localToWorld(te){return this.updateWorldMatrix(!0,!1),te.applyMatrix4(this.matrixWorld)}worldToLocal(te){return this.updateWorldMatrix(!0,!1),te.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt(te,ae,oe){te.isVector3?_target.copy(te):_target.set(te,ae,oe);const ce=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),ce&&(_m1$1$1.extractRotation(ce.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add(te){if(arguments.length>1){for(let ae=0;ae<arguments.length;ae++)this.add(arguments[ae]);return this}return te===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",te),this):(te&&te.isObject3D?(te.removeFromParent(),te.parent=this,this.children.push(te),te.dispatchEvent(_addedEvent),_childaddedEvent.child=te,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",te),this)}remove(te){if(arguments.length>1){for(let oe=0;oe<arguments.length;oe++)this.remove(arguments[oe]);return this}const ae=this.children.indexOf(te);return ae!==-1&&(te.parent=null,this.children.splice(ae,1),te.dispatchEvent(_removedEvent),_childremovedEvent.child=te,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const te=this.parent;return te!==null&&te.remove(this),this}clear(){return this.remove(...this.children)}attach(te){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),te.parent!==null&&(te.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply(te.parent.matrixWorld)),te.applyMatrix4(_m1$1$1),te.removeFromParent(),te.parent=this,this.children.push(te),te.updateWorldMatrix(!1,!0),te.dispatchEvent(_addedEvent),_childaddedEvent.child=te,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(te){return this.getObjectByProperty("id",te)}getObjectByName(te){return this.getObjectByProperty("name",te)}getObjectByProperty(te,ae){if(this[te]===ae)return this;for(let oe=0,ce=this.children.length;oe<ce;oe++){const fe=this.children[oe].getObjectByProperty(te,ae);if(fe!==void 0)return fe}}getObjectsByProperty(te,ae,oe=[]){this[te]===ae&&oe.push(this);const ce=this.children;for(let ue=0,fe=ce.length;ue<fe;ue++)ce[ue].getObjectsByProperty(te,ae,oe);return oe}getWorldPosition(te){return this.updateWorldMatrix(!0,!1),te.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(te){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,te,_scale$2),te}getWorldScale(te){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,te),te}getWorldDirection(te){this.updateWorldMatrix(!0,!1);const ae=this.matrixWorld.elements;return te.set(ae[8],ae[9],ae[10]).normalize()}raycast(){}traverse(te){te(this);const ae=this.children;for(let oe=0,ce=ae.length;oe<ce;oe++)ae[oe].traverse(te)}traverseVisible(te){if(this.visible===!1)return;te(this);const ae=this.children;for(let oe=0,ce=ae.length;oe<ce;oe++)ae[oe].traverseVisible(te)}traverseAncestors(te){const ae=this.parent;ae!==null&&(te(ae),ae.traverseAncestors(te))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(te){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||te)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,te=!0);const ae=this.children;for(let oe=0,ce=ae.length;oe<ce;oe++)ae[oe].updateMatrixWorld(te)}updateWorldMatrix(te,ae){const oe=this.parent;if(te===!0&&oe!==null&&oe.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),ae===!0){const ce=this.children;for(let ue=0,fe=ce.length;ue<fe;ue++)ce[ue].updateWorldMatrix(!1,!0)}}toJSON(te){const ae=te===void 0||typeof te=="string",oe={};ae&&(te={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},oe.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const ce={};ce.uuid=this.uuid,ce.type=this.type,this.name!==""&&(ce.name=this.name),this.castShadow===!0&&(ce.castShadow=!0),this.receiveShadow===!0&&(ce.receiveShadow=!0),this.visible===!1&&(ce.visible=!1),this.frustumCulled===!1&&(ce.frustumCulled=!1),this.renderOrder!==0&&(ce.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(ce.userData=this.userData),ce.layers=this.layers.mask,ce.matrix=this.matrix.toArray(),ce.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(ce.matrixAutoUpdate=!1),this.isInstancedMesh&&(ce.type="InstancedMesh",ce.count=this.count,ce.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(ce.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(ce.type="BatchedMesh",ce.perObjectFrustumCulled=this.perObjectFrustumCulled,ce.sortObjects=this.sortObjects,ce.drawRanges=this._drawRanges,ce.reservedRanges=this._reservedRanges,ce.visibility=this._visibility,ce.active=this._active,ce.bounds=this._bounds.map(de=>({boxInitialized:de.boxInitialized,boxMin:de.box.min.toArray(),boxMax:de.box.max.toArray(),sphereInitialized:de.sphereInitialized,sphereRadius:de.sphere.radius,sphereCenter:de.sphere.center.toArray()})),ce.maxInstanceCount=this._maxInstanceCount,ce.maxVertexCount=this._maxVertexCount,ce.maxIndexCount=this._maxIndexCount,ce.geometryInitialized=this._geometryInitialized,ce.geometryCount=this._geometryCount,ce.matricesTexture=this._matricesTexture.toJSON(te),this._colorsTexture!==null&&(ce.colorsTexture=this._colorsTexture.toJSON(te)),this.boundingSphere!==null&&(ce.boundingSphere={center:ce.boundingSphere.center.toArray(),radius:ce.boundingSphere.radius}),this.boundingBox!==null&&(ce.boundingBox={min:ce.boundingBox.min.toArray(),max:ce.boundingBox.max.toArray()}));function ue(de,pe){return de[pe.uuid]===void 0&&(de[pe.uuid]=pe.toJSON(te)),pe.uuid}if(this.isScene)this.background&&(this.background.isColor?ce.background=this.background.toJSON():this.background.isTexture&&(ce.background=this.background.toJSON(te).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(ce.environment=this.environment.toJSON(te).uuid);else if(this.isMesh||this.isLine||this.isPoints){ce.geometry=ue(te.geometries,this.geometry);const de=this.geometry.parameters;if(de!==void 0&&de.shapes!==void 0){const pe=de.shapes;if(Array.isArray(pe))for(let me=0,_e=pe.length;me<_e;me++){const be=pe[me];ue(te.shapes,be)}else ue(te.shapes,pe)}}if(this.isSkinnedMesh&&(ce.bindMode=this.bindMode,ce.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ue(te.skeletons,this.skeleton),ce.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const de=[];for(let pe=0,me=this.material.length;pe<me;pe++)de.push(ue(te.materials,this.material[pe]));ce.material=de}else ce.material=ue(te.materials,this.material);if(this.children.length>0){ce.children=[];for(let de=0;de<this.children.length;de++)ce.children.push(this.children[de].toJSON(te).object)}if(this.animations.length>0){ce.animations=[];for(let de=0;de<this.animations.length;de++){const pe=this.animations[de];ce.animations.push(ue(te.animations,pe))}}if(ae){const de=fe(te.geometries),pe=fe(te.materials),me=fe(te.textures),_e=fe(te.images),be=fe(te.shapes),Ee=fe(te.skeletons),Ae=fe(te.animations),Re=fe(te.nodes);de.length>0&&(oe.geometries=de),pe.length>0&&(oe.materials=pe),me.length>0&&(oe.textures=me),_e.length>0&&(oe.images=_e),be.length>0&&(oe.shapes=be),Ee.length>0&&(oe.skeletons=Ee),Ae.length>0&&(oe.animations=Ae),Re.length>0&&(oe.nodes=Re)}return oe.object=ce,oe;function fe(de){const pe=[];for(const me in de){const _e=de[me];delete _e.metadata,pe.push(_e)}return pe}}clone(te){return new this.constructor().copy(this,te)}copy(te,ae=!0){if(this.name=te.name,this.up.copy(te.up),this.position.copy(te.position),this.rotation.order=te.rotation.order,this.quaternion.copy(te.quaternion),this.scale.copy(te.scale),this.matrix.copy(te.matrix),this.matrixWorld.copy(te.matrixWorld),this.matrixAutoUpdate=te.matrixAutoUpdate,this.matrixWorldAutoUpdate=te.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=te.matrixWorldNeedsUpdate,this.layers.mask=te.layers.mask,this.visible=te.visible,this.castShadow=te.castShadow,this.receiveShadow=te.receiveShadow,this.frustumCulled=te.frustumCulled,this.renderOrder=te.renderOrder,this.animations=te.animations.slice(),this.userData=JSON.parse(JSON.stringify(te.userData)),ae===!0)for(let oe=0;oe<te.children.length;oe++){const ce=te.children[oe];this.add(ce.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(te=new Vector3,ae=new Vector3,oe=new Vector3){this.a=te,this.b=ae,this.c=oe}static getNormal(te,ae,oe,ce){ce.subVectors(oe,ae),_v0$1.subVectors(te,ae),ce.cross(_v0$1);const ue=ce.lengthSq();return ue>0?ce.multiplyScalar(1/Math.sqrt(ue)):ce.set(0,0,0)}static getBarycoord(te,ae,oe,ce,ue){_v0$1.subVectors(ce,ae),_v1$3.subVectors(oe,ae),_v2$2.subVectors(te,ae);const fe=_v0$1.dot(_v0$1),de=_v0$1.dot(_v1$3),pe=_v0$1.dot(_v2$2),me=_v1$3.dot(_v1$3),_e=_v1$3.dot(_v2$2),be=fe*me-de*de;if(be===0)return ue.set(0,0,0),null;const Ee=1/be,Ae=(me*pe-de*_e)*Ee,Re=(fe*_e-de*pe)*Ee;return ue.set(1-Ae-Re,Re,Ae)}static containsPoint(te,ae,oe,ce){return this.getBarycoord(te,ae,oe,ce,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(te,ae,oe,ce,ue,fe,de,pe){return this.getBarycoord(te,ae,oe,ce,_v3$2)===null?(pe.x=0,pe.y=0,"z"in pe&&(pe.z=0),"w"in pe&&(pe.w=0),null):(pe.setScalar(0),pe.addScaledVector(ue,_v3$2.x),pe.addScaledVector(fe,_v3$2.y),pe.addScaledVector(de,_v3$2.z),pe)}static getInterpolatedAttribute(te,ae,oe,ce,ue,fe){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(te,ae),_v41.fromBufferAttribute(te,oe),_v42.fromBufferAttribute(te,ce),fe.setScalar(0),fe.addScaledVector(_v40,ue.x),fe.addScaledVector(_v41,ue.y),fe.addScaledVector(_v42,ue.z),fe}static isFrontFacing(te,ae,oe,ce){return _v0$1.subVectors(oe,ae),_v1$3.subVectors(te,ae),_v0$1.cross(_v1$3).dot(ce)<0}set(te,ae,oe){return this.a.copy(te),this.b.copy(ae),this.c.copy(oe),this}setFromPointsAndIndices(te,ae,oe,ce){return this.a.copy(te[ae]),this.b.copy(te[oe]),this.c.copy(te[ce]),this}setFromAttributeAndIndices(te,ae,oe,ce){return this.a.fromBufferAttribute(te,ae),this.b.fromBufferAttribute(te,oe),this.c.fromBufferAttribute(te,ce),this}clone(){return new this.constructor().copy(this)}copy(te){return this.a.copy(te.a),this.b.copy(te.b),this.c.copy(te.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(te){return te.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(te){return Triangle.getNormal(this.a,this.b,this.c,te)}getPlane(te){return te.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(te,ae){return Triangle.getBarycoord(te,this.a,this.b,this.c,ae)}getInterpolation(te,ae,oe,ce,ue){return Triangle.getInterpolation(te,this.a,this.b,this.c,ae,oe,ce,ue)}containsPoint(te){return Triangle.containsPoint(te,this.a,this.b,this.c)}isFrontFacing(te){return Triangle.isFrontFacing(this.a,this.b,this.c,te)}intersectsBox(te){return te.intersectsTriangle(this)}closestPointToPoint(te,ae){const oe=this.a,ce=this.b,ue=this.c;let fe,de;_vab.subVectors(ce,oe),_vac.subVectors(ue,oe),_vap.subVectors(te,oe);const pe=_vab.dot(_vap),me=_vac.dot(_vap);if(pe<=0&&me<=0)return ae.copy(oe);_vbp.subVectors(te,ce);const _e=_vab.dot(_vbp),be=_vac.dot(_vbp);if(_e>=0&&be<=_e)return ae.copy(ce);const Ee=pe*be-_e*me;if(Ee<=0&&pe>=0&&_e<=0)return fe=pe/(pe-_e),ae.copy(oe).addScaledVector(_vab,fe);_vcp.subVectors(te,ue);const Ae=_vab.dot(_vcp),Re=_vac.dot(_vcp);if(Re>=0&&Ae<=Re)return ae.copy(ue);const Be=Ae*me-pe*Re;if(Be<=0&&me>=0&&Re<=0)return de=me/(me-Re),ae.copy(oe).addScaledVector(_vac,de);const De=_e*Re-Ae*be;if(De<=0&&be-_e>=0&&Ae-Re>=0)return _vbc.subVectors(ue,ce),de=(be-_e)/(be-_e+(Ae-Re)),ae.copy(ce).addScaledVector(_vbc,de);const Oe=1/(De+Be+Ee);return fe=Be*Oe,de=Ee*Oe,ae.copy(oe).addScaledVector(_vab,fe).addScaledVector(_vac,de)}equals(te){return te.a.equals(this.a)&&te.b.equals(this.b)&&te.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(se,te,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<1/6?se+(te-se)*6*ae:ae<1/2?te:ae<2/3?se+(te-se)*6*(2/3-ae):se}let Color$1=class{constructor(te,ae,oe){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(te,ae,oe)}set(te,ae,oe){if(ae===void 0&&oe===void 0){const ce=te;ce&&ce.isColor?this.copy(ce):typeof ce=="number"?this.setHex(ce):typeof ce=="string"&&this.setStyle(ce)}else this.setRGB(te,ae,oe);return this}setScalar(te){return this.r=te,this.g=te,this.b=te,this}setHex(te,ae=SRGBColorSpace$1){return te=Math.floor(te),this.r=(te>>16&255)/255,this.g=(te>>8&255)/255,this.b=(te&255)/255,ColorManagement.toWorkingColorSpace(this,ae),this}setRGB(te,ae,oe,ce=ColorManagement.workingColorSpace){return this.r=te,this.g=ae,this.b=oe,ColorManagement.toWorkingColorSpace(this,ce),this}setHSL(te,ae,oe,ce=ColorManagement.workingColorSpace){if(te=euclideanModulo(te,1),ae=clamp$4(ae,0,1),oe=clamp$4(oe,0,1),ae===0)this.r=this.g=this.b=oe;else{const ue=oe<=.5?oe*(1+ae):oe+ae-oe*ae,fe=2*oe-ue;this.r=hue2rgb(fe,ue,te+1/3),this.g=hue2rgb(fe,ue,te),this.b=hue2rgb(fe,ue,te-1/3)}return ColorManagement.toWorkingColorSpace(this,ce),this}setStyle(te,ae=SRGBColorSpace$1){function oe(ue){ue!==void 0&&parseFloat(ue)<1&&console.warn("THREE.Color: Alpha component of "+te+" will be ignored.")}let ce;if(ce=/^(\w+)\(([^\)]*)\)/.exec(te)){let ue;const fe=ce[1],de=ce[2];switch(fe){case"rgb":case"rgba":if(ue=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(de))return oe(ue[4]),this.setRGB(Math.min(255,parseInt(ue[1],10))/255,Math.min(255,parseInt(ue[2],10))/255,Math.min(255,parseInt(ue[3],10))/255,ae);if(ue=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(de))return oe(ue[4]),this.setRGB(Math.min(100,parseInt(ue[1],10))/100,Math.min(100,parseInt(ue[2],10))/100,Math.min(100,parseInt(ue[3],10))/100,ae);break;case"hsl":case"hsla":if(ue=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(de))return oe(ue[4]),this.setHSL(parseFloat(ue[1])/360,parseFloat(ue[2])/100,parseFloat(ue[3])/100,ae);break;default:console.warn("THREE.Color: Unknown color model "+te)}}else if(ce=/^\#([A-Fa-f\d]+)$/.exec(te)){const ue=ce[1],fe=ue.length;if(fe===3)return this.setRGB(parseInt(ue.charAt(0),16)/15,parseInt(ue.charAt(1),16)/15,parseInt(ue.charAt(2),16)/15,ae);if(fe===6)return this.setHex(parseInt(ue,16),ae);console.warn("THREE.Color: Invalid hex color "+te)}else if(te&&te.length>0)return this.setColorName(te,ae);return this}setColorName(te,ae=SRGBColorSpace$1){const oe=_colorKeywords[te.toLowerCase()];return oe!==void 0?this.setHex(oe,ae):console.warn("THREE.Color: Unknown color "+te),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(te){return this.r=te.r,this.g=te.g,this.b=te.b,this}copySRGBToLinear(te){return this.r=SRGBToLinear(te.r),this.g=SRGBToLinear(te.g),this.b=SRGBToLinear(te.b),this}copyLinearToSRGB(te){return this.r=LinearToSRGB(te.r),this.g=LinearToSRGB(te.g),this.b=LinearToSRGB(te.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(te=SRGBColorSpace$1){return ColorManagement.fromWorkingColorSpace(_color.copy(this),te),Math.round(clamp$4(_color.r*255,0,255))*65536+Math.round(clamp$4(_color.g*255,0,255))*256+Math.round(clamp$4(_color.b*255,0,255))}getHexString(te=SRGBColorSpace$1){return("000000"+this.getHex(te).toString(16)).slice(-6)}getHSL(te,ae=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),ae);const oe=_color.r,ce=_color.g,ue=_color.b,fe=Math.max(oe,ce,ue),de=Math.min(oe,ce,ue);let pe,me;const _e=(de+fe)/2;if(de===fe)pe=0,me=0;else{const be=fe-de;switch(me=_e<=.5?be/(fe+de):be/(2-fe-de),fe){case oe:pe=(ce-ue)/be+(ce<ue?6:0);break;case ce:pe=(ue-oe)/be+2;break;case ue:pe=(oe-ce)/be+4;break}pe/=6}return te.h=pe,te.s=me,te.l=_e,te}getRGB(te,ae=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),ae),te.r=_color.r,te.g=_color.g,te.b=_color.b,te}getStyle(te=SRGBColorSpace$1){ColorManagement.fromWorkingColorSpace(_color.copy(this),te);const ae=_color.r,oe=_color.g,ce=_color.b;return te!==SRGBColorSpace$1?`color(${te} ${ae.toFixed(3)} ${oe.toFixed(3)} ${ce.toFixed(3)})`:`rgb(${Math.round(ae*255)},${Math.round(oe*255)},${Math.round(ce*255)})`}offsetHSL(te,ae,oe){return this.getHSL(_hslA),this.setHSL(_hslA.h+te,_hslA.s+ae,_hslA.l+oe)}add(te){return this.r+=te.r,this.g+=te.g,this.b+=te.b,this}addColors(te,ae){return this.r=te.r+ae.r,this.g=te.g+ae.g,this.b=te.b+ae.b,this}addScalar(te){return this.r+=te,this.g+=te,this.b+=te,this}sub(te){return this.r=Math.max(0,this.r-te.r),this.g=Math.max(0,this.g-te.g),this.b=Math.max(0,this.b-te.b),this}multiply(te){return this.r*=te.r,this.g*=te.g,this.b*=te.b,this}multiplyScalar(te){return this.r*=te,this.g*=te,this.b*=te,this}lerp(te,ae){return this.r+=(te.r-this.r)*ae,this.g+=(te.g-this.g)*ae,this.b+=(te.b-this.b)*ae,this}lerpColors(te,ae,oe){return this.r=te.r+(ae.r-te.r)*oe,this.g=te.g+(ae.g-te.g)*oe,this.b=te.b+(ae.b-te.b)*oe,this}lerpHSL(te,ae){this.getHSL(_hslA),te.getHSL(_hslB);const oe=lerp(_hslA.h,_hslB.h,ae),ce=lerp(_hslA.s,_hslB.s,ae),ue=lerp(_hslA.l,_hslB.l,ae);return this.setHSL(oe,ce,ue),this}setFromVector3(te){return this.r=te.x,this.g=te.y,this.b=te.z,this}applyMatrix3(te){const ae=this.r,oe=this.g,ce=this.b,ue=te.elements;return this.r=ue[0]*ae+ue[3]*oe+ue[6]*ce,this.g=ue[1]*ae+ue[4]*oe+ue[7]*ce,this.b=ue[2]*ae+ue[5]*oe+ue[8]*ce,this}equals(te){return te.r===this.r&&te.g===this.g&&te.b===this.b}fromArray(te,ae=0){return this.r=te[ae],this.g=te[ae+1],this.b=te[ae+2],this}toArray(te=[],ae=0){return te[ae]=this.r,te[ae+1]=this.g,te[ae+2]=this.b,te}fromBufferAttribute(te,ae){return this.r=te.getX(ae),this.g=te.getY(ae),this.b=te.getZ(ae),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const _color=new Color$1;Color$1.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color$1(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(te){this._alphaTest>0!=te>0&&this.version++,this._alphaTest=te}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(te){if(te!==void 0)for(const ae in te){const oe=te[ae];if(oe===void 0){console.warn(`THREE.Material: parameter '${ae}' has value of undefined.`);continue}const ce=this[ae];if(ce===void 0){console.warn(`THREE.Material: '${ae}' is not a property of THREE.${this.type}.`);continue}ce&&ce.isColor?ce.set(oe):ce&&ce.isVector3&&oe&&oe.isVector3?ce.copy(oe):this[ae]=oe}}toJSON(te){const ae=te===void 0||typeof te=="string";ae&&(te={textures:{},images:{}});const oe={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};oe.uuid=this.uuid,oe.type=this.type,this.name!==""&&(oe.name=this.name),this.color&&this.color.isColor&&(oe.color=this.color.getHex()),this.roughness!==void 0&&(oe.roughness=this.roughness),this.metalness!==void 0&&(oe.metalness=this.metalness),this.sheen!==void 0&&(oe.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(oe.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(oe.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(oe.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(oe.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(oe.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(oe.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(oe.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(oe.shininess=this.shininess),this.clearcoat!==void 0&&(oe.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(oe.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(oe.clearcoatMap=this.clearcoatMap.toJSON(te).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(oe.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(te).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(oe.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(te).uuid,oe.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(oe.dispersion=this.dispersion),this.iridescence!==void 0&&(oe.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(oe.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(oe.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(oe.iridescenceMap=this.iridescenceMap.toJSON(te).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(oe.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(te).uuid),this.anisotropy!==void 0&&(oe.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(oe.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(oe.anisotropyMap=this.anisotropyMap.toJSON(te).uuid),this.map&&this.map.isTexture&&(oe.map=this.map.toJSON(te).uuid),this.matcap&&this.matcap.isTexture&&(oe.matcap=this.matcap.toJSON(te).uuid),this.alphaMap&&this.alphaMap.isTexture&&(oe.alphaMap=this.alphaMap.toJSON(te).uuid),this.lightMap&&this.lightMap.isTexture&&(oe.lightMap=this.lightMap.toJSON(te).uuid,oe.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(oe.aoMap=this.aoMap.toJSON(te).uuid,oe.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(oe.bumpMap=this.bumpMap.toJSON(te).uuid,oe.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(oe.normalMap=this.normalMap.toJSON(te).uuid,oe.normalMapType=this.normalMapType,oe.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(oe.displacementMap=this.displacementMap.toJSON(te).uuid,oe.displacementScale=this.displacementScale,oe.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(oe.roughnessMap=this.roughnessMap.toJSON(te).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(oe.metalnessMap=this.metalnessMap.toJSON(te).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(oe.emissiveMap=this.emissiveMap.toJSON(te).uuid),this.specularMap&&this.specularMap.isTexture&&(oe.specularMap=this.specularMap.toJSON(te).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(oe.specularIntensityMap=this.specularIntensityMap.toJSON(te).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(oe.specularColorMap=this.specularColorMap.toJSON(te).uuid),this.envMap&&this.envMap.isTexture&&(oe.envMap=this.envMap.toJSON(te).uuid,this.combine!==void 0&&(oe.combine=this.combine)),this.envMapRotation!==void 0&&(oe.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(oe.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(oe.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(oe.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(oe.gradientMap=this.gradientMap.toJSON(te).uuid),this.transmission!==void 0&&(oe.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(oe.transmissionMap=this.transmissionMap.toJSON(te).uuid),this.thickness!==void 0&&(oe.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(oe.thicknessMap=this.thicknessMap.toJSON(te).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(oe.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(oe.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(oe.size=this.size),this.shadowSide!==null&&(oe.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(oe.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(oe.blending=this.blending),this.side!==FrontSide&&(oe.side=this.side),this.vertexColors===!0&&(oe.vertexColors=!0),this.opacity<1&&(oe.opacity=this.opacity),this.transparent===!0&&(oe.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(oe.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(oe.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(oe.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(oe.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(oe.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(oe.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(oe.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(oe.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(oe.depthFunc=this.depthFunc),this.depthTest===!1&&(oe.depthTest=this.depthTest),this.depthWrite===!1&&(oe.depthWrite=this.depthWrite),this.colorWrite===!1&&(oe.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(oe.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(oe.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(oe.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(oe.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(oe.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(oe.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(oe.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(oe.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(oe.rotation=this.rotation),this.polygonOffset===!0&&(oe.polygonOffset=!0),this.polygonOffsetFactor!==0&&(oe.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(oe.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(oe.linewidth=this.linewidth),this.dashSize!==void 0&&(oe.dashSize=this.dashSize),this.gapSize!==void 0&&(oe.gapSize=this.gapSize),this.scale!==void 0&&(oe.scale=this.scale),this.dithering===!0&&(oe.dithering=!0),this.alphaTest>0&&(oe.alphaTest=this.alphaTest),this.alphaHash===!0&&(oe.alphaHash=!0),this.alphaToCoverage===!0&&(oe.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(oe.premultipliedAlpha=!0),this.forceSinglePass===!0&&(oe.forceSinglePass=!0),this.wireframe===!0&&(oe.wireframe=!0),this.wireframeLinewidth>1&&(oe.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(oe.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(oe.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(oe.flatShading=!0),this.visible===!1&&(oe.visible=!1),this.toneMapped===!1&&(oe.toneMapped=!1),this.fog===!1&&(oe.fog=!1),Object.keys(this.userData).length>0&&(oe.userData=this.userData);function ce(ue){const fe=[];for(const de in ue){const pe=ue[de];delete pe.metadata,fe.push(pe)}return fe}if(ae){const ue=ce(te.textures),fe=ce(te.images);ue.length>0&&(oe.textures=ue),fe.length>0&&(oe.images=fe)}return oe}clone(){return new this.constructor().copy(this)}copy(te){this.name=te.name,this.blending=te.blending,this.side=te.side,this.vertexColors=te.vertexColors,this.opacity=te.opacity,this.transparent=te.transparent,this.blendSrc=te.blendSrc,this.blendDst=te.blendDst,this.blendEquation=te.blendEquation,this.blendSrcAlpha=te.blendSrcAlpha,this.blendDstAlpha=te.blendDstAlpha,this.blendEquationAlpha=te.blendEquationAlpha,this.blendColor.copy(te.blendColor),this.blendAlpha=te.blendAlpha,this.depthFunc=te.depthFunc,this.depthTest=te.depthTest,this.depthWrite=te.depthWrite,this.stencilWriteMask=te.stencilWriteMask,this.stencilFunc=te.stencilFunc,this.stencilRef=te.stencilRef,this.stencilFuncMask=te.stencilFuncMask,this.stencilFail=te.stencilFail,this.stencilZFail=te.stencilZFail,this.stencilZPass=te.stencilZPass,this.stencilWrite=te.stencilWrite;const ae=te.clippingPlanes;let oe=null;if(ae!==null){const ce=ae.length;oe=new Array(ce);for(let ue=0;ue!==ce;++ue)oe[ue]=ae[ue].clone()}return this.clippingPlanes=oe,this.clipIntersection=te.clipIntersection,this.clipShadows=te.clipShadows,this.shadowSide=te.shadowSide,this.colorWrite=te.colorWrite,this.precision=te.precision,this.polygonOffset=te.polygonOffset,this.polygonOffsetFactor=te.polygonOffsetFactor,this.polygonOffsetUnits=te.polygonOffsetUnits,this.dithering=te.dithering,this.alphaTest=te.alphaTest,this.alphaHash=te.alphaHash,this.alphaToCoverage=te.alphaToCoverage,this.premultipliedAlpha=te.premultipliedAlpha,this.forceSinglePass=te.forceSinglePass,this.visible=te.visible,this.toneMapped=te.toneMapped,this.userData=JSON.parse(JSON.stringify(te.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(te){te===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(te){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.lightMap=te.lightMap,this.lightMapIntensity=te.lightMapIntensity,this.aoMap=te.aoMap,this.aoMapIntensity=te.aoMapIntensity,this.specularMap=te.specularMap,this.alphaMap=te.alphaMap,this.envMap=te.envMap,this.envMapRotation.copy(te.envMapRotation),this.combine=te.combine,this.reflectivity=te.reflectivity,this.refractionRatio=te.refractionRatio,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.wireframeLinecap=te.wireframeLinecap,this.wireframeLinejoin=te.wireframeLinejoin,this.fog=te.fog,this}}const _tables=_generateTables();function _generateTables(){const se=new ArrayBuffer(4),te=new Float32Array(se),ae=new Uint32Array(se),oe=new Uint32Array(512),ce=new Uint32Array(512);for(let pe=0;pe<256;++pe){const me=pe-127;me<-27?(oe[pe]=0,oe[pe|256]=32768,ce[pe]=24,ce[pe|256]=24):me<-14?(oe[pe]=1024>>-me-14,oe[pe|256]=1024>>-me-14|32768,ce[pe]=-me-1,ce[pe|256]=-me-1):me<=15?(oe[pe]=me+15<<10,oe[pe|256]=me+15<<10|32768,ce[pe]=13,ce[pe|256]=13):me<128?(oe[pe]=31744,oe[pe|256]=64512,ce[pe]=24,ce[pe|256]=24):(oe[pe]=31744,oe[pe|256]=64512,ce[pe]=13,ce[pe|256]=13)}const ue=new Uint32Array(2048),fe=new Uint32Array(64),de=new Uint32Array(64);for(let pe=1;pe<1024;++pe){let me=pe<<13,_e=0;for(;(me&8388608)===0;)me<<=1,_e-=8388608;me&=-8388609,_e+=947912704,ue[pe]=me|_e}for(let pe=1024;pe<2048;++pe)ue[pe]=939524096+(pe-1024<<13);for(let pe=1;pe<31;++pe)fe[pe]=pe<<23;fe[31]=1199570944,fe[32]=2147483648;for(let pe=33;pe<63;++pe)fe[pe]=2147483648+(pe-32<<23);fe[63]=3347054592;for(let pe=1;pe<64;++pe)pe!==32&&(de[pe]=1024);return{floatView:te,uint32View:ae,baseTable:oe,shiftTable:ce,mantissaTable:ue,exponentTable:fe,offsetTable:de}}function toHalfFloat(se){Math.abs(se)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),se=clamp$4(se,-65504,65504),_tables.floatView[0]=se;const te=_tables.uint32View[0],ae=te>>23&511;return _tables.baseTable[ae]+((te&8388607)>>_tables.shiftTable[ae])}function fromHalfFloat(se){const te=se>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[te]+(se&1023)]+_tables.exponentTable[te],_tables.floatView[0]}class DataUtils{static toHalfFloat(te){return toHalfFloat(te)}static fromHalfFloat(te){return fromHalfFloat(te)}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor(te,ae,oe=!1){if(Array.isArray(te))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=te,this.itemSize=ae,this.count=te!==void 0?te.length/ae:0,this.normalized=oe,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(te){te===!0&&this.version++}setUsage(te){return this.usage=te,this}addUpdateRange(te,ae){this.updateRanges.push({start:te,count:ae})}clearUpdateRanges(){this.updateRanges.length=0}copy(te){return this.name=te.name,this.array=new te.array.constructor(te.array),this.itemSize=te.itemSize,this.count=te.count,this.normalized=te.normalized,this.usage=te.usage,this.gpuType=te.gpuType,this}copyAt(te,ae,oe){te*=this.itemSize,oe*=ae.itemSize;for(let ce=0,ue=this.itemSize;ce<ue;ce++)this.array[te+ce]=ae.array[oe+ce];return this}copyArray(te){return this.array.set(te),this}applyMatrix3(te){if(this.itemSize===2)for(let ae=0,oe=this.count;ae<oe;ae++)_vector2$1.fromBufferAttribute(this,ae),_vector2$1.applyMatrix3(te),this.setXY(ae,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let ae=0,oe=this.count;ae<oe;ae++)_vector$9.fromBufferAttribute(this,ae),_vector$9.applyMatrix3(te),this.setXYZ(ae,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(te){for(let ae=0,oe=this.count;ae<oe;ae++)_vector$9.fromBufferAttribute(this,ae),_vector$9.applyMatrix4(te),this.setXYZ(ae,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(te){for(let ae=0,oe=this.count;ae<oe;ae++)_vector$9.fromBufferAttribute(this,ae),_vector$9.applyNormalMatrix(te),this.setXYZ(ae,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(te){for(let ae=0,oe=this.count;ae<oe;ae++)_vector$9.fromBufferAttribute(this,ae),_vector$9.transformDirection(te),this.setXYZ(ae,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(te,ae=0){return this.array.set(te,ae),this}getComponent(te,ae){let oe=this.array[te*this.itemSize+ae];return this.normalized&&(oe=denormalize(oe,this.array)),oe}setComponent(te,ae,oe){return this.normalized&&(oe=normalize$6(oe,this.array)),this.array[te*this.itemSize+ae]=oe,this}getX(te){let ae=this.array[te*this.itemSize];return this.normalized&&(ae=denormalize(ae,this.array)),ae}setX(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize]=ae,this}getY(te){let ae=this.array[te*this.itemSize+1];return this.normalized&&(ae=denormalize(ae,this.array)),ae}setY(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+1]=ae,this}getZ(te){let ae=this.array[te*this.itemSize+2];return this.normalized&&(ae=denormalize(ae,this.array)),ae}setZ(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+2]=ae,this}getW(te){let ae=this.array[te*this.itemSize+3];return this.normalized&&(ae=denormalize(ae,this.array)),ae}setW(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+3]=ae,this}setXY(te,ae,oe){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array)),this.array[te+0]=ae,this.array[te+1]=oe,this}setXYZ(te,ae,oe,ce){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array)),this.array[te+0]=ae,this.array[te+1]=oe,this.array[te+2]=ce,this}setXYZW(te,ae,oe,ce,ue){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array),ue=normalize$6(ue,this.array)),this.array[te+0]=ae,this.array[te+1]=oe,this.array[te+2]=ce,this.array[te+3]=ue,this}onUpload(te){return this.onUploadCallback=te,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const te={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(te.name=this.name),this.usage!==StaticDrawUsage&&(te.usage=this.usage),te}}class Int8BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Int8Array(te),ae,oe)}}class Uint8BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Uint8Array(te),ae,oe)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Uint8ClampedArray(te),ae,oe)}}class Int16BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Int16Array(te),ae,oe)}}class Uint16BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Uint16Array(te),ae,oe)}}class Int32BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Int32Array(te),ae,oe)}}class Uint32BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Uint32Array(te),ae,oe)}}class Float16BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Uint16Array(te),ae,oe),this.isFloat16BufferAttribute=!0}getX(te){let ae=fromHalfFloat(this.array[te*this.itemSize]);return this.normalized&&(ae=denormalize(ae,this.array)),ae}setX(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize]=toHalfFloat(ae),this}getY(te){let ae=fromHalfFloat(this.array[te*this.itemSize+1]);return this.normalized&&(ae=denormalize(ae,this.array)),ae}setY(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+1]=toHalfFloat(ae),this}getZ(te){let ae=fromHalfFloat(this.array[te*this.itemSize+2]);return this.normalized&&(ae=denormalize(ae,this.array)),ae}setZ(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+2]=toHalfFloat(ae),this}getW(te){let ae=fromHalfFloat(this.array[te*this.itemSize+3]);return this.normalized&&(ae=denormalize(ae,this.array)),ae}setW(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.array[te*this.itemSize+3]=toHalfFloat(ae),this}setXY(te,ae,oe){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array)),this.array[te+0]=toHalfFloat(ae),this.array[te+1]=toHalfFloat(oe),this}setXYZ(te,ae,oe,ce){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array)),this.array[te+0]=toHalfFloat(ae),this.array[te+1]=toHalfFloat(oe),this.array[te+2]=toHalfFloat(ce),this}setXYZW(te,ae,oe,ce,ue){return te*=this.itemSize,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array),ue=normalize$6(ue,this.array)),this.array[te+0]=toHalfFloat(ae),this.array[te+1]=toHalfFloat(oe),this.array[te+2]=toHalfFloat(ce),this.array[te+3]=toHalfFloat(ue),this}}class Float32BufferAttribute extends BufferAttribute{constructor(te,ae,oe){super(new Float32Array(te),ae,oe)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(te){return Array.isArray(te)?this.index=new(arrayNeedsUint32(te)?Uint32BufferAttribute:Uint16BufferAttribute)(te,1):this.index=te,this}setIndirect(te){return this.indirect=te,this}getIndirect(){return this.indirect}getAttribute(te){return this.attributes[te]}setAttribute(te,ae){return this.attributes[te]=ae,this}deleteAttribute(te){return delete this.attributes[te],this}hasAttribute(te){return this.attributes[te]!==void 0}addGroup(te,ae,oe=0){this.groups.push({start:te,count:ae,materialIndex:oe})}clearGroups(){this.groups=[]}setDrawRange(te,ae){this.drawRange.start=te,this.drawRange.count=ae}applyMatrix4(te){const ae=this.attributes.position;ae!==void 0&&(ae.applyMatrix4(te),ae.needsUpdate=!0);const oe=this.attributes.normal;if(oe!==void 0){const ue=new Matrix3().getNormalMatrix(te);oe.applyNormalMatrix(ue),oe.needsUpdate=!0}const ce=this.attributes.tangent;return ce!==void 0&&(ce.transformDirection(te),ce.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(te){return _m1$3.makeRotationFromQuaternion(te),this.applyMatrix4(_m1$3),this}rotateX(te){return _m1$3.makeRotationX(te),this.applyMatrix4(_m1$3),this}rotateY(te){return _m1$3.makeRotationY(te),this.applyMatrix4(_m1$3),this}rotateZ(te){return _m1$3.makeRotationZ(te),this.applyMatrix4(_m1$3),this}translate(te,ae,oe){return _m1$3.makeTranslation(te,ae,oe),this.applyMatrix4(_m1$3),this}scale(te,ae,oe){return _m1$3.makeScale(te,ae,oe),this.applyMatrix4(_m1$3),this}lookAt(te){return _obj.lookAt(te),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(te){const ae=this.getAttribute("position");if(ae===void 0){const oe=[];for(let ce=0,ue=te.length;ce<ue;ce++){const fe=te[ce];oe.push(fe.x,fe.y,fe.z||0)}this.setAttribute("position",new Float32BufferAttribute(oe,3))}else{const oe=Math.min(te.length,ae.count);for(let ce=0;ce<oe;ce++){const ue=te[ce];ae.setXYZ(ce,ue.x,ue.y,ue.z||0)}te.length>ae.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),ae.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const te=this.attributes.position,ae=this.morphAttributes.position;if(te&&te.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(te!==void 0){if(this.boundingBox.setFromBufferAttribute(te),ae)for(let oe=0,ce=ae.length;oe<ce;oe++){const ue=ae[oe];_box$2.setFromBufferAttribute(ue),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const te=this.attributes.position,ae=this.morphAttributes.position;if(te&&te.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(te){const oe=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(te),ae)for(let ue=0,fe=ae.length;ue<fe;ue++){const de=ae[ue];_boxMorphTargets.setFromBufferAttribute(de),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(oe);let ce=0;for(let ue=0,fe=te.count;ue<fe;ue++)_vector$8.fromBufferAttribute(te,ue),ce=Math.max(ce,oe.distanceToSquared(_vector$8));if(ae)for(let ue=0,fe=ae.length;ue<fe;ue++){const de=ae[ue],pe=this.morphTargetsRelative;for(let me=0,_e=de.count;me<_e;me++)_vector$8.fromBufferAttribute(de,me),pe&&(_offset.fromBufferAttribute(te,me),_vector$8.add(_offset)),ce=Math.max(ce,oe.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(ce),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const te=this.index,ae=this.attributes;if(te===null||ae.position===void 0||ae.normal===void 0||ae.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const oe=ae.position,ce=ae.normal,ue=ae.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*oe.count),4));const fe=this.getAttribute("tangent"),de=[],pe=[];for(let We=0;We<oe.count;We++)de[We]=new Vector3,pe[We]=new Vector3;const me=new Vector3,_e=new Vector3,be=new Vector3,Ee=new Vector2,Ae=new Vector2,Re=new Vector2,Be=new Vector3,De=new Vector3;function Oe(We,je,He){me.fromBufferAttribute(oe,We),_e.fromBufferAttribute(oe,je),be.fromBufferAttribute(oe,He),Ee.fromBufferAttribute(ue,We),Ae.fromBufferAttribute(ue,je),Re.fromBufferAttribute(ue,He),_e.sub(me),be.sub(me),Ae.sub(Ee),Re.sub(Ee);const tt=1/(Ae.x*Re.y-Re.x*Ae.y);isFinite(tt)&&(Be.copy(_e).multiplyScalar(Re.y).addScaledVector(be,-Ae.y).multiplyScalar(tt),De.copy(be).multiplyScalar(Ae.x).addScaledVector(_e,-Re.x).multiplyScalar(tt),de[We].add(Be),de[je].add(Be),de[He].add(Be),pe[We].add(De),pe[je].add(De),pe[He].add(De))}let Pe=this.groups;Pe.length===0&&(Pe=[{start:0,count:te.count}]);for(let We=0,je=Pe.length;We<je;++We){const He=Pe[We],tt=He.start,Ze=He.count;for(let nt=tt,at=tt+Ze;nt<at;nt+=3)Oe(te.getX(nt+0),te.getX(nt+1),te.getX(nt+2))}const Ie=new Vector3,Fe=new Vector3,$e=new Vector3,Ve=new Vector3;function ke(We){$e.fromBufferAttribute(ce,We),Ve.copy($e);const je=de[We];Ie.copy(je),Ie.sub($e.multiplyScalar($e.dot(je))).normalize(),Fe.crossVectors(Ve,je);const tt=Fe.dot(pe[We])<0?-1:1;fe.setXYZW(We,Ie.x,Ie.y,Ie.z,tt)}for(let We=0,je=Pe.length;We<je;++We){const He=Pe[We],tt=He.start,Ze=He.count;for(let nt=tt,at=tt+Ze;nt<at;nt+=3)ke(te.getX(nt+0)),ke(te.getX(nt+1)),ke(te.getX(nt+2))}}computeVertexNormals(){const te=this.index,ae=this.getAttribute("position");if(ae!==void 0){let oe=this.getAttribute("normal");if(oe===void 0)oe=new BufferAttribute(new Float32Array(ae.count*3),3),this.setAttribute("normal",oe);else for(let Ee=0,Ae=oe.count;Ee<Ae;Ee++)oe.setXYZ(Ee,0,0,0);const ce=new Vector3,ue=new Vector3,fe=new Vector3,de=new Vector3,pe=new Vector3,me=new Vector3,_e=new Vector3,be=new Vector3;if(te)for(let Ee=0,Ae=te.count;Ee<Ae;Ee+=3){const Re=te.getX(Ee+0),Be=te.getX(Ee+1),De=te.getX(Ee+2);ce.fromBufferAttribute(ae,Re),ue.fromBufferAttribute(ae,Be),fe.fromBufferAttribute(ae,De),_e.subVectors(fe,ue),be.subVectors(ce,ue),_e.cross(be),de.fromBufferAttribute(oe,Re),pe.fromBufferAttribute(oe,Be),me.fromBufferAttribute(oe,De),de.add(_e),pe.add(_e),me.add(_e),oe.setXYZ(Re,de.x,de.y,de.z),oe.setXYZ(Be,pe.x,pe.y,pe.z),oe.setXYZ(De,me.x,me.y,me.z)}else for(let Ee=0,Ae=ae.count;Ee<Ae;Ee+=3)ce.fromBufferAttribute(ae,Ee+0),ue.fromBufferAttribute(ae,Ee+1),fe.fromBufferAttribute(ae,Ee+2),_e.subVectors(fe,ue),be.subVectors(ce,ue),_e.cross(be),oe.setXYZ(Ee+0,_e.x,_e.y,_e.z),oe.setXYZ(Ee+1,_e.x,_e.y,_e.z),oe.setXYZ(Ee+2,_e.x,_e.y,_e.z);this.normalizeNormals(),oe.needsUpdate=!0}}normalizeNormals(){const te=this.attributes.normal;for(let ae=0,oe=te.count;ae<oe;ae++)_vector$8.fromBufferAttribute(te,ae),_vector$8.normalize(),te.setXYZ(ae,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function te(de,pe){const me=de.array,_e=de.itemSize,be=de.normalized,Ee=new me.constructor(pe.length*_e);let Ae=0,Re=0;for(let Be=0,De=pe.length;Be<De;Be++){de.isInterleavedBufferAttribute?Ae=pe[Be]*de.data.stride+de.offset:Ae=pe[Be]*_e;for(let Oe=0;Oe<_e;Oe++)Ee[Re++]=me[Ae++]}return new BufferAttribute(Ee,_e,be)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const ae=new BufferGeometry,oe=this.index.array,ce=this.attributes;for(const de in ce){const pe=ce[de],me=te(pe,oe);ae.setAttribute(de,me)}const ue=this.morphAttributes;for(const de in ue){const pe=[],me=ue[de];for(let _e=0,be=me.length;_e<be;_e++){const Ee=me[_e],Ae=te(Ee,oe);pe.push(Ae)}ae.morphAttributes[de]=pe}ae.morphTargetsRelative=this.morphTargetsRelative;const fe=this.groups;for(let de=0,pe=fe.length;de<pe;de++){const me=fe[de];ae.addGroup(me.start,me.count,me.materialIndex)}return ae}toJSON(){const te={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(te.uuid=this.uuid,te.type=this.type,this.name!==""&&(te.name=this.name),Object.keys(this.userData).length>0&&(te.userData=this.userData),this.parameters!==void 0){const pe=this.parameters;for(const me in pe)pe[me]!==void 0&&(te[me]=pe[me]);return te}te.data={attributes:{}};const ae=this.index;ae!==null&&(te.data.index={type:ae.array.constructor.name,array:Array.prototype.slice.call(ae.array)});const oe=this.attributes;for(const pe in oe){const me=oe[pe];te.data.attributes[pe]=me.toJSON(te.data)}const ce={};let ue=!1;for(const pe in this.morphAttributes){const me=this.morphAttributes[pe],_e=[];for(let be=0,Ee=me.length;be<Ee;be++){const Ae=me[be];_e.push(Ae.toJSON(te.data))}_e.length>0&&(ce[pe]=_e,ue=!0)}ue&&(te.data.morphAttributes=ce,te.data.morphTargetsRelative=this.morphTargetsRelative);const fe=this.groups;fe.length>0&&(te.data.groups=JSON.parse(JSON.stringify(fe)));const de=this.boundingSphere;return de!==null&&(te.data.boundingSphere={center:de.center.toArray(),radius:de.radius}),te}clone(){return new this.constructor().copy(this)}copy(te){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const ae={};this.name=te.name;const oe=te.index;oe!==null&&this.setIndex(oe.clone());const ce=te.attributes;for(const me in ce){const _e=ce[me];this.setAttribute(me,_e.clone(ae))}const ue=te.morphAttributes;for(const me in ue){const _e=[],be=ue[me];for(let Ee=0,Ae=be.length;Ee<Ae;Ee++)_e.push(be[Ee].clone(ae));this.morphAttributes[me]=_e}this.morphTargetsRelative=te.morphTargetsRelative;const fe=te.groups;for(let me=0,_e=fe.length;me<_e;me++){const be=fe[me];this.addGroup(be.start,be.count,be.materialIndex)}const de=te.boundingBox;de!==null&&(this.boundingBox=de.clone());const pe=te.boundingSphere;return pe!==null&&(this.boundingSphere=pe.clone()),this.drawRange.start=te.drawRange.start,this.drawRange.count=te.drawRange.count,this.userData=te.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(te=new BufferGeometry,ae=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=te,this.material=ae,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(te,ae){return super.copy(te,ae),te.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=te.morphTargetInfluences.slice()),te.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},te.morphTargetDictionary)),this.material=Array.isArray(te.material)?te.material.slice():te.material,this.geometry=te.geometry,this}updateMorphTargets(){const ae=this.geometry.morphAttributes,oe=Object.keys(ae);if(oe.length>0){const ce=ae[oe[0]];if(ce!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ue=0,fe=ce.length;ue<fe;ue++){const de=ce[ue].name||String(ue);this.morphTargetInfluences.push(0),this.morphTargetDictionary[de]=ue}}}}getVertexPosition(te,ae){const oe=this.geometry,ce=oe.attributes.position,ue=oe.morphAttributes.position,fe=oe.morphTargetsRelative;ae.fromBufferAttribute(ce,te);const de=this.morphTargetInfluences;if(ue&&de){_morphA.set(0,0,0);for(let pe=0,me=ue.length;pe<me;pe++){const _e=de[pe],be=ue[pe];_e!==0&&(_tempA.fromBufferAttribute(be,te),fe?_morphA.addScaledVector(_tempA,_e):_morphA.addScaledVector(_tempA.sub(ae),_e))}ae.add(_morphA)}return ae}raycast(te,ae){const oe=this.geometry,ce=this.material,ue=this.matrixWorld;ce!==void 0&&(oe.boundingSphere===null&&oe.computeBoundingSphere(),_sphere$6.copy(oe.boundingSphere),_sphere$6.applyMatrix4(ue),_ray$3.copy(te.ray).recast(te.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(te.far-te.near)**2))&&(_inverseMatrix$3.copy(ue).invert(),_ray$3.copy(te.ray).applyMatrix4(_inverseMatrix$3),!(oe.boundingBox!==null&&_ray$3.intersectsBox(oe.boundingBox)===!1)&&this._computeIntersections(te,ae,_ray$3)))}_computeIntersections(te,ae,oe){let ce;const ue=this.geometry,fe=this.material,de=ue.index,pe=ue.attributes.position,me=ue.attributes.uv,_e=ue.attributes.uv1,be=ue.attributes.normal,Ee=ue.groups,Ae=ue.drawRange;if(de!==null)if(Array.isArray(fe))for(let Re=0,Be=Ee.length;Re<Be;Re++){const De=Ee[Re],Oe=fe[De.materialIndex],Pe=Math.max(De.start,Ae.start),Ie=Math.min(de.count,Math.min(De.start+De.count,Ae.start+Ae.count));for(let Fe=Pe,$e=Ie;Fe<$e;Fe+=3){const Ve=de.getX(Fe),ke=de.getX(Fe+1),We=de.getX(Fe+2);ce=checkGeometryIntersection(this,Oe,te,oe,me,_e,be,Ve,ke,We),ce&&(ce.faceIndex=Math.floor(Fe/3),ce.face.materialIndex=De.materialIndex,ae.push(ce))}}else{const Re=Math.max(0,Ae.start),Be=Math.min(de.count,Ae.start+Ae.count);for(let De=Re,Oe=Be;De<Oe;De+=3){const Pe=de.getX(De),Ie=de.getX(De+1),Fe=de.getX(De+2);ce=checkGeometryIntersection(this,fe,te,oe,me,_e,be,Pe,Ie,Fe),ce&&(ce.faceIndex=Math.floor(De/3),ae.push(ce))}}else if(pe!==void 0)if(Array.isArray(fe))for(let Re=0,Be=Ee.length;Re<Be;Re++){const De=Ee[Re],Oe=fe[De.materialIndex],Pe=Math.max(De.start,Ae.start),Ie=Math.min(pe.count,Math.min(De.start+De.count,Ae.start+Ae.count));for(let Fe=Pe,$e=Ie;Fe<$e;Fe+=3){const Ve=Fe,ke=Fe+1,We=Fe+2;ce=checkGeometryIntersection(this,Oe,te,oe,me,_e,be,Ve,ke,We),ce&&(ce.faceIndex=Math.floor(Fe/3),ce.face.materialIndex=De.materialIndex,ae.push(ce))}}else{const Re=Math.max(0,Ae.start),Be=Math.min(pe.count,Ae.start+Ae.count);for(let De=Re,Oe=Be;De<Oe;De+=3){const Pe=De,Ie=De+1,Fe=De+2;ce=checkGeometryIntersection(this,fe,te,oe,me,_e,be,Pe,Ie,Fe),ce&&(ce.faceIndex=Math.floor(De/3),ae.push(ce))}}}}function checkIntersection$1(se,te,ae,oe,ce,ue,fe,de){let pe;if(te.side===BackSide?pe=oe.intersectTriangle(fe,ue,ce,!0,de):pe=oe.intersectTriangle(ce,ue,fe,te.side===FrontSide,de),pe===null)return null;_intersectionPointWorld.copy(de),_intersectionPointWorld.applyMatrix4(se.matrixWorld);const me=ae.ray.origin.distanceTo(_intersectionPointWorld);return me<ae.near||me>ae.far?null:{distance:me,point:_intersectionPointWorld.clone(),object:se}}function checkGeometryIntersection(se,te,ae,oe,ce,ue,fe,de,pe,me){se.getVertexPosition(de,_vA$1),se.getVertexPosition(pe,_vB$1),se.getVertexPosition(me,_vC$1);const _e=checkIntersection$1(se,te,ae,oe,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(_e){const be=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,be),ce&&(_e.uv=Triangle.getInterpolatedAttribute(ce,de,pe,me,be,new Vector2)),ue&&(_e.uv1=Triangle.getInterpolatedAttribute(ue,de,pe,me,be,new Vector2)),fe&&(_e.normal=Triangle.getInterpolatedAttribute(fe,de,pe,me,be,new Vector3),_e.normal.dot(oe.direction)>0&&_e.normal.multiplyScalar(-1));const Ee={a:de,b:pe,c:me,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,Ee.normal),_e.face=Ee,_e.barycoord=be}return _e}class BoxGeometry extends BufferGeometry{constructor(te=1,ae=1,oe=1,ce=1,ue=1,fe=1){super(),this.type="BoxGeometry",this.parameters={width:te,height:ae,depth:oe,widthSegments:ce,heightSegments:ue,depthSegments:fe};const de=this;ce=Math.floor(ce),ue=Math.floor(ue),fe=Math.floor(fe);const pe=[],me=[],_e=[],be=[];let Ee=0,Ae=0;Re("z","y","x",-1,-1,oe,ae,te,fe,ue,0),Re("z","y","x",1,-1,oe,ae,-te,fe,ue,1),Re("x","z","y",1,1,te,oe,ae,ce,fe,2),Re("x","z","y",1,-1,te,oe,-ae,ce,fe,3),Re("x","y","z",1,-1,te,ae,oe,ce,ue,4),Re("x","y","z",-1,-1,te,ae,-oe,ce,ue,5),this.setIndex(pe),this.setAttribute("position",new Float32BufferAttribute(me,3)),this.setAttribute("normal",new Float32BufferAttribute(_e,3)),this.setAttribute("uv",new Float32BufferAttribute(be,2));function Re(Be,De,Oe,Pe,Ie,Fe,$e,Ve,ke,We,je){const He=Fe/ke,tt=$e/We,Ze=Fe/2,nt=$e/2,at=Ve/2,mt=ke+1,Ye=We+1;let rt=0,lt=0;const _t=new Vector3;for(let Xe=0;Xe<Ye;Xe++){const et=Xe*tt-nt;for(let ft=0;ft<mt;ft++){const yt=ft*He-Ze;_t[Be]=yt*Pe,_t[De]=et*Ie,_t[Oe]=at,me.push(_t.x,_t.y,_t.z),_t[Be]=0,_t[De]=0,_t[Oe]=Ve>0?1:-1,_e.push(_t.x,_t.y,_t.z),be.push(ft/ke),be.push(1-Xe/We),rt+=1}}for(let Xe=0;Xe<We;Xe++)for(let et=0;et<ke;et++){const ft=Ee+et+mt*Xe,yt=Ee+et+mt*(Xe+1),st=Ee+(et+1)+mt*(Xe+1),gt=Ee+(et+1)+mt*Xe;pe.push(ft,yt,gt),pe.push(yt,st,gt),lt+=6}de.addGroup(Ae,lt,je),Ae+=lt,Ee+=rt}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new BoxGeometry(te.width,te.height,te.depth,te.widthSegments,te.heightSegments,te.depthSegments)}}function cloneUniforms(se){const te={};for(const ae in se){te[ae]={};for(const oe in se[ae]){const ce=se[ae][oe];ce&&(ce.isColor||ce.isMatrix3||ce.isMatrix4||ce.isVector2||ce.isVector3||ce.isVector4||ce.isTexture||ce.isQuaternion)?ce.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),te[ae][oe]=null):te[ae][oe]=ce.clone():Array.isArray(ce)?te[ae][oe]=ce.slice():te[ae][oe]=ce}}return te}function mergeUniforms(se){const te={};for(let ae=0;ae<se.length;ae++){const oe=cloneUniforms(se[ae]);for(const ce in oe)te[ce]=oe[ce]}return te}function cloneUniformsGroups(se){const te=[];for(let ae=0;ae<se.length;ae++)te.push(se[ae].clone());return te}function getUnlitUniformColorSpace(se){const te=se.getRenderTarget();return te===null?se.outputColorSpace:te.isXRRenderTarget===!0?te.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(te){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,te!==void 0&&this.setValues(te)}copy(te){return super.copy(te),this.fragmentShader=te.fragmentShader,this.vertexShader=te.vertexShader,this.uniforms=cloneUniforms(te.uniforms),this.uniformsGroups=cloneUniformsGroups(te.uniformsGroups),this.defines=Object.assign({},te.defines),this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.fog=te.fog,this.lights=te.lights,this.clipping=te.clipping,this.extensions=Object.assign({},te.extensions),this.glslVersion=te.glslVersion,this}toJSON(te){const ae=super.toJSON(te);ae.glslVersion=this.glslVersion,ae.uniforms={};for(const ce in this.uniforms){const fe=this.uniforms[ce].value;fe&&fe.isTexture?ae.uniforms[ce]={type:"t",value:fe.toJSON(te).uuid}:fe&&fe.isColor?ae.uniforms[ce]={type:"c",value:fe.getHex()}:fe&&fe.isVector2?ae.uniforms[ce]={type:"v2",value:fe.toArray()}:fe&&fe.isVector3?ae.uniforms[ce]={type:"v3",value:fe.toArray()}:fe&&fe.isVector4?ae.uniforms[ce]={type:"v4",value:fe.toArray()}:fe&&fe.isMatrix3?ae.uniforms[ce]={type:"m3",value:fe.toArray()}:fe&&fe.isMatrix4?ae.uniforms[ce]={type:"m4",value:fe.toArray()}:ae.uniforms[ce]={value:fe}}Object.keys(this.defines).length>0&&(ae.defines=this.defines),ae.vertexShader=this.vertexShader,ae.fragmentShader=this.fragmentShader,ae.lights=this.lights,ae.clipping=this.clipping;const oe={};for(const ce in this.extensions)this.extensions[ce]===!0&&(oe[ce]=!0);return Object.keys(oe).length>0&&(ae.extensions=oe),ae}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(te,ae){return super.copy(te,ae),this.matrixWorldInverse.copy(te.matrixWorldInverse),this.projectionMatrix.copy(te.projectionMatrix),this.projectionMatrixInverse.copy(te.projectionMatrixInverse),this.coordinateSystem=te.coordinateSystem,this}getWorldDirection(te){return super.getWorldDirection(te).negate()}updateMatrixWorld(te){super.updateMatrixWorld(te),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(te,ae){super.updateWorldMatrix(te,ae),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(te=50,ae=1,oe=.1,ce=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=te,this.zoom=1,this.near=oe,this.far=ce,this.focus=10,this.aspect=ae,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(te,ae){return super.copy(te,ae),this.fov=te.fov,this.zoom=te.zoom,this.near=te.near,this.far=te.far,this.focus=te.focus,this.aspect=te.aspect,this.view=te.view===null?null:Object.assign({},te.view),this.filmGauge=te.filmGauge,this.filmOffset=te.filmOffset,this}setFocalLength(te){const ae=.5*this.getFilmHeight()/te;this.fov=RAD2DEG*2*Math.atan(ae),this.updateProjectionMatrix()}getFocalLength(){const te=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/te}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(te,ae,oe){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),ae.set(_v3$1.x,_v3$1.y).multiplyScalar(-te/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),oe.set(_v3$1.x,_v3$1.y).multiplyScalar(-te/_v3$1.z)}getViewSize(te,ae){return this.getViewBounds(te,_minTarget,_maxTarget),ae.subVectors(_maxTarget,_minTarget)}setViewOffset(te,ae,oe,ce,ue,fe){this.aspect=te/ae,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=te,this.view.fullHeight=ae,this.view.offsetX=oe,this.view.offsetY=ce,this.view.width=ue,this.view.height=fe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const te=this.near;let ae=te*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,oe=2*ae,ce=this.aspect*oe,ue=-.5*ce;const fe=this.view;if(this.view!==null&&this.view.enabled){const pe=fe.fullWidth,me=fe.fullHeight;ue+=fe.offsetX*ce/pe,ae-=fe.offsetY*oe/me,ce*=fe.width/pe,oe*=fe.height/me}const de=this.filmOffset;de!==0&&(ue+=te*de/this.getFilmWidth()),this.projectionMatrix.makePerspective(ue,ue+ce,ae,ae-oe,te,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(te){const ae=super.toJSON(te);return ae.object.fov=this.fov,ae.object.zoom=this.zoom,ae.object.near=this.near,ae.object.far=this.far,ae.object.focus=this.focus,ae.object.aspect=this.aspect,this.view!==null&&(ae.object.view=Object.assign({},this.view)),ae.object.filmGauge=this.filmGauge,ae.object.filmOffset=this.filmOffset,ae}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(te,ae,oe){super(),this.type="CubeCamera",this.renderTarget=oe,this.coordinateSystem=null,this.activeMipmapLevel=0;const ce=new PerspectiveCamera(fov,aspect,te,ae);ce.layers=this.layers,this.add(ce);const ue=new PerspectiveCamera(fov,aspect,te,ae);ue.layers=this.layers,this.add(ue);const fe=new PerspectiveCamera(fov,aspect,te,ae);fe.layers=this.layers,this.add(fe);const de=new PerspectiveCamera(fov,aspect,te,ae);de.layers=this.layers,this.add(de);const pe=new PerspectiveCamera(fov,aspect,te,ae);pe.layers=this.layers,this.add(pe);const me=new PerspectiveCamera(fov,aspect,te,ae);me.layers=this.layers,this.add(me)}updateCoordinateSystem(){const te=this.coordinateSystem,ae=this.children.concat(),[oe,ce,ue,fe,de,pe]=ae;for(const me of ae)this.remove(me);if(te===WebGLCoordinateSystem)oe.up.set(0,1,0),oe.lookAt(1,0,0),ce.up.set(0,1,0),ce.lookAt(-1,0,0),ue.up.set(0,0,-1),ue.lookAt(0,1,0),fe.up.set(0,0,1),fe.lookAt(0,-1,0),de.up.set(0,1,0),de.lookAt(0,0,1),pe.up.set(0,1,0),pe.lookAt(0,0,-1);else if(te===WebGPUCoordinateSystem)oe.up.set(0,-1,0),oe.lookAt(-1,0,0),ce.up.set(0,-1,0),ce.lookAt(1,0,0),ue.up.set(0,0,1),ue.lookAt(0,1,0),fe.up.set(0,0,-1),fe.lookAt(0,-1,0),de.up.set(0,-1,0),de.lookAt(0,0,1),pe.up.set(0,-1,0),pe.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+te);for(const me of ae)this.add(me),me.updateMatrixWorld()}update(te,ae){this.parent===null&&this.updateMatrixWorld();const{renderTarget:oe,activeMipmapLevel:ce}=this;this.coordinateSystem!==te.coordinateSystem&&(this.coordinateSystem=te.coordinateSystem,this.updateCoordinateSystem());const[ue,fe,de,pe,me,_e]=this.children,be=te.getRenderTarget(),Ee=te.getActiveCubeFace(),Ae=te.getActiveMipmapLevel(),Re=te.xr.enabled;te.xr.enabled=!1;const Be=oe.texture.generateMipmaps;oe.texture.generateMipmaps=!1,te.setRenderTarget(oe,0,ce),te.render(ae,ue),te.setRenderTarget(oe,1,ce),te.render(ae,fe),te.setRenderTarget(oe,2,ce),te.render(ae,de),te.setRenderTarget(oe,3,ce),te.render(ae,pe),te.setRenderTarget(oe,4,ce),te.render(ae,me),oe.texture.generateMipmaps=Be,te.setRenderTarget(oe,5,ce),te.render(ae,_e),te.setRenderTarget(be,Ee,Ae),te.xr.enabled=Re,oe.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(te=[],ae=CubeReflectionMapping,oe,ce,ue,fe,de,pe,me,_e){super(te,ae,oe,ce,ue,fe,de,pe,me,_e),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(te){this.image=te}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(te=1,ae={}){super(te,te,ae),this.isWebGLCubeRenderTarget=!0;const oe={width:te,height:te,depth:1},ce=[oe,oe,oe,oe,oe,oe];this.texture=new CubeTexture(ce,ae.mapping,ae.wrapS,ae.wrapT,ae.magFilter,ae.minFilter,ae.format,ae.type,ae.anisotropy,ae.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=ae.generateMipmaps!==void 0?ae.generateMipmaps:!1,this.texture.minFilter=ae.minFilter!==void 0?ae.minFilter:LinearFilter}fromEquirectangularTexture(te,ae){this.texture.type=ae.type,this.texture.colorSpace=ae.colorSpace,this.texture.generateMipmaps=ae.generateMipmaps,this.texture.minFilter=ae.minFilter,this.texture.magFilter=ae.magFilter;const oe={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},ce=new BoxGeometry(5,5,5),ue=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(oe.uniforms),vertexShader:oe.vertexShader,fragmentShader:oe.fragmentShader,side:BackSide,blending:NoBlending});ue.uniforms.tEquirect.value=ae;const fe=new Mesh(ce,ue),de=ae.minFilter;return ae.minFilter===LinearMipmapLinearFilter&&(ae.minFilter=LinearFilter),new CubeCamera(1,10,this).update(te,fe),ae.minFilter=de,fe.geometry.dispose(),fe.material.dispose(),this}clear(te,ae=!0,oe=!0,ce=!0){const ue=te.getRenderTarget();for(let fe=0;fe<6;fe++)te.setRenderTarget(this,fe),te.clear(ae,oe,ce);te.setRenderTarget(ue)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(te){return this._targetRay!==null&&this._targetRay.dispatchEvent(te),this._grip!==null&&this._grip.dispatchEvent(te),this._hand!==null&&this._hand.dispatchEvent(te),this}connect(te){if(te&&te.hand){const ae=this._hand;if(ae)for(const oe of te.hand.values())this._getHandJoint(ae,oe)}return this.dispatchEvent({type:"connected",data:te}),this}disconnect(te){return this.dispatchEvent({type:"disconnected",data:te}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(te,ae,oe){let ce=null,ue=null,fe=null;const de=this._targetRay,pe=this._grip,me=this._hand;if(te&&ae.session.visibilityState!=="visible-blurred"){if(me&&te.hand){fe=!0;for(const Be of te.hand.values()){const De=ae.getJointPose(Be,oe),Oe=this._getHandJoint(me,Be);De!==null&&(Oe.matrix.fromArray(De.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.rotation,Oe.scale),Oe.matrixWorldNeedsUpdate=!0,Oe.jointRadius=De.radius),Oe.visible=De!==null}const _e=me.joints["index-finger-tip"],be=me.joints["thumb-tip"],Ee=_e.position.distanceTo(be.position),Ae=.02,Re=.005;me.inputState.pinching&&Ee>Ae+Re?(me.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:te.handedness,target:this})):!me.inputState.pinching&&Ee<=Ae-Re&&(me.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:te.handedness,target:this}))}else pe!==null&&te.gripSpace&&(ue=ae.getPose(te.gripSpace,oe),ue!==null&&(pe.matrix.fromArray(ue.transform.matrix),pe.matrix.decompose(pe.position,pe.rotation,pe.scale),pe.matrixWorldNeedsUpdate=!0,ue.linearVelocity?(pe.hasLinearVelocity=!0,pe.linearVelocity.copy(ue.linearVelocity)):pe.hasLinearVelocity=!1,ue.angularVelocity?(pe.hasAngularVelocity=!0,pe.angularVelocity.copy(ue.angularVelocity)):pe.hasAngularVelocity=!1));de!==null&&(ce=ae.getPose(te.targetRaySpace,oe),ce===null&&ue!==null&&(ce=ue),ce!==null&&(de.matrix.fromArray(ce.transform.matrix),de.matrix.decompose(de.position,de.rotation,de.scale),de.matrixWorldNeedsUpdate=!0,ce.linearVelocity?(de.hasLinearVelocity=!0,de.linearVelocity.copy(ce.linearVelocity)):de.hasLinearVelocity=!1,ce.angularVelocity?(de.hasAngularVelocity=!0,de.angularVelocity.copy(ce.angularVelocity)):de.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return de!==null&&(de.visible=ce!==null),pe!==null&&(pe.visible=ue!==null),me!==null&&(me.visible=fe!==null),this}_getHandJoint(te,ae){if(te.joints[ae.jointName]===void 0){const oe=new Group;oe.matrixAutoUpdate=!1,oe.visible=!1,te.joints[ae.jointName]=oe,te.add(oe)}return te.joints[ae.jointName]}}class FogExp2{constructor(te,ae=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color$1(te),this.density=ae}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(te,ae=1,oe=1e3){this.isFog=!0,this.name="",this.color=new Color$1(te),this.near=ae,this.far=oe}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(te,ae){return super.copy(te,ae),te.background!==null&&(this.background=te.background.clone()),te.environment!==null&&(this.environment=te.environment.clone()),te.fog!==null&&(this.fog=te.fog.clone()),this.backgroundBlurriness=te.backgroundBlurriness,this.backgroundIntensity=te.backgroundIntensity,this.backgroundRotation.copy(te.backgroundRotation),this.environmentIntensity=te.environmentIntensity,this.environmentRotation.copy(te.environmentRotation),te.overrideMaterial!==null&&(this.overrideMaterial=te.overrideMaterial.clone()),this.matrixAutoUpdate=te.matrixAutoUpdate,this}toJSON(te){const ae=super.toJSON(te);return this.fog!==null&&(ae.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(ae.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(ae.object.backgroundIntensity=this.backgroundIntensity),ae.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(ae.object.environmentIntensity=this.environmentIntensity),ae.object.environmentRotation=this.environmentRotation.toArray(),ae}}class InterleavedBuffer{constructor(te,ae){this.isInterleavedBuffer=!0,this.array=te,this.stride=ae,this.count=te!==void 0?te.length/ae:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(te){te===!0&&this.version++}setUsage(te){return this.usage=te,this}addUpdateRange(te,ae){this.updateRanges.push({start:te,count:ae})}clearUpdateRanges(){this.updateRanges.length=0}copy(te){return this.array=new te.array.constructor(te.array),this.count=te.count,this.stride=te.stride,this.usage=te.usage,this}copyAt(te,ae,oe){te*=this.stride,oe*=ae.stride;for(let ce=0,ue=this.stride;ce<ue;ce++)this.array[te+ce]=ae.array[oe+ce];return this}set(te,ae=0){return this.array.set(te,ae),this}clone(te){te.arrayBuffers===void 0&&(te.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),te.arrayBuffers[this.array.buffer._uuid]===void 0&&(te.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const ae=new this.array.constructor(te.arrayBuffers[this.array.buffer._uuid]),oe=new this.constructor(ae,this.stride);return oe.setUsage(this.usage),oe}onUpload(te){return this.onUploadCallback=te,this}toJSON(te){return te.arrayBuffers===void 0&&(te.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),te.arrayBuffers[this.array.buffer._uuid]===void 0&&(te.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(te,ae,oe,ce=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=te,this.itemSize=ae,this.offset=oe,this.normalized=ce}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(te){this.data.needsUpdate=te}applyMatrix4(te){for(let ae=0,oe=this.data.count;ae<oe;ae++)_vector$7.fromBufferAttribute(this,ae),_vector$7.applyMatrix4(te),this.setXYZ(ae,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(te){for(let ae=0,oe=this.count;ae<oe;ae++)_vector$7.fromBufferAttribute(this,ae),_vector$7.applyNormalMatrix(te),this.setXYZ(ae,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(te){for(let ae=0,oe=this.count;ae<oe;ae++)_vector$7.fromBufferAttribute(this,ae),_vector$7.transformDirection(te),this.setXYZ(ae,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(te,ae){let oe=this.array[te*this.data.stride+this.offset+ae];return this.normalized&&(oe=denormalize(oe,this.array)),oe}setComponent(te,ae,oe){return this.normalized&&(oe=normalize$6(oe,this.array)),this.data.array[te*this.data.stride+this.offset+ae]=oe,this}setX(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.data.array[te*this.data.stride+this.offset]=ae,this}setY(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.data.array[te*this.data.stride+this.offset+1]=ae,this}setZ(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.data.array[te*this.data.stride+this.offset+2]=ae,this}setW(te,ae){return this.normalized&&(ae=normalize$6(ae,this.array)),this.data.array[te*this.data.stride+this.offset+3]=ae,this}getX(te){let ae=this.data.array[te*this.data.stride+this.offset];return this.normalized&&(ae=denormalize(ae,this.array)),ae}getY(te){let ae=this.data.array[te*this.data.stride+this.offset+1];return this.normalized&&(ae=denormalize(ae,this.array)),ae}getZ(te){let ae=this.data.array[te*this.data.stride+this.offset+2];return this.normalized&&(ae=denormalize(ae,this.array)),ae}getW(te){let ae=this.data.array[te*this.data.stride+this.offset+3];return this.normalized&&(ae=denormalize(ae,this.array)),ae}setXY(te,ae,oe){return te=te*this.data.stride+this.offset,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array)),this.data.array[te+0]=ae,this.data.array[te+1]=oe,this}setXYZ(te,ae,oe,ce){return te=te*this.data.stride+this.offset,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array)),this.data.array[te+0]=ae,this.data.array[te+1]=oe,this.data.array[te+2]=ce,this}setXYZW(te,ae,oe,ce,ue){return te=te*this.data.stride+this.offset,this.normalized&&(ae=normalize$6(ae,this.array),oe=normalize$6(oe,this.array),ce=normalize$6(ce,this.array),ue=normalize$6(ue,this.array)),this.data.array[te+0]=ae,this.data.array[te+1]=oe,this.data.array[te+2]=ce,this.data.array[te+3]=ue,this}clone(te){if(te===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const ae=[];for(let oe=0;oe<this.count;oe++){const ce=oe*this.data.stride+this.offset;for(let ue=0;ue<this.itemSize;ue++)ae.push(this.data.array[ce+ue])}return new BufferAttribute(new this.array.constructor(ae),this.itemSize,this.normalized)}else return te.interleavedBuffers===void 0&&(te.interleavedBuffers={}),te.interleavedBuffers[this.data.uuid]===void 0&&(te.interleavedBuffers[this.data.uuid]=this.data.clone(te)),new InterleavedBufferAttribute(te.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(te){if(te===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const ae=[];for(let oe=0;oe<this.count;oe++){const ce=oe*this.data.stride+this.offset;for(let ue=0;ue<this.itemSize;ue++)ae.push(this.data.array[ce+ue])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:ae,normalized:this.normalized}}else return te.interleavedBuffers===void 0&&(te.interleavedBuffers={}),te.interleavedBuffers[this.data.uuid]===void 0&&(te.interleavedBuffers[this.data.uuid]=this.data.toJSON(te)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(te){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.alphaMap=te.alphaMap,this.rotation=te.rotation,this.sizeAttenuation=te.sizeAttenuation,this.fog=te.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(te=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const ae=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),oe=new InterleavedBuffer(ae,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(oe,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(oe,2,3,!1))}this.geometry=_geometry,this.material=te,this.center=new Vector2(.5,.5)}raycast(te,ae){te.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(te.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(te.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),te.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const oe=this.material.rotation;let ce,ue;oe!==0&&(ue=Math.cos(oe),ce=Math.sin(oe));const fe=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,fe,_worldScale,ce,ue),transformVertex(_vB.set(.5,-.5,0),_mvPosition,fe,_worldScale,ce,ue),transformVertex(_vC.set(.5,.5,0),_mvPosition,fe,_worldScale,ce,ue),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let de=te.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(de===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,fe,_worldScale,ce,ue),_uvB.set(0,1),de=te.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),de===null))return;const pe=te.ray.origin.distanceTo(_intersectPoint);pe<te.near||pe>te.far||ae.push({distance:pe,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(te,ae){return super.copy(te,ae),te.center!==void 0&&this.center.copy(te.center),this.material=te.material,this}}function transformVertex(se,te,ae,oe,ce,ue){_alignedPosition.subVectors(se,ae).addScalar(.5).multiply(oe),ce!==void 0?(_rotatedPosition.x=ue*_alignedPosition.x-ce*_alignedPosition.y,_rotatedPosition.y=ce*_alignedPosition.x+ue*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),se.copy(te),se.x+=_rotatedPosition.x,se.y+=_rotatedPosition.y,se.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(te){super.copy(te,!1);const ae=te.levels;for(let oe=0,ce=ae.length;oe<ce;oe++){const ue=ae[oe];this.addLevel(ue.object.clone(),ue.distance,ue.hysteresis)}return this.autoUpdate=te.autoUpdate,this}addLevel(te,ae=0,oe=0){ae=Math.abs(ae);const ce=this.levels;let ue;for(ue=0;ue<ce.length&&!(ae<ce[ue].distance);ue++);return ce.splice(ue,0,{distance:ae,hysteresis:oe,object:te}),this.add(te),this}removeLevel(te){const ae=this.levels;for(let oe=0;oe<ae.length;oe++)if(ae[oe].distance===te){const ce=ae.splice(oe,1);return this.remove(ce[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(te){const ae=this.levels;if(ae.length>0){let oe,ce;for(oe=1,ce=ae.length;oe<ce;oe++){let ue=ae[oe].distance;if(ae[oe].object.visible&&(ue-=ue*ae[oe].hysteresis),te<ue)break}return ae[oe-1].object}return null}raycast(te,ae){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const ce=te.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(ce).raycast(te,ae)}}update(te){const ae=this.levels;if(ae.length>1){_v1$2.setFromMatrixPosition(te.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const oe=_v1$2.distanceTo(_v2$1)/te.zoom;ae[0].object.visible=!0;let ce,ue;for(ce=1,ue=ae.length;ce<ue;ce++){let fe=ae[ce].distance;if(ae[ce].object.visible&&(fe-=fe*ae[ce].hysteresis),oe>=fe)ae[ce-1].object.visible=!1,ae[ce].object.visible=!0;else break}for(this._currentLevel=ce-1;ce<ue;ce++)ae[ce].object.visible=!1}}toJSON(te){const ae=super.toJSON(te);this.autoUpdate===!1&&(ae.object.autoUpdate=!1),ae.object.levels=[];const oe=this.levels;for(let ce=0,ue=oe.length;ce<ue;ce++){const fe=oe[ce];ae.object.levels.push({object:fe.object.uuid,distance:fe.distance,hysteresis:fe.hysteresis})}return ae}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(te,ae){super(te,ae),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const te=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const ae=te.getAttribute("position");for(let oe=0;oe<ae.count;oe++)this.getVertexPosition(oe,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const te=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const ae=te.getAttribute("position");for(let oe=0;oe<ae.count;oe++)this.getVertexPosition(oe,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(te,ae){return super.copy(te,ae),this.bindMode=te.bindMode,this.bindMatrix.copy(te.bindMatrix),this.bindMatrixInverse.copy(te.bindMatrixInverse),this.skeleton=te.skeleton,te.boundingBox!==null&&(this.boundingBox=te.boundingBox.clone()),te.boundingSphere!==null&&(this.boundingSphere=te.boundingSphere.clone()),this}raycast(te,ae){const oe=this.material,ce=this.matrixWorld;oe!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(ce),te.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(ce).invert(),_ray$2.copy(te.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(te,ae,_ray$2)))}getVertexPosition(te,ae){return super.getVertexPosition(te,ae),this.applyBoneTransform(te,ae),ae}bind(te,ae){this.skeleton=te,ae===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),ae=this.matrixWorld),this.bindMatrix.copy(ae),this.bindMatrixInverse.copy(ae).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const te=new Vector4,ae=this.geometry.attributes.skinWeight;for(let oe=0,ce=ae.count;oe<ce;oe++){te.fromBufferAttribute(ae,oe);const ue=1/te.manhattanLength();ue!==1/0?te.multiplyScalar(ue):te.set(1,0,0,0),ae.setXYZW(oe,te.x,te.y,te.z,te.w)}}updateMatrixWorld(te){super.updateMatrixWorld(te),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(te,ae){const oe=this.skeleton,ce=this.geometry;_skinIndex.fromBufferAttribute(ce.attributes.skinIndex,te),_skinWeight.fromBufferAttribute(ce.attributes.skinWeight,te),_basePosition.copy(ae).applyMatrix4(this.bindMatrix),ae.set(0,0,0);for(let ue=0;ue<4;ue++){const fe=_skinWeight.getComponent(ue);if(fe!==0){const de=_skinIndex.getComponent(ue);_matrix4.multiplyMatrices(oe.bones[de].matrixWorld,oe.boneInverses[de]),ae.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),fe)}}return ae.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(te=null,ae=1,oe=1,ce,ue,fe,de,pe,me=NearestFilter,_e=NearestFilter,be,Ee){super(null,fe,de,pe,me,_e,ce,ue,be,Ee),this.isDataTexture=!0,this.image={data:te,width:ae,height:oe},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(te=[],ae=[]){this.uuid=generateUUID$1(),this.bones=te.slice(0),this.boneInverses=ae,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const te=this.bones,ae=this.boneInverses;if(this.boneMatrices=new Float32Array(te.length*16),ae.length===0)this.calculateInverses();else if(te.length!==ae.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let oe=0,ce=this.bones.length;oe<ce;oe++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let te=0,ae=this.bones.length;te<ae;te++){const oe=new Matrix4;this.bones[te]&&oe.copy(this.bones[te].matrixWorld).invert(),this.boneInverses.push(oe)}}pose(){for(let te=0,ae=this.bones.length;te<ae;te++){const oe=this.bones[te];oe&&oe.matrixWorld.copy(this.boneInverses[te]).invert()}for(let te=0,ae=this.bones.length;te<ae;te++){const oe=this.bones[te];oe&&(oe.parent&&oe.parent.isBone?(oe.matrix.copy(oe.parent.matrixWorld).invert(),oe.matrix.multiply(oe.matrixWorld)):oe.matrix.copy(oe.matrixWorld),oe.matrix.decompose(oe.position,oe.quaternion,oe.scale))}}update(){const te=this.bones,ae=this.boneInverses,oe=this.boneMatrices,ce=this.boneTexture;for(let ue=0,fe=te.length;ue<fe;ue++){const de=te[ue]?te[ue].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(de,ae[ue]),_offsetMatrix.toArray(oe,ue*16)}ce!==null&&(ce.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let te=Math.sqrt(this.bones.length*4);te=Math.ceil(te/4)*4,te=Math.max(te,4);const ae=new Float32Array(te*te*4);ae.set(this.boneMatrices);const oe=new DataTexture(ae,te,te,RGBAFormat,FloatType);return oe.needsUpdate=!0,this.boneMatrices=ae,this.boneTexture=oe,this}getBoneByName(te){for(let ae=0,oe=this.bones.length;ae<oe;ae++){const ce=this.bones[ae];if(ce.name===te)return ce}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(te,ae){this.uuid=te.uuid;for(let oe=0,ce=te.bones.length;oe<ce;oe++){const ue=te.bones[oe];let fe=ae[ue];fe===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",ue),fe=new Bone),this.bones.push(fe),this.boneInverses.push(new Matrix4().fromArray(te.boneInverses[oe]))}return this.init(),this}toJSON(){const te={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};te.uuid=this.uuid;const ae=this.bones,oe=this.boneInverses;for(let ce=0,ue=ae.length;ce<ue;ce++){const fe=ae[ce];te.bones.push(fe.uuid);const de=oe[ce];te.boneInverses.push(de.toArray())}return te}}class InstancedBufferAttribute extends BufferAttribute{constructor(te,ae,oe,ce=1){super(te,ae,oe),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=ce}copy(te){return super.copy(te),this.meshPerAttribute=te.meshPerAttribute,this}toJSON(){const te=super.toJSON();return te.meshPerAttribute=this.meshPerAttribute,te.isInstancedBufferAttribute=!0,te}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor(te,ae,oe){super(te,ae),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(oe*16),16),this.instanceColor=null,this.morphTexture=null,this.count=oe,this.boundingBox=null,this.boundingSphere=null;for(let ce=0;ce<oe;ce++)this.setMatrixAt(ce,_identity)}computeBoundingBox(){const te=this.geometry,ae=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),te.boundingBox===null&&te.computeBoundingBox(),this.boundingBox.makeEmpty();for(let oe=0;oe<ae;oe++)this.getMatrixAt(oe,_instanceLocalMatrix),_box3.copy(te.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const te=this.geometry,ae=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),te.boundingSphere===null&&te.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let oe=0;oe<ae;oe++)this.getMatrixAt(oe,_instanceLocalMatrix),_sphere$4.copy(te.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy(te,ae){return super.copy(te,ae),this.instanceMatrix.copy(te.instanceMatrix),te.morphTexture!==null&&(this.morphTexture=te.morphTexture.clone()),te.instanceColor!==null&&(this.instanceColor=te.instanceColor.clone()),this.count=te.count,te.boundingBox!==null&&(this.boundingBox=te.boundingBox.clone()),te.boundingSphere!==null&&(this.boundingSphere=te.boundingSphere.clone()),this}getColorAt(te,ae){ae.fromArray(this.instanceColor.array,te*3)}getMatrixAt(te,ae){ae.fromArray(this.instanceMatrix.array,te*16)}getMorphAt(te,ae){const oe=ae.morphTargetInfluences,ce=this.morphTexture.source.data.data,ue=oe.length+1,fe=te*ue+1;for(let de=0;de<oe.length;de++)oe[de]=ce[fe+de]}raycast(te,ae){const oe=this.matrixWorld,ce=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(oe),te.ray.intersectsSphere(_sphere$4)!==!1))for(let ue=0;ue<ce;ue++){this.getMatrixAt(ue,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(oe,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(te,_instanceIntersects);for(let fe=0,de=_instanceIntersects.length;fe<de;fe++){const pe=_instanceIntersects[fe];pe.instanceId=ue,pe.object=this,ae.push(pe)}_instanceIntersects.length=0}}setColorAt(te,ae){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),ae.toArray(this.instanceColor.array,te*3)}setMatrixAt(te,ae){ae.toArray(this.instanceMatrix.array,te*16)}setMorphAt(te,ae){const oe=ae.morphTargetInfluences,ce=oe.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(ce*this.count),ce,this.count,RedFormat,FloatType));const ue=this.morphTexture.source.data.data;let fe=0;for(let me=0;me<oe.length;me++)fe+=oe[me];const de=this.geometry.morphTargetsRelative?1:1-fe,pe=ce*te;ue[pe]=de,ue.set(oe,pe+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(te=new Vector3(1,0,0),ae=0){this.isPlane=!0,this.normal=te,this.constant=ae}set(te,ae){return this.normal.copy(te),this.constant=ae,this}setComponents(te,ae,oe,ce){return this.normal.set(te,ae,oe),this.constant=ce,this}setFromNormalAndCoplanarPoint(te,ae){return this.normal.copy(te),this.constant=-ae.dot(this.normal),this}setFromCoplanarPoints(te,ae,oe){const ce=_vector1.subVectors(oe,ae).cross(_vector2.subVectors(te,ae)).normalize();return this.setFromNormalAndCoplanarPoint(ce,te),this}copy(te){return this.normal.copy(te.normal),this.constant=te.constant,this}normalize(){const te=1/this.normal.length();return this.normal.multiplyScalar(te),this.constant*=te,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(te){return this.normal.dot(te)+this.constant}distanceToSphere(te){return this.distanceToPoint(te.center)-te.radius}projectPoint(te,ae){return ae.copy(te).addScaledVector(this.normal,-this.distanceToPoint(te))}intersectLine(te,ae){const oe=te.delta(_vector1),ce=this.normal.dot(oe);if(ce===0)return this.distanceToPoint(te.start)===0?ae.copy(te.start):null;const ue=-(te.start.dot(this.normal)+this.constant)/ce;return ue<0||ue>1?null:ae.copy(te.start).addScaledVector(oe,ue)}intersectsLine(te){const ae=this.distanceToPoint(te.start),oe=this.distanceToPoint(te.end);return ae<0&&oe>0||oe<0&&ae>0}intersectsBox(te){return te.intersectsPlane(this)}intersectsSphere(te){return te.intersectsPlane(this)}coplanarPoint(te){return te.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(te,ae){const oe=ae||_normalMatrix.getNormalMatrix(te),ce=this.coplanarPoint(_vector1).applyMatrix4(te),ue=this.normal.applyMatrix3(oe).normalize();return this.constant=-ce.dot(ue),this}translate(te){return this.constant-=te.dot(this.normal),this}equals(te){return te.normal.equals(this.normal)&&te.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(te=new Plane,ae=new Plane,oe=new Plane,ce=new Plane,ue=new Plane,fe=new Plane){this.planes=[te,ae,oe,ce,ue,fe]}set(te,ae,oe,ce,ue,fe){const de=this.planes;return de[0].copy(te),de[1].copy(ae),de[2].copy(oe),de[3].copy(ce),de[4].copy(ue),de[5].copy(fe),this}copy(te){const ae=this.planes;for(let oe=0;oe<6;oe++)ae[oe].copy(te.planes[oe]);return this}setFromProjectionMatrix(te,ae=WebGLCoordinateSystem){const oe=this.planes,ce=te.elements,ue=ce[0],fe=ce[1],de=ce[2],pe=ce[3],me=ce[4],_e=ce[5],be=ce[6],Ee=ce[7],Ae=ce[8],Re=ce[9],Be=ce[10],De=ce[11],Oe=ce[12],Pe=ce[13],Ie=ce[14],Fe=ce[15];if(oe[0].setComponents(pe-ue,Ee-me,De-Ae,Fe-Oe).normalize(),oe[1].setComponents(pe+ue,Ee+me,De+Ae,Fe+Oe).normalize(),oe[2].setComponents(pe+fe,Ee+_e,De+Re,Fe+Pe).normalize(),oe[3].setComponents(pe-fe,Ee-_e,De-Re,Fe-Pe).normalize(),oe[4].setComponents(pe-de,Ee-be,De-Be,Fe-Ie).normalize(),ae===WebGLCoordinateSystem)oe[5].setComponents(pe+de,Ee+be,De+Be,Fe+Ie).normalize();else if(ae===WebGPUCoordinateSystem)oe[5].setComponents(de,be,Be,Ie).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+ae);return this}intersectsObject(te){if(te.boundingSphere!==void 0)te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$3.copy(te.boundingSphere).applyMatrix4(te.matrixWorld);else{const ae=te.geometry;ae.boundingSphere===null&&ae.computeBoundingSphere(),_sphere$3.copy(ae.boundingSphere).applyMatrix4(te.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(te){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(te.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(te){const ae=this.planes,oe=te.center,ce=-te.radius;for(let ue=0;ue<6;ue++)if(ae[ue].distanceToPoint(oe)<ce)return!1;return!0}intersectsBox(te){const ae=this.planes;for(let oe=0;oe<6;oe++){const ce=ae[oe];if(_vector$6.x=ce.normal.x>0?te.max.x:te.min.x,_vector$6.y=ce.normal.y>0?te.max.y:te.min.y,_vector$6.z=ce.normal.z>0?te.max.z:te.min.z,ce.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(te){const ae=this.planes;for(let oe=0;oe<6;oe++)if(ae[oe].distanceToPoint(te)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ascIdSort(se,te){return se-te}function sortOpaque(se,te){return se.z-te.z}function sortTransparent(se,te){return te.z-se.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(te,ae,oe,ce){const ue=this.pool,fe=this.list;this.index>=ue.length&&ue.push({start:-1,count:-1,z:-1,index:-1});const de=ue[this.index];fe.push(de),this.index++,de.start=te,de.count=ae,de.z=oe,de.index=ce}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color$1(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(se,te,ae=0){const oe=te.itemSize;if(se.isInterleavedBufferAttribute||se.array.constructor!==te.array.constructor){const ce=se.count;for(let ue=0;ue<ce;ue++)for(let fe=0;fe<oe;fe++)te.setComponent(ue+ae,fe,se.getComponent(ue,fe))}else te.array.set(se.array,ae*oe);te.needsUpdate=!0}function copyArrayContents(se,te){if(se.constructor!==te.constructor){const ae=Math.min(se.length,te.length);for(let oe=0;oe<ae;oe++)te[oe]=se[oe]}else{const ae=Math.min(se.length,te.length);te.set(new se.constructor(se.buffer,0,ae))}}class BatchedMesh extends Mesh{constructor(te,ae,oe=ae*2,ce){super(new BufferGeometry,ce),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=te,this._maxVertexCount=ae,this._maxIndexCount=oe,this._multiDrawCounts=new Int32Array(te),this._multiDrawStarts=new Int32Array(te),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let te=Math.sqrt(this._maxInstanceCount*4);te=Math.ceil(te/4)*4,te=Math.max(te,4);const ae=new Float32Array(te*te*4),oe=new DataTexture(ae,te,te,RGBAFormat,FloatType);this._matricesTexture=oe}_initIndirectTexture(){let te=Math.sqrt(this._maxInstanceCount);te=Math.ceil(te);const ae=new Uint32Array(te*te),oe=new DataTexture(ae,te,te,RedIntegerFormat,UnsignedIntType);this._indirectTexture=oe}_initColorsTexture(){let te=Math.sqrt(this._maxInstanceCount);te=Math.ceil(te);const ae=new Float32Array(te*te*4).fill(1),oe=new DataTexture(ae,te,te,RGBAFormat,FloatType);oe.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=oe}_initializeGeometry(te){const ae=this.geometry,oe=this._maxVertexCount,ce=this._maxIndexCount;if(this._geometryInitialized===!1){for(const ue in te.attributes){const fe=te.getAttribute(ue),{array:de,itemSize:pe,normalized:me}=fe,_e=new de.constructor(oe*pe),be=new BufferAttribute(_e,pe,me);ae.setAttribute(ue,be)}if(te.getIndex()!==null){const ue=oe>65535?new Uint32Array(ce):new Uint16Array(ce);ae.setIndex(new BufferAttribute(ue,1))}this._geometryInitialized=!0}}_validateGeometry(te){const ae=this.geometry;if(!!te.getIndex()!=!!ae.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const oe in ae.attributes){if(!te.hasAttribute(oe))throw new Error(`THREE.BatchedMesh: Added geometry missing "${oe}". All geometries must have consistent attributes.`);const ce=te.getAttribute(oe),ue=ae.getAttribute(oe);if(ce.itemSize!==ue.itemSize||ce.normalized!==ue.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(te){const ae=this._instanceInfo;if(te<0||te>=ae.length||ae[te].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${te}. Instance is either out of range or has been deleted.`)}validateGeometryId(te){const ae=this._geometryInfo;if(te<0||te>=ae.length||ae[te].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${te}. Geometry is either out of range or has been deleted.`)}setCustomSort(te){return this.customSort=te,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const te=this.boundingBox,ae=this._instanceInfo;te.makeEmpty();for(let oe=0,ce=ae.length;oe<ce;oe++){if(ae[oe].active===!1)continue;const ue=ae[oe].geometryIndex;this.getMatrixAt(oe,_matrix$1),this.getBoundingBoxAt(ue,_box$1).applyMatrix4(_matrix$1),te.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const te=this.boundingSphere,ae=this._instanceInfo;te.makeEmpty();for(let oe=0,ce=ae.length;oe<ce;oe++){if(ae[oe].active===!1)continue;const ue=ae[oe].geometryIndex;this.getMatrixAt(oe,_matrix$1),this.getBoundingSphereAt(ue,_sphere$2).applyMatrix4(_matrix$1),te.union(_sphere$2)}}addInstance(te){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const oe={visible:!0,active:!0,geometryIndex:te};let ce=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),ce=this._availableInstanceIds.shift(),this._instanceInfo[ce]=oe):(ce=this._instanceInfo.length,this._instanceInfo.push(oe));const ue=this._matricesTexture;_matrix$1.identity().toArray(ue.image.data,ce*16),ue.needsUpdate=!0;const fe=this._colorsTexture;return fe&&(_whiteColor.toArray(fe.image.data,ce*4),fe.needsUpdate=!0),this._visibilityChanged=!0,ce}addGeometry(te,ae=-1,oe=-1){this._initializeGeometry(te),this._validateGeometry(te);const ce={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},ue=this._geometryInfo;ce.vertexStart=this._nextVertexStart,ce.reservedVertexCount=ae===-1?te.getAttribute("position").count:ae;const fe=te.getIndex();if(fe!==null&&(ce.indexStart=this._nextIndexStart,ce.reservedIndexCount=oe===-1?fe.count:oe),ce.indexStart!==-1&&ce.indexStart+ce.reservedIndexCount>this._maxIndexCount||ce.vertexStart+ce.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let pe;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),pe=this._availableGeometryIds.shift(),ue[pe]=ce):(pe=this._geometryCount,this._geometryCount++,ue.push(ce)),this.setGeometryAt(pe,te),this._nextIndexStart=ce.indexStart+ce.reservedIndexCount,this._nextVertexStart=ce.vertexStart+ce.reservedVertexCount,pe}setGeometryAt(te,ae){if(te>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(ae);const oe=this.geometry,ce=oe.getIndex()!==null,ue=oe.getIndex(),fe=ae.getIndex(),de=this._geometryInfo[te];if(ce&&fe.count>de.reservedIndexCount||ae.attributes.position.count>de.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const pe=de.vertexStart,me=de.reservedVertexCount;de.vertexCount=ae.getAttribute("position").count;for(const _e in oe.attributes){const be=ae.getAttribute(_e),Ee=oe.getAttribute(_e);copyAttributeData(be,Ee,pe);const Ae=be.itemSize;for(let Re=be.count,Be=me;Re<Be;Re++){const De=pe+Re;for(let Oe=0;Oe<Ae;Oe++)Ee.setComponent(De,Oe,0)}Ee.needsUpdate=!0,Ee.addUpdateRange(pe*Ae,me*Ae)}if(ce){const _e=de.indexStart,be=de.reservedIndexCount;de.indexCount=ae.getIndex().count;for(let Ee=0;Ee<fe.count;Ee++)ue.setX(_e+Ee,pe+fe.getX(Ee));for(let Ee=fe.count,Ae=be;Ee<Ae;Ee++)ue.setX(_e+Ee,pe);ue.needsUpdate=!0,ue.addUpdateRange(_e,de.reservedIndexCount)}return de.start=ce?de.indexStart:de.vertexStart,de.count=ce?de.indexCount:de.vertexCount,de.boundingBox=null,ae.boundingBox!==null&&(de.boundingBox=ae.boundingBox.clone()),de.boundingSphere=null,ae.boundingSphere!==null&&(de.boundingSphere=ae.boundingSphere.clone()),this._visibilityChanged=!0,te}deleteGeometry(te){const ae=this._geometryInfo;if(te>=ae.length||ae[te].active===!1)return this;const oe=this._instanceInfo;for(let ce=0,ue=oe.length;ce<ue;ce++)oe[ce].active&&oe[ce].geometryIndex===te&&this.deleteInstance(ce);return ae[te].active=!1,this._availableGeometryIds.push(te),this._visibilityChanged=!0,this}deleteInstance(te){return this.validateInstanceId(te),this._instanceInfo[te].active=!1,this._availableInstanceIds.push(te),this._visibilityChanged=!0,this}optimize(){let te=0,ae=0;const oe=this._geometryInfo,ce=oe.map((fe,de)=>de).sort((fe,de)=>oe[fe].vertexStart-oe[de].vertexStart),ue=this.geometry;for(let fe=0,de=oe.length;fe<de;fe++){const pe=ce[fe],me=oe[pe];if(me.active!==!1){if(ue.index!==null){if(me.indexStart!==ae){const{indexStart:_e,vertexStart:be,reservedIndexCount:Ee}=me,Ae=ue.index,Re=Ae.array,Be=te-be;for(let De=_e;De<_e+Ee;De++)Re[De]=Re[De]+Be;Ae.array.copyWithin(ae,_e,_e+Ee),Ae.addUpdateRange(ae,Ee),me.indexStart=ae}ae+=me.reservedIndexCount}if(me.vertexStart!==te){const{vertexStart:_e,reservedVertexCount:be}=me,Ee=ue.attributes;for(const Ae in Ee){const Re=Ee[Ae],{array:Be,itemSize:De}=Re;Be.copyWithin(te*De,_e*De,(_e+be)*De),Re.addUpdateRange(te*De,be*De)}me.vertexStart=te}te+=me.reservedVertexCount,me.start=ue.index?me.indexStart:me.vertexStart,this._nextIndexStart=ue.index?me.indexStart+me.reservedIndexCount:0,this._nextVertexStart=me.vertexStart+me.reservedVertexCount}}return this}getBoundingBoxAt(te,ae){if(te>=this._geometryCount)return null;const oe=this.geometry,ce=this._geometryInfo[te];if(ce.boundingBox===null){const ue=new Box3,fe=oe.index,de=oe.attributes.position;for(let pe=ce.start,me=ce.start+ce.count;pe<me;pe++){let _e=pe;fe&&(_e=fe.getX(_e)),ue.expandByPoint(_vector$5.fromBufferAttribute(de,_e))}ce.boundingBox=ue}return ae.copy(ce.boundingBox),ae}getBoundingSphereAt(te,ae){if(te>=this._geometryCount)return null;const oe=this.geometry,ce=this._geometryInfo[te];if(ce.boundingSphere===null){const ue=new Sphere;this.getBoundingBoxAt(te,_box$1),_box$1.getCenter(ue.center);const fe=oe.index,de=oe.attributes.position;let pe=0;for(let me=ce.start,_e=ce.start+ce.count;me<_e;me++){let be=me;fe&&(be=fe.getX(be)),_vector$5.fromBufferAttribute(de,be),pe=Math.max(pe,ue.center.distanceToSquared(_vector$5))}ue.radius=Math.sqrt(pe),ce.boundingSphere=ue}return ae.copy(ce.boundingSphere),ae}setMatrixAt(te,ae){this.validateInstanceId(te);const oe=this._matricesTexture,ce=this._matricesTexture.image.data;return ae.toArray(ce,te*16),oe.needsUpdate=!0,this}getMatrixAt(te,ae){return this.validateInstanceId(te),ae.fromArray(this._matricesTexture.image.data,te*16)}setColorAt(te,ae){return this.validateInstanceId(te),this._colorsTexture===null&&this._initColorsTexture(),ae.toArray(this._colorsTexture.image.data,te*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(te,ae){return this.validateInstanceId(te),ae.fromArray(this._colorsTexture.image.data,te*4)}setVisibleAt(te,ae){return this.validateInstanceId(te),this._instanceInfo[te].visible===ae?this:(this._instanceInfo[te].visible=ae,this._visibilityChanged=!0,this)}getVisibleAt(te){return this.validateInstanceId(te),this._instanceInfo[te].visible}setGeometryIdAt(te,ae){return this.validateInstanceId(te),this.validateGeometryId(ae),this._instanceInfo[te].geometryIndex=ae,this}getGeometryIdAt(te){return this.validateInstanceId(te),this._instanceInfo[te].geometryIndex}getGeometryRangeAt(te,ae={}){this.validateGeometryId(te);const oe=this._geometryInfo[te];return ae.vertexStart=oe.vertexStart,ae.vertexCount=oe.vertexCount,ae.reservedVertexCount=oe.reservedVertexCount,ae.indexStart=oe.indexStart,ae.indexCount=oe.indexCount,ae.reservedIndexCount=oe.reservedIndexCount,ae.start=oe.start,ae.count=oe.count,ae}setInstanceCount(te){const ae=this._availableInstanceIds,oe=this._instanceInfo;for(ae.sort(ascIdSort);ae[ae.length-1]===oe.length;)oe.pop(),ae.pop();if(te<oe.length)throw new Error(`BatchedMesh: Instance ids outside the range ${te} are being used. Cannot shrink instance count.`);const ce=new Int32Array(te),ue=new Int32Array(te);copyArrayContents(this._multiDrawCounts,ce),copyArrayContents(this._multiDrawStarts,ue),this._multiDrawCounts=ce,this._multiDrawStarts=ue,this._maxInstanceCount=te;const fe=this._indirectTexture,de=this._matricesTexture,pe=this._colorsTexture;fe.dispose(),this._initIndirectTexture(),copyArrayContents(fe.image.data,this._indirectTexture.image.data),de.dispose(),this._initMatricesTexture(),copyArrayContents(de.image.data,this._matricesTexture.image.data),pe&&(pe.dispose(),this._initColorsTexture(),copyArrayContents(pe.image.data,this._colorsTexture.image.data))}setGeometrySize(te,ae){const oe=[...this._geometryInfo].filter(de=>de.active);if(Math.max(...oe.map(de=>de.vertexStart+de.reservedVertexCount))>te)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${ae}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...oe.map(pe=>pe.indexStart+pe.reservedIndexCount))>ae)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${ae}. Cannot shrink further.`);const ue=this.geometry;ue.dispose(),this._maxVertexCount=te,this._maxIndexCount=ae,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(ue));const fe=this.geometry;ue.index&&copyArrayContents(ue.index.array,fe.index.array);for(const de in ue.attributes)copyArrayContents(ue.attributes[de].array,fe.attributes[de].array)}raycast(te,ae){const oe=this._instanceInfo,ce=this._geometryInfo,ue=this.matrixWorld,fe=this.geometry;_mesh.material=this.material,_mesh.geometry.index=fe.index,_mesh.geometry.attributes=fe.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let de=0,pe=oe.length;de<pe;de++){if(!oe[de].visible||!oe[de].active)continue;const me=oe[de].geometryIndex,_e=ce[me];_mesh.geometry.setDrawRange(_e.start,_e.count),this.getMatrixAt(de,_mesh.matrixWorld).premultiply(ue),this.getBoundingBoxAt(me,_mesh.geometry.boundingBox),this.getBoundingSphereAt(me,_mesh.geometry.boundingSphere),_mesh.raycast(te,_batchIntersects);for(let be=0,Ee=_batchIntersects.length;be<Ee;be++){const Ae=_batchIntersects[be];Ae.object=this,Ae.batchId=de,ae.push(Ae)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(te){return super.copy(te),this.geometry=te.geometry.clone(),this.perObjectFrustumCulled=te.perObjectFrustumCulled,this.sortObjects=te.sortObjects,this.boundingBox=te.boundingBox!==null?te.boundingBox.clone():null,this.boundingSphere=te.boundingSphere!==null?te.boundingSphere.clone():null,this._geometryInfo=te._geometryInfo.map(ae=>({...ae,boundingBox:ae.boundingBox!==null?ae.boundingBox.clone():null,boundingSphere:ae.boundingSphere!==null?ae.boundingSphere.clone():null})),this._instanceInfo=te._instanceInfo.map(ae=>({...ae})),this._maxInstanceCount=te._maxInstanceCount,this._maxVertexCount=te._maxVertexCount,this._maxIndexCount=te._maxIndexCount,this._geometryInitialized=te._geometryInitialized,this._geometryCount=te._geometryCount,this._multiDrawCounts=te._multiDrawCounts.slice(),this._multiDrawStarts=te._multiDrawStarts.slice(),this._matricesTexture=te._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=te._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(te,ae,oe,ce,ue){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const fe=ce.getIndex(),de=fe===null?1:fe.array.BYTES_PER_ELEMENT,pe=this._instanceInfo,me=this._multiDrawStarts,_e=this._multiDrawCounts,be=this._geometryInfo,Ee=this.perObjectFrustumCulled,Ae=this._indirectTexture,Re=Ae.image.data;Ee&&(_matrix$1.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,te.coordinateSystem));let Be=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(oe.matrixWorld).transformDirection(_matrix$1);for(let Pe=0,Ie=pe.length;Pe<Ie;Pe++)if(pe[Pe].visible&&pe[Pe].active){const Fe=pe[Pe].geometryIndex;this.getMatrixAt(Pe,_matrix$1),this.getBoundingSphereAt(Fe,_sphere$2).applyMatrix4(_matrix$1);let $e=!1;if(Ee&&($e=!_frustum.intersectsSphere(_sphere$2)),!$e){const Ve=be[Fe],ke=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(Ve.start,Ve.count,ke,Pe)}}const De=_renderList.list,Oe=this.customSort;Oe===null?De.sort(ue.transparent?sortTransparent:sortOpaque):Oe.call(this,De,oe);for(let Pe=0,Ie=De.length;Pe<Ie;Pe++){const Fe=De[Pe];me[Be]=Fe.start*de,_e[Be]=Fe.count,Re[Be]=Fe.index,Be++}_renderList.reset()}else for(let De=0,Oe=pe.length;De<Oe;De++)if(pe[De].visible&&pe[De].active){const Pe=pe[De].geometryIndex;let Ie=!1;if(Ee&&(this.getMatrixAt(De,_matrix$1),this.getBoundingSphereAt(Pe,_sphere$2).applyMatrix4(_matrix$1),Ie=!_frustum.intersectsSphere(_sphere$2)),!Ie){const Fe=be[Pe];me[Be]=Fe.start*de,_e[Be]=Fe.count,Re[Be]=De,Be++}}Ae.needsUpdate=!0,this._multiDrawCount=Be,this._visibilityChanged=!1}onBeforeShadow(te,ae,oe,ce,ue,fe){this.onBeforeRender(te,null,ce,ue,fe)}}class LineBasicMaterial extends Material{constructor(te){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color$1(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.linewidth=te.linewidth,this.linecap=te.linecap,this.linejoin=te.linejoin,this.fog=te.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(te=new BufferGeometry,ae=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=te,this.material=ae,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(te,ae){return super.copy(te,ae),this.material=Array.isArray(te.material)?te.material.slice():te.material,this.geometry=te.geometry,this}computeLineDistances(){const te=this.geometry;if(te.index===null){const ae=te.attributes.position,oe=[0];for(let ce=1,ue=ae.count;ce<ue;ce++)_vStart.fromBufferAttribute(ae,ce-1),_vEnd.fromBufferAttribute(ae,ce),oe[ce]=oe[ce-1],oe[ce]+=_vStart.distanceTo(_vEnd);te.setAttribute("lineDistance",new Float32BufferAttribute(oe,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(te,ae){const oe=this.geometry,ce=this.matrixWorld,ue=te.params.Line.threshold,fe=oe.drawRange;if(oe.boundingSphere===null&&oe.computeBoundingSphere(),_sphere$1.copy(oe.boundingSphere),_sphere$1.applyMatrix4(ce),_sphere$1.radius+=ue,te.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(ce).invert(),_ray$1.copy(te.ray).applyMatrix4(_inverseMatrix$1);const de=ue/((this.scale.x+this.scale.y+this.scale.z)/3),pe=de*de,me=this.isLineSegments?2:1,_e=oe.index,Ee=oe.attributes.position;if(_e!==null){const Ae=Math.max(0,fe.start),Re=Math.min(_e.count,fe.start+fe.count);for(let Be=Ae,De=Re-1;Be<De;Be+=me){const Oe=_e.getX(Be),Pe=_e.getX(Be+1),Ie=checkIntersection(this,te,_ray$1,pe,Oe,Pe,Be);Ie&&ae.push(Ie)}if(this.isLineLoop){const Be=_e.getX(Re-1),De=_e.getX(Ae),Oe=checkIntersection(this,te,_ray$1,pe,Be,De,Re-1);Oe&&ae.push(Oe)}}else{const Ae=Math.max(0,fe.start),Re=Math.min(Ee.count,fe.start+fe.count);for(let Be=Ae,De=Re-1;Be<De;Be+=me){const Oe=checkIntersection(this,te,_ray$1,pe,Be,Be+1,Be);Oe&&ae.push(Oe)}if(this.isLineLoop){const Be=checkIntersection(this,te,_ray$1,pe,Re-1,Ae,Re-1);Be&&ae.push(Be)}}}updateMorphTargets(){const ae=this.geometry.morphAttributes,oe=Object.keys(ae);if(oe.length>0){const ce=ae[oe[0]];if(ce!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ue=0,fe=ce.length;ue<fe;ue++){const de=ce[ue].name||String(ue);this.morphTargetInfluences.push(0),this.morphTargetDictionary[de]=ue}}}}}function checkIntersection(se,te,ae,oe,ce,ue,fe){const de=se.geometry.attributes.position;if(_vStart.fromBufferAttribute(de,ce),_vEnd.fromBufferAttribute(de,ue),ae.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>oe)return;_intersectPointOnRay.applyMatrix4(se.matrixWorld);const me=te.ray.origin.distanceTo(_intersectPointOnRay);if(!(me<te.near||me>te.far))return{distance:me,point:_intersectPointOnSegment.clone().applyMatrix4(se.matrixWorld),index:fe,face:null,faceIndex:null,barycoord:null,object:se}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(te,ae){super(te,ae),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const te=this.geometry;if(te.index===null){const ae=te.attributes.position,oe=[];for(let ce=0,ue=ae.count;ce<ue;ce+=2)_start.fromBufferAttribute(ae,ce),_end.fromBufferAttribute(ae,ce+1),oe[ce]=ce===0?0:oe[ce-1],oe[ce+1]=oe[ce]+_start.distanceTo(_end);te.setAttribute("lineDistance",new Float32BufferAttribute(oe,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(te,ae){super(te,ae),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(te){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color$1(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.alphaMap=te.alphaMap,this.size=te.size,this.sizeAttenuation=te.sizeAttenuation,this.fog=te.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(te=new BufferGeometry,ae=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=te,this.material=ae,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(te,ae){return super.copy(te,ae),this.material=Array.isArray(te.material)?te.material.slice():te.material,this.geometry=te.geometry,this}raycast(te,ae){const oe=this.geometry,ce=this.matrixWorld,ue=te.params.Points.threshold,fe=oe.drawRange;if(oe.boundingSphere===null&&oe.computeBoundingSphere(),_sphere.copy(oe.boundingSphere),_sphere.applyMatrix4(ce),_sphere.radius+=ue,te.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(ce).invert(),_ray.copy(te.ray).applyMatrix4(_inverseMatrix);const de=ue/((this.scale.x+this.scale.y+this.scale.z)/3),pe=de*de,me=oe.index,be=oe.attributes.position;if(me!==null){const Ee=Math.max(0,fe.start),Ae=Math.min(me.count,fe.start+fe.count);for(let Re=Ee,Be=Ae;Re<Be;Re++){const De=me.getX(Re);_position$2.fromBufferAttribute(be,De),testPoint(_position$2,De,pe,ce,te,ae,this)}}else{const Ee=Math.max(0,fe.start),Ae=Math.min(be.count,fe.start+fe.count);for(let Re=Ee,Be=Ae;Re<Be;Re++)_position$2.fromBufferAttribute(be,Re),testPoint(_position$2,Re,pe,ce,te,ae,this)}}updateMorphTargets(){const ae=this.geometry.morphAttributes,oe=Object.keys(ae);if(oe.length>0){const ce=ae[oe[0]];if(ce!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ue=0,fe=ce.length;ue<fe;ue++){const de=ce[ue].name||String(ue);this.morphTargetInfluences.push(0),this.morphTargetDictionary[de]=ue}}}}}function testPoint(se,te,ae,oe,ce,ue,fe){const de=_ray.distanceSqToPoint(se);if(de<ae){const pe=new Vector3;_ray.closestPointToPoint(se,pe),pe.applyMatrix4(oe);const me=ce.ray.origin.distanceTo(pe);if(me<ce.near||me>ce.far)return;ue.push({distance:me,distanceToRay:Math.sqrt(de),point:pe,index:te,face:null,faceIndex:null,barycoord:null,object:fe})}}class VideoTexture extends Texture{constructor(te,ae,oe,ce,ue=LinearFilter,fe=LinearFilter,de,pe,me){super(te,ae,oe,ce,ue,fe,de,pe,me),this.isVideoTexture=!0,this.generateMipmaps=!1;const _e=this;function be(){_e.needsUpdate=!0,te.requestVideoFrameCallback(be)}"requestVideoFrameCallback"in te&&te.requestVideoFrameCallback(be)}clone(){return new this.constructor(this.image).copy(this)}update(){const te=this.image;"requestVideoFrameCallback"in te===!1&&te.readyState>=te.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VideoFrameTexture extends VideoTexture{constructor(te,ae,oe,ce,ue,fe,de,pe){super({},te,ae,oe,ce,ue,fe,de,pe),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(te){this.image=te,this.needsUpdate=!0}}class FramebufferTexture extends Texture{constructor(te,ae){super({width:te,height:ae}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(te,ae,oe,ce,ue,fe,de,pe,me,_e,be,Ee){super(null,fe,de,pe,me,_e,ce,ue,be,Ee),this.isCompressedTexture=!0,this.image={width:ae,height:oe},this.mipmaps=te,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(te,ae,oe,ce,ue,fe){super(te,ae,oe,ue,fe),this.isCompressedArrayTexture=!0,this.image.depth=ce,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(te){this.layerUpdates.add(te)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(te,ae,oe){super(void 0,te[0].width,te[0].height,ae,oe,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=te}}class CanvasTexture extends Texture{constructor(te,ae,oe,ce,ue,fe,de,pe,me){super(te,ae,oe,ce,ue,fe,de,pe,me),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(te,ae,oe=UnsignedIntType,ce,ue,fe,de=NearestFilter,pe=NearestFilter,me,_e=DepthFormat){if(_e!==DepthFormat&&_e!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,ce,ue,fe,de,pe,_e,oe,me),this.isDepthTexture=!0,this.image={width:te,height:ae},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(te){return super.copy(te),this.source=new Source(Object.assign({},te.image)),this.compareFunction=te.compareFunction,this}toJSON(te){const ae=super.toJSON(te);return this.compareFunction!==null&&(ae.compareFunction=this.compareFunction),ae}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(te,ae){const oe=this.getUtoTmapping(te);return this.getPoint(oe,ae)}getPoints(te=5){const ae=[];for(let oe=0;oe<=te;oe++)ae.push(this.getPoint(oe/te));return ae}getSpacedPoints(te=5){const ae=[];for(let oe=0;oe<=te;oe++)ae.push(this.getPointAt(oe/te));return ae}getLength(){const te=this.getLengths();return te[te.length-1]}getLengths(te=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===te+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const ae=[];let oe,ce=this.getPoint(0),ue=0;ae.push(0);for(let fe=1;fe<=te;fe++)oe=this.getPoint(fe/te),ue+=oe.distanceTo(ce),ae.push(ue),ce=oe;return this.cacheArcLengths=ae,ae}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(te,ae=null){const oe=this.getLengths();let ce=0;const ue=oe.length;let fe;ae?fe=ae:fe=te*oe[ue-1];let de=0,pe=ue-1,me;for(;de<=pe;)if(ce=Math.floor(de+(pe-de)/2),me=oe[ce]-fe,me<0)de=ce+1;else if(me>0)pe=ce-1;else{pe=ce;break}if(ce=pe,oe[ce]===fe)return ce/(ue-1);const _e=oe[ce],Ee=oe[ce+1]-_e,Ae=(fe-_e)/Ee;return(ce+Ae)/(ue-1)}getTangent(te,ae){let ce=te-1e-4,ue=te+1e-4;ce<0&&(ce=0),ue>1&&(ue=1);const fe=this.getPoint(ce),de=this.getPoint(ue),pe=ae||(fe.isVector2?new Vector2:new Vector3);return pe.copy(de).sub(fe).normalize(),pe}getTangentAt(te,ae){const oe=this.getUtoTmapping(te);return this.getTangent(oe,ae)}computeFrenetFrames(te,ae=!1){const oe=new Vector3,ce=[],ue=[],fe=[],de=new Vector3,pe=new Matrix4;for(let Ae=0;Ae<=te;Ae++){const Re=Ae/te;ce[Ae]=this.getTangentAt(Re,new Vector3)}ue[0]=new Vector3,fe[0]=new Vector3;let me=Number.MAX_VALUE;const _e=Math.abs(ce[0].x),be=Math.abs(ce[0].y),Ee=Math.abs(ce[0].z);_e<=me&&(me=_e,oe.set(1,0,0)),be<=me&&(me=be,oe.set(0,1,0)),Ee<=me&&oe.set(0,0,1),de.crossVectors(ce[0],oe).normalize(),ue[0].crossVectors(ce[0],de),fe[0].crossVectors(ce[0],ue[0]);for(let Ae=1;Ae<=te;Ae++){if(ue[Ae]=ue[Ae-1].clone(),fe[Ae]=fe[Ae-1].clone(),de.crossVectors(ce[Ae-1],ce[Ae]),de.length()>Number.EPSILON){de.normalize();const Re=Math.acos(clamp$4(ce[Ae-1].dot(ce[Ae]),-1,1));ue[Ae].applyMatrix4(pe.makeRotationAxis(de,Re))}fe[Ae].crossVectors(ce[Ae],ue[Ae])}if(ae===!0){let Ae=Math.acos(clamp$4(ue[0].dot(ue[te]),-1,1));Ae/=te,ce[0].dot(de.crossVectors(ue[0],ue[te]))>0&&(Ae=-Ae);for(let Re=1;Re<=te;Re++)ue[Re].applyMatrix4(pe.makeRotationAxis(ce[Re],Ae*Re)),fe[Re].crossVectors(ce[Re],ue[Re])}return{tangents:ce,normals:ue,binormals:fe}}clone(){return new this.constructor().copy(this)}copy(te){return this.arcLengthDivisions=te.arcLengthDivisions,this}toJSON(){const te={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return te.arcLengthDivisions=this.arcLengthDivisions,te.type=this.type,te}fromJSON(te){return this.arcLengthDivisions=te.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(te=0,ae=0,oe=1,ce=1,ue=0,fe=Math.PI*2,de=!1,pe=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=te,this.aY=ae,this.xRadius=oe,this.yRadius=ce,this.aStartAngle=ue,this.aEndAngle=fe,this.aClockwise=de,this.aRotation=pe}getPoint(te,ae=new Vector2){const oe=ae,ce=Math.PI*2;let ue=this.aEndAngle-this.aStartAngle;const fe=Math.abs(ue)<Number.EPSILON;for(;ue<0;)ue+=ce;for(;ue>ce;)ue-=ce;ue<Number.EPSILON&&(fe?ue=0:ue=ce),this.aClockwise===!0&&!fe&&(ue===ce?ue=-ce:ue=ue-ce);const de=this.aStartAngle+te*ue;let pe=this.aX+this.xRadius*Math.cos(de),me=this.aY+this.yRadius*Math.sin(de);if(this.aRotation!==0){const _e=Math.cos(this.aRotation),be=Math.sin(this.aRotation),Ee=pe-this.aX,Ae=me-this.aY;pe=Ee*_e-Ae*be+this.aX,me=Ee*be+Ae*_e+this.aY}return oe.set(pe,me)}copy(te){return super.copy(te),this.aX=te.aX,this.aY=te.aY,this.xRadius=te.xRadius,this.yRadius=te.yRadius,this.aStartAngle=te.aStartAngle,this.aEndAngle=te.aEndAngle,this.aClockwise=te.aClockwise,this.aRotation=te.aRotation,this}toJSON(){const te=super.toJSON();return te.aX=this.aX,te.aY=this.aY,te.xRadius=this.xRadius,te.yRadius=this.yRadius,te.aStartAngle=this.aStartAngle,te.aEndAngle=this.aEndAngle,te.aClockwise=this.aClockwise,te.aRotation=this.aRotation,te}fromJSON(te){return super.fromJSON(te),this.aX=te.aX,this.aY=te.aY,this.xRadius=te.xRadius,this.yRadius=te.yRadius,this.aStartAngle=te.aStartAngle,this.aEndAngle=te.aEndAngle,this.aClockwise=te.aClockwise,this.aRotation=te.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(te,ae,oe,ce,ue,fe){super(te,ae,oe,oe,ce,ue,fe),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let se=0,te=0,ae=0,oe=0;function ce(ue,fe,de,pe){se=ue,te=de,ae=-3*ue+3*fe-2*de-pe,oe=2*ue-2*fe+de+pe}return{initCatmullRom:function(ue,fe,de,pe,me){ce(fe,de,me*(de-ue),me*(pe-fe))},initNonuniformCatmullRom:function(ue,fe,de,pe,me,_e,be){let Ee=(fe-ue)/me-(de-ue)/(me+_e)+(de-fe)/_e,Ae=(de-fe)/_e-(pe-fe)/(_e+be)+(pe-de)/be;Ee*=_e,Ae*=_e,ce(fe,de,Ee,Ae)},calc:function(ue){const fe=ue*ue,de=fe*ue;return se+te*ue+ae*fe+oe*de}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(te=[],ae=!1,oe="centripetal",ce=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=te,this.closed=ae,this.curveType=oe,this.tension=ce}getPoint(te,ae=new Vector3){const oe=ae,ce=this.points,ue=ce.length,fe=(ue-(this.closed?0:1))*te;let de=Math.floor(fe),pe=fe-de;this.closed?de+=de>0?0:(Math.floor(Math.abs(de)/ue)+1)*ue:pe===0&&de===ue-1&&(de=ue-2,pe=1);let me,_e;this.closed||de>0?me=ce[(de-1)%ue]:(tmp.subVectors(ce[0],ce[1]).add(ce[0]),me=tmp);const be=ce[de%ue],Ee=ce[(de+1)%ue];if(this.closed||de+2<ue?_e=ce[(de+2)%ue]:(tmp.subVectors(ce[ue-1],ce[ue-2]).add(ce[ue-1]),_e=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const Ae=this.curveType==="chordal"?.5:.25;let Re=Math.pow(me.distanceToSquared(be),Ae),Be=Math.pow(be.distanceToSquared(Ee),Ae),De=Math.pow(Ee.distanceToSquared(_e),Ae);Be<1e-4&&(Be=1),Re<1e-4&&(Re=Be),De<1e-4&&(De=Be),px.initNonuniformCatmullRom(me.x,be.x,Ee.x,_e.x,Re,Be,De),py.initNonuniformCatmullRom(me.y,be.y,Ee.y,_e.y,Re,Be,De),pz.initNonuniformCatmullRom(me.z,be.z,Ee.z,_e.z,Re,Be,De)}else this.curveType==="catmullrom"&&(px.initCatmullRom(me.x,be.x,Ee.x,_e.x,this.tension),py.initCatmullRom(me.y,be.y,Ee.y,_e.y,this.tension),pz.initCatmullRom(me.z,be.z,Ee.z,_e.z,this.tension));return oe.set(px.calc(pe),py.calc(pe),pz.calc(pe)),oe}copy(te){super.copy(te),this.points=[];for(let ae=0,oe=te.points.length;ae<oe;ae++){const ce=te.points[ae];this.points.push(ce.clone())}return this.closed=te.closed,this.curveType=te.curveType,this.tension=te.tension,this}toJSON(){const te=super.toJSON();te.points=[];for(let ae=0,oe=this.points.length;ae<oe;ae++){const ce=this.points[ae];te.points.push(ce.toArray())}return te.closed=this.closed,te.curveType=this.curveType,te.tension=this.tension,te}fromJSON(te){super.fromJSON(te),this.points=[];for(let ae=0,oe=te.points.length;ae<oe;ae++){const ce=te.points[ae];this.points.push(new Vector3().fromArray(ce))}return this.closed=te.closed,this.curveType=te.curveType,this.tension=te.tension,this}}function CatmullRom(se,te,ae,oe,ce){const ue=(oe-te)*.5,fe=(ce-ae)*.5,de=se*se,pe=se*de;return(2*ae-2*oe+ue+fe)*pe+(-3*ae+3*oe-2*ue-fe)*de+ue*se+ae}function QuadraticBezierP0(se,te){const ae=1-se;return ae*ae*te}function QuadraticBezierP1(se,te){return 2*(1-se)*se*te}function QuadraticBezierP2(se,te){return se*se*te}function QuadraticBezier(se,te,ae,oe){return QuadraticBezierP0(se,te)+QuadraticBezierP1(se,ae)+QuadraticBezierP2(se,oe)}function CubicBezierP0(se,te){const ae=1-se;return ae*ae*ae*te}function CubicBezierP1(se,te){const ae=1-se;return 3*ae*ae*se*te}function CubicBezierP2(se,te){return 3*(1-se)*se*se*te}function CubicBezierP3(se,te){return se*se*se*te}function CubicBezier(se,te,ae,oe,ce){return CubicBezierP0(se,te)+CubicBezierP1(se,ae)+CubicBezierP2(se,oe)+CubicBezierP3(se,ce)}class CubicBezierCurve extends Curve{constructor(te=new Vector2,ae=new Vector2,oe=new Vector2,ce=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=te,this.v1=ae,this.v2=oe,this.v3=ce}getPoint(te,ae=new Vector2){const oe=ae,ce=this.v0,ue=this.v1,fe=this.v2,de=this.v3;return oe.set(CubicBezier(te,ce.x,ue.x,fe.x,de.x),CubicBezier(te,ce.y,ue.y,fe.y,de.y)),oe}copy(te){return super.copy(te),this.v0.copy(te.v0),this.v1.copy(te.v1),this.v2.copy(te.v2),this.v3.copy(te.v3),this}toJSON(){const te=super.toJSON();return te.v0=this.v0.toArray(),te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te.v3=this.v3.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v0.fromArray(te.v0),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this.v3.fromArray(te.v3),this}}class CubicBezierCurve3 extends Curve{constructor(te=new Vector3,ae=new Vector3,oe=new Vector3,ce=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=te,this.v1=ae,this.v2=oe,this.v3=ce}getPoint(te,ae=new Vector3){const oe=ae,ce=this.v0,ue=this.v1,fe=this.v2,de=this.v3;return oe.set(CubicBezier(te,ce.x,ue.x,fe.x,de.x),CubicBezier(te,ce.y,ue.y,fe.y,de.y),CubicBezier(te,ce.z,ue.z,fe.z,de.z)),oe}copy(te){return super.copy(te),this.v0.copy(te.v0),this.v1.copy(te.v1),this.v2.copy(te.v2),this.v3.copy(te.v3),this}toJSON(){const te=super.toJSON();return te.v0=this.v0.toArray(),te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te.v3=this.v3.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v0.fromArray(te.v0),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this.v3.fromArray(te.v3),this}}class LineCurve extends Curve{constructor(te=new Vector2,ae=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=te,this.v2=ae}getPoint(te,ae=new Vector2){const oe=ae;return te===1?oe.copy(this.v2):(oe.copy(this.v2).sub(this.v1),oe.multiplyScalar(te).add(this.v1)),oe}getPointAt(te,ae){return this.getPoint(te,ae)}getTangent(te,ae=new Vector2){return ae.subVectors(this.v2,this.v1).normalize()}getTangentAt(te,ae){return this.getTangent(te,ae)}copy(te){return super.copy(te),this.v1.copy(te.v1),this.v2.copy(te.v2),this}toJSON(){const te=super.toJSON();return te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this}}class LineCurve3 extends Curve{constructor(te=new Vector3,ae=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=te,this.v2=ae}getPoint(te,ae=new Vector3){const oe=ae;return te===1?oe.copy(this.v2):(oe.copy(this.v2).sub(this.v1),oe.multiplyScalar(te).add(this.v1)),oe}getPointAt(te,ae){return this.getPoint(te,ae)}getTangent(te,ae=new Vector3){return ae.subVectors(this.v2,this.v1).normalize()}getTangentAt(te,ae){return this.getTangent(te,ae)}copy(te){return super.copy(te),this.v1.copy(te.v1),this.v2.copy(te.v2),this}toJSON(){const te=super.toJSON();return te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this}}class QuadraticBezierCurve extends Curve{constructor(te=new Vector2,ae=new Vector2,oe=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=te,this.v1=ae,this.v2=oe}getPoint(te,ae=new Vector2){const oe=ae,ce=this.v0,ue=this.v1,fe=this.v2;return oe.set(QuadraticBezier(te,ce.x,ue.x,fe.x),QuadraticBezier(te,ce.y,ue.y,fe.y)),oe}copy(te){return super.copy(te),this.v0.copy(te.v0),this.v1.copy(te.v1),this.v2.copy(te.v2),this}toJSON(){const te=super.toJSON();return te.v0=this.v0.toArray(),te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v0.fromArray(te.v0),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(te=new Vector3,ae=new Vector3,oe=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=te,this.v1=ae,this.v2=oe}getPoint(te,ae=new Vector3){const oe=ae,ce=this.v0,ue=this.v1,fe=this.v2;return oe.set(QuadraticBezier(te,ce.x,ue.x,fe.x),QuadraticBezier(te,ce.y,ue.y,fe.y),QuadraticBezier(te,ce.z,ue.z,fe.z)),oe}copy(te){return super.copy(te),this.v0.copy(te.v0),this.v1.copy(te.v1),this.v2.copy(te.v2),this}toJSON(){const te=super.toJSON();return te.v0=this.v0.toArray(),te.v1=this.v1.toArray(),te.v2=this.v2.toArray(),te}fromJSON(te){return super.fromJSON(te),this.v0.fromArray(te.v0),this.v1.fromArray(te.v1),this.v2.fromArray(te.v2),this}}class SplineCurve extends Curve{constructor(te=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=te}getPoint(te,ae=new Vector2){const oe=ae,ce=this.points,ue=(ce.length-1)*te,fe=Math.floor(ue),de=ue-fe,pe=ce[fe===0?fe:fe-1],me=ce[fe],_e=ce[fe>ce.length-2?ce.length-1:fe+1],be=ce[fe>ce.length-3?ce.length-1:fe+2];return oe.set(CatmullRom(de,pe.x,me.x,_e.x,be.x),CatmullRom(de,pe.y,me.y,_e.y,be.y)),oe}copy(te){super.copy(te),this.points=[];for(let ae=0,oe=te.points.length;ae<oe;ae++){const ce=te.points[ae];this.points.push(ce.clone())}return this}toJSON(){const te=super.toJSON();te.points=[];for(let ae=0,oe=this.points.length;ae<oe;ae++){const ce=this.points[ae];te.points.push(ce.toArray())}return te}fromJSON(te){super.fromJSON(te),this.points=[];for(let ae=0,oe=te.points.length;ae<oe;ae++){const ce=te.points[ae];this.points.push(new Vector2().fromArray(ce))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(te){this.curves.push(te)}closePath(){const te=this.curves[0].getPoint(0),ae=this.curves[this.curves.length-1].getPoint(1);if(!te.equals(ae)){const oe=te.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[oe](ae,te))}return this}getPoint(te,ae){const oe=te*this.getLength(),ce=this.getCurveLengths();let ue=0;for(;ue<ce.length;){if(ce[ue]>=oe){const fe=ce[ue]-oe,de=this.curves[ue],pe=de.getLength(),me=pe===0?0:1-fe/pe;return de.getPointAt(me,ae)}ue++}return null}getLength(){const te=this.getCurveLengths();return te[te.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const te=[];let ae=0;for(let oe=0,ce=this.curves.length;oe<ce;oe++)ae+=this.curves[oe].getLength(),te.push(ae);return this.cacheLengths=te,te}getSpacedPoints(te=40){const ae=[];for(let oe=0;oe<=te;oe++)ae.push(this.getPoint(oe/te));return this.autoClose&&ae.push(ae[0]),ae}getPoints(te=12){const ae=[];let oe;for(let ce=0,ue=this.curves;ce<ue.length;ce++){const fe=ue[ce],de=fe.isEllipseCurve?te*2:fe.isLineCurve||fe.isLineCurve3?1:fe.isSplineCurve?te*fe.points.length:te,pe=fe.getPoints(de);for(let me=0;me<pe.length;me++){const _e=pe[me];oe&&oe.equals(_e)||(ae.push(_e),oe=_e)}}return this.autoClose&&ae.length>1&&!ae[ae.length-1].equals(ae[0])&&ae.push(ae[0]),ae}copy(te){super.copy(te),this.curves=[];for(let ae=0,oe=te.curves.length;ae<oe;ae++){const ce=te.curves[ae];this.curves.push(ce.clone())}return this.autoClose=te.autoClose,this}toJSON(){const te=super.toJSON();te.autoClose=this.autoClose,te.curves=[];for(let ae=0,oe=this.curves.length;ae<oe;ae++){const ce=this.curves[ae];te.curves.push(ce.toJSON())}return te}fromJSON(te){super.fromJSON(te),this.autoClose=te.autoClose,this.curves=[];for(let ae=0,oe=te.curves.length;ae<oe;ae++){const ce=te.curves[ae];this.curves.push(new Curves[ce.type]().fromJSON(ce))}return this}}class Path extends CurvePath{constructor(te){super(),this.type="Path",this.currentPoint=new Vector2,te&&this.setFromPoints(te)}setFromPoints(te){this.moveTo(te[0].x,te[0].y);for(let ae=1,oe=te.length;ae<oe;ae++)this.lineTo(te[ae].x,te[ae].y);return this}moveTo(te,ae){return this.currentPoint.set(te,ae),this}lineTo(te,ae){const oe=new LineCurve(this.currentPoint.clone(),new Vector2(te,ae));return this.curves.push(oe),this.currentPoint.set(te,ae),this}quadraticCurveTo(te,ae,oe,ce){const ue=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(te,ae),new Vector2(oe,ce));return this.curves.push(ue),this.currentPoint.set(oe,ce),this}bezierCurveTo(te,ae,oe,ce,ue,fe){const de=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(te,ae),new Vector2(oe,ce),new Vector2(ue,fe));return this.curves.push(de),this.currentPoint.set(ue,fe),this}splineThru(te){const ae=[this.currentPoint.clone()].concat(te),oe=new SplineCurve(ae);return this.curves.push(oe),this.currentPoint.copy(te[te.length-1]),this}arc(te,ae,oe,ce,ue,fe){const de=this.currentPoint.x,pe=this.currentPoint.y;return this.absarc(te+de,ae+pe,oe,ce,ue,fe),this}absarc(te,ae,oe,ce,ue,fe){return this.absellipse(te,ae,oe,oe,ce,ue,fe),this}ellipse(te,ae,oe,ce,ue,fe,de,pe){const me=this.currentPoint.x,_e=this.currentPoint.y;return this.absellipse(te+me,ae+_e,oe,ce,ue,fe,de,pe),this}absellipse(te,ae,oe,ce,ue,fe,de,pe){const me=new EllipseCurve(te,ae,oe,ce,ue,fe,de,pe);if(this.curves.length>0){const be=me.getPoint(0);be.equals(this.currentPoint)||this.lineTo(be.x,be.y)}this.curves.push(me);const _e=me.getPoint(1);return this.currentPoint.copy(_e),this}copy(te){return super.copy(te),this.currentPoint.copy(te.currentPoint),this}toJSON(){const te=super.toJSON();return te.currentPoint=this.currentPoint.toArray(),te}fromJSON(te){return super.fromJSON(te),this.currentPoint.fromArray(te.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(te=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],ae=12,oe=0,ce=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:te,segments:ae,phiStart:oe,phiLength:ce},ae=Math.floor(ae),ce=clamp$4(ce,0,Math.PI*2);const ue=[],fe=[],de=[],pe=[],me=[],_e=1/ae,be=new Vector3,Ee=new Vector2,Ae=new Vector3,Re=new Vector3,Be=new Vector3;let De=0,Oe=0;for(let Pe=0;Pe<=te.length-1;Pe++)switch(Pe){case 0:De=te[Pe+1].x-te[Pe].x,Oe=te[Pe+1].y-te[Pe].y,Ae.x=Oe*1,Ae.y=-De,Ae.z=Oe*0,Be.copy(Ae),Ae.normalize(),pe.push(Ae.x,Ae.y,Ae.z);break;case te.length-1:pe.push(Be.x,Be.y,Be.z);break;default:De=te[Pe+1].x-te[Pe].x,Oe=te[Pe+1].y-te[Pe].y,Ae.x=Oe*1,Ae.y=-De,Ae.z=Oe*0,Re.copy(Ae),Ae.x+=Be.x,Ae.y+=Be.y,Ae.z+=Be.z,Ae.normalize(),pe.push(Ae.x,Ae.y,Ae.z),Be.copy(Re)}for(let Pe=0;Pe<=ae;Pe++){const Ie=oe+Pe*_e*ce,Fe=Math.sin(Ie),$e=Math.cos(Ie);for(let Ve=0;Ve<=te.length-1;Ve++){be.x=te[Ve].x*Fe,be.y=te[Ve].y,be.z=te[Ve].x*$e,fe.push(be.x,be.y,be.z),Ee.x=Pe/ae,Ee.y=Ve/(te.length-1),de.push(Ee.x,Ee.y);const ke=pe[3*Ve+0]*Fe,We=pe[3*Ve+1],je=pe[3*Ve+0]*$e;me.push(ke,We,je)}}for(let Pe=0;Pe<ae;Pe++)for(let Ie=0;Ie<te.length-1;Ie++){const Fe=Ie+Pe*te.length,$e=Fe,Ve=Fe+te.length,ke=Fe+te.length+1,We=Fe+1;ue.push($e,Ve,We),ue.push(ke,We,Ve)}this.setIndex(ue),this.setAttribute("position",new Float32BufferAttribute(fe,3)),this.setAttribute("uv",new Float32BufferAttribute(de,2)),this.setAttribute("normal",new Float32BufferAttribute(me,3))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new LatheGeometry(te.points,te.segments,te.phiStart,te.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(te=1,ae=1,oe=4,ce=8){const ue=new Path;ue.absarc(0,-ae/2,te,Math.PI*1.5,0),ue.absarc(0,ae/2,te,0,Math.PI*.5),super(ue.getPoints(oe),ce),this.type="CapsuleGeometry",this.parameters={radius:te,length:ae,capSegments:oe,radialSegments:ce}}static fromJSON(te){return new CapsuleGeometry(te.radius,te.length,te.capSegments,te.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(te=1,ae=32,oe=0,ce=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:te,segments:ae,thetaStart:oe,thetaLength:ce},ae=Math.max(3,ae);const ue=[],fe=[],de=[],pe=[],me=new Vector3,_e=new Vector2;fe.push(0,0,0),de.push(0,0,1),pe.push(.5,.5);for(let be=0,Ee=3;be<=ae;be++,Ee+=3){const Ae=oe+be/ae*ce;me.x=te*Math.cos(Ae),me.y=te*Math.sin(Ae),fe.push(me.x,me.y,me.z),de.push(0,0,1),_e.x=(fe[Ee]/te+1)/2,_e.y=(fe[Ee+1]/te+1)/2,pe.push(_e.x,_e.y)}for(let be=1;be<=ae;be++)ue.push(be,be+1,0);this.setIndex(ue),this.setAttribute("position",new Float32BufferAttribute(fe,3)),this.setAttribute("normal",new Float32BufferAttribute(de,3)),this.setAttribute("uv",new Float32BufferAttribute(pe,2))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new CircleGeometry(te.radius,te.segments,te.thetaStart,te.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(te=1,ae=1,oe=1,ce=32,ue=1,fe=!1,de=0,pe=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:te,radiusBottom:ae,height:oe,radialSegments:ce,heightSegments:ue,openEnded:fe,thetaStart:de,thetaLength:pe};const me=this;ce=Math.floor(ce),ue=Math.floor(ue);const _e=[],be=[],Ee=[],Ae=[];let Re=0;const Be=[],De=oe/2;let Oe=0;Pe(),fe===!1&&(te>0&&Ie(!0),ae>0&&Ie(!1)),this.setIndex(_e),this.setAttribute("position",new Float32BufferAttribute(be,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(Ae,2));function Pe(){const Fe=new Vector3,$e=new Vector3;let Ve=0;const ke=(ae-te)/oe;for(let We=0;We<=ue;We++){const je=[],He=We/ue,tt=He*(ae-te)+te;for(let Ze=0;Ze<=ce;Ze++){const nt=Ze/ce,at=nt*pe+de,mt=Math.sin(at),Ye=Math.cos(at);$e.x=tt*mt,$e.y=-He*oe+De,$e.z=tt*Ye,be.push($e.x,$e.y,$e.z),Fe.set(mt,ke,Ye).normalize(),Ee.push(Fe.x,Fe.y,Fe.z),Ae.push(nt,1-He),je.push(Re++)}Be.push(je)}for(let We=0;We<ce;We++)for(let je=0;je<ue;je++){const He=Be[je][We],tt=Be[je+1][We],Ze=Be[je+1][We+1],nt=Be[je][We+1];(te>0||je!==0)&&(_e.push(He,tt,nt),Ve+=3),(ae>0||je!==ue-1)&&(_e.push(tt,Ze,nt),Ve+=3)}me.addGroup(Oe,Ve,0),Oe+=Ve}function Ie(Fe){const $e=Re,Ve=new Vector2,ke=new Vector3;let We=0;const je=Fe===!0?te:ae,He=Fe===!0?1:-1;for(let Ze=1;Ze<=ce;Ze++)be.push(0,De*He,0),Ee.push(0,He,0),Ae.push(.5,.5),Re++;const tt=Re;for(let Ze=0;Ze<=ce;Ze++){const at=Ze/ce*pe+de,mt=Math.cos(at),Ye=Math.sin(at);ke.x=je*Ye,ke.y=De*He,ke.z=je*mt,be.push(ke.x,ke.y,ke.z),Ee.push(0,He,0),Ve.x=mt*.5+.5,Ve.y=Ye*.5*He+.5,Ae.push(Ve.x,Ve.y),Re++}for(let Ze=0;Ze<ce;Ze++){const nt=$e+Ze,at=tt+Ze;Fe===!0?_e.push(at,at+1,nt):_e.push(at+1,at,nt),We+=3}me.addGroup(Oe,We,Fe===!0?1:2),Oe+=We}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new CylinderGeometry(te.radiusTop,te.radiusBottom,te.height,te.radialSegments,te.heightSegments,te.openEnded,te.thetaStart,te.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(te=1,ae=1,oe=32,ce=1,ue=!1,fe=0,de=Math.PI*2){super(0,te,ae,oe,ce,ue,fe,de),this.type="ConeGeometry",this.parameters={radius:te,height:ae,radialSegments:oe,heightSegments:ce,openEnded:ue,thetaStart:fe,thetaLength:de}}static fromJSON(te){return new ConeGeometry(te.radius,te.height,te.radialSegments,te.heightSegments,te.openEnded,te.thetaStart,te.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(te=[],ae=[],oe=1,ce=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:te,indices:ae,radius:oe,detail:ce};const ue=[],fe=[];de(ce),me(oe),_e(),this.setAttribute("position",new Float32BufferAttribute(ue,3)),this.setAttribute("normal",new Float32BufferAttribute(ue.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2)),ce===0?this.computeVertexNormals():this.normalizeNormals();function de(Pe){const Ie=new Vector3,Fe=new Vector3,$e=new Vector3;for(let Ve=0;Ve<ae.length;Ve+=3)Ae(ae[Ve+0],Ie),Ae(ae[Ve+1],Fe),Ae(ae[Ve+2],$e),pe(Ie,Fe,$e,Pe)}function pe(Pe,Ie,Fe,$e){const Ve=$e+1,ke=[];for(let We=0;We<=Ve;We++){ke[We]=[];const je=Pe.clone().lerp(Fe,We/Ve),He=Ie.clone().lerp(Fe,We/Ve),tt=Ve-We;for(let Ze=0;Ze<=tt;Ze++)Ze===0&&We===Ve?ke[We][Ze]=je:ke[We][Ze]=je.clone().lerp(He,Ze/tt)}for(let We=0;We<Ve;We++)for(let je=0;je<2*(Ve-We)-1;je++){const He=Math.floor(je/2);je%2===0?(Ee(ke[We][He+1]),Ee(ke[We+1][He]),Ee(ke[We][He])):(Ee(ke[We][He+1]),Ee(ke[We+1][He+1]),Ee(ke[We+1][He]))}}function me(Pe){const Ie=new Vector3;for(let Fe=0;Fe<ue.length;Fe+=3)Ie.x=ue[Fe+0],Ie.y=ue[Fe+1],Ie.z=ue[Fe+2],Ie.normalize().multiplyScalar(Pe),ue[Fe+0]=Ie.x,ue[Fe+1]=Ie.y,ue[Fe+2]=Ie.z}function _e(){const Pe=new Vector3;for(let Ie=0;Ie<ue.length;Ie+=3){Pe.x=ue[Ie+0],Pe.y=ue[Ie+1],Pe.z=ue[Ie+2];const Fe=De(Pe)/2/Math.PI+.5,$e=Oe(Pe)/Math.PI+.5;fe.push(Fe,1-$e)}Re(),be()}function be(){for(let Pe=0;Pe<fe.length;Pe+=6){const Ie=fe[Pe+0],Fe=fe[Pe+2],$e=fe[Pe+4],Ve=Math.max(Ie,Fe,$e),ke=Math.min(Ie,Fe,$e);Ve>.9&&ke<.1&&(Ie<.2&&(fe[Pe+0]+=1),Fe<.2&&(fe[Pe+2]+=1),$e<.2&&(fe[Pe+4]+=1))}}function Ee(Pe){ue.push(Pe.x,Pe.y,Pe.z)}function Ae(Pe,Ie){const Fe=Pe*3;Ie.x=te[Fe+0],Ie.y=te[Fe+1],Ie.z=te[Fe+2]}function Re(){const Pe=new Vector3,Ie=new Vector3,Fe=new Vector3,$e=new Vector3,Ve=new Vector2,ke=new Vector2,We=new Vector2;for(let je=0,He=0;je<ue.length;je+=9,He+=6){Pe.set(ue[je+0],ue[je+1],ue[je+2]),Ie.set(ue[je+3],ue[je+4],ue[je+5]),Fe.set(ue[je+6],ue[je+7],ue[je+8]),Ve.set(fe[He+0],fe[He+1]),ke.set(fe[He+2],fe[He+3]),We.set(fe[He+4],fe[He+5]),$e.copy(Pe).add(Ie).add(Fe).divideScalar(3);const tt=De($e);Be(Ve,He+0,Pe,tt),Be(ke,He+2,Ie,tt),Be(We,He+4,Fe,tt)}}function Be(Pe,Ie,Fe,$e){$e<0&&Pe.x===1&&(fe[Ie]=Pe.x-1),Fe.x===0&&Fe.z===0&&(fe[Ie]=$e/2/Math.PI+.5)}function De(Pe){return Math.atan2(Pe.z,-Pe.x)}function Oe(Pe){return Math.atan2(-Pe.y,Math.sqrt(Pe.x*Pe.x+Pe.z*Pe.z))}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new PolyhedronGeometry(te.vertices,te.indices,te.radius,te.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(te=1,ae=0){const oe=(1+Math.sqrt(5))/2,ce=1/oe,ue=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ce,-oe,0,-ce,oe,0,ce,-oe,0,ce,oe,-ce,-oe,0,-ce,oe,0,ce,-oe,0,ce,oe,0,-oe,0,-ce,oe,0,-ce,-oe,0,ce,oe,0,ce],fe=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(ue,fe,te,ae),this.type="DodecahedronGeometry",this.parameters={radius:te,detail:ae}}static fromJSON(te){return new DodecahedronGeometry(te.radius,te.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(te=null,ae=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:te,thresholdAngle:ae},te!==null){const ce=Math.pow(10,4),ue=Math.cos(DEG2RAD*ae),fe=te.getIndex(),de=te.getAttribute("position"),pe=fe?fe.count:de.count,me=[0,0,0],_e=["a","b","c"],be=new Array(3),Ee={},Ae=[];for(let Re=0;Re<pe;Re+=3){fe?(me[0]=fe.getX(Re),me[1]=fe.getX(Re+1),me[2]=fe.getX(Re+2)):(me[0]=Re,me[1]=Re+1,me[2]=Re+2);const{a:Be,b:De,c:Oe}=_triangle;if(Be.fromBufferAttribute(de,me[0]),De.fromBufferAttribute(de,me[1]),Oe.fromBufferAttribute(de,me[2]),_triangle.getNormal(_normal),be[0]=`${Math.round(Be.x*ce)},${Math.round(Be.y*ce)},${Math.round(Be.z*ce)}`,be[1]=`${Math.round(De.x*ce)},${Math.round(De.y*ce)},${Math.round(De.z*ce)}`,be[2]=`${Math.round(Oe.x*ce)},${Math.round(Oe.y*ce)},${Math.round(Oe.z*ce)}`,!(be[0]===be[1]||be[1]===be[2]||be[2]===be[0]))for(let Pe=0;Pe<3;Pe++){const Ie=(Pe+1)%3,Fe=be[Pe],$e=be[Ie],Ve=_triangle[_e[Pe]],ke=_triangle[_e[Ie]],We=`${Fe}_${$e}`,je=`${$e}_${Fe}`;je in Ee&&Ee[je]?(_normal.dot(Ee[je].normal)<=ue&&(Ae.push(Ve.x,Ve.y,Ve.z),Ae.push(ke.x,ke.y,ke.z)),Ee[je]=null):We in Ee||(Ee[We]={index0:me[Pe],index1:me[Ie],normal:_normal.clone()})}}for(const Re in Ee)if(Ee[Re]){const{index0:Be,index1:De}=Ee[Re];_v0$3.fromBufferAttribute(de,Be),_v1$1.fromBufferAttribute(de,De),Ae.push(_v0$3.x,_v0$3.y,_v0$3.z),Ae.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(Ae,3))}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}}class Shape extends Path{constructor(te){super(te),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(te){const ae=[];for(let oe=0,ce=this.holes.length;oe<ce;oe++)ae[oe]=this.holes[oe].getPoints(te);return ae}extractPoints(te){return{shape:this.getPoints(te),holes:this.getPointsHoles(te)}}copy(te){super.copy(te),this.holes=[];for(let ae=0,oe=te.holes.length;ae<oe;ae++){const ce=te.holes[ae];this.holes.push(ce.clone())}return this}toJSON(){const te=super.toJSON();te.uuid=this.uuid,te.holes=[];for(let ae=0,oe=this.holes.length;ae<oe;ae++){const ce=this.holes[ae];te.holes.push(ce.toJSON())}return te}fromJSON(te){super.fromJSON(te),this.uuid=te.uuid,this.holes=[];for(let ae=0,oe=te.holes.length;ae<oe;ae++){const ce=te.holes[ae];this.holes.push(new Path().fromJSON(ce))}return this}}function earcut(se,te,ae=2){const oe=te&&te.length,ce=oe?te[0]*ae:se.length;let ue=linkedList(se,0,ce,ae,!0);const fe=[];if(!ue||ue.next===ue.prev)return fe;let de,pe,me;if(oe&&(ue=eliminateHoles(se,te,ue,ae)),se.length>80*ae){de=1/0,pe=1/0;let _e=-1/0,be=-1/0;for(let Ee=ae;Ee<ce;Ee+=ae){const Ae=se[Ee],Re=se[Ee+1];Ae<de&&(de=Ae),Re<pe&&(pe=Re),Ae>_e&&(_e=Ae),Re>be&&(be=Re)}me=Math.max(_e-de,be-pe),me=me!==0?32767/me:0}return earcutLinked(ue,fe,ae,de,pe,me,0),fe}function linkedList(se,te,ae,oe,ce){let ue;if(ce===signedArea(se,te,ae,oe)>0)for(let fe=te;fe<ae;fe+=oe)ue=insertNode(fe/oe|0,se[fe],se[fe+1],ue);else for(let fe=ae-oe;fe>=te;fe-=oe)ue=insertNode(fe/oe|0,se[fe],se[fe+1],ue);return ue&&equals(ue,ue.next)&&(removeNode(ue),ue=ue.next),ue}function filterPoints(se,te){if(!se)return se;te||(te=se);let ae=se,oe;do if(oe=!1,!ae.steiner&&(equals(ae,ae.next)||area(ae.prev,ae,ae.next)===0)){if(removeNode(ae),ae=te=ae.prev,ae===ae.next)break;oe=!0}else ae=ae.next;while(oe||ae!==te);return te}function earcutLinked(se,te,ae,oe,ce,ue,fe){if(!se)return;!fe&&ue&&indexCurve(se,oe,ce,ue);let de=se;for(;se.prev!==se.next;){const pe=se.prev,me=se.next;if(ue?isEarHashed(se,oe,ce,ue):isEar(se)){te.push(pe.i,se.i,me.i),removeNode(se),se=me.next,de=me.next;continue}if(se=me,se===de){fe?fe===1?(se=cureLocalIntersections(filterPoints(se),te),earcutLinked(se,te,ae,oe,ce,ue,2)):fe===2&&splitEarcut(se,te,ae,oe,ce,ue):earcutLinked(filterPoints(se),te,ae,oe,ce,ue,1);break}}}function isEar(se){const te=se.prev,ae=se,oe=se.next;if(area(te,ae,oe)>=0)return!1;const ce=te.x,ue=ae.x,fe=oe.x,de=te.y,pe=ae.y,me=oe.y,_e=Math.min(ce,ue,fe),be=Math.min(de,pe,me),Ee=Math.max(ce,ue,fe),Ae=Math.max(de,pe,me);let Re=oe.next;for(;Re!==te;){if(Re.x>=_e&&Re.x<=Ee&&Re.y>=be&&Re.y<=Ae&&pointInTriangleExceptFirst(ce,de,ue,pe,fe,me,Re.x,Re.y)&&area(Re.prev,Re,Re.next)>=0)return!1;Re=Re.next}return!0}function isEarHashed(se,te,ae,oe){const ce=se.prev,ue=se,fe=se.next;if(area(ce,ue,fe)>=0)return!1;const de=ce.x,pe=ue.x,me=fe.x,_e=ce.y,be=ue.y,Ee=fe.y,Ae=Math.min(de,pe,me),Re=Math.min(_e,be,Ee),Be=Math.max(de,pe,me),De=Math.max(_e,be,Ee),Oe=zOrder(Ae,Re,te,ae,oe),Pe=zOrder(Be,De,te,ae,oe);let Ie=se.prevZ,Fe=se.nextZ;for(;Ie&&Ie.z>=Oe&&Fe&&Fe.z<=Pe;){if(Ie.x>=Ae&&Ie.x<=Be&&Ie.y>=Re&&Ie.y<=De&&Ie!==ce&&Ie!==fe&&pointInTriangleExceptFirst(de,_e,pe,be,me,Ee,Ie.x,Ie.y)&&area(Ie.prev,Ie,Ie.next)>=0||(Ie=Ie.prevZ,Fe.x>=Ae&&Fe.x<=Be&&Fe.y>=Re&&Fe.y<=De&&Fe!==ce&&Fe!==fe&&pointInTriangleExceptFirst(de,_e,pe,be,me,Ee,Fe.x,Fe.y)&&area(Fe.prev,Fe,Fe.next)>=0))return!1;Fe=Fe.nextZ}for(;Ie&&Ie.z>=Oe;){if(Ie.x>=Ae&&Ie.x<=Be&&Ie.y>=Re&&Ie.y<=De&&Ie!==ce&&Ie!==fe&&pointInTriangleExceptFirst(de,_e,pe,be,me,Ee,Ie.x,Ie.y)&&area(Ie.prev,Ie,Ie.next)>=0)return!1;Ie=Ie.prevZ}for(;Fe&&Fe.z<=Pe;){if(Fe.x>=Ae&&Fe.x<=Be&&Fe.y>=Re&&Fe.y<=De&&Fe!==ce&&Fe!==fe&&pointInTriangleExceptFirst(de,_e,pe,be,me,Ee,Fe.x,Fe.y)&&area(Fe.prev,Fe,Fe.next)>=0)return!1;Fe=Fe.nextZ}return!0}function cureLocalIntersections(se,te){let ae=se;do{const oe=ae.prev,ce=ae.next.next;!equals(oe,ce)&&intersects(oe,ae,ae.next,ce)&&locallyInside(oe,ce)&&locallyInside(ce,oe)&&(te.push(oe.i,ae.i,ce.i),removeNode(ae),removeNode(ae.next),ae=se=ce),ae=ae.next}while(ae!==se);return filterPoints(ae)}function splitEarcut(se,te,ae,oe,ce,ue){let fe=se;do{let de=fe.next.next;for(;de!==fe.prev;){if(fe.i!==de.i&&isValidDiagonal(fe,de)){let pe=splitPolygon(fe,de);fe=filterPoints(fe,fe.next),pe=filterPoints(pe,pe.next),earcutLinked(fe,te,ae,oe,ce,ue,0),earcutLinked(pe,te,ae,oe,ce,ue,0);return}de=de.next}fe=fe.next}while(fe!==se)}function eliminateHoles(se,te,ae,oe){const ce=[];for(let ue=0,fe=te.length;ue<fe;ue++){const de=te[ue]*oe,pe=ue<fe-1?te[ue+1]*oe:se.length,me=linkedList(se,de,pe,oe,!1);me===me.next&&(me.steiner=!0),ce.push(getLeftmost(me))}ce.sort(compareXYSlope);for(let ue=0;ue<ce.length;ue++)ae=eliminateHole(ce[ue],ae);return ae}function compareXYSlope(se,te){let ae=se.x-te.x;if(ae===0&&(ae=se.y-te.y,ae===0)){const oe=(se.next.y-se.y)/(se.next.x-se.x),ce=(te.next.y-te.y)/(te.next.x-te.x);ae=oe-ce}return ae}function eliminateHole(se,te){const ae=findHoleBridge(se,te);if(!ae)return te;const oe=splitPolygon(ae,se);return filterPoints(oe,oe.next),filterPoints(ae,ae.next)}function findHoleBridge(se,te){let ae=te;const oe=se.x,ce=se.y;let ue=-1/0,fe;if(equals(se,ae))return ae;do{if(equals(se,ae.next))return ae.next;if(ce<=ae.y&&ce>=ae.next.y&&ae.next.y!==ae.y){const be=ae.x+(ce-ae.y)*(ae.next.x-ae.x)/(ae.next.y-ae.y);if(be<=oe&&be>ue&&(ue=be,fe=ae.x<ae.next.x?ae:ae.next,be===oe))return fe}ae=ae.next}while(ae!==te);if(!fe)return null;const de=fe,pe=fe.x,me=fe.y;let _e=1/0;ae=fe;do{if(oe>=ae.x&&ae.x>=pe&&oe!==ae.x&&pointInTriangle(ce<me?oe:ue,ce,pe,me,ce<me?ue:oe,ce,ae.x,ae.y)){const be=Math.abs(ce-ae.y)/(oe-ae.x);locallyInside(ae,se)&&(be<_e||be===_e&&(ae.x>fe.x||ae.x===fe.x&&sectorContainsSector(fe,ae)))&&(fe=ae,_e=be)}ae=ae.next}while(ae!==de);return fe}function sectorContainsSector(se,te){return area(se.prev,se,te.prev)<0&&area(te.next,se,se.next)<0}function indexCurve(se,te,ae,oe){let ce=se;do ce.z===0&&(ce.z=zOrder(ce.x,ce.y,te,ae,oe)),ce.prevZ=ce.prev,ce.nextZ=ce.next,ce=ce.next;while(ce!==se);ce.prevZ.nextZ=null,ce.prevZ=null,sortLinked(ce)}function sortLinked(se){let te,ae=1;do{let oe=se,ce;se=null;let ue=null;for(te=0;oe;){te++;let fe=oe,de=0;for(let me=0;me<ae&&(de++,fe=fe.nextZ,!!fe);me++);let pe=ae;for(;de>0||pe>0&&fe;)de!==0&&(pe===0||!fe||oe.z<=fe.z)?(ce=oe,oe=oe.nextZ,de--):(ce=fe,fe=fe.nextZ,pe--),ue?ue.nextZ=ce:se=ce,ce.prevZ=ue,ue=ce;oe=fe}ue.nextZ=null,ae*=2}while(te>1);return se}function zOrder(se,te,ae,oe,ce){return se=(se-ae)*ce|0,te=(te-oe)*ce|0,se=(se|se<<8)&16711935,se=(se|se<<4)&252645135,se=(se|se<<2)&858993459,se=(se|se<<1)&1431655765,te=(te|te<<8)&16711935,te=(te|te<<4)&252645135,te=(te|te<<2)&858993459,te=(te|te<<1)&1431655765,se|te<<1}function getLeftmost(se){let te=se,ae=se;do(te.x<ae.x||te.x===ae.x&&te.y<ae.y)&&(ae=te),te=te.next;while(te!==se);return ae}function pointInTriangle(se,te,ae,oe,ce,ue,fe,de){return(ce-fe)*(te-de)>=(se-fe)*(ue-de)&&(se-fe)*(oe-de)>=(ae-fe)*(te-de)&&(ae-fe)*(ue-de)>=(ce-fe)*(oe-de)}function pointInTriangleExceptFirst(se,te,ae,oe,ce,ue,fe,de){return!(se===fe&&te===de)&&pointInTriangle(se,te,ae,oe,ce,ue,fe,de)}function isValidDiagonal(se,te){return se.next.i!==te.i&&se.prev.i!==te.i&&!intersectsPolygon(se,te)&&(locallyInside(se,te)&&locallyInside(te,se)&&middleInside(se,te)&&(area(se.prev,se,te.prev)||area(se,te.prev,te))||equals(se,te)&&area(se.prev,se,se.next)>0&&area(te.prev,te,te.next)>0)}function area(se,te,ae){return(te.y-se.y)*(ae.x-te.x)-(te.x-se.x)*(ae.y-te.y)}function equals(se,te){return se.x===te.x&&se.y===te.y}function intersects(se,te,ae,oe){const ce=sign(area(se,te,ae)),ue=sign(area(se,te,oe)),fe=sign(area(ae,oe,se)),de=sign(area(ae,oe,te));return!!(ce!==ue&&fe!==de||ce===0&&onSegment(se,ae,te)||ue===0&&onSegment(se,oe,te)||fe===0&&onSegment(ae,se,oe)||de===0&&onSegment(ae,te,oe))}function onSegment(se,te,ae){return te.x<=Math.max(se.x,ae.x)&&te.x>=Math.min(se.x,ae.x)&&te.y<=Math.max(se.y,ae.y)&&te.y>=Math.min(se.y,ae.y)}function sign(se){return se>0?1:se<0?-1:0}function intersectsPolygon(se,te){let ae=se;do{if(ae.i!==se.i&&ae.next.i!==se.i&&ae.i!==te.i&&ae.next.i!==te.i&&intersects(ae,ae.next,se,te))return!0;ae=ae.next}while(ae!==se);return!1}function locallyInside(se,te){return area(se.prev,se,se.next)<0?area(se,te,se.next)>=0&&area(se,se.prev,te)>=0:area(se,te,se.prev)<0||area(se,se.next,te)<0}function middleInside(se,te){let ae=se,oe=!1;const ce=(se.x+te.x)/2,ue=(se.y+te.y)/2;do ae.y>ue!=ae.next.y>ue&&ae.next.y!==ae.y&&ce<(ae.next.x-ae.x)*(ue-ae.y)/(ae.next.y-ae.y)+ae.x&&(oe=!oe),ae=ae.next;while(ae!==se);return oe}function splitPolygon(se,te){const ae=createNode(se.i,se.x,se.y),oe=createNode(te.i,te.x,te.y),ce=se.next,ue=te.prev;return se.next=te,te.prev=se,ae.next=ce,ce.prev=ae,oe.next=ae,ae.prev=oe,ue.next=oe,oe.prev=ue,oe}function insertNode(se,te,ae,oe){const ce=createNode(se,te,ae);return oe?(ce.next=oe.next,ce.prev=oe,oe.next.prev=ce,oe.next=ce):(ce.prev=ce,ce.next=ce),ce}function removeNode(se){se.next.prev=se.prev,se.prev.next=se.next,se.prevZ&&(se.prevZ.nextZ=se.nextZ),se.nextZ&&(se.nextZ.prevZ=se.prevZ)}function createNode(se,te,ae){return{i:se,x:te,y:ae,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function signedArea(se,te,ae,oe){let ce=0;for(let ue=te,fe=ae-oe;ue<ae;ue+=oe)ce+=(se[fe]-se[ue])*(se[ue+1]+se[fe+1]),fe=ue;return ce}class Earcut{static triangulate(te,ae,oe=2){return earcut(te,ae,oe)}}class ShapeUtils{static area(te){const ae=te.length;let oe=0;for(let ce=ae-1,ue=0;ue<ae;ce=ue++)oe+=te[ce].x*te[ue].y-te[ue].x*te[ce].y;return oe*.5}static isClockWise(te){return ShapeUtils.area(te)<0}static triangulateShape(te,ae){const oe=[],ce=[],ue=[];removeDupEndPts(te),addContour(oe,te);let fe=te.length;ae.forEach(removeDupEndPts);for(let pe=0;pe<ae.length;pe++)ce.push(fe),fe+=ae[pe].length,addContour(oe,ae[pe]);const de=Earcut.triangulate(oe,ce);for(let pe=0;pe<de.length;pe+=3)ue.push(de.slice(pe,pe+3));return ue}}function removeDupEndPts(se){const te=se.length;te>2&&se[te-1].equals(se[0])&&se.pop()}function addContour(se,te){for(let ae=0;ae<te.length;ae++)se.push(te[ae].x),se.push(te[ae].y)}class ExtrudeGeometry extends BufferGeometry{constructor(te=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ae={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:te,options:ae},te=Array.isArray(te)?te:[te];const oe=this,ce=[],ue=[];for(let de=0,pe=te.length;de<pe;de++){const me=te[de];fe(me)}this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(ue,2)),this.computeVertexNormals();function fe(de){const pe=[],me=ae.curveSegments!==void 0?ae.curveSegments:12,_e=ae.steps!==void 0?ae.steps:1,be=ae.depth!==void 0?ae.depth:1;let Ee=ae.bevelEnabled!==void 0?ae.bevelEnabled:!0,Ae=ae.bevelThickness!==void 0?ae.bevelThickness:.2,Re=ae.bevelSize!==void 0?ae.bevelSize:Ae-.1,Be=ae.bevelOffset!==void 0?ae.bevelOffset:0,De=ae.bevelSegments!==void 0?ae.bevelSegments:3;const Oe=ae.extrudePath,Pe=ae.UVGenerator!==void 0?ae.UVGenerator:WorldUVGenerator;let Ie,Fe=!1,$e,Ve,ke,We;Oe&&(Ie=Oe.getSpacedPoints(_e),Fe=!0,Ee=!1,$e=Oe.computeFrenetFrames(_e,!1),Ve=new Vector3,ke=new Vector3,We=new Vector3),Ee||(De=0,Ae=0,Re=0,Be=0);const je=de.extractPoints(me);let He=je.shape;const tt=je.holes;if(!ShapeUtils.isClockWise(He)){He=He.reverse();for(let Nt=0,ht=tt.length;Nt<ht;Nt++){const Rt=tt[Nt];ShapeUtils.isClockWise(Rt)&&(tt[Nt]=Rt.reverse())}}function nt(Nt){const Rt=10000000000000001e-36;let kt=Nt[0];for(let Bt=1;Bt<=Nt.length;Bt++){const Qe=Bt%Nt.length,Ke=Nt[Qe],ct=Ke.x-kt.x,St=Ke.y-kt.y,Mt=ct*ct+St*St,Ft=Math.max(Math.abs(Ke.x),Math.abs(Ke.y),Math.abs(kt.x),Math.abs(kt.y)),zt=Rt*Ft*Ft;if(Mt<=zt){Nt.splice(Qe,1),Bt--;continue}kt=Ke}}nt(He),tt.forEach(nt);const at=tt.length,mt=He;for(let Nt=0;Nt<at;Nt++){const ht=tt[Nt];He=He.concat(ht)}function Ye(Nt,ht,Rt){return ht||console.error("THREE.ExtrudeGeometry: vec does not exist"),Nt.clone().addScaledVector(ht,Rt)}const rt=He.length;function lt(Nt,ht,Rt){let kt,Bt,Qe;const Ke=Nt.x-ht.x,ct=Nt.y-ht.y,St=Rt.x-Nt.x,Mt=Rt.y-Nt.y,Ft=Ke*Ke+ct*ct,zt=Ke*Mt-ct*St;if(Math.abs(zt)>Number.EPSILON){const $t=Math.sqrt(Ft),Jt=Math.sqrt(St*St+Mt*Mt),Mn=ht.x-ct/$t,rn=ht.y+Ke/$t,cn=Rt.x-Mt/Jt,vn=Rt.y+St/Jt,hn=((cn-Mn)*Mt-(vn-rn)*St)/(Ke*Mt-ct*St);kt=Mn+Ke*hn-Nt.x,Bt=rn+ct*hn-Nt.y;const Qt=kt*kt+Bt*Bt;if(Qt<=2)return new Vector2(kt,Bt);Qe=Math.sqrt(Qt/2)}else{let $t=!1;Ke>Number.EPSILON?St>Number.EPSILON&&($t=!0):Ke<-Number.EPSILON?St<-Number.EPSILON&&($t=!0):Math.sign(ct)===Math.sign(Mt)&&($t=!0),$t?(kt=-ct,Bt=Ke,Qe=Math.sqrt(Ft)):(kt=Ke,Bt=ct,Qe=Math.sqrt(Ft/2))}return new Vector2(kt/Qe,Bt/Qe)}const _t=[];for(let Nt=0,ht=mt.length,Rt=ht-1,kt=Nt+1;Nt<ht;Nt++,Rt++,kt++)Rt===ht&&(Rt=0),kt===ht&&(kt=0),_t[Nt]=lt(mt[Nt],mt[Rt],mt[kt]);const Xe=[];let et,ft=_t.concat();for(let Nt=0,ht=at;Nt<ht;Nt++){const Rt=tt[Nt];et=[];for(let kt=0,Bt=Rt.length,Qe=Bt-1,Ke=kt+1;kt<Bt;kt++,Qe++,Ke++)Qe===Bt&&(Qe=0),Ke===Bt&&(Ke=0),et[kt]=lt(Rt[kt],Rt[Qe],Rt[Ke]);Xe.push(et),ft=ft.concat(et)}const yt=[],st=[];for(let Nt=0;Nt<De;Nt++){const ht=Nt/De,Rt=Ae*Math.cos(ht*Math.PI/2),kt=Re*Math.sin(ht*Math.PI/2)+Be;for(let Bt=0,Qe=mt.length;Bt<Qe;Bt++){const Ke=Ye(mt[Bt],_t[Bt],kt);tn(Ke.x,Ke.y,-Rt),ht==0&&yt.push(Ke)}for(let Bt=0,Qe=at;Bt<Qe;Bt++){const Ke=tt[Bt];et=Xe[Bt];const ct=[];for(let St=0,Mt=Ke.length;St<Mt;St++){const Ft=Ye(Ke[St],et[St],kt);tn(Ft.x,Ft.y,-Rt),ht==0&&ct.push(Ft)}ht==0&&st.push(ct)}}const gt=ShapeUtils.triangulateShape(yt,st),Et=gt.length,bt=Re+Be;for(let Nt=0;Nt<rt;Nt++){const ht=Ee?Ye(He[Nt],ft[Nt],bt):He[Nt];Fe?(ke.copy($e.normals[0]).multiplyScalar(ht.x),Ve.copy($e.binormals[0]).multiplyScalar(ht.y),We.copy(Ie[0]).add(ke).add(Ve),tn(We.x,We.y,We.z)):tn(ht.x,ht.y,0)}for(let Nt=1;Nt<=_e;Nt++)for(let ht=0;ht<rt;ht++){const Rt=Ee?Ye(He[ht],ft[ht],bt):He[ht];Fe?(ke.copy($e.normals[Nt]).multiplyScalar(Rt.x),Ve.copy($e.binormals[Nt]).multiplyScalar(Rt.y),We.copy(Ie[Nt]).add(ke).add(Ve),tn(We.x,We.y,We.z)):tn(Rt.x,Rt.y,be/_e*Nt)}for(let Nt=De-1;Nt>=0;Nt--){const ht=Nt/De,Rt=Ae*Math.cos(ht*Math.PI/2),kt=Re*Math.sin(ht*Math.PI/2)+Be;for(let Bt=0,Qe=mt.length;Bt<Qe;Bt++){const Ke=Ye(mt[Bt],_t[Bt],kt);tn(Ke.x,Ke.y,be+Rt)}for(let Bt=0,Qe=tt.length;Bt<Qe;Bt++){const Ke=tt[Bt];et=Xe[Bt];for(let ct=0,St=Ke.length;ct<St;ct++){const Mt=Ye(Ke[ct],et[ct],kt);Fe?tn(Mt.x,Mt.y+Ie[_e-1].y,Ie[_e-1].x+Rt):tn(Mt.x,Mt.y,be+Rt)}}}Dt(),nn();function Dt(){const Nt=ce.length/3;if(Ee){let ht=0,Rt=rt*ht;for(let kt=0;kt<Et;kt++){const Bt=gt[kt];Wt(Bt[2]+Rt,Bt[1]+Rt,Bt[0]+Rt)}ht=_e+De*2,Rt=rt*ht;for(let kt=0;kt<Et;kt++){const Bt=gt[kt];Wt(Bt[0]+Rt,Bt[1]+Rt,Bt[2]+Rt)}}else{for(let ht=0;ht<Et;ht++){const Rt=gt[ht];Wt(Rt[2],Rt[1],Rt[0])}for(let ht=0;ht<Et;ht++){const Rt=gt[ht];Wt(Rt[0]+rt*_e,Rt[1]+rt*_e,Rt[2]+rt*_e)}}oe.addGroup(Nt,ce.length/3-Nt,0)}function nn(){const Nt=ce.length/3;let ht=0;ln(mt,ht),ht+=mt.length;for(let Rt=0,kt=tt.length;Rt<kt;Rt++){const Bt=tt[Rt];ln(Bt,ht),ht+=Bt.length}oe.addGroup(Nt,ce.length/3-Nt,1)}function ln(Nt,ht){let Rt=Nt.length;for(;--Rt>=0;){const kt=Rt;let Bt=Rt-1;Bt<0&&(Bt=Nt.length-1);for(let Qe=0,Ke=_e+De*2;Qe<Ke;Qe++){const ct=rt*Qe,St=rt*(Qe+1),Mt=ht+kt+ct,Ft=ht+Bt+ct,zt=ht+Bt+St,$t=ht+kt+St;on(Mt,Ft,zt,$t)}}}function tn(Nt,ht,Rt){pe.push(Nt),pe.push(ht),pe.push(Rt)}function Wt(Nt,ht,Rt){pt(Nt),pt(ht),pt(Rt);const kt=ce.length/3,Bt=Pe.generateTopUV(oe,ce,kt-3,kt-2,kt-1);Sn(Bt[0]),Sn(Bt[1]),Sn(Bt[2])}function on(Nt,ht,Rt,kt){pt(Nt),pt(ht),pt(kt),pt(ht),pt(Rt),pt(kt);const Bt=ce.length/3,Qe=Pe.generateSideWallUV(oe,ce,Bt-6,Bt-3,Bt-2,Bt-1);Sn(Qe[0]),Sn(Qe[1]),Sn(Qe[3]),Sn(Qe[1]),Sn(Qe[2]),Sn(Qe[3])}function pt(Nt){ce.push(pe[Nt*3+0]),ce.push(pe[Nt*3+1]),ce.push(pe[Nt*3+2])}function Sn(Nt){ue.push(Nt.x),ue.push(Nt.y)}}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}toJSON(){const te=super.toJSON(),ae=this.parameters.shapes,oe=this.parameters.options;return toJSON$1(ae,oe,te)}static fromJSON(te,ae){const oe=[];for(let ue=0,fe=te.shapes.length;ue<fe;ue++){const de=ae[te.shapes[ue]];oe.push(de)}const ce=te.options.extrudePath;return ce!==void 0&&(te.options.extrudePath=new Curves[ce.type]().fromJSON(ce)),new ExtrudeGeometry(oe,te.options)}}const WorldUVGenerator={generateTopUV:function(se,te,ae,oe,ce){const ue=te[ae*3],fe=te[ae*3+1],de=te[oe*3],pe=te[oe*3+1],me=te[ce*3],_e=te[ce*3+1];return[new Vector2(ue,fe),new Vector2(de,pe),new Vector2(me,_e)]},generateSideWallUV:function(se,te,ae,oe,ce,ue){const fe=te[ae*3],de=te[ae*3+1],pe=te[ae*3+2],me=te[oe*3],_e=te[oe*3+1],be=te[oe*3+2],Ee=te[ce*3],Ae=te[ce*3+1],Re=te[ce*3+2],Be=te[ue*3],De=te[ue*3+1],Oe=te[ue*3+2];return Math.abs(de-_e)<Math.abs(fe-me)?[new Vector2(fe,1-pe),new Vector2(me,1-be),new Vector2(Ee,1-Re),new Vector2(Be,1-Oe)]:[new Vector2(de,1-pe),new Vector2(_e,1-be),new Vector2(Ae,1-Re),new Vector2(De,1-Oe)]}};function toJSON$1(se,te,ae){if(ae.shapes=[],Array.isArray(se))for(let oe=0,ce=se.length;oe<ce;oe++){const ue=se[oe];ae.shapes.push(ue.uuid)}else ae.shapes.push(se.uuid);return ae.options=Object.assign({},te),te.extrudePath!==void 0&&(ae.options.extrudePath=te.extrudePath.toJSON()),ae}class IcosahedronGeometry extends PolyhedronGeometry{constructor(te=1,ae=0){const oe=(1+Math.sqrt(5))/2,ce=[-1,oe,0,1,oe,0,-1,-oe,0,1,-oe,0,0,-1,oe,0,1,oe,0,-1,-oe,0,1,-oe,oe,0,-1,oe,0,1,-oe,0,-1,-oe,0,1],ue=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(ce,ue,te,ae),this.type="IcosahedronGeometry",this.parameters={radius:te,detail:ae}}static fromJSON(te){return new IcosahedronGeometry(te.radius,te.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(te=1,ae=0){const oe=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ce=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(oe,ce,te,ae),this.type="OctahedronGeometry",this.parameters={radius:te,detail:ae}}static fromJSON(te){return new OctahedronGeometry(te.radius,te.detail)}}class PlaneGeometry extends BufferGeometry{constructor(te=1,ae=1,oe=1,ce=1){super(),this.type="PlaneGeometry",this.parameters={width:te,height:ae,widthSegments:oe,heightSegments:ce};const ue=te/2,fe=ae/2,de=Math.floor(oe),pe=Math.floor(ce),me=de+1,_e=pe+1,be=te/de,Ee=ae/pe,Ae=[],Re=[],Be=[],De=[];for(let Oe=0;Oe<_e;Oe++){const Pe=Oe*Ee-fe;for(let Ie=0;Ie<me;Ie++){const Fe=Ie*be-ue;Re.push(Fe,-Pe,0),Be.push(0,0,1),De.push(Ie/de),De.push(1-Oe/pe)}}for(let Oe=0;Oe<pe;Oe++)for(let Pe=0;Pe<de;Pe++){const Ie=Pe+me*Oe,Fe=Pe+me*(Oe+1),$e=Pe+1+me*(Oe+1),Ve=Pe+1+me*Oe;Ae.push(Ie,Fe,Ve),Ae.push(Fe,$e,Ve)}this.setIndex(Ae),this.setAttribute("position",new Float32BufferAttribute(Re,3)),this.setAttribute("normal",new Float32BufferAttribute(Be,3)),this.setAttribute("uv",new Float32BufferAttribute(De,2))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new PlaneGeometry(te.width,te.height,te.widthSegments,te.heightSegments)}}class RingGeometry extends BufferGeometry{constructor(te=.5,ae=1,oe=32,ce=1,ue=0,fe=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:te,outerRadius:ae,thetaSegments:oe,phiSegments:ce,thetaStart:ue,thetaLength:fe},oe=Math.max(3,oe),ce=Math.max(1,ce);const de=[],pe=[],me=[],_e=[];let be=te;const Ee=(ae-te)/ce,Ae=new Vector3,Re=new Vector2;for(let Be=0;Be<=ce;Be++){for(let De=0;De<=oe;De++){const Oe=ue+De/oe*fe;Ae.x=be*Math.cos(Oe),Ae.y=be*Math.sin(Oe),pe.push(Ae.x,Ae.y,Ae.z),me.push(0,0,1),Re.x=(Ae.x/ae+1)/2,Re.y=(Ae.y/ae+1)/2,_e.push(Re.x,Re.y)}be+=Ee}for(let Be=0;Be<ce;Be++){const De=Be*(oe+1);for(let Oe=0;Oe<oe;Oe++){const Pe=Oe+De,Ie=Pe,Fe=Pe+oe+1,$e=Pe+oe+2,Ve=Pe+1;de.push(Ie,Fe,Ve),de.push(Fe,$e,Ve)}}this.setIndex(de),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(me,3)),this.setAttribute("uv",new Float32BufferAttribute(_e,2))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new RingGeometry(te.innerRadius,te.outerRadius,te.thetaSegments,te.phiSegments,te.thetaStart,te.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(te=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ae=12){super(),this.type="ShapeGeometry",this.parameters={shapes:te,curveSegments:ae};const oe=[],ce=[],ue=[],fe=[];let de=0,pe=0;if(Array.isArray(te)===!1)me(te);else for(let _e=0;_e<te.length;_e++)me(te[_e]),this.addGroup(de,pe,_e),de+=pe,pe=0;this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(ue,3)),this.setAttribute("uv",new Float32BufferAttribute(fe,2));function me(_e){const be=ce.length/3,Ee=_e.extractPoints(ae);let Ae=Ee.shape;const Re=Ee.holes;ShapeUtils.isClockWise(Ae)===!1&&(Ae=Ae.reverse());for(let De=0,Oe=Re.length;De<Oe;De++){const Pe=Re[De];ShapeUtils.isClockWise(Pe)===!0&&(Re[De]=Pe.reverse())}const Be=ShapeUtils.triangulateShape(Ae,Re);for(let De=0,Oe=Re.length;De<Oe;De++){const Pe=Re[De];Ae=Ae.concat(Pe)}for(let De=0,Oe=Ae.length;De<Oe;De++){const Pe=Ae[De];ce.push(Pe.x,Pe.y,0),ue.push(0,0,1),fe.push(Pe.x,Pe.y)}for(let De=0,Oe=Be.length;De<Oe;De++){const Pe=Be[De],Ie=Pe[0]+be,Fe=Pe[1]+be,$e=Pe[2]+be;oe.push(Ie,Fe,$e),pe+=3}}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}toJSON(){const te=super.toJSON(),ae=this.parameters.shapes;return toJSON(ae,te)}static fromJSON(te,ae){const oe=[];for(let ce=0,ue=te.shapes.length;ce<ue;ce++){const fe=ae[te.shapes[ce]];oe.push(fe)}return new ShapeGeometry(oe,te.curveSegments)}}function toJSON(se,te){if(te.shapes=[],Array.isArray(se))for(let ae=0,oe=se.length;ae<oe;ae++){const ce=se[ae];te.shapes.push(ce.uuid)}else te.shapes.push(se.uuid);return te}class SphereGeometry extends BufferGeometry{constructor(te=1,ae=32,oe=16,ce=0,ue=Math.PI*2,fe=0,de=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:te,widthSegments:ae,heightSegments:oe,phiStart:ce,phiLength:ue,thetaStart:fe,thetaLength:de},ae=Math.max(3,Math.floor(ae)),oe=Math.max(2,Math.floor(oe));const pe=Math.min(fe+de,Math.PI);let me=0;const _e=[],be=new Vector3,Ee=new Vector3,Ae=[],Re=[],Be=[],De=[];for(let Oe=0;Oe<=oe;Oe++){const Pe=[],Ie=Oe/oe;let Fe=0;Oe===0&&fe===0?Fe=.5/ae:Oe===oe&&pe===Math.PI&&(Fe=-.5/ae);for(let $e=0;$e<=ae;$e++){const Ve=$e/ae;be.x=-te*Math.cos(ce+Ve*ue)*Math.sin(fe+Ie*de),be.y=te*Math.cos(fe+Ie*de),be.z=te*Math.sin(ce+Ve*ue)*Math.sin(fe+Ie*de),Re.push(be.x,be.y,be.z),Ee.copy(be).normalize(),Be.push(Ee.x,Ee.y,Ee.z),De.push(Ve+Fe,1-Ie),Pe.push(me++)}_e.push(Pe)}for(let Oe=0;Oe<oe;Oe++)for(let Pe=0;Pe<ae;Pe++){const Ie=_e[Oe][Pe+1],Fe=_e[Oe][Pe],$e=_e[Oe+1][Pe],Ve=_e[Oe+1][Pe+1];(Oe!==0||fe>0)&&Ae.push(Ie,Fe,Ve),(Oe!==oe-1||pe<Math.PI)&&Ae.push(Fe,$e,Ve)}this.setIndex(Ae),this.setAttribute("position",new Float32BufferAttribute(Re,3)),this.setAttribute("normal",new Float32BufferAttribute(Be,3)),this.setAttribute("uv",new Float32BufferAttribute(De,2))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new SphereGeometry(te.radius,te.widthSegments,te.heightSegments,te.phiStart,te.phiLength,te.thetaStart,te.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(te=1,ae=0){const oe=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ce=[2,1,0,0,3,2,1,3,0,2,3,1];super(oe,ce,te,ae),this.type="TetrahedronGeometry",this.parameters={radius:te,detail:ae}}static fromJSON(te){return new TetrahedronGeometry(te.radius,te.detail)}}class TorusGeometry extends BufferGeometry{constructor(te=1,ae=.4,oe=12,ce=48,ue=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:te,tube:ae,radialSegments:oe,tubularSegments:ce,arc:ue},oe=Math.floor(oe),ce=Math.floor(ce);const fe=[],de=[],pe=[],me=[],_e=new Vector3,be=new Vector3,Ee=new Vector3;for(let Ae=0;Ae<=oe;Ae++)for(let Re=0;Re<=ce;Re++){const Be=Re/ce*ue,De=Ae/oe*Math.PI*2;be.x=(te+ae*Math.cos(De))*Math.cos(Be),be.y=(te+ae*Math.cos(De))*Math.sin(Be),be.z=ae*Math.sin(De),de.push(be.x,be.y,be.z),_e.x=te*Math.cos(Be),_e.y=te*Math.sin(Be),Ee.subVectors(be,_e).normalize(),pe.push(Ee.x,Ee.y,Ee.z),me.push(Re/ce),me.push(Ae/oe)}for(let Ae=1;Ae<=oe;Ae++)for(let Re=1;Re<=ce;Re++){const Be=(ce+1)*Ae+Re-1,De=(ce+1)*(Ae-1)+Re-1,Oe=(ce+1)*(Ae-1)+Re,Pe=(ce+1)*Ae+Re;fe.push(Be,De,Pe),fe.push(De,Oe,Pe)}this.setIndex(fe),this.setAttribute("position",new Float32BufferAttribute(de,3)),this.setAttribute("normal",new Float32BufferAttribute(pe,3)),this.setAttribute("uv",new Float32BufferAttribute(me,2))}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new TorusGeometry(te.radius,te.tube,te.radialSegments,te.tubularSegments,te.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(te=1,ae=.4,oe=64,ce=8,ue=2,fe=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:te,tube:ae,tubularSegments:oe,radialSegments:ce,p:ue,q:fe},oe=Math.floor(oe),ce=Math.floor(ce);const de=[],pe=[],me=[],_e=[],be=new Vector3,Ee=new Vector3,Ae=new Vector3,Re=new Vector3,Be=new Vector3,De=new Vector3,Oe=new Vector3;for(let Ie=0;Ie<=oe;++Ie){const Fe=Ie/oe*ue*Math.PI*2;Pe(Fe,ue,fe,te,Ae),Pe(Fe+.01,ue,fe,te,Re),De.subVectors(Re,Ae),Oe.addVectors(Re,Ae),Be.crossVectors(De,Oe),Oe.crossVectors(Be,De),Be.normalize(),Oe.normalize();for(let $e=0;$e<=ce;++$e){const Ve=$e/ce*Math.PI*2,ke=-ae*Math.cos(Ve),We=ae*Math.sin(Ve);be.x=Ae.x+(ke*Oe.x+We*Be.x),be.y=Ae.y+(ke*Oe.y+We*Be.y),be.z=Ae.z+(ke*Oe.z+We*Be.z),pe.push(be.x,be.y,be.z),Ee.subVectors(be,Ae).normalize(),me.push(Ee.x,Ee.y,Ee.z),_e.push(Ie/oe),_e.push($e/ce)}}for(let Ie=1;Ie<=oe;Ie++)for(let Fe=1;Fe<=ce;Fe++){const $e=(ce+1)*(Ie-1)+(Fe-1),Ve=(ce+1)*Ie+(Fe-1),ke=(ce+1)*Ie+Fe,We=(ce+1)*(Ie-1)+Fe;de.push($e,Ve,We),de.push(Ve,ke,We)}this.setIndex(de),this.setAttribute("position",new Float32BufferAttribute(pe,3)),this.setAttribute("normal",new Float32BufferAttribute(me,3)),this.setAttribute("uv",new Float32BufferAttribute(_e,2));function Pe(Ie,Fe,$e,Ve,ke){const We=Math.cos(Ie),je=Math.sin(Ie),He=$e/Fe*Ie,tt=Math.cos(He);ke.x=Ve*(2+tt)*.5*We,ke.y=Ve*(2+tt)*je*.5,ke.z=Ve*Math.sin(He)*.5}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}static fromJSON(te){return new TorusKnotGeometry(te.radius,te.tube,te.tubularSegments,te.radialSegments,te.p,te.q)}}class TubeGeometry extends BufferGeometry{constructor(te=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),ae=64,oe=1,ce=8,ue=!1){super(),this.type="TubeGeometry",this.parameters={path:te,tubularSegments:ae,radius:oe,radialSegments:ce,closed:ue};const fe=te.computeFrenetFrames(ae,ue);this.tangents=fe.tangents,this.normals=fe.normals,this.binormals=fe.binormals;const de=new Vector3,pe=new Vector3,me=new Vector2;let _e=new Vector3;const be=[],Ee=[],Ae=[],Re=[];Be(),this.setIndex(Re),this.setAttribute("position",new Float32BufferAttribute(be,3)),this.setAttribute("normal",new Float32BufferAttribute(Ee,3)),this.setAttribute("uv",new Float32BufferAttribute(Ae,2));function Be(){for(let Ie=0;Ie<ae;Ie++)De(Ie);De(ue===!1?ae:0),Pe(),Oe()}function De(Ie){_e=te.getPointAt(Ie/ae,_e);const Fe=fe.normals[Ie],$e=fe.binormals[Ie];for(let Ve=0;Ve<=ce;Ve++){const ke=Ve/ce*Math.PI*2,We=Math.sin(ke),je=-Math.cos(ke);pe.x=je*Fe.x+We*$e.x,pe.y=je*Fe.y+We*$e.y,pe.z=je*Fe.z+We*$e.z,pe.normalize(),Ee.push(pe.x,pe.y,pe.z),de.x=_e.x+oe*pe.x,de.y=_e.y+oe*pe.y,de.z=_e.z+oe*pe.z,be.push(de.x,de.y,de.z)}}function Oe(){for(let Ie=1;Ie<=ae;Ie++)for(let Fe=1;Fe<=ce;Fe++){const $e=(ce+1)*(Ie-1)+(Fe-1),Ve=(ce+1)*Ie+(Fe-1),ke=(ce+1)*Ie+Fe,We=(ce+1)*(Ie-1)+Fe;Re.push($e,Ve,We),Re.push(Ve,ke,We)}}function Pe(){for(let Ie=0;Ie<=ae;Ie++)for(let Fe=0;Fe<=ce;Fe++)me.x=Ie/ae,me.y=Fe/ce,Ae.push(me.x,me.y)}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}toJSON(){const te=super.toJSON();return te.path=this.parameters.path.toJSON(),te}static fromJSON(te){return new TubeGeometry(new Curves[te.path.type]().fromJSON(te.path),te.tubularSegments,te.radius,te.radialSegments,te.closed)}}class WireframeGeometry extends BufferGeometry{constructor(te=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:te},te!==null){const ae=[],oe=new Set,ce=new Vector3,ue=new Vector3;if(te.index!==null){const fe=te.attributes.position,de=te.index;let pe=te.groups;pe.length===0&&(pe=[{start:0,count:de.count,materialIndex:0}]);for(let me=0,_e=pe.length;me<_e;++me){const be=pe[me],Ee=be.start,Ae=be.count;for(let Re=Ee,Be=Ee+Ae;Re<Be;Re+=3)for(let De=0;De<3;De++){const Oe=de.getX(Re+De),Pe=de.getX(Re+(De+1)%3);ce.fromBufferAttribute(fe,Oe),ue.fromBufferAttribute(fe,Pe),isUniqueEdge(ce,ue,oe)===!0&&(ae.push(ce.x,ce.y,ce.z),ae.push(ue.x,ue.y,ue.z))}}}else{const fe=te.attributes.position;for(let de=0,pe=fe.count/3;de<pe;de++)for(let me=0;me<3;me++){const _e=3*de+me,be=3*de+(me+1)%3;ce.fromBufferAttribute(fe,_e),ue.fromBufferAttribute(fe,be),isUniqueEdge(ce,ue,oe)===!0&&(ae.push(ce.x,ce.y,ce.z),ae.push(ue.x,ue.y,ue.z))}}this.setAttribute("position",new Float32BufferAttribute(ae,3))}}copy(te){return super.copy(te),this.parameters=Object.assign({},te.parameters),this}}function isUniqueEdge(se,te,ae){const oe=`${se.x},${se.y},${se.z}-${te.x},${te.y},${te.z}`,ce=`${te.x},${te.y},${te.z}-${se.x},${se.y},${se.z}`;return ae.has(oe)===!0||ae.has(ce)===!0?!1:(ae.add(oe),ae.add(ce),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(te){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color$1(0),this.transparent=!0,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.fog=te.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(te){super(te),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(te){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color$1(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.defines={STANDARD:""},this.color.copy(te.color),this.roughness=te.roughness,this.metalness=te.metalness,this.map=te.map,this.lightMap=te.lightMap,this.lightMapIntensity=te.lightMapIntensity,this.aoMap=te.aoMap,this.aoMapIntensity=te.aoMapIntensity,this.emissive.copy(te.emissive),this.emissiveMap=te.emissiveMap,this.emissiveIntensity=te.emissiveIntensity,this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.roughnessMap=te.roughnessMap,this.metalnessMap=te.metalnessMap,this.alphaMap=te.alphaMap,this.envMap=te.envMap,this.envMapRotation.copy(te.envMapRotation),this.envMapIntensity=te.envMapIntensity,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.wireframeLinecap=te.wireframeLinecap,this.wireframeLinejoin=te.wireframeLinejoin,this.flatShading=te.flatShading,this.fog=te.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(te){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$4(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(ae){this.ior=(1+.4*ae)/(1-.4*ae)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color$1(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color$1(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color$1(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(te)}get anisotropy(){return this._anisotropy}set anisotropy(te){this._anisotropy>0!=te>0&&this.version++,this._anisotropy=te}get clearcoat(){return this._clearcoat}set clearcoat(te){this._clearcoat>0!=te>0&&this.version++,this._clearcoat=te}get iridescence(){return this._iridescence}set iridescence(te){this._iridescence>0!=te>0&&this.version++,this._iridescence=te}get dispersion(){return this._dispersion}set dispersion(te){this._dispersion>0!=te>0&&this.version++,this._dispersion=te}get sheen(){return this._sheen}set sheen(te){this._sheen>0!=te>0&&this.version++,this._sheen=te}get transmission(){return this._transmission}set transmission(te){this._transmission>0!=te>0&&this.version++,this._transmission=te}copy(te){return super.copy(te),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=te.anisotropy,this.anisotropyRotation=te.anisotropyRotation,this.anisotropyMap=te.anisotropyMap,this.clearcoat=te.clearcoat,this.clearcoatMap=te.clearcoatMap,this.clearcoatRoughness=te.clearcoatRoughness,this.clearcoatRoughnessMap=te.clearcoatRoughnessMap,this.clearcoatNormalMap=te.clearcoatNormalMap,this.clearcoatNormalScale.copy(te.clearcoatNormalScale),this.dispersion=te.dispersion,this.ior=te.ior,this.iridescence=te.iridescence,this.iridescenceMap=te.iridescenceMap,this.iridescenceIOR=te.iridescenceIOR,this.iridescenceThicknessRange=[...te.iridescenceThicknessRange],this.iridescenceThicknessMap=te.iridescenceThicknessMap,this.sheen=te.sheen,this.sheenColor.copy(te.sheenColor),this.sheenColorMap=te.sheenColorMap,this.sheenRoughness=te.sheenRoughness,this.sheenRoughnessMap=te.sheenRoughnessMap,this.transmission=te.transmission,this.transmissionMap=te.transmissionMap,this.thickness=te.thickness,this.thicknessMap=te.thicknessMap,this.attenuationDistance=te.attenuationDistance,this.attenuationColor.copy(te.attenuationColor),this.specularIntensity=te.specularIntensity,this.specularIntensityMap=te.specularIntensityMap,this.specularColor.copy(te.specularColor),this.specularColorMap=te.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(te){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color$1(16777215),this.specular=new Color$1(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.specular.copy(te.specular),this.shininess=te.shininess,this.map=te.map,this.lightMap=te.lightMap,this.lightMapIntensity=te.lightMapIntensity,this.aoMap=te.aoMap,this.aoMapIntensity=te.aoMapIntensity,this.emissive.copy(te.emissive),this.emissiveMap=te.emissiveMap,this.emissiveIntensity=te.emissiveIntensity,this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.specularMap=te.specularMap,this.alphaMap=te.alphaMap,this.envMap=te.envMap,this.envMapRotation.copy(te.envMapRotation),this.combine=te.combine,this.reflectivity=te.reflectivity,this.refractionRatio=te.refractionRatio,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.wireframeLinecap=te.wireframeLinecap,this.wireframeLinejoin=te.wireframeLinejoin,this.flatShading=te.flatShading,this.fog=te.fog,this}}class MeshToonMaterial extends Material{constructor(te){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color$1(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.gradientMap=te.gradientMap,this.lightMap=te.lightMap,this.lightMapIntensity=te.lightMapIntensity,this.aoMap=te.aoMap,this.aoMapIntensity=te.aoMapIntensity,this.emissive.copy(te.emissive),this.emissiveMap=te.emissiveMap,this.emissiveIntensity=te.emissiveIntensity,this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.alphaMap=te.alphaMap,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.wireframeLinecap=te.wireframeLinecap,this.wireframeLinejoin=te.wireframeLinejoin,this.fog=te.fog,this}}class MeshNormalMaterial extends Material{constructor(te){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(te)}copy(te){return super.copy(te),this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.flatShading=te.flatShading,this}}class MeshLambertMaterial extends Material{constructor(te){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color$1(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color$1(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.color.copy(te.color),this.map=te.map,this.lightMap=te.lightMap,this.lightMapIntensity=te.lightMapIntensity,this.aoMap=te.aoMap,this.aoMapIntensity=te.aoMapIntensity,this.emissive.copy(te.emissive),this.emissiveMap=te.emissiveMap,this.emissiveIntensity=te.emissiveIntensity,this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.specularMap=te.specularMap,this.alphaMap=te.alphaMap,this.envMap=te.envMap,this.envMapRotation.copy(te.envMapRotation),this.combine=te.combine,this.reflectivity=te.reflectivity,this.refractionRatio=te.refractionRatio,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this.wireframeLinecap=te.wireframeLinecap,this.wireframeLinejoin=te.wireframeLinejoin,this.flatShading=te.flatShading,this.fog=te.fog,this}}class MeshDepthMaterial extends Material{constructor(te){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(te)}copy(te){return super.copy(te),this.depthPacking=te.depthPacking,this.map=te.map,this.alphaMap=te.alphaMap,this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.wireframe=te.wireframe,this.wireframeLinewidth=te.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(te){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(te)}copy(te){return super.copy(te),this.map=te.map,this.alphaMap=te.alphaMap,this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor(te){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color$1(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(te)}copy(te){return super.copy(te),this.defines={MATCAP:""},this.color.copy(te.color),this.matcap=te.matcap,this.map=te.map,this.bumpMap=te.bumpMap,this.bumpScale=te.bumpScale,this.normalMap=te.normalMap,this.normalMapType=te.normalMapType,this.normalScale.copy(te.normalScale),this.displacementMap=te.displacementMap,this.displacementScale=te.displacementScale,this.displacementBias=te.displacementBias,this.alphaMap=te.alphaMap,this.flatShading=te.flatShading,this.fog=te.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(te){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(te)}copy(te){return super.copy(te),this.scale=te.scale,this.dashSize=te.dashSize,this.gapSize=te.gapSize,this}}function convertArray(se,te){return!se||se.constructor===te?se:typeof te.BYTES_PER_ELEMENT=="number"?new te(se):Array.prototype.slice.call(se)}function isTypedArray(se){return ArrayBuffer.isView(se)&&!(se instanceof DataView)}function getKeyframeOrder(se){function te(ce,ue){return se[ce]-se[ue]}const ae=se.length,oe=new Array(ae);for(let ce=0;ce!==ae;++ce)oe[ce]=ce;return oe.sort(te),oe}function sortedArray(se,te,ae){const oe=se.length,ce=new se.constructor(oe);for(let ue=0,fe=0;fe!==oe;++ue){const de=ae[ue]*te;for(let pe=0;pe!==te;++pe)ce[fe++]=se[de+pe]}return ce}function flattenJSON(se,te,ae,oe){let ce=1,ue=se[0];for(;ue!==void 0&&ue[oe]===void 0;)ue=se[ce++];if(ue===void 0)return;let fe=ue[oe];if(fe!==void 0)if(Array.isArray(fe))do fe=ue[oe],fe!==void 0&&(te.push(ue.time),ae.push(...fe)),ue=se[ce++];while(ue!==void 0);else if(fe.toArray!==void 0)do fe=ue[oe],fe!==void 0&&(te.push(ue.time),fe.toArray(ae,ae.length)),ue=se[ce++];while(ue!==void 0);else do fe=ue[oe],fe!==void 0&&(te.push(ue.time),ae.push(fe)),ue=se[ce++];while(ue!==void 0)}function subclip(se,te,ae,oe,ce=30){const ue=se.clone();ue.name=te;const fe=[];for(let pe=0;pe<ue.tracks.length;++pe){const me=ue.tracks[pe],_e=me.getValueSize(),be=[],Ee=[];for(let Ae=0;Ae<me.times.length;++Ae){const Re=me.times[Ae]*ce;if(!(Re<ae||Re>=oe)){be.push(me.times[Ae]);for(let Be=0;Be<_e;++Be)Ee.push(me.values[Ae*_e+Be])}}be.length!==0&&(me.times=convertArray(be,me.times.constructor),me.values=convertArray(Ee,me.values.constructor),fe.push(me))}ue.tracks=fe;let de=1/0;for(let pe=0;pe<ue.tracks.length;++pe)de>ue.tracks[pe].times[0]&&(de=ue.tracks[pe].times[0]);for(let pe=0;pe<ue.tracks.length;++pe)ue.tracks[pe].shift(-1*de);return ue.resetDuration(),ue}function makeClipAdditive(se,te=0,ae=se,oe=30){oe<=0&&(oe=30);const ce=ae.tracks.length,ue=te/oe;for(let fe=0;fe<ce;++fe){const de=ae.tracks[fe],pe=de.ValueTypeName;if(pe==="bool"||pe==="string")continue;const me=se.tracks.find(function(Oe){return Oe.name===de.name&&Oe.ValueTypeName===pe});if(me===void 0)continue;let _e=0;const be=de.getValueSize();de.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_e=be/3);let Ee=0;const Ae=me.getValueSize();me.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Ee=Ae/3);const Re=de.times.length-1;let Be;if(ue<=de.times[0]){const Oe=_e,Pe=be-_e;Be=de.values.slice(Oe,Pe)}else if(ue>=de.times[Re]){const Oe=Re*be+_e,Pe=Oe+be-_e;Be=de.values.slice(Oe,Pe)}else{const Oe=de.createInterpolant(),Pe=_e,Ie=be-_e;Oe.evaluate(ue),Be=Oe.resultBuffer.slice(Pe,Ie)}pe==="quaternion"&&new Quaternion().fromArray(Be).normalize().conjugate().toArray(Be);const De=me.times.length;for(let Oe=0;Oe<De;++Oe){const Pe=Oe*Ae+Ee;if(pe==="quaternion")Quaternion.multiplyQuaternionsFlat(me.values,Pe,Be,0,me.values,Pe);else{const Ie=Ae-Ee*2;for(let Fe=0;Fe<Ie;++Fe)me.values[Pe+Fe]-=Be[Fe]}}}return se.blendMode=AdditiveAnimationBlendMode,se}class AnimationUtils{static convertArray(te,ae){return convertArray(te,ae)}static isTypedArray(te){return isTypedArray(te)}static getKeyframeOrder(te){return getKeyframeOrder(te)}static sortedArray(te,ae,oe){return sortedArray(te,ae,oe)}static flattenJSON(te,ae,oe,ce){flattenJSON(te,ae,oe,ce)}static subclip(te,ae,oe,ce,ue=30){return subclip(te,ae,oe,ce,ue)}static makeClipAdditive(te,ae=0,oe=te,ce=30){return makeClipAdditive(te,ae,oe,ce)}}class Interpolant{constructor(te,ae,oe,ce){this.parameterPositions=te,this._cachedIndex=0,this.resultBuffer=ce!==void 0?ce:new ae.constructor(oe),this.sampleValues=ae,this.valueSize=oe,this.settings=null,this.DefaultSettings_={}}evaluate(te){const ae=this.parameterPositions;let oe=this._cachedIndex,ce=ae[oe],ue=ae[oe-1];e:{t:{let fe;n:{i:if(!(te<ce)){for(let de=oe+2;;){if(ce===void 0){if(te<ue)break i;return oe=ae.length,this._cachedIndex=oe,this.copySampleValue_(oe-1)}if(oe===de)break;if(ue=ce,ce=ae[++oe],te<ce)break t}fe=ae.length;break n}if(!(te>=ue)){const de=ae[1];te<de&&(oe=2,ue=de);for(let pe=oe-2;;){if(ue===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(oe===pe)break;if(ce=ue,ue=ae[--oe-1],te>=ue)break t}fe=oe,oe=0;break n}break e}for(;oe<fe;){const de=oe+fe>>>1;te<ae[de]?fe=de:oe=de+1}if(ce=ae[oe],ue=ae[oe-1],ue===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ce===void 0)return oe=ae.length,this._cachedIndex=oe,this.copySampleValue_(oe-1)}this._cachedIndex=oe,this.intervalChanged_(oe,ue,ce)}return this.interpolate_(oe,ue,te,ce)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(te){const ae=this.resultBuffer,oe=this.sampleValues,ce=this.valueSize,ue=te*ce;for(let fe=0;fe!==ce;++fe)ae[fe]=oe[ue+fe];return ae}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(te,ae,oe,ce){super(te,ae,oe,ce),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(te,ae,oe){const ce=this.parameterPositions;let ue=te-2,fe=te+1,de=ce[ue],pe=ce[fe];if(de===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ue=te,de=2*ae-oe;break;case WrapAroundEnding:ue=ce.length-2,de=ae+ce[ue]-ce[ue+1];break;default:ue=te,de=oe}if(pe===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:fe=te,pe=2*oe-ae;break;case WrapAroundEnding:fe=1,pe=oe+ce[1]-ce[0];break;default:fe=te-1,pe=ae}const me=(oe-ae)*.5,_e=this.valueSize;this._weightPrev=me/(ae-de),this._weightNext=me/(pe-oe),this._offsetPrev=ue*_e,this._offsetNext=fe*_e}interpolate_(te,ae,oe,ce){const ue=this.resultBuffer,fe=this.sampleValues,de=this.valueSize,pe=te*de,me=pe-de,_e=this._offsetPrev,be=this._offsetNext,Ee=this._weightPrev,Ae=this._weightNext,Re=(oe-ae)/(ce-ae),Be=Re*Re,De=Be*Re,Oe=-Ee*De+2*Ee*Be-Ee*Re,Pe=(1+Ee)*De+(-1.5-2*Ee)*Be+(-.5+Ee)*Re+1,Ie=(-1-Ae)*De+(1.5+Ae)*Be+.5*Re,Fe=Ae*De-Ae*Be;for(let $e=0;$e!==de;++$e)ue[$e]=Oe*fe[_e+$e]+Pe*fe[me+$e]+Ie*fe[pe+$e]+Fe*fe[be+$e];return ue}}class LinearInterpolant extends Interpolant{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}interpolate_(te,ae,oe,ce){const ue=this.resultBuffer,fe=this.sampleValues,de=this.valueSize,pe=te*de,me=pe-de,_e=(oe-ae)/(ce-ae),be=1-_e;for(let Ee=0;Ee!==de;++Ee)ue[Ee]=fe[me+Ee]*be+fe[pe+Ee]*_e;return ue}}class DiscreteInterpolant extends Interpolant{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}interpolate_(te){return this.copySampleValue_(te-1)}}class KeyframeTrack{constructor(te,ae,oe,ce){if(te===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(ae===void 0||ae.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+te);this.name=te,this.times=convertArray(ae,this.TimeBufferType),this.values=convertArray(oe,this.ValueBufferType),this.setInterpolation(ce||this.DefaultInterpolation)}static toJSON(te){const ae=te.constructor;let oe;if(ae.toJSON!==this.toJSON)oe=ae.toJSON(te);else{oe={name:te.name,times:convertArray(te.times,Array),values:convertArray(te.values,Array)};const ce=te.getInterpolation();ce!==te.DefaultInterpolation&&(oe.interpolation=ce)}return oe.type=te.ValueTypeName,oe}InterpolantFactoryMethodDiscrete(te){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),te)}InterpolantFactoryMethodLinear(te){return new LinearInterpolant(this.times,this.values,this.getValueSize(),te)}InterpolantFactoryMethodSmooth(te){return new CubicInterpolant(this.times,this.values,this.getValueSize(),te)}setInterpolation(te){let ae;switch(te){case InterpolateDiscrete:ae=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:ae=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:ae=this.InterpolantFactoryMethodSmooth;break}if(ae===void 0){const oe="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(te!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(oe);return console.warn("THREE.KeyframeTrack:",oe),this}return this.createInterpolant=ae,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(te){if(te!==0){const ae=this.times;for(let oe=0,ce=ae.length;oe!==ce;++oe)ae[oe]+=te}return this}scale(te){if(te!==1){const ae=this.times;for(let oe=0,ce=ae.length;oe!==ce;++oe)ae[oe]*=te}return this}trim(te,ae){const oe=this.times,ce=oe.length;let ue=0,fe=ce-1;for(;ue!==ce&&oe[ue]<te;)++ue;for(;fe!==-1&&oe[fe]>ae;)--fe;if(++fe,ue!==0||fe!==ce){ue>=fe&&(fe=Math.max(fe,1),ue=fe-1);const de=this.getValueSize();this.times=oe.slice(ue,fe),this.values=this.values.slice(ue*de,fe*de)}return this}validate(){let te=!0;const ae=this.getValueSize();ae-Math.floor(ae)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),te=!1);const oe=this.times,ce=this.values,ue=oe.length;ue===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),te=!1);let fe=null;for(let de=0;de!==ue;de++){const pe=oe[de];if(typeof pe=="number"&&isNaN(pe)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,de,pe),te=!1;break}if(fe!==null&&fe>pe){console.error("THREE.KeyframeTrack: Out of order keys.",this,de,pe,fe),te=!1;break}fe=pe}if(ce!==void 0&&isTypedArray(ce))for(let de=0,pe=ce.length;de!==pe;++de){const me=ce[de];if(isNaN(me)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,de,me),te=!1;break}}return te}optimize(){const te=this.times.slice(),ae=this.values.slice(),oe=this.getValueSize(),ce=this.getInterpolation()===InterpolateSmooth,ue=te.length-1;let fe=1;for(let de=1;de<ue;++de){let pe=!1;const me=te[de],_e=te[de+1];if(me!==_e&&(de!==1||me!==te[0]))if(ce)pe=!0;else{const be=de*oe,Ee=be-oe,Ae=be+oe;for(let Re=0;Re!==oe;++Re){const Be=ae[be+Re];if(Be!==ae[Ee+Re]||Be!==ae[Ae+Re]){pe=!0;break}}}if(pe){if(de!==fe){te[fe]=te[de];const be=de*oe,Ee=fe*oe;for(let Ae=0;Ae!==oe;++Ae)ae[Ee+Ae]=ae[be+Ae]}++fe}}if(ue>0){te[fe]=te[ue];for(let de=ue*oe,pe=fe*oe,me=0;me!==oe;++me)ae[pe+me]=ae[de+me];++fe}return fe!==te.length?(this.times=te.slice(0,fe),this.values=ae.slice(0,fe*oe)):(this.times=te,this.values=ae),this}clone(){const te=this.times.slice(),ae=this.values.slice(),oe=this.constructor,ce=new oe(this.name,te,ae);return ce.createInterpolant=this.createInterpolant,ce}}KeyframeTrack.prototype.ValueTypeName="";KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe){super(te,ae,oe)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}interpolate_(te,ae,oe,ce){const ue=this.resultBuffer,fe=this.sampleValues,de=this.valueSize,pe=(oe-ae)/(ce-ae);let me=te*de;for(let _e=me+de;me!==_e;me+=4)Quaternion.slerpFlat(ue,0,fe,me-de,fe,me,pe);return ue}}class QuaternionKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}InterpolantFactoryMethodLinear(te){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),te)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe){super(te,ae,oe)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(te="",ae=-1,oe=[],ce=NormalAnimationBlendMode){this.name=te,this.tracks=oe,this.duration=ae,this.blendMode=ce,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(te){const ae=[],oe=te.tracks,ce=1/(te.fps||1);for(let fe=0,de=oe.length;fe!==de;++fe)ae.push(parseKeyframeTrack(oe[fe]).scale(ce));const ue=new this(te.name,te.duration,ae,te.blendMode);return ue.uuid=te.uuid,ue}static toJSON(te){const ae=[],oe=te.tracks,ce={name:te.name,duration:te.duration,tracks:ae,uuid:te.uuid,blendMode:te.blendMode};for(let ue=0,fe=oe.length;ue!==fe;++ue)ae.push(KeyframeTrack.toJSON(oe[ue]));return ce}static CreateFromMorphTargetSequence(te,ae,oe,ce){const ue=ae.length,fe=[];for(let de=0;de<ue;de++){let pe=[],me=[];pe.push((de+ue-1)%ue,de,(de+1)%ue),me.push(0,1,0);const _e=getKeyframeOrder(pe);pe=sortedArray(pe,1,_e),me=sortedArray(me,1,_e),!ce&&pe[0]===0&&(pe.push(ue),me.push(me[0])),fe.push(new NumberKeyframeTrack(".morphTargetInfluences["+ae[de].name+"]",pe,me).scale(1/oe))}return new this(te,-1,fe)}static findByName(te,ae){let oe=te;if(!Array.isArray(te)){const ce=te;oe=ce.geometry&&ce.geometry.animations||ce.animations}for(let ce=0;ce<oe.length;ce++)if(oe[ce].name===ae)return oe[ce];return null}static CreateClipsFromMorphTargetSequences(te,ae,oe){const ce={},ue=/^([\w-]*?)([\d]+)$/;for(let de=0,pe=te.length;de<pe;de++){const me=te[de],_e=me.name.match(ue);if(_e&&_e.length>1){const be=_e[1];let Ee=ce[be];Ee||(ce[be]=Ee=[]),Ee.push(me)}}const fe=[];for(const de in ce)fe.push(this.CreateFromMorphTargetSequence(de,ce[de],ae,oe));return fe}static parseAnimation(te,ae){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!te)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const oe=function(be,Ee,Ae,Re,Be){if(Ae.length!==0){const De=[],Oe=[];flattenJSON(Ae,De,Oe,Re),De.length!==0&&Be.push(new be(Ee,De,Oe))}},ce=[],ue=te.name||"default",fe=te.fps||30,de=te.blendMode;let pe=te.length||-1;const me=te.hierarchy||[];for(let be=0;be<me.length;be++){const Ee=me[be].keys;if(!(!Ee||Ee.length===0))if(Ee[0].morphTargets){const Ae={};let Re;for(Re=0;Re<Ee.length;Re++)if(Ee[Re].morphTargets)for(let Be=0;Be<Ee[Re].morphTargets.length;Be++)Ae[Ee[Re].morphTargets[Be]]=-1;for(const Be in Ae){const De=[],Oe=[];for(let Pe=0;Pe!==Ee[Re].morphTargets.length;++Pe){const Ie=Ee[Re];De.push(Ie.time),Oe.push(Ie.morphTarget===Be?1:0)}ce.push(new NumberKeyframeTrack(".morphTargetInfluence["+Be+"]",De,Oe))}pe=Ae.length*fe}else{const Ae=".bones["+ae[be].name+"]";oe(VectorKeyframeTrack,Ae+".position",Ee,"pos",ce),oe(QuaternionKeyframeTrack,Ae+".quaternion",Ee,"rot",ce),oe(VectorKeyframeTrack,Ae+".scale",Ee,"scl",ce)}}return ce.length===0?null:new this(ue,pe,ce,de)}resetDuration(){const te=this.tracks;let ae=0;for(let oe=0,ce=te.length;oe!==ce;++oe){const ue=this.tracks[oe];ae=Math.max(ae,ue.times[ue.times.length-1])}return this.duration=ae,this}trim(){for(let te=0;te<this.tracks.length;te++)this.tracks[te].trim(0,this.duration);return this}validate(){let te=!0;for(let ae=0;ae<this.tracks.length;ae++)te=te&&this.tracks[ae].validate();return te}optimize(){for(let te=0;te<this.tracks.length;te++)this.tracks[te].optimize();return this}clone(){const te=[];for(let ae=0;ae<this.tracks.length;ae++)te.push(this.tracks[ae].clone());return new this.constructor(this.name,this.duration,te,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(se){switch(se.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+se)}function parseKeyframeTrack(se){if(se.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const te=getTrackTypeForValueTypeName(se.type);if(se.times===void 0){const ae=[],oe=[];flattenJSON(se.keys,ae,oe,"value"),se.times=ae,se.values=oe}return te.parse!==void 0?te.parse(se):new te(se.name,se.times,se.values,se.interpolation)}const Cache={enabled:!1,files:{},add:function(se,te){this.enabled!==!1&&(this.files[se]=te)},get:function(se){if(this.enabled!==!1)return this.files[se]},remove:function(se){delete this.files[se]},clear:function(){this.files={}}};class LoadingManager{constructor(te,ae,oe){const ce=this;let ue=!1,fe=0,de=0,pe;const me=[];this.onStart=void 0,this.onLoad=te,this.onProgress=ae,this.onError=oe,this.itemStart=function(_e){de++,ue===!1&&ce.onStart!==void 0&&ce.onStart(_e,fe,de),ue=!0},this.itemEnd=function(_e){fe++,ce.onProgress!==void 0&&ce.onProgress(_e,fe,de),fe===de&&(ue=!1,ce.onLoad!==void 0&&ce.onLoad())},this.itemError=function(_e){ce.onError!==void 0&&ce.onError(_e)},this.resolveURL=function(_e){return pe?pe(_e):_e},this.setURLModifier=function(_e){return pe=_e,this},this.addHandler=function(_e,be){return me.push(_e,be),this},this.removeHandler=function(_e){const be=me.indexOf(_e);return be!==-1&&me.splice(be,2),this},this.getHandler=function(_e){for(let be=0,Ee=me.length;be<Ee;be+=2){const Ae=me[be],Re=me[be+1];if(Ae.global&&(Ae.lastIndex=0),Ae.test(_e))return Re}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(te){this.manager=te!==void 0?te:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(te,ae){const oe=this;return new Promise(function(ce,ue){oe.load(te,ce,ae,ue)})}parse(){}setCrossOrigin(te){return this.crossOrigin=te,this}setWithCredentials(te){return this.withCredentials=te,this}setPath(te){return this.path=te,this}setResourcePath(te){return this.resourcePath=te,this}setRequestHeader(te){return this.requestHeader=te,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(te,ae){super(te),this.response=ae}}class FileLoader extends Loader{constructor(te){super(te),this.mimeType="",this.responseType=""}load(te,ae,oe,ce){te===void 0&&(te=""),this.path!==void 0&&(te=this.path+te),te=this.manager.resolveURL(te);const ue=Cache.get(te);if(ue!==void 0)return this.manager.itemStart(te),setTimeout(()=>{ae&&ae(ue),this.manager.itemEnd(te)},0),ue;if(loading[te]!==void 0){loading[te].push({onLoad:ae,onProgress:oe,onError:ce});return}loading[te]=[],loading[te].push({onLoad:ae,onProgress:oe,onError:ce});const fe=new Request(te,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),de=this.mimeType,pe=this.responseType;fetch(fe).then(me=>{if(me.status===200||me.status===0){if(me.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||me.body===void 0||me.body.getReader===void 0)return me;const _e=loading[te],be=me.body.getReader(),Ee=me.headers.get("X-File-Size")||me.headers.get("Content-Length"),Ae=Ee?parseInt(Ee):0,Re=Ae!==0;let Be=0;const De=new ReadableStream({start(Oe){Pe();function Pe(){be.read().then(({done:Ie,value:Fe})=>{if(Ie)Oe.close();else{Be+=Fe.byteLength;const $e=new ProgressEvent("progress",{lengthComputable:Re,loaded:Be,total:Ae});for(let Ve=0,ke=_e.length;Ve<ke;Ve++){const We=_e[Ve];We.onProgress&&We.onProgress($e)}Oe.enqueue(Fe),Pe()}},Ie=>{Oe.error(Ie)})}}});return new Response(De)}else throw new HttpError(`fetch for "${me.url}" responded with ${me.status}: ${me.statusText}`,me)}).then(me=>{switch(pe){case"arraybuffer":return me.arrayBuffer();case"blob":return me.blob();case"document":return me.text().then(_e=>new DOMParser().parseFromString(_e,de));case"json":return me.json();default:if(de==="")return me.text();{const be=/charset="?([^;"\s]*)"?/i.exec(de),Ee=be&&be[1]?be[1].toLowerCase():void 0,Ae=new TextDecoder(Ee);return me.arrayBuffer().then(Re=>Ae.decode(Re))}}}).then(me=>{Cache.add(te,me);const _e=loading[te];delete loading[te];for(let be=0,Ee=_e.length;be<Ee;be++){const Ae=_e[be];Ae.onLoad&&Ae.onLoad(me)}}).catch(me=>{const _e=loading[te];if(_e===void 0)throw this.manager.itemError(te),me;delete loading[te];for(let be=0,Ee=_e.length;be<Ee;be++){const Ae=_e[be];Ae.onError&&Ae.onError(me)}this.manager.itemError(te)}).finally(()=>{this.manager.itemEnd(te)}),this.manager.itemStart(te)}setResponseType(te){return this.responseType=te,this}setMimeType(te){return this.mimeType=te,this}}class AnimationLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=new FileLoader(this.manager);fe.setPath(this.path),fe.setRequestHeader(this.requestHeader),fe.setWithCredentials(this.withCredentials),fe.load(te,function(de){try{ae(ue.parse(JSON.parse(de)))}catch(pe){ce?ce(pe):console.error(pe),ue.manager.itemError(te)}},oe,ce)}parse(te){const ae=[];for(let oe=0;oe<te.length;oe++){const ce=AnimationClip.parse(te[oe]);ae.push(ce)}return ae}}class CompressedTextureLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=[],de=new CompressedTexture,pe=new FileLoader(this.manager);pe.setPath(this.path),pe.setResponseType("arraybuffer"),pe.setRequestHeader(this.requestHeader),pe.setWithCredentials(ue.withCredentials);let me=0;function _e(be){pe.load(te[be],function(Ee){const Ae=ue.parse(Ee,!0);fe[be]={width:Ae.width,height:Ae.height,format:Ae.format,mipmaps:Ae.mipmaps},me+=1,me===6&&(Ae.mipmapCount===1&&(de.minFilter=LinearFilter),de.image=fe,de.format=Ae.format,de.needsUpdate=!0,ae&&ae(de))},oe,ce)}if(Array.isArray(te))for(let be=0,Ee=te.length;be<Ee;++be)_e(be);else pe.load(te,function(be){const Ee=ue.parse(be,!0);if(Ee.isCubemap){const Ae=Ee.mipmaps.length/Ee.mipmapCount;for(let Re=0;Re<Ae;Re++){fe[Re]={mipmaps:[]};for(let Be=0;Be<Ee.mipmapCount;Be++)fe[Re].mipmaps.push(Ee.mipmaps[Re*Ee.mipmapCount+Be]),fe[Re].format=Ee.format,fe[Re].width=Ee.width,fe[Re].height=Ee.height}de.image=fe}else de.image.width=Ee.width,de.image.height=Ee.height,de.mipmaps=Ee.mipmaps;Ee.mipmapCount===1&&(de.minFilter=LinearFilter),de.format=Ee.format,de.needsUpdate=!0,ae&&ae(de)},oe,ce);return de}}class ImageLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){this.path!==void 0&&(te=this.path+te),te=this.manager.resolveURL(te);const ue=this,fe=Cache.get(te);if(fe!==void 0)return ue.manager.itemStart(te),setTimeout(function(){ae&&ae(fe),ue.manager.itemEnd(te)},0),fe;const de=createElementNS("img");function pe(){_e(),Cache.add(te,this),ae&&ae(this),ue.manager.itemEnd(te)}function me(be){_e(),ce&&ce(be),ue.manager.itemError(te),ue.manager.itemEnd(te)}function _e(){de.removeEventListener("load",pe,!1),de.removeEventListener("error",me,!1)}return de.addEventListener("load",pe,!1),de.addEventListener("error",me,!1),te.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(de.crossOrigin=this.crossOrigin),ue.manager.itemStart(te),de.src=te,de}}class CubeTextureLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=new CubeTexture;ue.colorSpace=SRGBColorSpace$1;const fe=new ImageLoader(this.manager);fe.setCrossOrigin(this.crossOrigin),fe.setPath(this.path);let de=0;function pe(me){fe.load(te[me],function(_e){ue.images[me]=_e,de++,de===6&&(ue.needsUpdate=!0,ae&&ae(ue))},void 0,ce)}for(let me=0;me<te.length;++me)pe(me);return ue}}class DataTextureLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=new DataTexture,de=new FileLoader(this.manager);return de.setResponseType("arraybuffer"),de.setRequestHeader(this.requestHeader),de.setPath(this.path),de.setWithCredentials(ue.withCredentials),de.load(te,function(pe){let me;try{me=ue.parse(pe)}catch(_e){if(ce!==void 0)ce(_e);else{console.error(_e);return}}me.image!==void 0?fe.image=me.image:me.data!==void 0&&(fe.image.width=me.width,fe.image.height=me.height,fe.image.data=me.data),fe.wrapS=me.wrapS!==void 0?me.wrapS:ClampToEdgeWrapping,fe.wrapT=me.wrapT!==void 0?me.wrapT:ClampToEdgeWrapping,fe.magFilter=me.magFilter!==void 0?me.magFilter:LinearFilter,fe.minFilter=me.minFilter!==void 0?me.minFilter:LinearFilter,fe.anisotropy=me.anisotropy!==void 0?me.anisotropy:1,me.colorSpace!==void 0&&(fe.colorSpace=me.colorSpace),me.flipY!==void 0&&(fe.flipY=me.flipY),me.format!==void 0&&(fe.format=me.format),me.type!==void 0&&(fe.type=me.type),me.mipmaps!==void 0&&(fe.mipmaps=me.mipmaps,fe.minFilter=LinearMipmapLinearFilter),me.mipmapCount===1&&(fe.minFilter=LinearFilter),me.generateMipmaps!==void 0&&(fe.generateMipmaps=me.generateMipmaps),fe.needsUpdate=!0,ae&&ae(fe,me)},oe,ce),fe}}class TextureLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=new Texture,fe=new ImageLoader(this.manager);return fe.setCrossOrigin(this.crossOrigin),fe.setPath(this.path),fe.load(te,function(de){ue.image=de,ue.needsUpdate=!0,ae!==void 0&&ae(ue)},oe,ce),ue}}class Light extends Object3D{constructor(te,ae=1){super(),this.isLight=!0,this.type="Light",this.color=new Color$1(te),this.intensity=ae}dispose(){}copy(te,ae){return super.copy(te,ae),this.color.copy(te.color),this.intensity=te.intensity,this}toJSON(te){const ae=super.toJSON(te);return ae.object.color=this.color.getHex(),ae.object.intensity=this.intensity,this.groundColor!==void 0&&(ae.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(ae.object.distance=this.distance),this.angle!==void 0&&(ae.object.angle=this.angle),this.decay!==void 0&&(ae.object.decay=this.decay),this.penumbra!==void 0&&(ae.object.penumbra=this.penumbra),this.shadow!==void 0&&(ae.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(ae.object.target=this.target.uuid),ae}}class HemisphereLight extends Light{constructor(te,ae,oe){super(te,oe),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color$1(ae)}copy(te,ae){return super.copy(te,ae),this.groundColor.copy(te.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(te){this.camera=te,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(te){const ae=this.camera,oe=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(te.matrixWorld),ae.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(te.target.matrixWorld),ae.lookAt(_lookTarget$1),ae.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),oe.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),oe.multiply(_projScreenMatrix$1)}getViewport(te){return this._viewports[te]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(te){return this.camera=te.camera.clone(),this.intensity=te.intensity,this.bias=te.bias,this.radius=te.radius,this.mapSize.copy(te.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const te={};return this.intensity!==1&&(te.intensity=this.intensity),this.bias!==0&&(te.bias=this.bias),this.normalBias!==0&&(te.normalBias=this.normalBias),this.radius!==1&&(te.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(te.mapSize=this.mapSize.toArray()),te.camera=this.camera.toJSON(!1).object,delete te.camera.matrix,te}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(te){const ae=this.camera,oe=RAD2DEG*2*te.angle*this.focus,ce=this.mapSize.width/this.mapSize.height,ue=te.distance||ae.far;(oe!==ae.fov||ce!==ae.aspect||ue!==ae.far)&&(ae.fov=oe,ae.aspect=ce,ae.far=ue,ae.updateProjectionMatrix()),super.updateMatrices(te)}copy(te){return super.copy(te),this.focus=te.focus,this}}class SpotLight extends Light{constructor(te,ae,oe=0,ce=Math.PI/3,ue=0,fe=2){super(te,ae),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=oe,this.angle=ce,this.penumbra=ue,this.decay=fe,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(te){this.intensity=te/Math.PI}dispose(){this.shadow.dispose()}copy(te,ae){return super.copy(te,ae),this.distance=te.distance,this.angle=te.angle,this.penumbra=te.penumbra,this.decay=te.decay,this.target=te.target.clone(),this.shadow=te.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(te,ae=0){const oe=this.camera,ce=this.matrix,ue=te.distance||oe.far;ue!==oe.far&&(oe.far=ue,oe.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(te.matrixWorld),oe.position.copy(_lightPositionWorld),_lookTarget.copy(oe.position),_lookTarget.add(this._cubeDirections[ae]),oe.up.copy(this._cubeUps[ae]),oe.lookAt(_lookTarget),oe.updateMatrixWorld(),ce.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(oe.projectionMatrix,oe.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(te,ae,oe=0,ce=2){super(te,ae),this.isPointLight=!0,this.type="PointLight",this.distance=oe,this.decay=ce,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(te){this.intensity=te/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(te,ae){return super.copy(te,ae),this.distance=te.distance,this.decay=te.decay,this.shadow=te.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(te=-1,ae=1,oe=1,ce=-1,ue=.1,fe=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=te,this.right=ae,this.top=oe,this.bottom=ce,this.near=ue,this.far=fe,this.updateProjectionMatrix()}copy(te,ae){return super.copy(te,ae),this.left=te.left,this.right=te.right,this.top=te.top,this.bottom=te.bottom,this.near=te.near,this.far=te.far,this.zoom=te.zoom,this.view=te.view===null?null:Object.assign({},te.view),this}setViewOffset(te,ae,oe,ce,ue,fe){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=te,this.view.fullHeight=ae,this.view.offsetX=oe,this.view.offsetY=ce,this.view.width=ue,this.view.height=fe,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const te=(this.right-this.left)/(2*this.zoom),ae=(this.top-this.bottom)/(2*this.zoom),oe=(this.right+this.left)/2,ce=(this.top+this.bottom)/2;let ue=oe-te,fe=oe+te,de=ce+ae,pe=ce-ae;if(this.view!==null&&this.view.enabled){const me=(this.right-this.left)/this.view.fullWidth/this.zoom,_e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ue+=me*this.view.offsetX,fe=ue+me*this.view.width,de-=_e*this.view.offsetY,pe=de-_e*this.view.height}this.projectionMatrix.makeOrthographic(ue,fe,de,pe,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(te){const ae=super.toJSON(te);return ae.object.zoom=this.zoom,ae.object.left=this.left,ae.object.right=this.right,ae.object.top=this.top,ae.object.bottom=this.bottom,ae.object.near=this.near,ae.object.far=this.far,this.view!==null&&(ae.object.view=Object.assign({},this.view)),ae}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(te,ae){super(te,ae),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(te){return super.copy(te),this.target=te.target.clone(),this.shadow=te.shadow.clone(),this}}class AmbientLight extends Light{constructor(te,ae){super(te,ae),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(te,ae,oe=10,ce=10){super(te,ae),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=oe,this.height=ce}get power(){return this.intensity*this.width*this.height*Math.PI}set power(te){this.intensity=te/(this.width*this.height*Math.PI)}copy(te){return super.copy(te),this.width=te.width,this.height=te.height,this}toJSON(te){const ae=super.toJSON(te);return ae.object.width=this.width,ae.object.height=this.height,ae}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let te=0;te<9;te++)this.coefficients.push(new Vector3)}set(te){for(let ae=0;ae<9;ae++)this.coefficients[ae].copy(te[ae]);return this}zero(){for(let te=0;te<9;te++)this.coefficients[te].set(0,0,0);return this}getAt(te,ae){const oe=te.x,ce=te.y,ue=te.z,fe=this.coefficients;return ae.copy(fe[0]).multiplyScalar(.282095),ae.addScaledVector(fe[1],.488603*ce),ae.addScaledVector(fe[2],.488603*ue),ae.addScaledVector(fe[3],.488603*oe),ae.addScaledVector(fe[4],1.092548*(oe*ce)),ae.addScaledVector(fe[5],1.092548*(ce*ue)),ae.addScaledVector(fe[6],.315392*(3*ue*ue-1)),ae.addScaledVector(fe[7],1.092548*(oe*ue)),ae.addScaledVector(fe[8],.546274*(oe*oe-ce*ce)),ae}getIrradianceAt(te,ae){const oe=te.x,ce=te.y,ue=te.z,fe=this.coefficients;return ae.copy(fe[0]).multiplyScalar(.886227),ae.addScaledVector(fe[1],2*.511664*ce),ae.addScaledVector(fe[2],2*.511664*ue),ae.addScaledVector(fe[3],2*.511664*oe),ae.addScaledVector(fe[4],2*.429043*oe*ce),ae.addScaledVector(fe[5],2*.429043*ce*ue),ae.addScaledVector(fe[6],.743125*ue*ue-.247708),ae.addScaledVector(fe[7],2*.429043*oe*ue),ae.addScaledVector(fe[8],.429043*(oe*oe-ce*ce)),ae}add(te){for(let ae=0;ae<9;ae++)this.coefficients[ae].add(te.coefficients[ae]);return this}addScaledSH(te,ae){for(let oe=0;oe<9;oe++)this.coefficients[oe].addScaledVector(te.coefficients[oe],ae);return this}scale(te){for(let ae=0;ae<9;ae++)this.coefficients[ae].multiplyScalar(te);return this}lerp(te,ae){for(let oe=0;oe<9;oe++)this.coefficients[oe].lerp(te.coefficients[oe],ae);return this}equals(te){for(let ae=0;ae<9;ae++)if(!this.coefficients[ae].equals(te.coefficients[ae]))return!1;return!0}copy(te){return this.set(te.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(te,ae=0){const oe=this.coefficients;for(let ce=0;ce<9;ce++)oe[ce].fromArray(te,ae+ce*3);return this}toArray(te=[],ae=0){const oe=this.coefficients;for(let ce=0;ce<9;ce++)oe[ce].toArray(te,ae+ce*3);return te}static getBasisAt(te,ae){const oe=te.x,ce=te.y,ue=te.z;ae[0]=.282095,ae[1]=.488603*ce,ae[2]=.488603*ue,ae[3]=.488603*oe,ae[4]=1.092548*oe*ce,ae[5]=1.092548*ce*ue,ae[6]=.315392*(3*ue*ue-1),ae[7]=1.092548*oe*ue,ae[8]=.546274*(oe*oe-ce*ce)}}class LightProbe extends Light{constructor(te=new SphericalHarmonics3,ae=1){super(void 0,ae),this.isLightProbe=!0,this.sh=te}copy(te){return super.copy(te),this.sh.copy(te.sh),this}fromJSON(te){return this.intensity=te.intensity,this.sh.fromArray(te.sh),this}toJSON(te){const ae=super.toJSON(te);return ae.object.sh=this.sh.toArray(),ae}}class MaterialLoader extends Loader{constructor(te){super(te),this.textures={}}load(te,ae,oe,ce){const ue=this,fe=new FileLoader(ue.manager);fe.setPath(ue.path),fe.setRequestHeader(ue.requestHeader),fe.setWithCredentials(ue.withCredentials),fe.load(te,function(de){try{ae(ue.parse(JSON.parse(de)))}catch(pe){ce?ce(pe):console.error(pe),ue.manager.itemError(te)}},oe,ce)}parse(te){const ae=this.textures;function oe(ue){return ae[ue]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ue),ae[ue]}const ce=this.createMaterialFromType(te.type);if(te.uuid!==void 0&&(ce.uuid=te.uuid),te.name!==void 0&&(ce.name=te.name),te.color!==void 0&&ce.color!==void 0&&ce.color.setHex(te.color),te.roughness!==void 0&&(ce.roughness=te.roughness),te.metalness!==void 0&&(ce.metalness=te.metalness),te.sheen!==void 0&&(ce.sheen=te.sheen),te.sheenColor!==void 0&&(ce.sheenColor=new Color$1().setHex(te.sheenColor)),te.sheenRoughness!==void 0&&(ce.sheenRoughness=te.sheenRoughness),te.emissive!==void 0&&ce.emissive!==void 0&&ce.emissive.setHex(te.emissive),te.specular!==void 0&&ce.specular!==void 0&&ce.specular.setHex(te.specular),te.specularIntensity!==void 0&&(ce.specularIntensity=te.specularIntensity),te.specularColor!==void 0&&ce.specularColor!==void 0&&ce.specularColor.setHex(te.specularColor),te.shininess!==void 0&&(ce.shininess=te.shininess),te.clearcoat!==void 0&&(ce.clearcoat=te.clearcoat),te.clearcoatRoughness!==void 0&&(ce.clearcoatRoughness=te.clearcoatRoughness),te.dispersion!==void 0&&(ce.dispersion=te.dispersion),te.iridescence!==void 0&&(ce.iridescence=te.iridescence),te.iridescenceIOR!==void 0&&(ce.iridescenceIOR=te.iridescenceIOR),te.iridescenceThicknessRange!==void 0&&(ce.iridescenceThicknessRange=te.iridescenceThicknessRange),te.transmission!==void 0&&(ce.transmission=te.transmission),te.thickness!==void 0&&(ce.thickness=te.thickness),te.attenuationDistance!==void 0&&(ce.attenuationDistance=te.attenuationDistance),te.attenuationColor!==void 0&&ce.attenuationColor!==void 0&&ce.attenuationColor.setHex(te.attenuationColor),te.anisotropy!==void 0&&(ce.anisotropy=te.anisotropy),te.anisotropyRotation!==void 0&&(ce.anisotropyRotation=te.anisotropyRotation),te.fog!==void 0&&(ce.fog=te.fog),te.flatShading!==void 0&&(ce.flatShading=te.flatShading),te.blending!==void 0&&(ce.blending=te.blending),te.combine!==void 0&&(ce.combine=te.combine),te.side!==void 0&&(ce.side=te.side),te.shadowSide!==void 0&&(ce.shadowSide=te.shadowSide),te.opacity!==void 0&&(ce.opacity=te.opacity),te.transparent!==void 0&&(ce.transparent=te.transparent),te.alphaTest!==void 0&&(ce.alphaTest=te.alphaTest),te.alphaHash!==void 0&&(ce.alphaHash=te.alphaHash),te.depthFunc!==void 0&&(ce.depthFunc=te.depthFunc),te.depthTest!==void 0&&(ce.depthTest=te.depthTest),te.depthWrite!==void 0&&(ce.depthWrite=te.depthWrite),te.colorWrite!==void 0&&(ce.colorWrite=te.colorWrite),te.blendSrc!==void 0&&(ce.blendSrc=te.blendSrc),te.blendDst!==void 0&&(ce.blendDst=te.blendDst),te.blendEquation!==void 0&&(ce.blendEquation=te.blendEquation),te.blendSrcAlpha!==void 0&&(ce.blendSrcAlpha=te.blendSrcAlpha),te.blendDstAlpha!==void 0&&(ce.blendDstAlpha=te.blendDstAlpha),te.blendEquationAlpha!==void 0&&(ce.blendEquationAlpha=te.blendEquationAlpha),te.blendColor!==void 0&&ce.blendColor!==void 0&&ce.blendColor.setHex(te.blendColor),te.blendAlpha!==void 0&&(ce.blendAlpha=te.blendAlpha),te.stencilWriteMask!==void 0&&(ce.stencilWriteMask=te.stencilWriteMask),te.stencilFunc!==void 0&&(ce.stencilFunc=te.stencilFunc),te.stencilRef!==void 0&&(ce.stencilRef=te.stencilRef),te.stencilFuncMask!==void 0&&(ce.stencilFuncMask=te.stencilFuncMask),te.stencilFail!==void 0&&(ce.stencilFail=te.stencilFail),te.stencilZFail!==void 0&&(ce.stencilZFail=te.stencilZFail),te.stencilZPass!==void 0&&(ce.stencilZPass=te.stencilZPass),te.stencilWrite!==void 0&&(ce.stencilWrite=te.stencilWrite),te.wireframe!==void 0&&(ce.wireframe=te.wireframe),te.wireframeLinewidth!==void 0&&(ce.wireframeLinewidth=te.wireframeLinewidth),te.wireframeLinecap!==void 0&&(ce.wireframeLinecap=te.wireframeLinecap),te.wireframeLinejoin!==void 0&&(ce.wireframeLinejoin=te.wireframeLinejoin),te.rotation!==void 0&&(ce.rotation=te.rotation),te.linewidth!==void 0&&(ce.linewidth=te.linewidth),te.dashSize!==void 0&&(ce.dashSize=te.dashSize),te.gapSize!==void 0&&(ce.gapSize=te.gapSize),te.scale!==void 0&&(ce.scale=te.scale),te.polygonOffset!==void 0&&(ce.polygonOffset=te.polygonOffset),te.polygonOffsetFactor!==void 0&&(ce.polygonOffsetFactor=te.polygonOffsetFactor),te.polygonOffsetUnits!==void 0&&(ce.polygonOffsetUnits=te.polygonOffsetUnits),te.dithering!==void 0&&(ce.dithering=te.dithering),te.alphaToCoverage!==void 0&&(ce.alphaToCoverage=te.alphaToCoverage),te.premultipliedAlpha!==void 0&&(ce.premultipliedAlpha=te.premultipliedAlpha),te.forceSinglePass!==void 0&&(ce.forceSinglePass=te.forceSinglePass),te.visible!==void 0&&(ce.visible=te.visible),te.toneMapped!==void 0&&(ce.toneMapped=te.toneMapped),te.userData!==void 0&&(ce.userData=te.userData),te.vertexColors!==void 0&&(typeof te.vertexColors=="number"?ce.vertexColors=te.vertexColors>0:ce.vertexColors=te.vertexColors),te.uniforms!==void 0)for(const ue in te.uniforms){const fe=te.uniforms[ue];switch(ce.uniforms[ue]={},fe.type){case"t":ce.uniforms[ue].value=oe(fe.value);break;case"c":ce.uniforms[ue].value=new Color$1().setHex(fe.value);break;case"v2":ce.uniforms[ue].value=new Vector2().fromArray(fe.value);break;case"v3":ce.uniforms[ue].value=new Vector3().fromArray(fe.value);break;case"v4":ce.uniforms[ue].value=new Vector4().fromArray(fe.value);break;case"m3":ce.uniforms[ue].value=new Matrix3().fromArray(fe.value);break;case"m4":ce.uniforms[ue].value=new Matrix4().fromArray(fe.value);break;default:ce.uniforms[ue].value=fe.value}}if(te.defines!==void 0&&(ce.defines=te.defines),te.vertexShader!==void 0&&(ce.vertexShader=te.vertexShader),te.fragmentShader!==void 0&&(ce.fragmentShader=te.fragmentShader),te.glslVersion!==void 0&&(ce.glslVersion=te.glslVersion),te.extensions!==void 0)for(const ue in te.extensions)ce.extensions[ue]=te.extensions[ue];if(te.lights!==void 0&&(ce.lights=te.lights),te.clipping!==void 0&&(ce.clipping=te.clipping),te.size!==void 0&&(ce.size=te.size),te.sizeAttenuation!==void 0&&(ce.sizeAttenuation=te.sizeAttenuation),te.map!==void 0&&(ce.map=oe(te.map)),te.matcap!==void 0&&(ce.matcap=oe(te.matcap)),te.alphaMap!==void 0&&(ce.alphaMap=oe(te.alphaMap)),te.bumpMap!==void 0&&(ce.bumpMap=oe(te.bumpMap)),te.bumpScale!==void 0&&(ce.bumpScale=te.bumpScale),te.normalMap!==void 0&&(ce.normalMap=oe(te.normalMap)),te.normalMapType!==void 0&&(ce.normalMapType=te.normalMapType),te.normalScale!==void 0){let ue=te.normalScale;Array.isArray(ue)===!1&&(ue=[ue,ue]),ce.normalScale=new Vector2().fromArray(ue)}return te.displacementMap!==void 0&&(ce.displacementMap=oe(te.displacementMap)),te.displacementScale!==void 0&&(ce.displacementScale=te.displacementScale),te.displacementBias!==void 0&&(ce.displacementBias=te.displacementBias),te.roughnessMap!==void 0&&(ce.roughnessMap=oe(te.roughnessMap)),te.metalnessMap!==void 0&&(ce.metalnessMap=oe(te.metalnessMap)),te.emissiveMap!==void 0&&(ce.emissiveMap=oe(te.emissiveMap)),te.emissiveIntensity!==void 0&&(ce.emissiveIntensity=te.emissiveIntensity),te.specularMap!==void 0&&(ce.specularMap=oe(te.specularMap)),te.specularIntensityMap!==void 0&&(ce.specularIntensityMap=oe(te.specularIntensityMap)),te.specularColorMap!==void 0&&(ce.specularColorMap=oe(te.specularColorMap)),te.envMap!==void 0&&(ce.envMap=oe(te.envMap)),te.envMapRotation!==void 0&&ce.envMapRotation.fromArray(te.envMapRotation),te.envMapIntensity!==void 0&&(ce.envMapIntensity=te.envMapIntensity),te.reflectivity!==void 0&&(ce.reflectivity=te.reflectivity),te.refractionRatio!==void 0&&(ce.refractionRatio=te.refractionRatio),te.lightMap!==void 0&&(ce.lightMap=oe(te.lightMap)),te.lightMapIntensity!==void 0&&(ce.lightMapIntensity=te.lightMapIntensity),te.aoMap!==void 0&&(ce.aoMap=oe(te.aoMap)),te.aoMapIntensity!==void 0&&(ce.aoMapIntensity=te.aoMapIntensity),te.gradientMap!==void 0&&(ce.gradientMap=oe(te.gradientMap)),te.clearcoatMap!==void 0&&(ce.clearcoatMap=oe(te.clearcoatMap)),te.clearcoatRoughnessMap!==void 0&&(ce.clearcoatRoughnessMap=oe(te.clearcoatRoughnessMap)),te.clearcoatNormalMap!==void 0&&(ce.clearcoatNormalMap=oe(te.clearcoatNormalMap)),te.clearcoatNormalScale!==void 0&&(ce.clearcoatNormalScale=new Vector2().fromArray(te.clearcoatNormalScale)),te.iridescenceMap!==void 0&&(ce.iridescenceMap=oe(te.iridescenceMap)),te.iridescenceThicknessMap!==void 0&&(ce.iridescenceThicknessMap=oe(te.iridescenceThicknessMap)),te.transmissionMap!==void 0&&(ce.transmissionMap=oe(te.transmissionMap)),te.thicknessMap!==void 0&&(ce.thicknessMap=oe(te.thicknessMap)),te.anisotropyMap!==void 0&&(ce.anisotropyMap=oe(te.anisotropyMap)),te.sheenColorMap!==void 0&&(ce.sheenColorMap=oe(te.sheenColorMap)),te.sheenRoughnessMap!==void 0&&(ce.sheenRoughnessMap=oe(te.sheenRoughnessMap)),ce}setTextures(te){return this.textures=te,this}createMaterialFromType(te){return MaterialLoader.createMaterialFromType(te)}static createMaterialFromType(te){const ae={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new ae[te]}}class LoaderUtils{static extractUrlBase(te){const ae=te.lastIndexOf("/");return ae===-1?"./":te.slice(0,ae+1)}static resolveURL(te,ae){return typeof te!="string"||te===""?"":(/^https?:\/\//i.test(ae)&&/^\//.test(te)&&(ae=ae.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(te)||/^data:.*,.*$/i.test(te)||/^blob:.*$/i.test(te)?te:ae+te)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(te){return super.copy(te),this.instanceCount=te.instanceCount,this}toJSON(){const te=super.toJSON();return te.instanceCount=this.instanceCount,te.isInstancedBufferGeometry=!0,te}}class BufferGeometryLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=new FileLoader(ue.manager);fe.setPath(ue.path),fe.setRequestHeader(ue.requestHeader),fe.setWithCredentials(ue.withCredentials),fe.load(te,function(de){try{ae(ue.parse(JSON.parse(de)))}catch(pe){ce?ce(pe):console.error(pe),ue.manager.itemError(te)}},oe,ce)}parse(te){const ae={},oe={};function ce(Ae,Re){if(ae[Re]!==void 0)return ae[Re];const De=Ae.interleavedBuffers[Re],Oe=ue(Ae,De.buffer),Pe=getTypedArray(De.type,Oe),Ie=new InterleavedBuffer(Pe,De.stride);return Ie.uuid=De.uuid,ae[Re]=Ie,Ie}function ue(Ae,Re){if(oe[Re]!==void 0)return oe[Re];const De=Ae.arrayBuffers[Re],Oe=new Uint32Array(De).buffer;return oe[Re]=Oe,Oe}const fe=te.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,de=te.data.index;if(de!==void 0){const Ae=getTypedArray(de.type,de.array);fe.setIndex(new BufferAttribute(Ae,1))}const pe=te.data.attributes;for(const Ae in pe){const Re=pe[Ae];let Be;if(Re.isInterleavedBufferAttribute){const De=ce(te.data,Re.data);Be=new InterleavedBufferAttribute(De,Re.itemSize,Re.offset,Re.normalized)}else{const De=getTypedArray(Re.type,Re.array),Oe=Re.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;Be=new Oe(De,Re.itemSize,Re.normalized)}Re.name!==void 0&&(Be.name=Re.name),Re.usage!==void 0&&Be.setUsage(Re.usage),fe.setAttribute(Ae,Be)}const me=te.data.morphAttributes;if(me)for(const Ae in me){const Re=me[Ae],Be=[];for(let De=0,Oe=Re.length;De<Oe;De++){const Pe=Re[De];let Ie;if(Pe.isInterleavedBufferAttribute){const Fe=ce(te.data,Pe.data);Ie=new InterleavedBufferAttribute(Fe,Pe.itemSize,Pe.offset,Pe.normalized)}else{const Fe=getTypedArray(Pe.type,Pe.array);Ie=new BufferAttribute(Fe,Pe.itemSize,Pe.normalized)}Pe.name!==void 0&&(Ie.name=Pe.name),Be.push(Ie)}fe.morphAttributes[Ae]=Be}te.data.morphTargetsRelative&&(fe.morphTargetsRelative=!0);const be=te.data.groups||te.data.drawcalls||te.data.offsets;if(be!==void 0)for(let Ae=0,Re=be.length;Ae!==Re;++Ae){const Be=be[Ae];fe.addGroup(Be.start,Be.count,Be.materialIndex)}const Ee=te.data.boundingSphere;if(Ee!==void 0){const Ae=new Vector3;Ee.center!==void 0&&Ae.fromArray(Ee.center),fe.boundingSphere=new Sphere(Ae,Ee.radius)}return te.name&&(fe.name=te.name),te.userData&&(fe.userData=te.userData),fe}}class ObjectLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=this.path===""?LoaderUtils.extractUrlBase(te):this.path;this.resourcePath=this.resourcePath||fe;const de=new FileLoader(this.manager);de.setPath(this.path),de.setRequestHeader(this.requestHeader),de.setWithCredentials(this.withCredentials),de.load(te,function(pe){let me=null;try{me=JSON.parse(pe)}catch(be){ce!==void 0&&ce(be),console.error("THREE:ObjectLoader: Can't parse "+te+".",be.message);return}const _e=me.metadata;if(_e===void 0||_e.type===void 0||_e.type.toLowerCase()==="geometry"){ce!==void 0&&ce(new Error("THREE.ObjectLoader: Can't load "+te)),console.error("THREE.ObjectLoader: Can't load "+te);return}ue.parse(me,ae)},oe,ce)}async loadAsync(te,ae){const oe=this,ce=this.path===""?LoaderUtils.extractUrlBase(te):this.path;this.resourcePath=this.resourcePath||ce;const ue=new FileLoader(this.manager);ue.setPath(this.path),ue.setRequestHeader(this.requestHeader),ue.setWithCredentials(this.withCredentials);const fe=await ue.loadAsync(te,ae),de=JSON.parse(fe),pe=de.metadata;if(pe===void 0||pe.type===void 0||pe.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+te);return await oe.parseAsync(de)}parse(te,ae){const oe=this.parseAnimations(te.animations),ce=this.parseShapes(te.shapes),ue=this.parseGeometries(te.geometries,ce),fe=this.parseImages(te.images,function(){ae!==void 0&&ae(me)}),de=this.parseTextures(te.textures,fe),pe=this.parseMaterials(te.materials,de),me=this.parseObject(te.object,ue,pe,de,oe),_e=this.parseSkeletons(te.skeletons,me);if(this.bindSkeletons(me,_e),this.bindLightTargets(me),ae!==void 0){let be=!1;for(const Ee in fe)if(fe[Ee].data instanceof HTMLImageElement){be=!0;break}be===!1&&ae(me)}return me}async parseAsync(te){const ae=this.parseAnimations(te.animations),oe=this.parseShapes(te.shapes),ce=this.parseGeometries(te.geometries,oe),ue=await this.parseImagesAsync(te.images),fe=this.parseTextures(te.textures,ue),de=this.parseMaterials(te.materials,fe),pe=this.parseObject(te.object,ce,de,fe,ae),me=this.parseSkeletons(te.skeletons,pe);return this.bindSkeletons(pe,me),this.bindLightTargets(pe),pe}parseShapes(te){const ae={};if(te!==void 0)for(let oe=0,ce=te.length;oe<ce;oe++){const ue=new Shape().fromJSON(te[oe]);ae[ue.uuid]=ue}return ae}parseSkeletons(te,ae){const oe={},ce={};if(ae.traverse(function(ue){ue.isBone&&(ce[ue.uuid]=ue)}),te!==void 0)for(let ue=0,fe=te.length;ue<fe;ue++){const de=new Skeleton().fromJSON(te[ue],ce);oe[de.uuid]=de}return oe}parseGeometries(te,ae){const oe={};if(te!==void 0){const ce=new BufferGeometryLoader;for(let ue=0,fe=te.length;ue<fe;ue++){let de;const pe=te[ue];switch(pe.type){case"BufferGeometry":case"InstancedBufferGeometry":de=ce.parse(pe);break;default:pe.type in Geometries?de=Geometries[pe.type].fromJSON(pe,ae):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${pe.type}"`)}de.uuid=pe.uuid,pe.name!==void 0&&(de.name=pe.name),pe.userData!==void 0&&(de.userData=pe.userData),oe[pe.uuid]=de}}return oe}parseMaterials(te,ae){const oe={},ce={};if(te!==void 0){const ue=new MaterialLoader;ue.setTextures(ae);for(let fe=0,de=te.length;fe<de;fe++){const pe=te[fe];oe[pe.uuid]===void 0&&(oe[pe.uuid]=ue.parse(pe)),ce[pe.uuid]=oe[pe.uuid]}}return ce}parseAnimations(te){const ae={};if(te!==void 0)for(let oe=0;oe<te.length;oe++){const ce=te[oe],ue=AnimationClip.parse(ce);ae[ue.uuid]=ue}return ae}parseImages(te,ae){const oe=this,ce={};let ue;function fe(pe){return oe.manager.itemStart(pe),ue.load(pe,function(){oe.manager.itemEnd(pe)},void 0,function(){oe.manager.itemError(pe),oe.manager.itemEnd(pe)})}function de(pe){if(typeof pe=="string"){const me=pe,_e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(me)?me:oe.resourcePath+me;return fe(_e)}else return pe.data?{data:getTypedArray(pe.type,pe.data),width:pe.width,height:pe.height}:null}if(te!==void 0&&te.length>0){const pe=new LoadingManager(ae);ue=new ImageLoader(pe),ue.setCrossOrigin(this.crossOrigin);for(let me=0,_e=te.length;me<_e;me++){const be=te[me],Ee=be.url;if(Array.isArray(Ee)){const Ae=[];for(let Re=0,Be=Ee.length;Re<Be;Re++){const De=Ee[Re],Oe=de(De);Oe!==null&&(Oe instanceof HTMLImageElement?Ae.push(Oe):Ae.push(new DataTexture(Oe.data,Oe.width,Oe.height)))}ce[be.uuid]=new Source(Ae)}else{const Ae=de(be.url);ce[be.uuid]=new Source(Ae)}}}return ce}async parseImagesAsync(te){const ae=this,oe={};let ce;async function ue(fe){if(typeof fe=="string"){const de=fe,pe=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(de)?de:ae.resourcePath+de;return await ce.loadAsync(pe)}else return fe.data?{data:getTypedArray(fe.type,fe.data),width:fe.width,height:fe.height}:null}if(te!==void 0&&te.length>0){ce=new ImageLoader(this.manager),ce.setCrossOrigin(this.crossOrigin);for(let fe=0,de=te.length;fe<de;fe++){const pe=te[fe],me=pe.url;if(Array.isArray(me)){const _e=[];for(let be=0,Ee=me.length;be<Ee;be++){const Ae=me[be],Re=await ue(Ae);Re!==null&&(Re instanceof HTMLImageElement?_e.push(Re):_e.push(new DataTexture(Re.data,Re.width,Re.height)))}oe[pe.uuid]=new Source(_e)}else{const _e=await ue(pe.url);oe[pe.uuid]=new Source(_e)}}}return oe}parseTextures(te,ae){function oe(ue,fe){return typeof ue=="number"?ue:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ue),fe[ue])}const ce={};if(te!==void 0)for(let ue=0,fe=te.length;ue<fe;ue++){const de=te[ue];de.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',de.uuid),ae[de.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",de.image);const pe=ae[de.image],me=pe.data;let _e;Array.isArray(me)?(_e=new CubeTexture,me.length===6&&(_e.needsUpdate=!0)):(me&&me.data?_e=new DataTexture:_e=new Texture,me&&(_e.needsUpdate=!0)),_e.source=pe,_e.uuid=de.uuid,de.name!==void 0&&(_e.name=de.name),de.mapping!==void 0&&(_e.mapping=oe(de.mapping,TEXTURE_MAPPING)),de.channel!==void 0&&(_e.channel=de.channel),de.offset!==void 0&&_e.offset.fromArray(de.offset),de.repeat!==void 0&&_e.repeat.fromArray(de.repeat),de.center!==void 0&&_e.center.fromArray(de.center),de.rotation!==void 0&&(_e.rotation=de.rotation),de.wrap!==void 0&&(_e.wrapS=oe(de.wrap[0],TEXTURE_WRAPPING),_e.wrapT=oe(de.wrap[1],TEXTURE_WRAPPING)),de.format!==void 0&&(_e.format=de.format),de.internalFormat!==void 0&&(_e.internalFormat=de.internalFormat),de.type!==void 0&&(_e.type=de.type),de.colorSpace!==void 0&&(_e.colorSpace=de.colorSpace),de.minFilter!==void 0&&(_e.minFilter=oe(de.minFilter,TEXTURE_FILTER)),de.magFilter!==void 0&&(_e.magFilter=oe(de.magFilter,TEXTURE_FILTER)),de.anisotropy!==void 0&&(_e.anisotropy=de.anisotropy),de.flipY!==void 0&&(_e.flipY=de.flipY),de.generateMipmaps!==void 0&&(_e.generateMipmaps=de.generateMipmaps),de.premultiplyAlpha!==void 0&&(_e.premultiplyAlpha=de.premultiplyAlpha),de.unpackAlignment!==void 0&&(_e.unpackAlignment=de.unpackAlignment),de.compareFunction!==void 0&&(_e.compareFunction=de.compareFunction),de.userData!==void 0&&(_e.userData=de.userData),ce[de.uuid]=_e}return ce}parseObject(te,ae,oe,ce,ue){let fe;function de(Ee){return ae[Ee]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",Ee),ae[Ee]}function pe(Ee){if(Ee!==void 0){if(Array.isArray(Ee)){const Ae=[];for(let Re=0,Be=Ee.length;Re<Be;Re++){const De=Ee[Re];oe[De]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",De),Ae.push(oe[De])}return Ae}return oe[Ee]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ee),oe[Ee]}}function me(Ee){return ce[Ee]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",Ee),ce[Ee]}let _e,be;switch(te.type){case"Scene":fe=new Scene,te.background!==void 0&&(Number.isInteger(te.background)?fe.background=new Color$1(te.background):fe.background=me(te.background)),te.environment!==void 0&&(fe.environment=me(te.environment)),te.fog!==void 0&&(te.fog.type==="Fog"?fe.fog=new Fog(te.fog.color,te.fog.near,te.fog.far):te.fog.type==="FogExp2"&&(fe.fog=new FogExp2(te.fog.color,te.fog.density)),te.fog.name!==""&&(fe.fog.name=te.fog.name)),te.backgroundBlurriness!==void 0&&(fe.backgroundBlurriness=te.backgroundBlurriness),te.backgroundIntensity!==void 0&&(fe.backgroundIntensity=te.backgroundIntensity),te.backgroundRotation!==void 0&&fe.backgroundRotation.fromArray(te.backgroundRotation),te.environmentIntensity!==void 0&&(fe.environmentIntensity=te.environmentIntensity),te.environmentRotation!==void 0&&fe.environmentRotation.fromArray(te.environmentRotation);break;case"PerspectiveCamera":fe=new PerspectiveCamera(te.fov,te.aspect,te.near,te.far),te.focus!==void 0&&(fe.focus=te.focus),te.zoom!==void 0&&(fe.zoom=te.zoom),te.filmGauge!==void 0&&(fe.filmGauge=te.filmGauge),te.filmOffset!==void 0&&(fe.filmOffset=te.filmOffset),te.view!==void 0&&(fe.view=Object.assign({},te.view));break;case"OrthographicCamera":fe=new OrthographicCamera(te.left,te.right,te.top,te.bottom,te.near,te.far),te.zoom!==void 0&&(fe.zoom=te.zoom),te.view!==void 0&&(fe.view=Object.assign({},te.view));break;case"AmbientLight":fe=new AmbientLight(te.color,te.intensity);break;case"DirectionalLight":fe=new DirectionalLight(te.color,te.intensity),fe.target=te.target||"";break;case"PointLight":fe=new PointLight(te.color,te.intensity,te.distance,te.decay);break;case"RectAreaLight":fe=new RectAreaLight(te.color,te.intensity,te.width,te.height);break;case"SpotLight":fe=new SpotLight(te.color,te.intensity,te.distance,te.angle,te.penumbra,te.decay),fe.target=te.target||"";break;case"HemisphereLight":fe=new HemisphereLight(te.color,te.groundColor,te.intensity);break;case"LightProbe":fe=new LightProbe().fromJSON(te);break;case"SkinnedMesh":_e=de(te.geometry),be=pe(te.material),fe=new SkinnedMesh(_e,be),te.bindMode!==void 0&&(fe.bindMode=te.bindMode),te.bindMatrix!==void 0&&fe.bindMatrix.fromArray(te.bindMatrix),te.skeleton!==void 0&&(fe.skeleton=te.skeleton);break;case"Mesh":_e=de(te.geometry),be=pe(te.material),fe=new Mesh(_e,be);break;case"InstancedMesh":_e=de(te.geometry),be=pe(te.material);const Ee=te.count,Ae=te.instanceMatrix,Re=te.instanceColor;fe=new InstancedMesh(_e,be,Ee),fe.instanceMatrix=new InstancedBufferAttribute(new Float32Array(Ae.array),16),Re!==void 0&&(fe.instanceColor=new InstancedBufferAttribute(new Float32Array(Re.array),Re.itemSize));break;case"BatchedMesh":_e=de(te.geometry),be=pe(te.material),fe=new BatchedMesh(te.maxInstanceCount,te.maxVertexCount,te.maxIndexCount,be),fe.geometry=_e,fe.perObjectFrustumCulled=te.perObjectFrustumCulled,fe.sortObjects=te.sortObjects,fe._drawRanges=te.drawRanges,fe._reservedRanges=te.reservedRanges,fe._visibility=te.visibility,fe._active=te.active,fe._bounds=te.bounds.map(Be=>{const De=new Box3;De.min.fromArray(Be.boxMin),De.max.fromArray(Be.boxMax);const Oe=new Sphere;return Oe.radius=Be.sphereRadius,Oe.center.fromArray(Be.sphereCenter),{boxInitialized:Be.boxInitialized,box:De,sphereInitialized:Be.sphereInitialized,sphere:Oe}}),fe._maxInstanceCount=te.maxInstanceCount,fe._maxVertexCount=te.maxVertexCount,fe._maxIndexCount=te.maxIndexCount,fe._geometryInitialized=te.geometryInitialized,fe._geometryCount=te.geometryCount,fe._matricesTexture=me(te.matricesTexture.uuid),te.colorsTexture!==void 0&&(fe._colorsTexture=me(te.colorsTexture.uuid));break;case"LOD":fe=new LOD;break;case"Line":fe=new Line(de(te.geometry),pe(te.material));break;case"LineLoop":fe=new LineLoop(de(te.geometry),pe(te.material));break;case"LineSegments":fe=new LineSegments(de(te.geometry),pe(te.material));break;case"PointCloud":case"Points":fe=new Points(de(te.geometry),pe(te.material));break;case"Sprite":fe=new Sprite(pe(te.material));break;case"Group":fe=new Group;break;case"Bone":fe=new Bone;break;default:fe=new Object3D}if(fe.uuid=te.uuid,te.name!==void 0&&(fe.name=te.name),te.matrix!==void 0?(fe.matrix.fromArray(te.matrix),te.matrixAutoUpdate!==void 0&&(fe.matrixAutoUpdate=te.matrixAutoUpdate),fe.matrixAutoUpdate&&fe.matrix.decompose(fe.position,fe.quaternion,fe.scale)):(te.position!==void 0&&fe.position.fromArray(te.position),te.rotation!==void 0&&fe.rotation.fromArray(te.rotation),te.quaternion!==void 0&&fe.quaternion.fromArray(te.quaternion),te.scale!==void 0&&fe.scale.fromArray(te.scale)),te.up!==void 0&&fe.up.fromArray(te.up),te.castShadow!==void 0&&(fe.castShadow=te.castShadow),te.receiveShadow!==void 0&&(fe.receiveShadow=te.receiveShadow),te.shadow&&(te.shadow.intensity!==void 0&&(fe.shadow.intensity=te.shadow.intensity),te.shadow.bias!==void 0&&(fe.shadow.bias=te.shadow.bias),te.shadow.normalBias!==void 0&&(fe.shadow.normalBias=te.shadow.normalBias),te.shadow.radius!==void 0&&(fe.shadow.radius=te.shadow.radius),te.shadow.mapSize!==void 0&&fe.shadow.mapSize.fromArray(te.shadow.mapSize),te.shadow.camera!==void 0&&(fe.shadow.camera=this.parseObject(te.shadow.camera))),te.visible!==void 0&&(fe.visible=te.visible),te.frustumCulled!==void 0&&(fe.frustumCulled=te.frustumCulled),te.renderOrder!==void 0&&(fe.renderOrder=te.renderOrder),te.userData!==void 0&&(fe.userData=te.userData),te.layers!==void 0&&(fe.layers.mask=te.layers),te.children!==void 0){const Ee=te.children;for(let Ae=0;Ae<Ee.length;Ae++)fe.add(this.parseObject(Ee[Ae],ae,oe,ce,ue))}if(te.animations!==void 0){const Ee=te.animations;for(let Ae=0;Ae<Ee.length;Ae++){const Re=Ee[Ae];fe.animations.push(ue[Re])}}if(te.type==="LOD"){te.autoUpdate!==void 0&&(fe.autoUpdate=te.autoUpdate);const Ee=te.levels;for(let Ae=0;Ae<Ee.length;Ae++){const Re=Ee[Ae],Be=fe.getObjectByProperty("uuid",Re.object);Be!==void 0&&fe.addLevel(Be,Re.distance,Re.hysteresis)}}return fe}bindSkeletons(te,ae){Object.keys(ae).length!==0&&te.traverse(function(oe){if(oe.isSkinnedMesh===!0&&oe.skeleton!==void 0){const ce=ae[oe.skeleton];ce===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",oe.skeleton):oe.bind(ce,oe.bindMatrix)}})}bindLightTargets(te){te.traverse(function(ae){if(ae.isDirectionalLight||ae.isSpotLight){const oe=ae.target,ce=te.getObjectByProperty("uuid",oe);ce!==void 0?ae.target=ce:ae.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping:CubeUVReflectionMapping$1},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor(te){super(te),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(te){return this.options=te,this}load(te,ae,oe,ce){te===void 0&&(te=""),this.path!==void 0&&(te=this.path+te),te=this.manager.resolveURL(te);const ue=this,fe=Cache.get(te);if(fe!==void 0){if(ue.manager.itemStart(te),fe.then){fe.then(me=>{ae&&ae(me),ue.manager.itemEnd(te)}).catch(me=>{ce&&ce(me)});return}return setTimeout(function(){ae&&ae(fe),ue.manager.itemEnd(te)},0),fe}const de={};de.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",de.headers=this.requestHeader;const pe=fetch(te,de).then(function(me){return me.blob()}).then(function(me){return createImageBitmap(me,Object.assign(ue.options,{colorSpaceConversion:"none"}))}).then(function(me){return Cache.add(te,me),ae&&ae(me),ue.manager.itemEnd(te),me}).catch(function(me){ce&&ce(me),Cache.remove(te),ue.manager.itemError(te),ue.manager.itemEnd(te)});Cache.add(te,pe),ue.manager.itemStart(te)}}let _context$3;class AudioContext{static getContext(){return _context$3===void 0&&(_context$3=new(window.AudioContext||window.webkitAudioContext)),_context$3}static setContext(te){_context$3=te}}class AudioLoader extends Loader{constructor(te){super(te)}load(te,ae,oe,ce){const ue=this,fe=new FileLoader(this.manager);fe.setResponseType("arraybuffer"),fe.setPath(this.path),fe.setRequestHeader(this.requestHeader),fe.setWithCredentials(this.withCredentials),fe.load(te,function(pe){try{const me=pe.slice(0);AudioContext.getContext().decodeAudioData(me,function(be){ae(be)}).catch(de)}catch(me){de(me)}},oe,ce);function de(pe){ce?ce(pe):console.error(pe),ue.manager.itemError(te)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(te){const ae=this._cache;if(ae.focus!==te.focus||ae.fov!==te.fov||ae.aspect!==te.aspect*this.aspect||ae.near!==te.near||ae.far!==te.far||ae.zoom!==te.zoom||ae.eyeSep!==this.eyeSep){ae.focus=te.focus,ae.fov=te.fov,ae.aspect=te.aspect*this.aspect,ae.near=te.near,ae.far=te.far,ae.zoom=te.zoom,ae.eyeSep=this.eyeSep,_projectionMatrix.copy(te.projectionMatrix);const ce=ae.eyeSep/2,ue=ce*ae.near/ae.focus,fe=ae.near*Math.tan(DEG2RAD*ae.fov*.5)/ae.zoom;let de,pe;_eyeLeft.elements[12]=-ce,_eyeRight.elements[12]=ce,de=-fe*ae.aspect+ue,pe=fe*ae.aspect+ue,_projectionMatrix.elements[0]=2*ae.near/(pe-de),_projectionMatrix.elements[8]=(pe+de)/(pe-de),this.cameraL.projectionMatrix.copy(_projectionMatrix),de=-fe*ae.aspect-ue,pe=fe*ae.aspect-ue,_projectionMatrix.elements[0]=2*ae.near/(pe-de),_projectionMatrix.elements[8]=(pe+de)/(pe-de),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(te.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(te.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor(te=[]){super(),this.isArrayCamera=!0,this.cameras=te,this.index=0}}class Clock{constructor(te=!0){this.autoStart=te,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let te=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const ae=now$2();te=(ae-this.oldTime)/1e3,this.oldTime=ae,this.elapsedTime+=te}return te}}function now$2(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(te){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=te,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(te){return this.gain.gain.setTargetAtTime(te,this.context.currentTime,.01),this}updateMatrixWorld(te){super.updateMatrixWorld(te);const ae=this.context.listener,oe=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),ae.positionX){const ce=this.context.currentTime+this.timeDelta;ae.positionX.linearRampToValueAtTime(_position$1.x,ce),ae.positionY.linearRampToValueAtTime(_position$1.y,ce),ae.positionZ.linearRampToValueAtTime(_position$1.z,ce),ae.forwardX.linearRampToValueAtTime(_orientation$1.x,ce),ae.forwardY.linearRampToValueAtTime(_orientation$1.y,ce),ae.forwardZ.linearRampToValueAtTime(_orientation$1.z,ce),ae.upX.linearRampToValueAtTime(oe.x,ce),ae.upY.linearRampToValueAtTime(oe.y,ce),ae.upZ.linearRampToValueAtTime(oe.z,ce)}else ae.setPosition(_position$1.x,_position$1.y,_position$1.z),ae.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,oe.x,oe.y,oe.z)}}class Audio extends Object3D{constructor(te){super(),this.type="Audio",this.listener=te,this.context=te.context,this.gain=this.context.createGain(),this.gain.connect(te.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(te){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=te,this.connect(),this}setMediaElementSource(te){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(te),this.connect(),this}setMediaStreamSource(te){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(te),this.connect(),this}setBuffer(te){return this.buffer=te,this.sourceType="buffer",this.autoplay&&this.play(),this}play(te=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+te;const ae=this.context.createBufferSource();return ae.buffer=this.buffer,ae.loop=this.loop,ae.loopStart=this.loopStart,ae.loopEnd=this.loopEnd,ae.onended=this.onEnded.bind(this),ae.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=ae,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(te=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+te),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let te=1,ae=this.filters.length;te<ae;te++)this.filters[te-1].connect(this.filters[te]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let te=1,ae=this.filters.length;te<ae;te++)this.filters[te-1].disconnect(this.filters[te]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(te){return te||(te=[]),this._connected===!0?(this.disconnect(),this.filters=te.slice(),this.connect()):this.filters=te.slice(),this}setDetune(te){return this.detune=te,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(te){return this.setFilters(te?[te]:[])}setPlaybackRate(te){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=te,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(te){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=te,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(te){return this.loopStart=te,this}setLoopEnd(te){return this.loopEnd=te,this}getVolume(){return this.gain.gain.value}setVolume(te){return this.gain.gain.setTargetAtTime(te,this.context.currentTime,.01),this}copy(te,ae){return super.copy(te,ae),te.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=te.autoplay,this.buffer=te.buffer,this.detune=te.detune,this.loop=te.loop,this.loopStart=te.loopStart,this.loopEnd=te.loopEnd,this.offset=te.offset,this.duration=te.duration,this.playbackRate=te.playbackRate,this.hasPlaybackControl=te.hasPlaybackControl,this.sourceType=te.sourceType,this.filters=te.filters.slice(),this)}clone(te){return new this.constructor(this.listener).copy(this,te)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(te){super(te),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(te){return this.panner.refDistance=te,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(te){return this.panner.rolloffFactor=te,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(te){return this.panner.distanceModel=te,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(te){return this.panner.maxDistance=te,this}setDirectionalCone(te,ae,oe){return this.panner.coneInnerAngle=te,this.panner.coneOuterAngle=ae,this.panner.coneOuterGain=oe,this}updateMatrixWorld(te){if(super.updateMatrixWorld(te),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const ae=this.panner;if(ae.positionX){const oe=this.context.currentTime+this.listener.timeDelta;ae.positionX.linearRampToValueAtTime(_position.x,oe),ae.positionY.linearRampToValueAtTime(_position.y,oe),ae.positionZ.linearRampToValueAtTime(_position.z,oe),ae.orientationX.linearRampToValueAtTime(_orientation.x,oe),ae.orientationY.linearRampToValueAtTime(_orientation.y,oe),ae.orientationZ.linearRampToValueAtTime(_orientation.z,oe)}else ae.setPosition(_position.x,_position.y,_position.z),ae.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(te,ae=2048){this.analyser=te.context.createAnalyser(),this.analyser.fftSize=ae,this.data=new Uint8Array(this.analyser.frequencyBinCount),te.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let te=0;const ae=this.getFrequencyData();for(let oe=0;oe<ae.length;oe++)te+=ae[oe];return te/ae.length}}class PropertyMixer{constructor(te,ae,oe){this.binding=te,this.valueSize=oe;let ce,ue,fe;switch(ae){case"quaternion":ce=this._slerp,ue=this._slerpAdditive,fe=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(oe*6),this._workIndex=5;break;case"string":case"bool":ce=this._select,ue=this._select,fe=this._setAdditiveIdentityOther,this.buffer=new Array(oe*5);break;default:ce=this._lerp,ue=this._lerpAdditive,fe=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(oe*5)}this._mixBufferRegion=ce,this._mixBufferRegionAdditive=ue,this._setIdentity=fe,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(te,ae){const oe=this.buffer,ce=this.valueSize,ue=te*ce+ce;let fe=this.cumulativeWeight;if(fe===0){for(let de=0;de!==ce;++de)oe[ue+de]=oe[de];fe=ae}else{fe+=ae;const de=ae/fe;this._mixBufferRegion(oe,ue,0,de,ce)}this.cumulativeWeight=fe}accumulateAdditive(te){const ae=this.buffer,oe=this.valueSize,ce=oe*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(ae,ce,0,te,oe),this.cumulativeWeightAdditive+=te}apply(te){const ae=this.valueSize,oe=this.buffer,ce=te*ae+ae,ue=this.cumulativeWeight,fe=this.cumulativeWeightAdditive,de=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ue<1){const pe=ae*this._origIndex;this._mixBufferRegion(oe,ce,pe,1-ue,ae)}fe>0&&this._mixBufferRegionAdditive(oe,ce,this._addIndex*ae,1,ae);for(let pe=ae,me=ae+ae;pe!==me;++pe)if(oe[pe]!==oe[pe+ae]){de.setValue(oe,ce);break}}saveOriginalState(){const te=this.binding,ae=this.buffer,oe=this.valueSize,ce=oe*this._origIndex;te.getValue(ae,ce);for(let ue=oe,fe=ce;ue!==fe;++ue)ae[ue]=ae[ce+ue%oe];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const te=this.valueSize*3;this.binding.setValue(this.buffer,te)}_setAdditiveIdentityNumeric(){const te=this._addIndex*this.valueSize,ae=te+this.valueSize;for(let oe=te;oe<ae;oe++)this.buffer[oe]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const te=this._origIndex*this.valueSize,ae=this._addIndex*this.valueSize;for(let oe=0;oe<this.valueSize;oe++)this.buffer[ae+oe]=this.buffer[te+oe]}_select(te,ae,oe,ce,ue){if(ce>=.5)for(let fe=0;fe!==ue;++fe)te[ae+fe]=te[oe+fe]}_slerp(te,ae,oe,ce){Quaternion.slerpFlat(te,ae,te,ae,te,oe,ce)}_slerpAdditive(te,ae,oe,ce,ue){const fe=this._workIndex*ue;Quaternion.multiplyQuaternionsFlat(te,fe,te,ae,te,oe),Quaternion.slerpFlat(te,ae,te,ae,te,fe,ce)}_lerp(te,ae,oe,ce,ue){const fe=1-ce;for(let de=0;de!==ue;++de){const pe=ae+de;te[pe]=te[pe]*fe+te[oe+de]*ce}}_lerpAdditive(te,ae,oe,ce,ue){for(let fe=0;fe!==ue;++fe){const de=ae+fe;te[de]=te[de]+te[oe+fe]*ce}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(te,ae,oe){const ce=oe||PropertyBinding.parseTrackName(ae);this._targetGroup=te,this._bindings=te.subscribe_(ae,ce)}getValue(te,ae){this.bind();const oe=this._targetGroup.nCachedObjects_,ce=this._bindings[oe];ce!==void 0&&ce.getValue(te,ae)}setValue(te,ae){const oe=this._bindings;for(let ce=this._targetGroup.nCachedObjects_,ue=oe.length;ce!==ue;++ce)oe[ce].setValue(te,ae)}bind(){const te=this._bindings;for(let ae=this._targetGroup.nCachedObjects_,oe=te.length;ae!==oe;++ae)te[ae].bind()}unbind(){const te=this._bindings;for(let ae=this._targetGroup.nCachedObjects_,oe=te.length;ae!==oe;++ae)te[ae].unbind()}}class PropertyBinding{constructor(te,ae,oe){this.path=ae,this.parsedPath=oe||PropertyBinding.parseTrackName(ae),this.node=PropertyBinding.findNode(te,this.parsedPath.nodeName),this.rootNode=te,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(te,ae,oe){return te&&te.isAnimationObjectGroup?new PropertyBinding.Composite(te,ae,oe):new PropertyBinding(te,ae,oe)}static sanitizeNodeName(te){return te.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(te){const ae=_trackRe.exec(te);if(ae===null)throw new Error("PropertyBinding: Cannot parse trackName: "+te);const oe={nodeName:ae[2],objectName:ae[3],objectIndex:ae[4],propertyName:ae[5],propertyIndex:ae[6]},ce=oe.nodeName&&oe.nodeName.lastIndexOf(".");if(ce!==void 0&&ce!==-1){const ue=oe.nodeName.substring(ce+1);_supportedObjectNames.indexOf(ue)!==-1&&(oe.nodeName=oe.nodeName.substring(0,ce),oe.objectName=ue)}if(oe.propertyName===null||oe.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+te);return oe}static findNode(te,ae){if(ae===void 0||ae===""||ae==="."||ae===-1||ae===te.name||ae===te.uuid)return te;if(te.skeleton){const oe=te.skeleton.getBoneByName(ae);if(oe!==void 0)return oe}if(te.children){const oe=function(ue){for(let fe=0;fe<ue.length;fe++){const de=ue[fe];if(de.name===ae||de.uuid===ae)return de;const pe=oe(de.children);if(pe)return pe}return null},ce=oe(te.children);if(ce)return ce}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(te,ae){te[ae]=this.targetObject[this.propertyName]}_getValue_array(te,ae){const oe=this.resolvedProperty;for(let ce=0,ue=oe.length;ce!==ue;++ce)te[ae++]=oe[ce]}_getValue_arrayElement(te,ae){te[ae]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(te,ae){this.resolvedProperty.toArray(te,ae)}_setValue_direct(te,ae){this.targetObject[this.propertyName]=te[ae]}_setValue_direct_setNeedsUpdate(te,ae){this.targetObject[this.propertyName]=te[ae],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(te,ae){this.targetObject[this.propertyName]=te[ae],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(te,ae){const oe=this.resolvedProperty;for(let ce=0,ue=oe.length;ce!==ue;++ce)oe[ce]=te[ae++]}_setValue_array_setNeedsUpdate(te,ae){const oe=this.resolvedProperty;for(let ce=0,ue=oe.length;ce!==ue;++ce)oe[ce]=te[ae++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(te,ae){const oe=this.resolvedProperty;for(let ce=0,ue=oe.length;ce!==ue;++ce)oe[ce]=te[ae++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(te,ae){this.resolvedProperty[this.propertyIndex]=te[ae]}_setValue_arrayElement_setNeedsUpdate(te,ae){this.resolvedProperty[this.propertyIndex]=te[ae],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(te,ae){this.resolvedProperty[this.propertyIndex]=te[ae],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(te,ae){this.resolvedProperty.fromArray(te,ae)}_setValue_fromArray_setNeedsUpdate(te,ae){this.resolvedProperty.fromArray(te,ae),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(te,ae){this.resolvedProperty.fromArray(te,ae),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(te,ae){this.bind(),this.getValue(te,ae)}_setValue_unbound(te,ae){this.bind(),this.setValue(te,ae)}bind(){let te=this.node;const ae=this.parsedPath,oe=ae.objectName,ce=ae.propertyName;let ue=ae.propertyIndex;if(te||(te=PropertyBinding.findNode(this.rootNode,ae.nodeName),this.node=te),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!te){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(oe){let me=ae.objectIndex;switch(oe){case"materials":if(!te.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!te.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}te=te.material.materials;break;case"bones":if(!te.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}te=te.skeleton.bones;for(let _e=0;_e<te.length;_e++)if(te[_e].name===me){me=_e;break}break;case"map":if("map"in te){te=te.map;break}if(!te.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!te.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}te=te.material.map;break;default:if(te[oe]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}te=te[oe]}if(me!==void 0){if(te[me]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,te);return}te=te[me]}}const fe=te[ce];if(fe===void 0){const me=ae.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+me+"."+ce+" but it wasn't found.",te);return}let de=this.Versioning.None;this.targetObject=te,te.isMaterial===!0?de=this.Versioning.NeedsUpdate:te.isObject3D===!0&&(de=this.Versioning.MatrixWorldNeedsUpdate);let pe=this.BindingType.Direct;if(ue!==void 0){if(ce==="morphTargetInfluences"){if(!te.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!te.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}te.morphTargetDictionary[ue]!==void 0&&(ue=te.morphTargetDictionary[ue])}pe=this.BindingType.ArrayElement,this.resolvedProperty=fe,this.propertyIndex=ue}else fe.fromArray!==void 0&&fe.toArray!==void 0?(pe=this.BindingType.HasFromToArray,this.resolvedProperty=fe):Array.isArray(fe)?(pe=this.BindingType.EntireArray,this.resolvedProperty=fe):this.propertyName=ce;this.getValue=this.GetterByBindingType[pe],this.setValue=this.SetterByBindingTypeAndVersioning[pe][de]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const te={};this._indicesByUUID=te;for(let oe=0,ce=arguments.length;oe!==ce;++oe)te[arguments[oe].uuid]=oe;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const ae=this;this.stats={objects:{get total(){return ae._objects.length},get inUse(){return this.total-ae.nCachedObjects_}},get bindingsPerObject(){return ae._bindings.length}}}add(){const te=this._objects,ae=this._indicesByUUID,oe=this._paths,ce=this._parsedPaths,ue=this._bindings,fe=ue.length;let de,pe=te.length,me=this.nCachedObjects_;for(let _e=0,be=arguments.length;_e!==be;++_e){const Ee=arguments[_e],Ae=Ee.uuid;let Re=ae[Ae];if(Re===void 0){Re=pe++,ae[Ae]=Re,te.push(Ee);for(let Be=0,De=fe;Be!==De;++Be)ue[Be].push(new PropertyBinding(Ee,oe[Be],ce[Be]))}else if(Re<me){de=te[Re];const Be=--me,De=te[Be];ae[De.uuid]=Re,te[Re]=De,ae[Ae]=Be,te[Be]=Ee;for(let Oe=0,Pe=fe;Oe!==Pe;++Oe){const Ie=ue[Oe],Fe=Ie[Be];let $e=Ie[Re];Ie[Re]=Fe,$e===void 0&&($e=new PropertyBinding(Ee,oe[Oe],ce[Oe])),Ie[Be]=$e}}else te[Re]!==de&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=me}remove(){const te=this._objects,ae=this._indicesByUUID,oe=this._bindings,ce=oe.length;let ue=this.nCachedObjects_;for(let fe=0,de=arguments.length;fe!==de;++fe){const pe=arguments[fe],me=pe.uuid,_e=ae[me];if(_e!==void 0&&_e>=ue){const be=ue++,Ee=te[be];ae[Ee.uuid]=_e,te[_e]=Ee,ae[me]=be,te[be]=pe;for(let Ae=0,Re=ce;Ae!==Re;++Ae){const Be=oe[Ae],De=Be[be],Oe=Be[_e];Be[_e]=De,Be[be]=Oe}}}this.nCachedObjects_=ue}uncache(){const te=this._objects,ae=this._indicesByUUID,oe=this._bindings,ce=oe.length;let ue=this.nCachedObjects_,fe=te.length;for(let de=0,pe=arguments.length;de!==pe;++de){const me=arguments[de],_e=me.uuid,be=ae[_e];if(be!==void 0)if(delete ae[_e],be<ue){const Ee=--ue,Ae=te[Ee],Re=--fe,Be=te[Re];ae[Ae.uuid]=be,te[be]=Ae,ae[Be.uuid]=Ee,te[Ee]=Be,te.pop();for(let De=0,Oe=ce;De!==Oe;++De){const Pe=oe[De],Ie=Pe[Ee],Fe=Pe[Re];Pe[be]=Ie,Pe[Ee]=Fe,Pe.pop()}}else{const Ee=--fe,Ae=te[Ee];Ee>0&&(ae[Ae.uuid]=be),te[be]=Ae,te.pop();for(let Re=0,Be=ce;Re!==Be;++Re){const De=oe[Re];De[be]=De[Ee],De.pop()}}}this.nCachedObjects_=ue}subscribe_(te,ae){const oe=this._bindingsIndicesByPath;let ce=oe[te];const ue=this._bindings;if(ce!==void 0)return ue[ce];const fe=this._paths,de=this._parsedPaths,pe=this._objects,me=pe.length,_e=this.nCachedObjects_,be=new Array(me);ce=ue.length,oe[te]=ce,fe.push(te),de.push(ae),ue.push(be);for(let Ee=_e,Ae=pe.length;Ee!==Ae;++Ee){const Re=pe[Ee];be[Ee]=new PropertyBinding(Re,te,ae)}return be}unsubscribe_(te){const ae=this._bindingsIndicesByPath,oe=ae[te];if(oe!==void 0){const ce=this._paths,ue=this._parsedPaths,fe=this._bindings,de=fe.length-1,pe=fe[de],me=te[de];ae[me]=oe,fe[oe]=pe,fe.pop(),ue[oe]=ue[de],ue.pop(),ce[oe]=ce[de],ce.pop()}}}class AnimationAction{constructor(te,ae,oe=null,ce=ae.blendMode){this._mixer=te,this._clip=ae,this._localRoot=oe,this.blendMode=ce;const ue=ae.tracks,fe=ue.length,de=new Array(fe),pe={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let me=0;me!==fe;++me){const _e=ue[me].createInterpolant(null);de[me]=_e,_e.settings=pe}this._interpolantSettings=pe,this._interpolants=de,this._propertyBindings=new Array(fe),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(te){return this._startTime=te,this}setLoop(te,ae){return this.loop=te,this.repetitions=ae,this}setEffectiveWeight(te){return this.weight=te,this._effectiveWeight=this.enabled?te:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(te){return this._scheduleFading(te,0,1)}fadeOut(te){return this._scheduleFading(te,1,0)}crossFadeFrom(te,ae,oe=!1){if(te.fadeOut(ae),this.fadeIn(ae),oe===!0){const ce=this._clip.duration,ue=te._clip.duration,fe=ue/ce,de=ce/ue;te.warp(1,fe,ae),this.warp(de,1,ae)}return this}crossFadeTo(te,ae,oe=!1){return te.crossFadeFrom(this,ae,oe)}stopFading(){const te=this._weightInterpolant;return te!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(te)),this}setEffectiveTimeScale(te){return this.timeScale=te,this._effectiveTimeScale=this.paused?0:te,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(te){return this.timeScale=this._clip.duration/te,this.stopWarping()}syncWith(te){return this.time=te.time,this.timeScale=te.timeScale,this.stopWarping()}halt(te){return this.warp(this._effectiveTimeScale,0,te)}warp(te,ae,oe){const ce=this._mixer,ue=ce.time,fe=this.timeScale;let de=this._timeScaleInterpolant;de===null&&(de=ce._lendControlInterpolant(),this._timeScaleInterpolant=de);const pe=de.parameterPositions,me=de.sampleValues;return pe[0]=ue,pe[1]=ue+oe,me[0]=te/fe,me[1]=ae/fe,this}stopWarping(){const te=this._timeScaleInterpolant;return te!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(te)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(te,ae,oe,ce){if(!this.enabled){this._updateWeight(te);return}const ue=this._startTime;if(ue!==null){const pe=(te-ue)*oe;pe<0||oe===0?ae=0:(this._startTime=null,ae=oe*pe)}ae*=this._updateTimeScale(te);const fe=this._updateTime(ae),de=this._updateWeight(te);if(de>0){const pe=this._interpolants,me=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let _e=0,be=pe.length;_e!==be;++_e)pe[_e].evaluate(fe),me[_e].accumulateAdditive(de);break;case NormalAnimationBlendMode:default:for(let _e=0,be=pe.length;_e!==be;++_e)pe[_e].evaluate(fe),me[_e].accumulate(ce,de)}}}_updateWeight(te){let ae=0;if(this.enabled){ae=this.weight;const oe=this._weightInterpolant;if(oe!==null){const ce=oe.evaluate(te)[0];ae*=ce,te>oe.parameterPositions[1]&&(this.stopFading(),ce===0&&(this.enabled=!1))}}return this._effectiveWeight=ae,ae}_updateTimeScale(te){let ae=0;if(!this.paused){ae=this.timeScale;const oe=this._timeScaleInterpolant;if(oe!==null){const ce=oe.evaluate(te)[0];ae*=ce,te>oe.parameterPositions[1]&&(this.stopWarping(),ae===0?this.paused=!0:this.timeScale=ae)}}return this._effectiveTimeScale=ae,ae}_updateTime(te){const ae=this._clip.duration,oe=this.loop;let ce=this.time+te,ue=this._loopCount;const fe=oe===LoopPingPong;if(te===0)return ue===-1?ce:fe&&(ue&1)===1?ae-ce:ce;if(oe===LoopOnce){ue===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ce>=ae)ce=ae;else if(ce<0)ce=0;else{this.time=ce;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=ce,this._mixer.dispatchEvent({type:"finished",action:this,direction:te<0?-1:1})}}else{if(ue===-1&&(te>=0?(ue=0,this._setEndings(!0,this.repetitions===0,fe)):this._setEndings(this.repetitions===0,!0,fe)),ce>=ae||ce<0){const de=Math.floor(ce/ae);ce-=ae*de,ue+=Math.abs(de);const pe=this.repetitions-ue;if(pe<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ce=te>0?ae:0,this.time=ce,this._mixer.dispatchEvent({type:"finished",action:this,direction:te>0?1:-1});else{if(pe===1){const me=te<0;this._setEndings(me,!me,fe)}else this._setEndings(!1,!1,fe);this._loopCount=ue,this.time=ce,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:de})}}else this.time=ce;if(fe&&(ue&1)===1)return ae-ce}return ce}_setEndings(te,ae,oe){const ce=this._interpolantSettings;oe?(ce.endingStart=ZeroSlopeEnding,ce.endingEnd=ZeroSlopeEnding):(te?ce.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:ce.endingStart=WrapAroundEnding,ae?ce.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:ce.endingEnd=WrapAroundEnding)}_scheduleFading(te,ae,oe){const ce=this._mixer,ue=ce.time;let fe=this._weightInterpolant;fe===null&&(fe=ce._lendControlInterpolant(),this._weightInterpolant=fe);const de=fe.parameterPositions,pe=fe.sampleValues;return de[0]=ue,pe[0]=ae,de[1]=ue+te,pe[1]=oe,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(te){super(),this._root=te,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(te,ae){const oe=te._localRoot||this._root,ce=te._clip.tracks,ue=ce.length,fe=te._propertyBindings,de=te._interpolants,pe=oe.uuid,me=this._bindingsByRootAndName;let _e=me[pe];_e===void 0&&(_e={},me[pe]=_e);for(let be=0;be!==ue;++be){const Ee=ce[be],Ae=Ee.name;let Re=_e[Ae];if(Re!==void 0)++Re.referenceCount,fe[be]=Re;else{if(Re=fe[be],Re!==void 0){Re._cacheIndex===null&&(++Re.referenceCount,this._addInactiveBinding(Re,pe,Ae));continue}const Be=ae&&ae._propertyBindings[be].binding.parsedPath;Re=new PropertyMixer(PropertyBinding.create(oe,Ae,Be),Ee.ValueTypeName,Ee.getValueSize()),++Re.referenceCount,this._addInactiveBinding(Re,pe,Ae),fe[be]=Re}de[be].resultBuffer=Re.buffer}}_activateAction(te){if(!this._isActiveAction(te)){if(te._cacheIndex===null){const oe=(te._localRoot||this._root).uuid,ce=te._clip.uuid,ue=this._actionsByClip[ce];this._bindAction(te,ue&&ue.knownActions[0]),this._addInactiveAction(te,ce,oe)}const ae=te._propertyBindings;for(let oe=0,ce=ae.length;oe!==ce;++oe){const ue=ae[oe];ue.useCount++===0&&(this._lendBinding(ue),ue.saveOriginalState())}this._lendAction(te)}}_deactivateAction(te){if(this._isActiveAction(te)){const ae=te._propertyBindings;for(let oe=0,ce=ae.length;oe!==ce;++oe){const ue=ae[oe];--ue.useCount===0&&(ue.restoreOriginalState(),this._takeBackBinding(ue))}this._takeBackAction(te)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const te=this;this.stats={actions:{get total(){return te._actions.length},get inUse(){return te._nActiveActions}},bindings:{get total(){return te._bindings.length},get inUse(){return te._nActiveBindings}},controlInterpolants:{get total(){return te._controlInterpolants.length},get inUse(){return te._nActiveControlInterpolants}}}}_isActiveAction(te){const ae=te._cacheIndex;return ae!==null&&ae<this._nActiveActions}_addInactiveAction(te,ae,oe){const ce=this._actions,ue=this._actionsByClip;let fe=ue[ae];if(fe===void 0)fe={knownActions:[te],actionByRoot:{}},te._byClipCacheIndex=0,ue[ae]=fe;else{const de=fe.knownActions;te._byClipCacheIndex=de.length,de.push(te)}te._cacheIndex=ce.length,ce.push(te),fe.actionByRoot[oe]=te}_removeInactiveAction(te){const ae=this._actions,oe=ae[ae.length-1],ce=te._cacheIndex;oe._cacheIndex=ce,ae[ce]=oe,ae.pop(),te._cacheIndex=null;const ue=te._clip.uuid,fe=this._actionsByClip,de=fe[ue],pe=de.knownActions,me=pe[pe.length-1],_e=te._byClipCacheIndex;me._byClipCacheIndex=_e,pe[_e]=me,pe.pop(),te._byClipCacheIndex=null;const be=de.actionByRoot,Ee=(te._localRoot||this._root).uuid;delete be[Ee],pe.length===0&&delete fe[ue],this._removeInactiveBindingsForAction(te)}_removeInactiveBindingsForAction(te){const ae=te._propertyBindings;for(let oe=0,ce=ae.length;oe!==ce;++oe){const ue=ae[oe];--ue.referenceCount===0&&this._removeInactiveBinding(ue)}}_lendAction(te){const ae=this._actions,oe=te._cacheIndex,ce=this._nActiveActions++,ue=ae[ce];te._cacheIndex=ce,ae[ce]=te,ue._cacheIndex=oe,ae[oe]=ue}_takeBackAction(te){const ae=this._actions,oe=te._cacheIndex,ce=--this._nActiveActions,ue=ae[ce];te._cacheIndex=ce,ae[ce]=te,ue._cacheIndex=oe,ae[oe]=ue}_addInactiveBinding(te,ae,oe){const ce=this._bindingsByRootAndName,ue=this._bindings;let fe=ce[ae];fe===void 0&&(fe={},ce[ae]=fe),fe[oe]=te,te._cacheIndex=ue.length,ue.push(te)}_removeInactiveBinding(te){const ae=this._bindings,oe=te.binding,ce=oe.rootNode.uuid,ue=oe.path,fe=this._bindingsByRootAndName,de=fe[ce],pe=ae[ae.length-1],me=te._cacheIndex;pe._cacheIndex=me,ae[me]=pe,ae.pop(),delete de[ue],Object.keys(de).length===0&&delete fe[ce]}_lendBinding(te){const ae=this._bindings,oe=te._cacheIndex,ce=this._nActiveBindings++,ue=ae[ce];te._cacheIndex=ce,ae[ce]=te,ue._cacheIndex=oe,ae[oe]=ue}_takeBackBinding(te){const ae=this._bindings,oe=te._cacheIndex,ce=--this._nActiveBindings,ue=ae[ce];te._cacheIndex=ce,ae[ce]=te,ue._cacheIndex=oe,ae[oe]=ue}_lendControlInterpolant(){const te=this._controlInterpolants,ae=this._nActiveControlInterpolants++;let oe=te[ae];return oe===void 0&&(oe=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),oe.__cacheIndex=ae,te[ae]=oe),oe}_takeBackControlInterpolant(te){const ae=this._controlInterpolants,oe=te.__cacheIndex,ce=--this._nActiveControlInterpolants,ue=ae[ce];te.__cacheIndex=ce,ae[ce]=te,ue.__cacheIndex=oe,ae[oe]=ue}clipAction(te,ae,oe){const ce=ae||this._root,ue=ce.uuid;let fe=typeof te=="string"?AnimationClip.findByName(ce,te):te;const de=fe!==null?fe.uuid:te,pe=this._actionsByClip[de];let me=null;if(oe===void 0&&(fe!==null?oe=fe.blendMode:oe=NormalAnimationBlendMode),pe!==void 0){const be=pe.actionByRoot[ue];if(be!==void 0&&be.blendMode===oe)return be;me=pe.knownActions[0],fe===null&&(fe=me._clip)}if(fe===null)return null;const _e=new AnimationAction(this,fe,ae,oe);return this._bindAction(_e,me),this._addInactiveAction(_e,de,ue),_e}existingAction(te,ae){const oe=ae||this._root,ce=oe.uuid,ue=typeof te=="string"?AnimationClip.findByName(oe,te):te,fe=ue?ue.uuid:te,de=this._actionsByClip[fe];return de!==void 0&&de.actionByRoot[ce]||null}stopAllAction(){const te=this._actions,ae=this._nActiveActions;for(let oe=ae-1;oe>=0;--oe)te[oe].stop();return this}update(te){te*=this.timeScale;const ae=this._actions,oe=this._nActiveActions,ce=this.time+=te,ue=Math.sign(te),fe=this._accuIndex^=1;for(let me=0;me!==oe;++me)ae[me]._update(ce,te,ue,fe);const de=this._bindings,pe=this._nActiveBindings;for(let me=0;me!==pe;++me)de[me].apply(fe);return this}setTime(te){this.time=0;for(let ae=0;ae<this._actions.length;ae++)this._actions[ae].time=0;return this.update(te)}getRoot(){return this._root}uncacheClip(te){const ae=this._actions,oe=te.uuid,ce=this._actionsByClip,ue=ce[oe];if(ue!==void 0){const fe=ue.knownActions;for(let de=0,pe=fe.length;de!==pe;++de){const me=fe[de];this._deactivateAction(me);const _e=me._cacheIndex,be=ae[ae.length-1];me._cacheIndex=null,me._byClipCacheIndex=null,be._cacheIndex=_e,ae[_e]=be,ae.pop(),this._removeInactiveBindingsForAction(me)}delete ce[oe]}}uncacheRoot(te){const ae=te.uuid,oe=this._actionsByClip;for(const fe in oe){const de=oe[fe].actionByRoot,pe=de[ae];pe!==void 0&&(this._deactivateAction(pe),this._removeInactiveAction(pe))}const ce=this._bindingsByRootAndName,ue=ce[ae];if(ue!==void 0)for(const fe in ue){const de=ue[fe];de.restoreOriginalState(),this._removeInactiveBinding(de)}}uncacheAction(te,ae){const oe=this.existingAction(te,ae);oe!==null&&(this._deactivateAction(oe),this._removeInactiveAction(oe))}}class RenderTarget3D extends RenderTarget{constructor(te=1,ae=1,oe=1,ce={}){super(te,ae,ce),this.isRenderTarget3D=!0,this.depth=oe,this.texture=new Data3DTexture(null,te,ae,oe),this.texture.isRenderTargetTexture=!0}}class RenderTargetArray extends RenderTarget{constructor(te=1,ae=1,oe=1,ce={}){super(te,ae,ce),this.isRenderTargetArray=!0,this.depth=oe,this.texture=new DataArrayTexture(null,te,ae,oe),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor(te){this.value=te}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$3=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(te){return this.uniforms.push(te),this}remove(te){const ae=this.uniforms.indexOf(te);return ae!==-1&&this.uniforms.splice(ae,1),this}setName(te){return this.name=te,this}setUsage(te){return this.usage=te,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(te){this.name=te.name,this.usage=te.usage;const ae=te.uniforms;this.uniforms.length=0;for(let oe=0,ce=ae.length;oe<ce;oe++){const ue=Array.isArray(ae[oe])?ae[oe]:[ae[oe]];for(let fe=0;fe<ue.length;fe++)this.uniforms.push(ue[fe].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(te,ae,oe=1){super(te,ae),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=oe}copy(te){return super.copy(te),this.meshPerAttribute=te.meshPerAttribute,this}clone(te){const ae=super.clone(te);return ae.meshPerAttribute=this.meshPerAttribute,ae}toJSON(te){const ae=super.toJSON(te);return ae.isInstancedInterleavedBuffer=!0,ae.meshPerAttribute=this.meshPerAttribute,ae}}class GLBufferAttribute{constructor(te,ae,oe,ce,ue){this.isGLBufferAttribute=!0,this.name="",this.buffer=te,this.type=ae,this.itemSize=oe,this.elementSize=ce,this.count=ue,this.version=0}set needsUpdate(te){te===!0&&this.version++}setBuffer(te){return this.buffer=te,this}setType(te,ae){return this.type=te,this.elementSize=ae,this}setItemSize(te){return this.itemSize=te,this}setCount(te){return this.count=te,this}}const _matrix=new Matrix4;class Raycaster{constructor(te,ae,oe=0,ce=1/0){this.ray=new Ray(te,ae),this.near=oe,this.far=ce,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(te,ae){this.ray.set(te,ae)}setFromCamera(te,ae){ae.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(ae.matrixWorld),this.ray.direction.set(te.x,te.y,.5).unproject(ae).sub(this.ray.origin).normalize(),this.camera=ae):ae.isOrthographicCamera?(this.ray.origin.set(te.x,te.y,(ae.near+ae.far)/(ae.near-ae.far)).unproject(ae),this.ray.direction.set(0,0,-1).transformDirection(ae.matrixWorld),this.camera=ae):console.error("THREE.Raycaster: Unsupported camera type: "+ae.type)}setFromXRController(te){return _matrix.identity().extractRotation(te.matrixWorld),this.ray.origin.setFromMatrixPosition(te.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(te,ae=!0,oe=[]){return intersect(te,this,oe,ae),oe.sort(ascSort),oe}intersectObjects(te,ae=!0,oe=[]){for(let ce=0,ue=te.length;ce<ue;ce++)intersect(te[ce],this,oe,ae);return oe.sort(ascSort),oe}}function ascSort(se,te){return se.distance-te.distance}function intersect(se,te,ae,oe){let ce=!0;if(se.layers.test(te.layers)&&se.raycast(te,ae)===!1&&(ce=!1),ce===!0&&oe===!0){const ue=se.children;for(let fe=0,de=ue.length;fe<de;fe++)intersect(ue[fe],te,ae,!0)}}class Spherical{constructor(te=1,ae=0,oe=0){this.radius=te,this.phi=ae,this.theta=oe}set(te,ae,oe){return this.radius=te,this.phi=ae,this.theta=oe,this}copy(te){return this.radius=te.radius,this.phi=te.phi,this.theta=te.theta,this}makeSafe(){return this.phi=clamp$4(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(te){return this.setFromCartesianCoords(te.x,te.y,te.z)}setFromCartesianCoords(te,ae,oe){return this.radius=Math.sqrt(te*te+ae*ae+oe*oe),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(te,oe),this.phi=Math.acos(clamp$4(ae/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(te=1,ae=0,oe=0){this.radius=te,this.theta=ae,this.y=oe}set(te,ae,oe){return this.radius=te,this.theta=ae,this.y=oe,this}copy(te){return this.radius=te.radius,this.theta=te.theta,this.y=te.y,this}setFromVector3(te){return this.setFromCartesianCoords(te.x,te.y,te.z)}setFromCartesianCoords(te,ae,oe){return this.radius=Math.sqrt(te*te+oe*oe),this.theta=Math.atan2(te,oe),this.y=ae,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(te,ae,oe,ce){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],te!==void 0&&this.set(te,ae,oe,ce)}identity(){return this.set(1,0,0,1),this}fromArray(te,ae=0){for(let oe=0;oe<4;oe++)this.elements[oe]=te[oe+ae];return this}set(te,ae,oe,ce){const ue=this.elements;return ue[0]=te,ue[2]=ae,ue[1]=oe,ue[3]=ce,this}}const _vector$4=new Vector2;class Box2{constructor(te=new Vector2(1/0,1/0),ae=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=te,this.max=ae}set(te,ae){return this.min.copy(te),this.max.copy(ae),this}setFromPoints(te){this.makeEmpty();for(let ae=0,oe=te.length;ae<oe;ae++)this.expandByPoint(te[ae]);return this}setFromCenterAndSize(te,ae){const oe=_vector$4.copy(ae).multiplyScalar(.5);return this.min.copy(te).sub(oe),this.max.copy(te).add(oe),this}clone(){return new this.constructor().copy(this)}copy(te){return this.min.copy(te.min),this.max.copy(te.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(te){return this.isEmpty()?te.set(0,0):te.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(te){return this.isEmpty()?te.set(0,0):te.subVectors(this.max,this.min)}expandByPoint(te){return this.min.min(te),this.max.max(te),this}expandByVector(te){return this.min.sub(te),this.max.add(te),this}expandByScalar(te){return this.min.addScalar(-te),this.max.addScalar(te),this}containsPoint(te){return te.x>=this.min.x&&te.x<=this.max.x&&te.y>=this.min.y&&te.y<=this.max.y}containsBox(te){return this.min.x<=te.min.x&&te.max.x<=this.max.x&&this.min.y<=te.min.y&&te.max.y<=this.max.y}getParameter(te,ae){return ae.set((te.x-this.min.x)/(this.max.x-this.min.x),(te.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(te){return te.max.x>=this.min.x&&te.min.x<=this.max.x&&te.max.y>=this.min.y&&te.min.y<=this.max.y}clampPoint(te,ae){return ae.copy(te).clamp(this.min,this.max)}distanceToPoint(te){return this.clampPoint(te,_vector$4).distanceTo(te)}intersect(te){return this.min.max(te.min),this.max.min(te.max),this.isEmpty()&&this.makeEmpty(),this}union(te){return this.min.min(te.min),this.max.max(te.max),this}translate(te){return this.min.add(te),this.max.add(te),this}equals(te){return te.min.equals(this.min)&&te.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(te=new Vector3,ae=new Vector3){this.start=te,this.end=ae}set(te,ae){return this.start.copy(te),this.end.copy(ae),this}copy(te){return this.start.copy(te.start),this.end.copy(te.end),this}getCenter(te){return te.addVectors(this.start,this.end).multiplyScalar(.5)}delta(te){return te.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(te,ae){return this.delta(ae).multiplyScalar(te).add(this.start)}closestPointToPointParameter(te,ae){_startP.subVectors(te,this.start),_startEnd.subVectors(this.end,this.start);const oe=_startEnd.dot(_startEnd);let ue=_startEnd.dot(_startP)/oe;return ae&&(ue=clamp$4(ue,0,1)),ue}closestPointToPoint(te,ae,oe){const ce=this.closestPointToPointParameter(te,ae);return this.delta(oe).multiplyScalar(ce).add(this.start)}applyMatrix4(te){return this.start.applyMatrix4(te),this.end.applyMatrix4(te),this}equals(te){return te.start.equals(this.start)&&te.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(te,ae){super(),this.light=te,this.matrixAutoUpdate=!1,this.color=ae,this.type="SpotLightHelper";const oe=new BufferGeometry,ce=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let fe=0,de=1,pe=32;fe<pe;fe++,de++){const me=fe/pe*Math.PI*2,_e=de/pe*Math.PI*2;ce.push(Math.cos(me),Math.sin(me),1,Math.cos(_e),Math.sin(_e),1)}oe.setAttribute("position",new Float32BufferAttribute(ce,3));const ue=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(oe,ue),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const te=this.light.distance?this.light.distance:1e3,ae=te*Math.tan(this.light.angle);this.cone.scale.set(ae,ae,te),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(te){const ae=getBoneList(te),oe=new BufferGeometry,ce=[],ue=[],fe=new Color$1(0,0,1),de=new Color$1(0,1,0);for(let me=0;me<ae.length;me++){const _e=ae[me];_e.parent&&_e.parent.isBone&&(ce.push(0,0,0),ce.push(0,0,0),ue.push(fe.r,fe.g,fe.b),ue.push(de.r,de.g,de.b))}oe.setAttribute("position",new Float32BufferAttribute(ce,3)),oe.setAttribute("color",new Float32BufferAttribute(ue,3));const pe=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(oe,pe),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=te,this.bones=ae,this.matrix=te.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(te){const ae=this.bones,oe=this.geometry,ce=oe.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let ue=0,fe=0;ue<ae.length;ue++){const de=ae[ue];de.parent&&de.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,de.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ce.setXYZ(fe,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,de.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ce.setXYZ(fe+1,_vector$2.x,_vector$2.y,_vector$2.z),fe+=2)}oe.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(te)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(se){const te=[];se.isBone===!0&&te.push(se);for(let ae=0;ae<se.children.length;ae++)te.push(...getBoneList(se.children[ae]));return te}class PointLightHelper extends Mesh{constructor(te,ae,oe){const ce=new SphereGeometry(ae,4,2),ue=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(ce,ue),this.light=te,this.color=oe,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color$1,_color2=new Color$1;class HemisphereLightHelper extends Object3D{constructor(te,ae,oe){super(),this.light=te,this.matrix=te.matrixWorld,this.matrixAutoUpdate=!1,this.color=oe,this.type="HemisphereLightHelper";const ce=new OctahedronGeometry(ae);ce.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const ue=ce.getAttribute("position"),fe=new Float32Array(ue.count*3);ce.setAttribute("color",new BufferAttribute(fe,3)),this.add(new Mesh(ce,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const te=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const ae=te.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let oe=0,ce=ae.count;oe<ce;oe++){const ue=oe<ce/2?_color1:_color2;ae.setXYZ(oe,ue.r,ue.g,ue.b)}ae.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),te.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(te=10,ae=10,oe=4473924,ce=8947848){oe=new Color$1(oe),ce=new Color$1(ce);const ue=ae/2,fe=te/ae,de=te/2,pe=[],me=[];for(let Ee=0,Ae=0,Re=-de;Ee<=ae;Ee++,Re+=fe){pe.push(-de,0,Re,de,0,Re),pe.push(Re,0,-de,Re,0,de);const Be=Ee===ue?oe:ce;Be.toArray(me,Ae),Ae+=3,Be.toArray(me,Ae),Ae+=3,Be.toArray(me,Ae),Ae+=3,Be.toArray(me,Ae),Ae+=3}const _e=new BufferGeometry;_e.setAttribute("position",new Float32BufferAttribute(pe,3)),_e.setAttribute("color",new Float32BufferAttribute(me,3));const be=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(_e,be),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(te=10,ae=16,oe=8,ce=64,ue=4473924,fe=8947848){ue=new Color$1(ue),fe=new Color$1(fe);const de=[],pe=[];if(ae>1)for(let be=0;be<ae;be++){const Ee=be/ae*(Math.PI*2),Ae=Math.sin(Ee)*te,Re=Math.cos(Ee)*te;de.push(0,0,0),de.push(Ae,0,Re);const Be=be&1?ue:fe;pe.push(Be.r,Be.g,Be.b),pe.push(Be.r,Be.g,Be.b)}for(let be=0;be<oe;be++){const Ee=be&1?ue:fe,Ae=te-te/oe*be;for(let Re=0;Re<ce;Re++){let Be=Re/ce*(Math.PI*2),De=Math.sin(Be)*Ae,Oe=Math.cos(Be)*Ae;de.push(De,0,Oe),pe.push(Ee.r,Ee.g,Ee.b),Be=(Re+1)/ce*(Math.PI*2),De=Math.sin(Be)*Ae,Oe=Math.cos(Be)*Ae,de.push(De,0,Oe),pe.push(Ee.r,Ee.g,Ee.b)}}const me=new BufferGeometry;me.setAttribute("position",new Float32BufferAttribute(de,3)),me.setAttribute("color",new Float32BufferAttribute(pe,3));const _e=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(me,_e),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(te,ae,oe){super(),this.light=te,this.matrix=te.matrixWorld,this.matrixAutoUpdate=!1,this.color=oe,this.type="DirectionalLightHelper",ae===void 0&&(ae=1);let ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute([-ae,ae,0,ae,ae,0,ae,-ae,0,-ae,-ae,0,-ae,ae,0],3));const ue=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(ce,ue),this.add(this.lightPlane),ce=new BufferGeometry,ce.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(ce,ue),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(te){const ae=new BufferGeometry,oe=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),ce=[],ue=[],fe={};de("n1","n2"),de("n2","n4"),de("n4","n3"),de("n3","n1"),de("f1","f2"),de("f2","f4"),de("f4","f3"),de("f3","f1"),de("n1","f1"),de("n2","f2"),de("n3","f3"),de("n4","f4"),de("p","n1"),de("p","n2"),de("p","n3"),de("p","n4"),de("u1","u2"),de("u2","u3"),de("u3","u1"),de("c","t"),de("p","c"),de("cn1","cn2"),de("cn3","cn4"),de("cf1","cf2"),de("cf3","cf4");function de(Re,Be){pe(Re),pe(Be)}function pe(Re){ce.push(0,0,0),ue.push(0,0,0),fe[Re]===void 0&&(fe[Re]=[]),fe[Re].push(ce.length/3-1)}ae.setAttribute("position",new Float32BufferAttribute(ce,3)),ae.setAttribute("color",new Float32BufferAttribute(ue,3)),super(ae,oe),this.type="CameraHelper",this.camera=te,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=te.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=fe,this.update();const me=new Color$1(16755200),_e=new Color$1(16711680),be=new Color$1(43775),Ee=new Color$1(16777215),Ae=new Color$1(3355443);this.setColors(me,_e,be,Ee,Ae)}setColors(te,ae,oe,ce,ue){const de=this.geometry.getAttribute("color");de.setXYZ(0,te.r,te.g,te.b),de.setXYZ(1,te.r,te.g,te.b),de.setXYZ(2,te.r,te.g,te.b),de.setXYZ(3,te.r,te.g,te.b),de.setXYZ(4,te.r,te.g,te.b),de.setXYZ(5,te.r,te.g,te.b),de.setXYZ(6,te.r,te.g,te.b),de.setXYZ(7,te.r,te.g,te.b),de.setXYZ(8,te.r,te.g,te.b),de.setXYZ(9,te.r,te.g,te.b),de.setXYZ(10,te.r,te.g,te.b),de.setXYZ(11,te.r,te.g,te.b),de.setXYZ(12,te.r,te.g,te.b),de.setXYZ(13,te.r,te.g,te.b),de.setXYZ(14,te.r,te.g,te.b),de.setXYZ(15,te.r,te.g,te.b),de.setXYZ(16,te.r,te.g,te.b),de.setXYZ(17,te.r,te.g,te.b),de.setXYZ(18,te.r,te.g,te.b),de.setXYZ(19,te.r,te.g,te.b),de.setXYZ(20,te.r,te.g,te.b),de.setXYZ(21,te.r,te.g,te.b),de.setXYZ(22,te.r,te.g,te.b),de.setXYZ(23,te.r,te.g,te.b),de.setXYZ(24,ae.r,ae.g,ae.b),de.setXYZ(25,ae.r,ae.g,ae.b),de.setXYZ(26,ae.r,ae.g,ae.b),de.setXYZ(27,ae.r,ae.g,ae.b),de.setXYZ(28,ae.r,ae.g,ae.b),de.setXYZ(29,ae.r,ae.g,ae.b),de.setXYZ(30,ae.r,ae.g,ae.b),de.setXYZ(31,ae.r,ae.g,ae.b),de.setXYZ(32,oe.r,oe.g,oe.b),de.setXYZ(33,oe.r,oe.g,oe.b),de.setXYZ(34,oe.r,oe.g,oe.b),de.setXYZ(35,oe.r,oe.g,oe.b),de.setXYZ(36,oe.r,oe.g,oe.b),de.setXYZ(37,oe.r,oe.g,oe.b),de.setXYZ(38,ce.r,ce.g,ce.b),de.setXYZ(39,ce.r,ce.g,ce.b),de.setXYZ(40,ue.r,ue.g,ue.b),de.setXYZ(41,ue.r,ue.g,ue.b),de.setXYZ(42,ue.r,ue.g,ue.b),de.setXYZ(43,ue.r,ue.g,ue.b),de.setXYZ(44,ue.r,ue.g,ue.b),de.setXYZ(45,ue.r,ue.g,ue.b),de.setXYZ(46,ue.r,ue.g,ue.b),de.setXYZ(47,ue.r,ue.g,ue.b),de.setXYZ(48,ue.r,ue.g,ue.b),de.setXYZ(49,ue.r,ue.g,ue.b),de.needsUpdate=!0}update(){const te=this.geometry,ae=this.pointMap,oe=1,ce=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const ue=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",ae,te,_camera,0,0,ue),setPoint("t",ae,te,_camera,0,0,1),setPoint("n1",ae,te,_camera,-1,-1,ue),setPoint("n2",ae,te,_camera,oe,-1,ue),setPoint("n3",ae,te,_camera,-1,ce,ue),setPoint("n4",ae,te,_camera,oe,ce,ue),setPoint("f1",ae,te,_camera,-1,-1,1),setPoint("f2",ae,te,_camera,oe,-1,1),setPoint("f3",ae,te,_camera,-1,ce,1),setPoint("f4",ae,te,_camera,oe,ce,1),setPoint("u1",ae,te,_camera,oe*.7,ce*1.1,ue),setPoint("u2",ae,te,_camera,-1*.7,ce*1.1,ue),setPoint("u3",ae,te,_camera,0,ce*2,ue),setPoint("cf1",ae,te,_camera,-1,0,1),setPoint("cf2",ae,te,_camera,oe,0,1),setPoint("cf3",ae,te,_camera,0,-1,1),setPoint("cf4",ae,te,_camera,0,ce,1),setPoint("cn1",ae,te,_camera,-1,0,ue),setPoint("cn2",ae,te,_camera,oe,0,ue),setPoint("cn3",ae,te,_camera,0,-1,ue),setPoint("cn4",ae,te,_camera,0,ce,ue),te.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(se,te,ae,oe,ce,ue,fe){_vector.set(ce,ue,fe).unproject(oe);const de=te[se];if(de!==void 0){const pe=ae.getAttribute("position");for(let me=0,_e=de.length;me<_e;me++)pe.setXYZ(de[me],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(te,ae=16776960){const oe=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ce=new Float32Array(8*3),ue=new BufferGeometry;ue.setIndex(new BufferAttribute(oe,1)),ue.setAttribute("position",new BufferAttribute(ce,3)),super(ue,new LineBasicMaterial({color:ae,toneMapped:!1})),this.object=te,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const te=_box.min,ae=_box.max,oe=this.geometry.attributes.position,ce=oe.array;ce[0]=ae.x,ce[1]=ae.y,ce[2]=ae.z,ce[3]=te.x,ce[4]=ae.y,ce[5]=ae.z,ce[6]=te.x,ce[7]=te.y,ce[8]=ae.z,ce[9]=ae.x,ce[10]=te.y,ce[11]=ae.z,ce[12]=ae.x,ce[13]=ae.y,ce[14]=te.z,ce[15]=te.x,ce[16]=ae.y,ce[17]=te.z,ce[18]=te.x,ce[19]=te.y,ce[20]=te.z,ce[21]=ae.x,ce[22]=te.y,ce[23]=te.z,oe.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(te){return this.object=te,this.update(),this}copy(te,ae){return super.copy(te,ae),this.object=te.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(te,ae=16776960){const oe=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ce=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],ue=new BufferGeometry;ue.setIndex(new BufferAttribute(oe,1)),ue.setAttribute("position",new Float32BufferAttribute(ce,3)),super(ue,new LineBasicMaterial({color:ae,toneMapped:!1})),this.box=te,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(te){const ae=this.box;ae.isEmpty()||(ae.getCenter(this.position),ae.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(te))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(te,ae=1,oe=16776960){const ce=oe,ue=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],fe=new BufferGeometry;fe.setAttribute("position",new Float32BufferAttribute(ue,3)),fe.computeBoundingSphere(),super(fe,new LineBasicMaterial({color:ce,toneMapped:!1})),this.type="PlaneHelper",this.plane=te,this.size=ae;const de=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],pe=new BufferGeometry;pe.setAttribute("position",new Float32BufferAttribute(de,3)),pe.computeBoundingSphere(),this.add(new Mesh(pe,new MeshBasicMaterial({color:ce,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(te){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(te)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(te=new Vector3(0,0,1),ae=new Vector3(0,0,0),oe=1,ce=16776960,ue=oe*.2,fe=ue*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(ae),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:ce,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:ce,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(te),this.setLength(oe,ue,fe)}setDirection(te){if(te.y>.99999)this.quaternion.set(0,0,0,1);else if(te.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(te.z,0,-te.x).normalize();const ae=Math.acos(te.y);this.quaternion.setFromAxisAngle(_axis,ae)}}setLength(te,ae=te*.2,oe=ae*.2){this.line.scale.set(1,Math.max(1e-4,te-ae),1),this.line.updateMatrix(),this.cone.scale.set(oe,ae,oe),this.cone.position.y=te,this.cone.updateMatrix()}setColor(te){this.line.material.color.set(te),this.cone.material.color.set(te)}copy(te){return super.copy(te,!1),this.line.copy(te.line),this.cone.copy(te.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(te=1){const ae=[0,0,0,te,0,0,0,0,0,0,te,0,0,0,0,0,0,te],oe=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(ae,3)),ce.setAttribute("color",new Float32BufferAttribute(oe,3));const ue=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ce,ue),this.type="AxesHelper"}setColors(te,ae,oe){const ce=new Color$1,ue=this.geometry.attributes.color.array;return ce.set(te),ce.toArray(ue,0),ce.toArray(ue,3),ce.set(ae),ce.toArray(ue,6),ce.toArray(ue,9),ce.set(oe),ce.toArray(ue,12),ce.toArray(ue,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color$1,this.subPaths=[],this.currentPath=null}moveTo(te,ae){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(te,ae),this}lineTo(te,ae){return this.currentPath.lineTo(te,ae),this}quadraticCurveTo(te,ae,oe,ce){return this.currentPath.quadraticCurveTo(te,ae,oe,ce),this}bezierCurveTo(te,ae,oe,ce,ue,fe){return this.currentPath.bezierCurveTo(te,ae,oe,ce,ue,fe),this}splineThru(te){return this.currentPath.splineThru(te),this}toShapes(te){function ae(Oe){const Pe=[];for(let Ie=0,Fe=Oe.length;Ie<Fe;Ie++){const $e=Oe[Ie],Ve=new Shape;Ve.curves=$e.curves,Pe.push(Ve)}return Pe}function oe(Oe,Pe){const Ie=Pe.length;let Fe=!1;for(let $e=Ie-1,Ve=0;Ve<Ie;$e=Ve++){let ke=Pe[$e],We=Pe[Ve],je=We.x-ke.x,He=We.y-ke.y;if(Math.abs(He)>Number.EPSILON){if(He<0&&(ke=Pe[Ve],je=-je,We=Pe[$e],He=-He),Oe.y<ke.y||Oe.y>We.y)continue;if(Oe.y===ke.y){if(Oe.x===ke.x)return!0}else{const tt=He*(Oe.x-ke.x)-je*(Oe.y-ke.y);if(tt===0)return!0;if(tt<0)continue;Fe=!Fe}}else{if(Oe.y!==ke.y)continue;if(We.x<=Oe.x&&Oe.x<=ke.x||ke.x<=Oe.x&&Oe.x<=We.x)return!0}}return Fe}const ce=ShapeUtils.isClockWise,ue=this.subPaths;if(ue.length===0)return[];let fe,de,pe;const me=[];if(ue.length===1)return de=ue[0],pe=new Shape,pe.curves=de.curves,me.push(pe),me;let _e=!ce(ue[0].getPoints());_e=te?!_e:_e;const be=[],Ee=[];let Ae=[],Re=0,Be;Ee[Re]=void 0,Ae[Re]=[];for(let Oe=0,Pe=ue.length;Oe<Pe;Oe++)de=ue[Oe],Be=de.getPoints(),fe=ce(Be),fe=te?!fe:fe,fe?(!_e&&Ee[Re]&&Re++,Ee[Re]={s:new Shape,p:Be},Ee[Re].s.curves=de.curves,_e&&Re++,Ae[Re]=[]):Ae[Re].push({h:de,p:Be[0]});if(!Ee[0])return ae(ue);if(Ee.length>1){let Oe=!1,Pe=0;for(let Ie=0,Fe=Ee.length;Ie<Fe;Ie++)be[Ie]=[];for(let Ie=0,Fe=Ee.length;Ie<Fe;Ie++){const $e=Ae[Ie];for(let Ve=0;Ve<$e.length;Ve++){const ke=$e[Ve];let We=!0;for(let je=0;je<Ee.length;je++)oe(ke.p,Ee[je].p)&&(Ie!==je&&Pe++,We?(We=!1,be[je].push(ke)):Oe=!0);We&&be[Ie].push(ke)}}Pe>0&&Oe===!1&&(Ae=be)}let De;for(let Oe=0,Pe=Ee.length;Oe<Pe;Oe++){pe=Ee[Oe].s,me.push(pe),De=Ae[Oe];for(let Ie=0,Fe=De.length;Ie<Fe;Ie++)pe.holes.push(De[Ie].h)}return me}}class Controls extends EventDispatcher{constructor(te,ae=null){super(),this.object=te,this.domElement=ae,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(te){if(te===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=te}disconnect(){}dispose(){}update(){}}function contain(se,te){const ae=se.image&&se.image.width?se.image.width/se.image.height:1;return ae>te?(se.repeat.x=1,se.repeat.y=ae/te,se.offset.x=0,se.offset.y=(1-se.repeat.y)/2):(se.repeat.x=te/ae,se.repeat.y=1,se.offset.x=(1-se.repeat.x)/2,se.offset.y=0),se}function cover(se,te){const ae=se.image&&se.image.width?se.image.width/se.image.height:1;return ae>te?(se.repeat.x=te/ae,se.repeat.y=1,se.offset.x=(1-se.repeat.x)/2,se.offset.y=0):(se.repeat.x=1,se.repeat.y=ae/te,se.offset.x=0,se.offset.y=(1-se.repeat.y)/2),se}function fill(se){return se.repeat.x=1,se.repeat.y=1,se.offset.x=0,se.offset.y=0,se}function getByteLength(se,te,ae,oe){const ce=getTextureTypeByteLength(oe);switch(ae){case AlphaFormat:return se*te;case LuminanceFormat:return se*te;case LuminanceAlphaFormat:return se*te*2;case RedFormat:return se*te/ce.components*ce.byteLength;case RedIntegerFormat:return se*te/ce.components*ce.byteLength;case RGFormat:return se*te*2/ce.components*ce.byteLength;case RGIntegerFormat:return se*te*2/ce.components*ce.byteLength;case RGBFormat:return se*te*3/ce.components*ce.byteLength;case RGBAFormat:return se*te*4/ce.components*ce.byteLength;case RGBAIntegerFormat:return se*te*4/ce.components*ce.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((se+3)/4)*Math.floor((te+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((se+3)/4)*Math.floor((te+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(se,16)*Math.max(te,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(se,8)*Math.max(te,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((se+3)/4)*Math.floor((te+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((se+3)/4)*Math.floor((te+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((se+3)/4)*Math.floor((te+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((se+4)/5)*Math.floor((te+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((se+4)/5)*Math.floor((te+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((se+5)/6)*Math.floor((te+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((se+5)/6)*Math.floor((te+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((se+7)/8)*Math.floor((te+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((se+7)/8)*Math.floor((te+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((se+7)/8)*Math.floor((te+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((se+9)/10)*Math.floor((te+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((se+9)/10)*Math.floor((te+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((se+9)/10)*Math.floor((te+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((se+9)/10)*Math.floor((te+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((se+11)/12)*Math.floor((te+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((se+11)/12)*Math.floor((te+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(se/4)*Math.ceil(te/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(se/4)*Math.ceil(te/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(se/4)*Math.ceil(te/4)*16}throw new Error(`Unable to determine texture byte length for ${ae} format.`)}function getTextureTypeByteLength(se){switch(se){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${se}.`)}class TextureUtils{static contain(te,ae){return contain(te,ae)}static cover(te,ae){return cover(te,ae)}static fill(te){return fill(te)}static getByteLength(te,ae,oe,ce){return getByteLength(te,ae,oe,ce)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let se=null,te=!1,ae=null,oe=null;function ce(ue,fe){ae(ue,fe),oe=se.requestAnimationFrame(ce)}return{start:function(){te!==!0&&ae!==null&&(oe=se.requestAnimationFrame(ce),te=!0)},stop:function(){se.cancelAnimationFrame(oe),te=!1},setAnimationLoop:function(ue){ae=ue},setContext:function(ue){se=ue}}}function WebGLAttributes(se){const te=new WeakMap;function ae(de,pe){const me=de.array,_e=de.usage,be=me.byteLength,Ee=se.createBuffer();se.bindBuffer(pe,Ee),se.bufferData(pe,me,_e),de.onUploadCallback();let Ae;if(me instanceof Float32Array)Ae=se.FLOAT;else if(me instanceof Uint16Array)de.isFloat16BufferAttribute?Ae=se.HALF_FLOAT:Ae=se.UNSIGNED_SHORT;else if(me instanceof Int16Array)Ae=se.SHORT;else if(me instanceof Uint32Array)Ae=se.UNSIGNED_INT;else if(me instanceof Int32Array)Ae=se.INT;else if(me instanceof Int8Array)Ae=se.BYTE;else if(me instanceof Uint8Array)Ae=se.UNSIGNED_BYTE;else if(me instanceof Uint8ClampedArray)Ae=se.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+me);return{buffer:Ee,type:Ae,bytesPerElement:me.BYTES_PER_ELEMENT,version:de.version,size:be}}function oe(de,pe,me){const _e=pe.array,be=pe.updateRanges;if(se.bindBuffer(me,de),be.length===0)se.bufferSubData(me,0,_e);else{be.sort((Ae,Re)=>Ae.start-Re.start);let Ee=0;for(let Ae=1;Ae<be.length;Ae++){const Re=be[Ee],Be=be[Ae];Be.start<=Re.start+Re.count+1?Re.count=Math.max(Re.count,Be.start+Be.count-Re.start):(++Ee,be[Ee]=Be)}be.length=Ee+1;for(let Ae=0,Re=be.length;Ae<Re;Ae++){const Be=be[Ae];se.bufferSubData(me,Be.start*_e.BYTES_PER_ELEMENT,_e,Be.start,Be.count)}pe.clearUpdateRanges()}pe.onUploadCallback()}function ce(de){return de.isInterleavedBufferAttribute&&(de=de.data),te.get(de)}function ue(de){de.isInterleavedBufferAttribute&&(de=de.data);const pe=te.get(de);pe&&(se.deleteBuffer(pe.buffer),te.delete(de))}function fe(de,pe){if(de.isInterleavedBufferAttribute&&(de=de.data),de.isGLBufferAttribute){const _e=te.get(de);(!_e||_e.version<de.version)&&te.set(de,{buffer:de.buffer,type:de.type,bytesPerElement:de.elementSize,version:de.version});return}const me=te.get(de);if(me===void 0)te.set(de,ae(de,pe));else if(me.version<de.version){if(me.size!==de.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");oe(me.buffer,de,pe),me.version=de.version}}return{get:ce,remove:ue,update:fe}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color$1(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color$1(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},specular:{value:new Color$1(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color$1(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color$1(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color$1(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color$1(0)},specularColor:{value:new Color$1(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(se,te,ae,oe,ce,ue,fe){const de=new Color$1(0);let pe=ue===!0?0:1,me,_e,be=null,Ee=0,Ae=null;function Re(Ie){let Fe=Ie.isScene===!0?Ie.background:null;return Fe&&Fe.isTexture&&(Fe=(Ie.backgroundBlurriness>0?ae:te).get(Fe)),Fe}function Be(Ie){let Fe=!1;const $e=Re(Ie);$e===null?Oe(de,pe):$e&&$e.isColor&&(Oe($e,1),Fe=!0);const Ve=se.xr.getEnvironmentBlendMode();Ve==="additive"?oe.buffers.color.setClear(0,0,0,1,fe):Ve==="alpha-blend"&&oe.buffers.color.setClear(0,0,0,0,fe),(se.autoClear||Fe)&&(oe.buffers.depth.setTest(!0),oe.buffers.depth.setMask(!0),oe.buffers.color.setMask(!0),se.clear(se.autoClearColor,se.autoClearDepth,se.autoClearStencil))}function De(Ie,Fe){const $e=Re(Fe);$e&&($e.isCubeTexture||$e.mapping===CubeUVReflectionMapping$1)?(_e===void 0&&(_e=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),_e.geometry.deleteAttribute("normal"),_e.geometry.deleteAttribute("uv"),_e.onBeforeRender=function(Ve,ke,We){this.matrixWorld.copyPosition(We.matrixWorld)},Object.defineProperty(_e.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),ce.update(_e)),_e1$1.copy(Fe.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,$e.isCubeTexture&&$e.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),_e.material.uniforms.envMap.value=$e,_e.material.uniforms.flipEnvMap.value=$e.isCubeTexture&&$e.isRenderTargetTexture===!1?-1:1,_e.material.uniforms.backgroundBlurriness.value=Fe.backgroundBlurriness,_e.material.uniforms.backgroundIntensity.value=Fe.backgroundIntensity,_e.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),_e.material.toneMapped=ColorManagement.getTransfer($e.colorSpace)!==SRGBTransfer,(be!==$e||Ee!==$e.version||Ae!==se.toneMapping)&&(_e.material.needsUpdate=!0,be=$e,Ee=$e.version,Ae=se.toneMapping),_e.layers.enableAll(),Ie.unshift(_e,_e.geometry,_e.material,0,0,null)):$e&&$e.isTexture&&(me===void 0&&(me=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),me.geometry.deleteAttribute("normal"),Object.defineProperty(me.material,"map",{get:function(){return this.uniforms.t2D.value}}),ce.update(me)),me.material.uniforms.t2D.value=$e,me.material.uniforms.backgroundIntensity.value=Fe.backgroundIntensity,me.material.toneMapped=ColorManagement.getTransfer($e.colorSpace)!==SRGBTransfer,$e.matrixAutoUpdate===!0&&$e.updateMatrix(),me.material.uniforms.uvTransform.value.copy($e.matrix),(be!==$e||Ee!==$e.version||Ae!==se.toneMapping)&&(me.material.needsUpdate=!0,be=$e,Ee=$e.version,Ae=se.toneMapping),me.layers.enableAll(),Ie.unshift(me,me.geometry,me.material,0,0,null))}function Oe(Ie,Fe){Ie.getRGB(_rgb,getUnlitUniformColorSpace(se)),oe.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Fe,fe)}function Pe(){_e!==void 0&&(_e.geometry.dispose(),_e.material.dispose(),_e=void 0),me!==void 0&&(me.geometry.dispose(),me.material.dispose(),me=void 0)}return{getClearColor:function(){return de},setClearColor:function(Ie,Fe=1){de.set(Ie),pe=Fe,Oe(de,pe)},getClearAlpha:function(){return pe},setClearAlpha:function(Ie){pe=Ie,Oe(de,pe)},render:Be,addToRenderList:De,dispose:Pe}}function WebGLBindingStates(se,te){const ae=se.getParameter(se.MAX_VERTEX_ATTRIBS),oe={},ce=Ee(null);let ue=ce,fe=!1;function de(He,tt,Ze,nt,at){let mt=!1;const Ye=be(nt,Ze,tt);ue!==Ye&&(ue=Ye,me(ue.object)),mt=Ae(He,nt,Ze,at),mt&&Re(He,nt,Ze,at),at!==null&&te.update(at,se.ELEMENT_ARRAY_BUFFER),(mt||fe)&&(fe=!1,Fe(He,tt,Ze,nt),at!==null&&se.bindBuffer(se.ELEMENT_ARRAY_BUFFER,te.get(at).buffer))}function pe(){return se.createVertexArray()}function me(He){return se.bindVertexArray(He)}function _e(He){return se.deleteVertexArray(He)}function be(He,tt,Ze){const nt=Ze.wireframe===!0;let at=oe[He.id];at===void 0&&(at={},oe[He.id]=at);let mt=at[tt.id];mt===void 0&&(mt={},at[tt.id]=mt);let Ye=mt[nt];return Ye===void 0&&(Ye=Ee(pe()),mt[nt]=Ye),Ye}function Ee(He){const tt=[],Ze=[],nt=[];for(let at=0;at<ae;at++)tt[at]=0,Ze[at]=0,nt[at]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:tt,enabledAttributes:Ze,attributeDivisors:nt,object:He,attributes:{},index:null}}function Ae(He,tt,Ze,nt){const at=ue.attributes,mt=tt.attributes;let Ye=0;const rt=Ze.getAttributes();for(const lt in rt)if(rt[lt].location>=0){const Xe=at[lt];let et=mt[lt];if(et===void 0&&(lt==="instanceMatrix"&&He.instanceMatrix&&(et=He.instanceMatrix),lt==="instanceColor"&&He.instanceColor&&(et=He.instanceColor)),Xe===void 0||Xe.attribute!==et||et&&Xe.data!==et.data)return!0;Ye++}return ue.attributesNum!==Ye||ue.index!==nt}function Re(He,tt,Ze,nt){const at={},mt=tt.attributes;let Ye=0;const rt=Ze.getAttributes();for(const lt in rt)if(rt[lt].location>=0){let Xe=mt[lt];Xe===void 0&&(lt==="instanceMatrix"&&He.instanceMatrix&&(Xe=He.instanceMatrix),lt==="instanceColor"&&He.instanceColor&&(Xe=He.instanceColor));const et={};et.attribute=Xe,Xe&&Xe.data&&(et.data=Xe.data),at[lt]=et,Ye++}ue.attributes=at,ue.attributesNum=Ye,ue.index=nt}function Be(){const He=ue.newAttributes;for(let tt=0,Ze=He.length;tt<Ze;tt++)He[tt]=0}function De(He){Oe(He,0)}function Oe(He,tt){const Ze=ue.newAttributes,nt=ue.enabledAttributes,at=ue.attributeDivisors;Ze[He]=1,nt[He]===0&&(se.enableVertexAttribArray(He),nt[He]=1),at[He]!==tt&&(se.vertexAttribDivisor(He,tt),at[He]=tt)}function Pe(){const He=ue.newAttributes,tt=ue.enabledAttributes;for(let Ze=0,nt=tt.length;Ze<nt;Ze++)tt[Ze]!==He[Ze]&&(se.disableVertexAttribArray(Ze),tt[Ze]=0)}function Ie(He,tt,Ze,nt,at,mt,Ye){Ye===!0?se.vertexAttribIPointer(He,tt,Ze,at,mt):se.vertexAttribPointer(He,tt,Ze,nt,at,mt)}function Fe(He,tt,Ze,nt){Be();const at=nt.attributes,mt=Ze.getAttributes(),Ye=tt.defaultAttributeValues;for(const rt in mt){const lt=mt[rt];if(lt.location>=0){let _t=at[rt];if(_t===void 0&&(rt==="instanceMatrix"&&He.instanceMatrix&&(_t=He.instanceMatrix),rt==="instanceColor"&&He.instanceColor&&(_t=He.instanceColor)),_t!==void 0){const Xe=_t.normalized,et=_t.itemSize,ft=te.get(_t);if(ft===void 0)continue;const yt=ft.buffer,st=ft.type,gt=ft.bytesPerElement,Et=st===se.INT||st===se.UNSIGNED_INT||_t.gpuType===IntType;if(_t.isInterleavedBufferAttribute){const bt=_t.data,Dt=bt.stride,nn=_t.offset;if(bt.isInstancedInterleavedBuffer){for(let ln=0;ln<lt.locationSize;ln++)Oe(lt.location+ln,bt.meshPerAttribute);He.isInstancedMesh!==!0&&nt._maxInstanceCount===void 0&&(nt._maxInstanceCount=bt.meshPerAttribute*bt.count)}else for(let ln=0;ln<lt.locationSize;ln++)De(lt.location+ln);se.bindBuffer(se.ARRAY_BUFFER,yt);for(let ln=0;ln<lt.locationSize;ln++)Ie(lt.location+ln,et/lt.locationSize,st,Xe,Dt*gt,(nn+et/lt.locationSize*ln)*gt,Et)}else{if(_t.isInstancedBufferAttribute){for(let bt=0;bt<lt.locationSize;bt++)Oe(lt.location+bt,_t.meshPerAttribute);He.isInstancedMesh!==!0&&nt._maxInstanceCount===void 0&&(nt._maxInstanceCount=_t.meshPerAttribute*_t.count)}else for(let bt=0;bt<lt.locationSize;bt++)De(lt.location+bt);se.bindBuffer(se.ARRAY_BUFFER,yt);for(let bt=0;bt<lt.locationSize;bt++)Ie(lt.location+bt,et/lt.locationSize,st,Xe,et*gt,et/lt.locationSize*bt*gt,Et)}}else if(Ye!==void 0){const Xe=Ye[rt];if(Xe!==void 0)switch(Xe.length){case 2:se.vertexAttrib2fv(lt.location,Xe);break;case 3:se.vertexAttrib3fv(lt.location,Xe);break;case 4:se.vertexAttrib4fv(lt.location,Xe);break;default:se.vertexAttrib1fv(lt.location,Xe)}}}}Pe()}function $e(){We();for(const He in oe){const tt=oe[He];for(const Ze in tt){const nt=tt[Ze];for(const at in nt)_e(nt[at].object),delete nt[at];delete tt[Ze]}delete oe[He]}}function Ve(He){if(oe[He.id]===void 0)return;const tt=oe[He.id];for(const Ze in tt){const nt=tt[Ze];for(const at in nt)_e(nt[at].object),delete nt[at];delete tt[Ze]}delete oe[He.id]}function ke(He){for(const tt in oe){const Ze=oe[tt];if(Ze[He.id]===void 0)continue;const nt=Ze[He.id];for(const at in nt)_e(nt[at].object),delete nt[at];delete Ze[He.id]}}function We(){je(),fe=!0,ue!==ce&&(ue=ce,me(ue.object))}function je(){ce.geometry=null,ce.program=null,ce.wireframe=!1}return{setup:de,reset:We,resetDefaultState:je,dispose:$e,releaseStatesOfGeometry:Ve,releaseStatesOfProgram:ke,initAttributes:Be,enableAttribute:De,disableUnusedAttributes:Pe}}function WebGLBufferRenderer(se,te,ae){let oe;function ce(me){oe=me}function ue(me,_e){se.drawArrays(oe,me,_e),ae.update(_e,oe,1)}function fe(me,_e,be){be!==0&&(se.drawArraysInstanced(oe,me,_e,be),ae.update(_e,oe,be))}function de(me,_e,be){if(be===0)return;te.get("WEBGL_multi_draw").multiDrawArraysWEBGL(oe,me,0,_e,0,be);let Ae=0;for(let Re=0;Re<be;Re++)Ae+=_e[Re];ae.update(Ae,oe,1)}function pe(me,_e,be,Ee){if(be===0)return;const Ae=te.get("WEBGL_multi_draw");if(Ae===null)for(let Re=0;Re<me.length;Re++)fe(me[Re],_e[Re],Ee[Re]);else{Ae.multiDrawArraysInstancedWEBGL(oe,me,0,_e,0,Ee,0,be);let Re=0;for(let Be=0;Be<be;Be++)Re+=_e[Be]*Ee[Be];ae.update(Re,oe,1)}}this.setMode=ce,this.render=ue,this.renderInstances=fe,this.renderMultiDraw=de,this.renderMultiDrawInstances=pe}function WebGLCapabilities(se,te,ae,oe){let ce;function ue(){if(ce!==void 0)return ce;if(te.has("EXT_texture_filter_anisotropic")===!0){const ke=te.get("EXT_texture_filter_anisotropic");ce=se.getParameter(ke.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else ce=0;return ce}function fe(ke){return!(ke!==RGBAFormat&&oe.convert(ke)!==se.getParameter(se.IMPLEMENTATION_COLOR_READ_FORMAT))}function de(ke){const We=ke===HalfFloatType&&(te.has("EXT_color_buffer_half_float")||te.has("EXT_color_buffer_float"));return!(ke!==UnsignedByteType&&oe.convert(ke)!==se.getParameter(se.IMPLEMENTATION_COLOR_READ_TYPE)&&ke!==FloatType&&!We)}function pe(ke){if(ke==="highp"){if(se.getShaderPrecisionFormat(se.VERTEX_SHADER,se.HIGH_FLOAT).precision>0&&se.getShaderPrecisionFormat(se.FRAGMENT_SHADER,se.HIGH_FLOAT).precision>0)return"highp";ke="mediump"}return ke==="mediump"&&se.getShaderPrecisionFormat(se.VERTEX_SHADER,se.MEDIUM_FLOAT).precision>0&&se.getShaderPrecisionFormat(se.FRAGMENT_SHADER,se.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let me=ae.precision!==void 0?ae.precision:"highp";const _e=pe(me);_e!==me&&(console.warn("THREE.WebGLRenderer:",me,"not supported, using",_e,"instead."),me=_e);const be=ae.logarithmicDepthBuffer===!0,Ee=ae.reverseDepthBuffer===!0&&te.has("EXT_clip_control"),Ae=se.getParameter(se.MAX_TEXTURE_IMAGE_UNITS),Re=se.getParameter(se.MAX_VERTEX_TEXTURE_IMAGE_UNITS),Be=se.getParameter(se.MAX_TEXTURE_SIZE),De=se.getParameter(se.MAX_CUBE_MAP_TEXTURE_SIZE),Oe=se.getParameter(se.MAX_VERTEX_ATTRIBS),Pe=se.getParameter(se.MAX_VERTEX_UNIFORM_VECTORS),Ie=se.getParameter(se.MAX_VARYING_VECTORS),Fe=se.getParameter(se.MAX_FRAGMENT_UNIFORM_VECTORS),$e=Re>0,Ve=se.getParameter(se.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:ue,getMaxPrecision:pe,textureFormatReadable:fe,textureTypeReadable:de,precision:me,logarithmicDepthBuffer:be,reverseDepthBuffer:Ee,maxTextures:Ae,maxVertexTextures:Re,maxTextureSize:Be,maxCubemapSize:De,maxAttributes:Oe,maxVertexUniforms:Pe,maxVaryings:Ie,maxFragmentUniforms:Fe,vertexTextures:$e,maxSamples:Ve}}function WebGLClipping(se){const te=this;let ae=null,oe=0,ce=!1,ue=!1;const fe=new Plane,de=new Matrix3,pe={value:null,needsUpdate:!1};this.uniform=pe,this.numPlanes=0,this.numIntersection=0,this.init=function(be,Ee){const Ae=be.length!==0||Ee||oe!==0||ce;return ce=Ee,oe=be.length,Ae},this.beginShadows=function(){ue=!0,_e(null)},this.endShadows=function(){ue=!1},this.setGlobalState=function(be,Ee){ae=_e(be,Ee,0)},this.setState=function(be,Ee,Ae){const Re=be.clippingPlanes,Be=be.clipIntersection,De=be.clipShadows,Oe=se.get(be);if(!ce||Re===null||Re.length===0||ue&&!De)ue?_e(null):me();else{const Pe=ue?0:oe,Ie=Pe*4;let Fe=Oe.clippingState||null;pe.value=Fe,Fe=_e(Re,Ee,Ie,Ae);for(let $e=0;$e!==Ie;++$e)Fe[$e]=ae[$e];Oe.clippingState=Fe,this.numIntersection=Be?this.numPlanes:0,this.numPlanes+=Pe}};function me(){pe.value!==ae&&(pe.value=ae,pe.needsUpdate=oe>0),te.numPlanes=oe,te.numIntersection=0}function _e(be,Ee,Ae,Re){const Be=be!==null?be.length:0;let De=null;if(Be!==0){if(De=pe.value,Re!==!0||De===null){const Oe=Ae+Be*4,Pe=Ee.matrixWorldInverse;de.getNormalMatrix(Pe),(De===null||De.length<Oe)&&(De=new Float32Array(Oe));for(let Ie=0,Fe=Ae;Ie!==Be;++Ie,Fe+=4)fe.copy(be[Ie]).applyMatrix4(Pe,de),fe.normal.toArray(De,Fe),De[Fe+3]=fe.constant}pe.value=De,pe.needsUpdate=!0}return te.numPlanes=Be,te.numIntersection=0,De}}function WebGLCubeMaps(se){let te=new WeakMap;function ae(fe,de){return de===EquirectangularReflectionMapping?fe.mapping=CubeReflectionMapping:de===EquirectangularRefractionMapping&&(fe.mapping=CubeRefractionMapping),fe}function oe(fe){if(fe&&fe.isTexture){const de=fe.mapping;if(de===EquirectangularReflectionMapping||de===EquirectangularRefractionMapping)if(te.has(fe)){const pe=te.get(fe).texture;return ae(pe,fe.mapping)}else{const pe=fe.image;if(pe&&pe.height>0){const me=new WebGLCubeRenderTarget(pe.height);return me.fromEquirectangularTexture(se,fe),te.set(fe,me),fe.addEventListener("dispose",ce),ae(me.texture,fe.mapping)}else return null}}return fe}function ce(fe){const de=fe.target;de.removeEventListener("dispose",ce);const pe=te.get(de);pe!==void 0&&(te.delete(de),pe.dispose())}function ue(){te=new WeakMap}return{get:oe,dispose:ue}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color$1;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_origin=new Vector3;class PMREMGenerator{constructor(te){this._renderer=te,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(te,ae=0,oe=.1,ce=100,ue={}){const{size:fe=256,position:de=_origin}=ue;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(fe);const pe=this._allocateTargets();return pe.depthBuffer=!0,this._sceneToCubeUV(te,oe,ce,pe,de),ae>0&&this._blur(pe,0,0,ae),this._applyPMREM(pe),this._cleanup(pe),pe}fromEquirectangular(te,ae=null){return this._fromTexture(te,ae)}fromCubemap(te,ae=null){return this._fromTexture(te,ae)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(te){this._lodMax=Math.floor(Math.log2(te)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let te=0;te<this._lodPlanes.length;te++)this._lodPlanes[te].dispose()}_cleanup(te){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,te.scissorTest=!1,_setViewport(te,0,0,te.width,te.height)}_fromTexture(te,ae){te.mapping===CubeReflectionMapping||te.mapping===CubeRefractionMapping?this._setSize(te.image.length===0?16:te.image[0].width||te.image[0].image.width):this._setSize(te.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const oe=ae||this._allocateTargets();return this._textureToCubeUV(te,oe),this._applyPMREM(oe),this._cleanup(oe),oe}_allocateTargets(){const te=3*Math.max(this._cubeSize,112),ae=4*this._cubeSize,oe={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace$1,depthBuffer:!1},ce=_createRenderTarget(te,ae,oe);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==te||this._pingPongRenderTarget.height!==ae){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(te,ae,oe);const{_lodMax:ue}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(ue)),this._blurMaterial=_getBlurShader(ue,te,ae)}return ce}_compileMaterial(te){const ae=new Mesh(this._lodPlanes[0],te);this._renderer.compile(ae,_flatCamera)}_sceneToCubeUV(te,ae,oe,ce,ue){const pe=new PerspectiveCamera(90,1,ae,oe),me=[1,-1,1,1,1,1],_e=[1,1,1,-1,-1,-1],be=this._renderer,Ee=be.autoClear,Ae=be.toneMapping;be.getClearColor(_clearColor),be.toneMapping=NoToneMapping,be.autoClear=!1;const Re=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),Be=new Mesh(new BoxGeometry,Re);let De=!1;const Oe=te.background;Oe?Oe.isColor&&(Re.color.copy(Oe),te.background=null,De=!0):(Re.color.copy(_clearColor),De=!0);for(let Pe=0;Pe<6;Pe++){const Ie=Pe%3;Ie===0?(pe.up.set(0,me[Pe],0),pe.position.set(ue.x,ue.y,ue.z),pe.lookAt(ue.x+_e[Pe],ue.y,ue.z)):Ie===1?(pe.up.set(0,0,me[Pe]),pe.position.set(ue.x,ue.y,ue.z),pe.lookAt(ue.x,ue.y+_e[Pe],ue.z)):(pe.up.set(0,me[Pe],0),pe.position.set(ue.x,ue.y,ue.z),pe.lookAt(ue.x,ue.y,ue.z+_e[Pe]));const Fe=this._cubeSize;_setViewport(ce,Ie*Fe,Pe>2?Fe:0,Fe,Fe),be.setRenderTarget(ce),De&&be.render(Be,pe),be.render(te,pe)}Be.geometry.dispose(),Be.material.dispose(),be.toneMapping=Ae,be.autoClear=Ee,te.background=Oe}_textureToCubeUV(te,ae){const oe=this._renderer,ce=te.mapping===CubeReflectionMapping||te.mapping===CubeRefractionMapping;ce?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=te.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const ue=ce?this._cubemapMaterial:this._equirectMaterial,fe=new Mesh(this._lodPlanes[0],ue),de=ue.uniforms;de.envMap.value=te;const pe=this._cubeSize;_setViewport(ae,0,0,3*pe,2*pe),oe.setRenderTarget(ae),oe.render(fe,_flatCamera)}_applyPMREM(te){const ae=this._renderer,oe=ae.autoClear;ae.autoClear=!1;const ce=this._lodPlanes.length;for(let ue=1;ue<ce;ue++){const fe=Math.sqrt(this._sigmas[ue]*this._sigmas[ue]-this._sigmas[ue-1]*this._sigmas[ue-1]),de=_axisDirections[(ce-ue-1)%_axisDirections.length];this._blur(te,ue-1,ue,fe,de)}ae.autoClear=oe}_blur(te,ae,oe,ce,ue){const fe=this._pingPongRenderTarget;this._halfBlur(te,fe,ae,oe,ce,"latitudinal",ue),this._halfBlur(fe,te,oe,oe,ce,"longitudinal",ue)}_halfBlur(te,ae,oe,ce,ue,fe,de){const pe=this._renderer,me=this._blurMaterial;fe!=="latitudinal"&&fe!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const _e=3,be=new Mesh(this._lodPlanes[ce],me),Ee=me.uniforms,Ae=this._sizeLods[oe]-1,Re=isFinite(ue)?Math.PI/(2*Ae):2*Math.PI/(2*MAX_SAMPLES-1),Be=ue/Re,De=isFinite(ue)?1+Math.floor(_e*Be):MAX_SAMPLES;De>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ue}, is too large and will clip, as it requested ${De} samples when the maximum is set to ${MAX_SAMPLES}`);const Oe=[];let Pe=0;for(let ke=0;ke<MAX_SAMPLES;++ke){const We=ke/Be,je=Math.exp(-We*We/2);Oe.push(je),ke===0?Pe+=je:ke<De&&(Pe+=2*je)}for(let ke=0;ke<Oe.length;ke++)Oe[ke]=Oe[ke]/Pe;Ee.envMap.value=te.texture,Ee.samples.value=De,Ee.weights.value=Oe,Ee.latitudinal.value=fe==="latitudinal",de&&(Ee.poleAxis.value=de);const{_lodMax:Ie}=this;Ee.dTheta.value=Re,Ee.mipInt.value=Ie-oe;const Fe=this._sizeLods[ce],$e=3*Fe*(ce>Ie-LOD_MIN?ce-Ie+LOD_MIN:0),Ve=4*(this._cubeSize-Fe);_setViewport(ae,$e,Ve,3*Fe,2*Fe),pe.setRenderTarget(ae),pe.render(be,_flatCamera)}}function _createPlanes(se){const te=[],ae=[],oe=[];let ce=se;const ue=se-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let fe=0;fe<ue;fe++){const de=Math.pow(2,ce);ae.push(de);let pe=1/de;fe>se-LOD_MIN?pe=EXTRA_LOD_SIGMA[fe-se+LOD_MIN-1]:fe===0&&(pe=0),oe.push(pe);const me=1/(de-2),_e=-me,be=1+me,Ee=[_e,_e,be,_e,be,be,_e,_e,be,be,_e,be],Ae=6,Re=6,Be=3,De=2,Oe=1,Pe=new Float32Array(Be*Re*Ae),Ie=new Float32Array(De*Re*Ae),Fe=new Float32Array(Oe*Re*Ae);for(let Ve=0;Ve<Ae;Ve++){const ke=Ve%3*2/3-1,We=Ve>2?0:-1,je=[ke,We,0,ke+2/3,We,0,ke+2/3,We+1,0,ke,We,0,ke+2/3,We+1,0,ke,We+1,0];Pe.set(je,Be*Re*Ve),Ie.set(Ee,De*Re*Ve);const He=[Ve,Ve,Ve,Ve,Ve,Ve];Fe.set(He,Oe*Re*Ve)}const $e=new BufferGeometry;$e.setAttribute("position",new BufferAttribute(Pe,Be)),$e.setAttribute("uv",new BufferAttribute(Ie,De)),$e.setAttribute("faceIndex",new BufferAttribute(Fe,Oe)),te.push($e),ce>LOD_MIN&&ce--}return{lodPlanes:te,sizeLods:ae,sigmas:oe}}function _createRenderTarget(se,te,ae){const oe=new WebGLRenderTarget(se,te,ae);return oe.texture.mapping=CubeUVReflectionMapping$1,oe.texture.name="PMREM.cubeUv",oe.scissorTest=!0,oe}function _setViewport(se,te,ae,oe,ce){se.viewport.set(te,ae,oe,ce),se.scissor.set(te,ae,oe,ce)}function _getBlurShader(se,te,ae){const oe=new Float32Array(MAX_SAMPLES),ce=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/te,CUBEUV_TEXEL_HEIGHT:1/ae,CUBEUV_MAX_MIP:`${se}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:oe},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:ce}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(se){let te=new WeakMap,ae=null;function oe(de){if(de&&de.isTexture){const pe=de.mapping,me=pe===EquirectangularReflectionMapping||pe===EquirectangularRefractionMapping,_e=pe===CubeReflectionMapping||pe===CubeRefractionMapping;if(me||_e){let be=te.get(de);const Ee=be!==void 0?be.texture.pmremVersion:0;if(de.isRenderTargetTexture&&de.pmremVersion!==Ee)return ae===null&&(ae=new PMREMGenerator(se)),be=me?ae.fromEquirectangular(de,be):ae.fromCubemap(de,be),be.texture.pmremVersion=de.pmremVersion,te.set(de,be),be.texture;if(be!==void 0)return be.texture;{const Ae=de.image;return me&&Ae&&Ae.height>0||_e&&Ae&&ce(Ae)?(ae===null&&(ae=new PMREMGenerator(se)),be=me?ae.fromEquirectangular(de):ae.fromCubemap(de),be.texture.pmremVersion=de.pmremVersion,te.set(de,be),de.addEventListener("dispose",ue),be.texture):null}}}return de}function ce(de){let pe=0;const me=6;for(let _e=0;_e<me;_e++)de[_e]!==void 0&&pe++;return pe===me}function ue(de){const pe=de.target;pe.removeEventListener("dispose",ue);const me=te.get(pe);me!==void 0&&(te.delete(pe),me.dispose())}function fe(){te=new WeakMap,ae!==null&&(ae.dispose(),ae=null)}return{get:oe,dispose:fe}}function WebGLExtensions(se){const te={};function ae(oe){if(te[oe]!==void 0)return te[oe];let ce;switch(oe){case"WEBGL_depth_texture":ce=se.getExtension("WEBGL_depth_texture")||se.getExtension("MOZ_WEBGL_depth_texture")||se.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ce=se.getExtension("EXT_texture_filter_anisotropic")||se.getExtension("MOZ_EXT_texture_filter_anisotropic")||se.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ce=se.getExtension("WEBGL_compressed_texture_s3tc")||se.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||se.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ce=se.getExtension("WEBGL_compressed_texture_pvrtc")||se.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:ce=se.getExtension(oe)}return te[oe]=ce,ce}return{has:function(oe){return ae(oe)!==null},init:function(){ae("EXT_color_buffer_float"),ae("WEBGL_clip_cull_distance"),ae("OES_texture_float_linear"),ae("EXT_color_buffer_half_float"),ae("WEBGL_multisampled_render_to_texture"),ae("WEBGL_render_shared_exponent")},get:function(oe){const ce=ae(oe);return ce===null&&warnOnce("THREE.WebGLRenderer: "+oe+" extension not supported."),ce}}}function WebGLGeometries(se,te,ae,oe){const ce={},ue=new WeakMap;function fe(be){const Ee=be.target;Ee.index!==null&&te.remove(Ee.index);for(const Re in Ee.attributes)te.remove(Ee.attributes[Re]);Ee.removeEventListener("dispose",fe),delete ce[Ee.id];const Ae=ue.get(Ee);Ae&&(te.remove(Ae),ue.delete(Ee)),oe.releaseStatesOfGeometry(Ee),Ee.isInstancedBufferGeometry===!0&&delete Ee._maxInstanceCount,ae.memory.geometries--}function de(be,Ee){return ce[Ee.id]===!0||(Ee.addEventListener("dispose",fe),ce[Ee.id]=!0,ae.memory.geometries++),Ee}function pe(be){const Ee=be.attributes;for(const Ae in Ee)te.update(Ee[Ae],se.ARRAY_BUFFER)}function me(be){const Ee=[],Ae=be.index,Re=be.attributes.position;let Be=0;if(Ae!==null){const Pe=Ae.array;Be=Ae.version;for(let Ie=0,Fe=Pe.length;Ie<Fe;Ie+=3){const $e=Pe[Ie+0],Ve=Pe[Ie+1],ke=Pe[Ie+2];Ee.push($e,Ve,Ve,ke,ke,$e)}}else if(Re!==void 0){const Pe=Re.array;Be=Re.version;for(let Ie=0,Fe=Pe.length/3-1;Ie<Fe;Ie+=3){const $e=Ie+0,Ve=Ie+1,ke=Ie+2;Ee.push($e,Ve,Ve,ke,ke,$e)}}else return;const De=new(arrayNeedsUint32(Ee)?Uint32BufferAttribute:Uint16BufferAttribute)(Ee,1);De.version=Be;const Oe=ue.get(be);Oe&&te.remove(Oe),ue.set(be,De)}function _e(be){const Ee=ue.get(be);if(Ee){const Ae=be.index;Ae!==null&&Ee.version<Ae.version&&me(be)}else me(be);return ue.get(be)}return{get:de,update:pe,getWireframeAttribute:_e}}function WebGLIndexedBufferRenderer(se,te,ae){let oe;function ce(Ee){oe=Ee}let ue,fe;function de(Ee){ue=Ee.type,fe=Ee.bytesPerElement}function pe(Ee,Ae){se.drawElements(oe,Ae,ue,Ee*fe),ae.update(Ae,oe,1)}function me(Ee,Ae,Re){Re!==0&&(se.drawElementsInstanced(oe,Ae,ue,Ee*fe,Re),ae.update(Ae,oe,Re))}function _e(Ee,Ae,Re){if(Re===0)return;te.get("WEBGL_multi_draw").multiDrawElementsWEBGL(oe,Ae,0,ue,Ee,0,Re);let De=0;for(let Oe=0;Oe<Re;Oe++)De+=Ae[Oe];ae.update(De,oe,1)}function be(Ee,Ae,Re,Be){if(Re===0)return;const De=te.get("WEBGL_multi_draw");if(De===null)for(let Oe=0;Oe<Ee.length;Oe++)me(Ee[Oe]/fe,Ae[Oe],Be[Oe]);else{De.multiDrawElementsInstancedWEBGL(oe,Ae,0,ue,Ee,0,Be,0,Re);let Oe=0;for(let Pe=0;Pe<Re;Pe++)Oe+=Ae[Pe]*Be[Pe];ae.update(Oe,oe,1)}}this.setMode=ce,this.setIndex=de,this.render=pe,this.renderInstances=me,this.renderMultiDraw=_e,this.renderMultiDrawInstances=be}function WebGLInfo(se){const te={geometries:0,textures:0},ae={frame:0,calls:0,triangles:0,points:0,lines:0};function oe(ue,fe,de){switch(ae.calls++,fe){case se.TRIANGLES:ae.triangles+=de*(ue/3);break;case se.LINES:ae.lines+=de*(ue/2);break;case se.LINE_STRIP:ae.lines+=de*(ue-1);break;case se.LINE_LOOP:ae.lines+=de*ue;break;case se.POINTS:ae.points+=de*ue;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",fe);break}}function ce(){ae.calls=0,ae.triangles=0,ae.points=0,ae.lines=0}return{memory:te,render:ae,programs:null,autoReset:!0,reset:ce,update:oe}}function WebGLMorphtargets(se,te,ae){const oe=new WeakMap,ce=new Vector4;function ue(fe,de,pe){const me=fe.morphTargetInfluences,_e=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,be=_e!==void 0?_e.length:0;let Ee=oe.get(de);if(Ee===void 0||Ee.count!==be){let He=function(){We.dispose(),oe.delete(de),de.removeEventListener("dispose",He)};var Ae=He;Ee!==void 0&&Ee.texture.dispose();const Re=de.morphAttributes.position!==void 0,Be=de.morphAttributes.normal!==void 0,De=de.morphAttributes.color!==void 0,Oe=de.morphAttributes.position||[],Pe=de.morphAttributes.normal||[],Ie=de.morphAttributes.color||[];let Fe=0;Re===!0&&(Fe=1),Be===!0&&(Fe=2),De===!0&&(Fe=3);let $e=de.attributes.position.count*Fe,Ve=1;$e>te.maxTextureSize&&(Ve=Math.ceil($e/te.maxTextureSize),$e=te.maxTextureSize);const ke=new Float32Array($e*Ve*4*be),We=new DataArrayTexture(ke,$e,Ve,be);We.type=FloatType,We.needsUpdate=!0;const je=Fe*4;for(let tt=0;tt<be;tt++){const Ze=Oe[tt],nt=Pe[tt],at=Ie[tt],mt=$e*Ve*4*tt;for(let Ye=0;Ye<Ze.count;Ye++){const rt=Ye*je;Re===!0&&(ce.fromBufferAttribute(Ze,Ye),ke[mt+rt+0]=ce.x,ke[mt+rt+1]=ce.y,ke[mt+rt+2]=ce.z,ke[mt+rt+3]=0),Be===!0&&(ce.fromBufferAttribute(nt,Ye),ke[mt+rt+4]=ce.x,ke[mt+rt+5]=ce.y,ke[mt+rt+6]=ce.z,ke[mt+rt+7]=0),De===!0&&(ce.fromBufferAttribute(at,Ye),ke[mt+rt+8]=ce.x,ke[mt+rt+9]=ce.y,ke[mt+rt+10]=ce.z,ke[mt+rt+11]=at.itemSize===4?ce.w:1)}}Ee={count:be,texture:We,size:new Vector2($e,Ve)},oe.set(de,Ee),de.addEventListener("dispose",He)}if(fe.isInstancedMesh===!0&&fe.morphTexture!==null)pe.getUniforms().setValue(se,"morphTexture",fe.morphTexture,ae);else{let Re=0;for(let De=0;De<me.length;De++)Re+=me[De];const Be=de.morphTargetsRelative?1:1-Re;pe.getUniforms().setValue(se,"morphTargetBaseInfluence",Be),pe.getUniforms().setValue(se,"morphTargetInfluences",me)}pe.getUniforms().setValue(se,"morphTargetsTexture",Ee.texture,ae),pe.getUniforms().setValue(se,"morphTargetsTextureSize",Ee.size)}return{update:ue}}function WebGLObjects(se,te,ae,oe){let ce=new WeakMap;function ue(pe){const me=oe.render.frame,_e=pe.geometry,be=te.get(pe,_e);if(ce.get(be)!==me&&(te.update(be),ce.set(be,me)),pe.isInstancedMesh&&(pe.hasEventListener("dispose",de)===!1&&pe.addEventListener("dispose",de),ce.get(pe)!==me&&(ae.update(pe.instanceMatrix,se.ARRAY_BUFFER),pe.instanceColor!==null&&ae.update(pe.instanceColor,se.ARRAY_BUFFER),ce.set(pe,me))),pe.isSkinnedMesh){const Ee=pe.skeleton;ce.get(Ee)!==me&&(Ee.update(),ce.set(Ee,me))}return be}function fe(){ce=new WeakMap}function de(pe){const me=pe.target;me.removeEventListener("dispose",de),ae.remove(me.instanceMatrix),me.instanceColor!==null&&ae.remove(me.instanceColor)}return{update:ue,dispose:fe}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten$1(se,te,ae){const oe=se[0];if(oe<=0||oe>0)return se;const ce=te*ae;let ue=arrayCacheF32[ce];if(ue===void 0&&(ue=new Float32Array(ce),arrayCacheF32[ce]=ue),te!==0){oe.toArray(ue,0);for(let fe=1,de=0;fe!==te;++fe)de+=ae,se[fe].toArray(ue,de)}return ue}function arraysEqual(se,te){if(se.length!==te.length)return!1;for(let ae=0,oe=se.length;ae<oe;ae++)if(se[ae]!==te[ae])return!1;return!0}function copyArray(se,te){for(let ae=0,oe=te.length;ae<oe;ae++)se[ae]=te[ae]}function allocTexUnits(se,te){let ae=arrayCacheI32[te];ae===void 0&&(ae=new Int32Array(te),arrayCacheI32[te]=ae);for(let oe=0;oe!==te;++oe)ae[oe]=se.allocateTextureUnit();return ae}function setValueV1f(se,te){const ae=this.cache;ae[0]!==te&&(se.uniform1f(this.addr,te),ae[0]=te)}function setValueV2f(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y)&&(se.uniform2f(this.addr,te.x,te.y),ae[0]=te.x,ae[1]=te.y);else{if(arraysEqual(ae,te))return;se.uniform2fv(this.addr,te),copyArray(ae,te)}}function setValueV3f(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z)&&(se.uniform3f(this.addr,te.x,te.y,te.z),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z);else if(te.r!==void 0)(ae[0]!==te.r||ae[1]!==te.g||ae[2]!==te.b)&&(se.uniform3f(this.addr,te.r,te.g,te.b),ae[0]=te.r,ae[1]=te.g,ae[2]=te.b);else{if(arraysEqual(ae,te))return;se.uniform3fv(this.addr,te),copyArray(ae,te)}}function setValueV4f(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z||ae[3]!==te.w)&&(se.uniform4f(this.addr,te.x,te.y,te.z,te.w),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z,ae[3]=te.w);else{if(arraysEqual(ae,te))return;se.uniform4fv(this.addr,te),copyArray(ae,te)}}function setValueM2(se,te){const ae=this.cache,oe=te.elements;if(oe===void 0){if(arraysEqual(ae,te))return;se.uniformMatrix2fv(this.addr,!1,te),copyArray(ae,te)}else{if(arraysEqual(ae,oe))return;mat2array.set(oe),se.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(ae,oe)}}function setValueM3(se,te){const ae=this.cache,oe=te.elements;if(oe===void 0){if(arraysEqual(ae,te))return;se.uniformMatrix3fv(this.addr,!1,te),copyArray(ae,te)}else{if(arraysEqual(ae,oe))return;mat3array.set(oe),se.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(ae,oe)}}function setValueM4(se,te){const ae=this.cache,oe=te.elements;if(oe===void 0){if(arraysEqual(ae,te))return;se.uniformMatrix4fv(this.addr,!1,te),copyArray(ae,te)}else{if(arraysEqual(ae,oe))return;mat4array.set(oe),se.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(ae,oe)}}function setValueV1i(se,te){const ae=this.cache;ae[0]!==te&&(se.uniform1i(this.addr,te),ae[0]=te)}function setValueV2i(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y)&&(se.uniform2i(this.addr,te.x,te.y),ae[0]=te.x,ae[1]=te.y);else{if(arraysEqual(ae,te))return;se.uniform2iv(this.addr,te),copyArray(ae,te)}}function setValueV3i(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z)&&(se.uniform3i(this.addr,te.x,te.y,te.z),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z);else{if(arraysEqual(ae,te))return;se.uniform3iv(this.addr,te),copyArray(ae,te)}}function setValueV4i(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z||ae[3]!==te.w)&&(se.uniform4i(this.addr,te.x,te.y,te.z,te.w),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z,ae[3]=te.w);else{if(arraysEqual(ae,te))return;se.uniform4iv(this.addr,te),copyArray(ae,te)}}function setValueV1ui(se,te){const ae=this.cache;ae[0]!==te&&(se.uniform1ui(this.addr,te),ae[0]=te)}function setValueV2ui(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y)&&(se.uniform2ui(this.addr,te.x,te.y),ae[0]=te.x,ae[1]=te.y);else{if(arraysEqual(ae,te))return;se.uniform2uiv(this.addr,te),copyArray(ae,te)}}function setValueV3ui(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z)&&(se.uniform3ui(this.addr,te.x,te.y,te.z),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z);else{if(arraysEqual(ae,te))return;se.uniform3uiv(this.addr,te),copyArray(ae,te)}}function setValueV4ui(se,te){const ae=this.cache;if(te.x!==void 0)(ae[0]!==te.x||ae[1]!==te.y||ae[2]!==te.z||ae[3]!==te.w)&&(se.uniform4ui(this.addr,te.x,te.y,te.z,te.w),ae[0]=te.x,ae[1]=te.y,ae[2]=te.z,ae[3]=te.w);else{if(arraysEqual(ae,te))return;se.uniform4uiv(this.addr,te),copyArray(ae,te)}}function setValueT1(se,te,ae){const oe=this.cache,ce=ae.allocateTextureUnit();oe[0]!==ce&&(se.uniform1i(this.addr,ce),oe[0]=ce);let ue;this.type===se.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,ue=emptyShadowTexture):ue=emptyTexture,ae.setTexture2D(te||ue,ce)}function setValueT3D1(se,te,ae){const oe=this.cache,ce=ae.allocateTextureUnit();oe[0]!==ce&&(se.uniform1i(this.addr,ce),oe[0]=ce),ae.setTexture3D(te||empty3dTexture,ce)}function setValueT6(se,te,ae){const oe=this.cache,ce=ae.allocateTextureUnit();oe[0]!==ce&&(se.uniform1i(this.addr,ce),oe[0]=ce),ae.setTextureCube(te||emptyCubeTexture,ce)}function setValueT2DArray1(se,te,ae){const oe=this.cache,ce=ae.allocateTextureUnit();oe[0]!==ce&&(se.uniform1i(this.addr,ce),oe[0]=ce),ae.setTexture2DArray(te||emptyArrayTexture,ce)}function getSingularSetter(se){switch(se){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(se,te){se.uniform1fv(this.addr,te)}function setValueV2fArray(se,te){const ae=flatten$1(te,this.size,2);se.uniform2fv(this.addr,ae)}function setValueV3fArray(se,te){const ae=flatten$1(te,this.size,3);se.uniform3fv(this.addr,ae)}function setValueV4fArray(se,te){const ae=flatten$1(te,this.size,4);se.uniform4fv(this.addr,ae)}function setValueM2Array(se,te){const ae=flatten$1(te,this.size,4);se.uniformMatrix2fv(this.addr,!1,ae)}function setValueM3Array(se,te){const ae=flatten$1(te,this.size,9);se.uniformMatrix3fv(this.addr,!1,ae)}function setValueM4Array(se,te){const ae=flatten$1(te,this.size,16);se.uniformMatrix4fv(this.addr,!1,ae)}function setValueV1iArray(se,te){se.uniform1iv(this.addr,te)}function setValueV2iArray(se,te){se.uniform2iv(this.addr,te)}function setValueV3iArray(se,te){se.uniform3iv(this.addr,te)}function setValueV4iArray(se,te){se.uniform4iv(this.addr,te)}function setValueV1uiArray(se,te){se.uniform1uiv(this.addr,te)}function setValueV2uiArray(se,te){se.uniform2uiv(this.addr,te)}function setValueV3uiArray(se,te){se.uniform3uiv(this.addr,te)}function setValueV4uiArray(se,te){se.uniform4uiv(this.addr,te)}function setValueT1Array(se,te,ae){const oe=this.cache,ce=te.length,ue=allocTexUnits(ae,ce);arraysEqual(oe,ue)||(se.uniform1iv(this.addr,ue),copyArray(oe,ue));for(let fe=0;fe!==ce;++fe)ae.setTexture2D(te[fe]||emptyTexture,ue[fe])}function setValueT3DArray(se,te,ae){const oe=this.cache,ce=te.length,ue=allocTexUnits(ae,ce);arraysEqual(oe,ue)||(se.uniform1iv(this.addr,ue),copyArray(oe,ue));for(let fe=0;fe!==ce;++fe)ae.setTexture3D(te[fe]||empty3dTexture,ue[fe])}function setValueT6Array(se,te,ae){const oe=this.cache,ce=te.length,ue=allocTexUnits(ae,ce);arraysEqual(oe,ue)||(se.uniform1iv(this.addr,ue),copyArray(oe,ue));for(let fe=0;fe!==ce;++fe)ae.setTextureCube(te[fe]||emptyCubeTexture,ue[fe])}function setValueT2DArrayArray(se,te,ae){const oe=this.cache,ce=te.length,ue=allocTexUnits(ae,ce);arraysEqual(oe,ue)||(se.uniform1iv(this.addr,ue),copyArray(oe,ue));for(let fe=0;fe!==ce;++fe)ae.setTexture2DArray(te[fe]||emptyArrayTexture,ue[fe])}function getPureArraySetter(se){switch(se){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(te,ae,oe){this.id=te,this.addr=oe,this.cache=[],this.type=ae.type,this.setValue=getSingularSetter(ae.type)}}class PureArrayUniform{constructor(te,ae,oe){this.id=te,this.addr=oe,this.cache=[],this.type=ae.type,this.size=ae.size,this.setValue=getPureArraySetter(ae.type)}}class StructuredUniform{constructor(te){this.id=te,this.seq=[],this.map={}}setValue(te,ae,oe){const ce=this.seq;for(let ue=0,fe=ce.length;ue!==fe;++ue){const de=ce[ue];de.setValue(te,ae[de.id],oe)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(se,te){se.seq.push(te),se.map[te.id]=te}function parseUniform(se,te,ae){const oe=se.name,ce=oe.length;for(RePathPart.lastIndex=0;;){const ue=RePathPart.exec(oe),fe=RePathPart.lastIndex;let de=ue[1];const pe=ue[2]==="]",me=ue[3];if(pe&&(de=de|0),me===void 0||me==="["&&fe+2===ce){addUniform(ae,me===void 0?new SingleUniform(de,se,te):new PureArrayUniform(de,se,te));break}else{let be=ae.map[de];be===void 0&&(be=new StructuredUniform(de),addUniform(ae,be)),ae=be}}}class WebGLUniforms{constructor(te,ae){this.seq=[],this.map={};const oe=te.getProgramParameter(ae,te.ACTIVE_UNIFORMS);for(let ce=0;ce<oe;++ce){const ue=te.getActiveUniform(ae,ce),fe=te.getUniformLocation(ae,ue.name);parseUniform(ue,fe,this)}}setValue(te,ae,oe,ce){const ue=this.map[ae];ue!==void 0&&ue.setValue(te,oe,ce)}setOptional(te,ae,oe){const ce=ae[oe];ce!==void 0&&this.setValue(te,oe,ce)}static upload(te,ae,oe,ce){for(let ue=0,fe=ae.length;ue!==fe;++ue){const de=ae[ue],pe=oe[de.id];pe.needsUpdate!==!1&&de.setValue(te,pe.value,ce)}}static seqWithValue(te,ae){const oe=[];for(let ce=0,ue=te.length;ce!==ue;++ce){const fe=te[ce];fe.id in ae&&oe.push(fe)}return oe}}function WebGLShader(se,te,ae){const oe=se.createShader(te);return se.shaderSource(oe,ae),se.compileShader(oe),oe}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(se,te){const ae=se.split(`
`),oe=[],ce=Math.max(te-6,0),ue=Math.min(te+6,ae.length);for(let fe=ce;fe<ue;fe++){const de=fe+1;oe.push(`${de===te?">":" "} ${de}: ${ae[fe]}`)}return oe.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(se){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,se);const te=`mat3( ${_m0.elements.map(ae=>ae.toFixed(4))} )`;switch(ColorManagement.getTransfer(se)){case LinearTransfer:return[te,"LinearTransferOETF"];case SRGBTransfer:return[te,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",se),[te,"LinearTransferOETF"]}}function getShaderErrors(se,te,ae){const oe=se.getShaderParameter(te,se.COMPILE_STATUS),ce=se.getShaderInfoLog(te).trim();if(oe&&ce==="")return"";const ue=/ERROR: 0:(\d+)/.exec(ce);if(ue){const fe=parseInt(ue[1]);return ae.toUpperCase()+`

`+ce+`

`+handleSource(se.getShaderSource(te),fe)}else return ce}function getTexelEncodingFunction(se,te){const ae=getEncodingComponents(te);return[`vec4 ${se}( vec4 value ) {`,`	return ${ae[1]}( vec4( value.rgb * ${ae[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(se,te){let ae;switch(te){case LinearToneMapping:ae="Linear";break;case ReinhardToneMapping:ae="Reinhard";break;case CineonToneMapping:ae="Cineon";break;case ACESFilmicToneMapping:ae="ACESFilmic";break;case AgXToneMapping:ae="AgX";break;case NeutralToneMapping:ae="Neutral";break;case CustomToneMapping:ae="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",te),ae="Linear"}return"vec3 "+se+"( vec3 color ) { return "+ae+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const se=_v0.x.toFixed(4),te=_v0.y.toFixed(4),ae=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${se}, ${te}, ${ae} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(se){return[se.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",se.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(se){const te=[];for(const ae in se){const oe=se[ae];oe!==!1&&te.push("#define "+ae+" "+oe)}return te.join(`
`)}function fetchAttributeLocations(se,te){const ae={},oe=se.getProgramParameter(te,se.ACTIVE_ATTRIBUTES);for(let ce=0;ce<oe;ce++){const ue=se.getActiveAttrib(te,ce),fe=ue.name;let de=1;ue.type===se.FLOAT_MAT2&&(de=2),ue.type===se.FLOAT_MAT3&&(de=3),ue.type===se.FLOAT_MAT4&&(de=4),ae[fe]={type:ue.type,location:se.getAttribLocation(te,fe),locationSize:de}}return ae}function filterEmptyLine(se){return se!==""}function replaceLightNums(se,te){const ae=te.numSpotLightShadows+te.numSpotLightMaps-te.numSpotLightShadowsWithMaps;return se.replace(/NUM_DIR_LIGHTS/g,te.numDirLights).replace(/NUM_SPOT_LIGHTS/g,te.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,te.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,ae).replace(/NUM_RECT_AREA_LIGHTS/g,te.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,te.numPointLights).replace(/NUM_HEMI_LIGHTS/g,te.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,te.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,te.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,te.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,te.numPointLightShadows)}function replaceClippingPlaneNums(se,te){return se.replace(/NUM_CLIPPING_PLANES/g,te.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,te.numClippingPlanes-te.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(se){return se.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(se,te){let ae=ShaderChunk[te];if(ae===void 0){const oe=shaderChunkMap.get(te);if(oe!==void 0)ae=ShaderChunk[oe],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',te,oe);else throw new Error("Can not resolve #include <"+te+">")}return resolveIncludes(ae)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(se){return se.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(se,te,ae,oe){let ce="";for(let ue=parseInt(te);ue<parseInt(ae);ue++)ce+=oe.replace(/\[\s*i\s*\]/g,"[ "+ue+" ]").replace(/UNROLLED_LOOP_INDEX/g,ue);return ce}function generatePrecision(se){let te=`precision ${se.precision} float;
	precision ${se.precision} int;
	precision ${se.precision} sampler2D;
	precision ${se.precision} samplerCube;
	precision ${se.precision} sampler3D;
	precision ${se.precision} sampler2DArray;
	precision ${se.precision} sampler2DShadow;
	precision ${se.precision} samplerCubeShadow;
	precision ${se.precision} sampler2DArrayShadow;
	precision ${se.precision} isampler2D;
	precision ${se.precision} isampler3D;
	precision ${se.precision} isamplerCube;
	precision ${se.precision} isampler2DArray;
	precision ${se.precision} usampler2D;
	precision ${se.precision} usampler3D;
	precision ${se.precision} usamplerCube;
	precision ${se.precision} usampler2DArray;
	`;return se.precision==="highp"?te+=`
#define HIGH_PRECISION`:se.precision==="mediump"?te+=`
#define MEDIUM_PRECISION`:se.precision==="lowp"&&(te+=`
#define LOW_PRECISION`),te}function generateShadowMapTypeDefine(se){let te="SHADOWMAP_TYPE_BASIC";return se.shadowMapType===PCFShadowMap?te="SHADOWMAP_TYPE_PCF":se.shadowMapType===PCFSoftShadowMap?te="SHADOWMAP_TYPE_PCF_SOFT":se.shadowMapType===VSMShadowMap&&(te="SHADOWMAP_TYPE_VSM"),te}function generateEnvMapTypeDefine(se){let te="ENVMAP_TYPE_CUBE";if(se.envMap)switch(se.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:te="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping$1:te="ENVMAP_TYPE_CUBE_UV";break}return te}function generateEnvMapModeDefine(se){let te="ENVMAP_MODE_REFLECTION";if(se.envMap)switch(se.envMapMode){case CubeRefractionMapping:te="ENVMAP_MODE_REFRACTION";break}return te}function generateEnvMapBlendingDefine(se){let te="ENVMAP_BLENDING_NONE";if(se.envMap)switch(se.combine){case MultiplyOperation:te="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:te="ENVMAP_BLENDING_MIX";break;case AddOperation:te="ENVMAP_BLENDING_ADD";break}return te}function generateCubeUVSize(se){const te=se.envMapCubeUVHeight;if(te===null)return null;const ae=Math.log2(te)-2,oe=1/te;return{texelWidth:1/(3*Math.max(Math.pow(2,ae),7*16)),texelHeight:oe,maxMip:ae}}function WebGLProgram(se,te,ae,oe){const ce=se.getContext(),ue=ae.defines;let fe=ae.vertexShader,de=ae.fragmentShader;const pe=generateShadowMapTypeDefine(ae),me=generateEnvMapTypeDefine(ae),_e=generateEnvMapModeDefine(ae),be=generateEnvMapBlendingDefine(ae),Ee=generateCubeUVSize(ae),Ae=generateVertexExtensions(ae),Re=generateDefines(ue),Be=ce.createProgram();let De,Oe,Pe=ae.glslVersion?"#version "+ae.glslVersion+`
`:"";ae.isRawShaderMaterial?(De=["#define SHADER_TYPE "+ae.shaderType,"#define SHADER_NAME "+ae.shaderName,Re].filter(filterEmptyLine).join(`
`),De.length>0&&(De+=`
`),Oe=["#define SHADER_TYPE "+ae.shaderType,"#define SHADER_NAME "+ae.shaderName,Re].filter(filterEmptyLine).join(`
`),Oe.length>0&&(Oe+=`
`)):(De=[generatePrecision(ae),"#define SHADER_TYPE "+ae.shaderType,"#define SHADER_NAME "+ae.shaderName,Re,ae.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",ae.batching?"#define USE_BATCHING":"",ae.batchingColor?"#define USE_BATCHING_COLOR":"",ae.instancing?"#define USE_INSTANCING":"",ae.instancingColor?"#define USE_INSTANCING_COLOR":"",ae.instancingMorph?"#define USE_INSTANCING_MORPH":"",ae.useFog&&ae.fog?"#define USE_FOG":"",ae.useFog&&ae.fogExp2?"#define FOG_EXP2":"",ae.map?"#define USE_MAP":"",ae.envMap?"#define USE_ENVMAP":"",ae.envMap?"#define "+_e:"",ae.lightMap?"#define USE_LIGHTMAP":"",ae.aoMap?"#define USE_AOMAP":"",ae.bumpMap?"#define USE_BUMPMAP":"",ae.normalMap?"#define USE_NORMALMAP":"",ae.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",ae.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",ae.displacementMap?"#define USE_DISPLACEMENTMAP":"",ae.emissiveMap?"#define USE_EMISSIVEMAP":"",ae.anisotropy?"#define USE_ANISOTROPY":"",ae.anisotropyMap?"#define USE_ANISOTROPYMAP":"",ae.clearcoatMap?"#define USE_CLEARCOATMAP":"",ae.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ae.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ae.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ae.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ae.specularMap?"#define USE_SPECULARMAP":"",ae.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",ae.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",ae.roughnessMap?"#define USE_ROUGHNESSMAP":"",ae.metalnessMap?"#define USE_METALNESSMAP":"",ae.alphaMap?"#define USE_ALPHAMAP":"",ae.alphaHash?"#define USE_ALPHAHASH":"",ae.transmission?"#define USE_TRANSMISSION":"",ae.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ae.thicknessMap?"#define USE_THICKNESSMAP":"",ae.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",ae.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",ae.mapUv?"#define MAP_UV "+ae.mapUv:"",ae.alphaMapUv?"#define ALPHAMAP_UV "+ae.alphaMapUv:"",ae.lightMapUv?"#define LIGHTMAP_UV "+ae.lightMapUv:"",ae.aoMapUv?"#define AOMAP_UV "+ae.aoMapUv:"",ae.emissiveMapUv?"#define EMISSIVEMAP_UV "+ae.emissiveMapUv:"",ae.bumpMapUv?"#define BUMPMAP_UV "+ae.bumpMapUv:"",ae.normalMapUv?"#define NORMALMAP_UV "+ae.normalMapUv:"",ae.displacementMapUv?"#define DISPLACEMENTMAP_UV "+ae.displacementMapUv:"",ae.metalnessMapUv?"#define METALNESSMAP_UV "+ae.metalnessMapUv:"",ae.roughnessMapUv?"#define ROUGHNESSMAP_UV "+ae.roughnessMapUv:"",ae.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+ae.anisotropyMapUv:"",ae.clearcoatMapUv?"#define CLEARCOATMAP_UV "+ae.clearcoatMapUv:"",ae.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+ae.clearcoatNormalMapUv:"",ae.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+ae.clearcoatRoughnessMapUv:"",ae.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+ae.iridescenceMapUv:"",ae.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+ae.iridescenceThicknessMapUv:"",ae.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+ae.sheenColorMapUv:"",ae.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+ae.sheenRoughnessMapUv:"",ae.specularMapUv?"#define SPECULARMAP_UV "+ae.specularMapUv:"",ae.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+ae.specularColorMapUv:"",ae.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+ae.specularIntensityMapUv:"",ae.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+ae.transmissionMapUv:"",ae.thicknessMapUv?"#define THICKNESSMAP_UV "+ae.thicknessMapUv:"",ae.vertexTangents&&ae.flatShading===!1?"#define USE_TANGENT":"",ae.vertexColors?"#define USE_COLOR":"",ae.vertexAlphas?"#define USE_COLOR_ALPHA":"",ae.vertexUv1s?"#define USE_UV1":"",ae.vertexUv2s?"#define USE_UV2":"",ae.vertexUv3s?"#define USE_UV3":"",ae.pointsUvs?"#define USE_POINTS_UV":"",ae.flatShading?"#define FLAT_SHADED":"",ae.skinning?"#define USE_SKINNING":"",ae.morphTargets?"#define USE_MORPHTARGETS":"",ae.morphNormals&&ae.flatShading===!1?"#define USE_MORPHNORMALS":"",ae.morphColors?"#define USE_MORPHCOLORS":"",ae.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+ae.morphTextureStride:"",ae.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+ae.morphTargetsCount:"",ae.doubleSided?"#define DOUBLE_SIDED":"",ae.flipSided?"#define FLIP_SIDED":"",ae.shadowMapEnabled?"#define USE_SHADOWMAP":"",ae.shadowMapEnabled?"#define "+pe:"",ae.sizeAttenuation?"#define USE_SIZEATTENUATION":"",ae.numLightProbes>0?"#define USE_LIGHT_PROBES":"",ae.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ae.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Oe=[generatePrecision(ae),"#define SHADER_TYPE "+ae.shaderType,"#define SHADER_NAME "+ae.shaderName,Re,ae.useFog&&ae.fog?"#define USE_FOG":"",ae.useFog&&ae.fogExp2?"#define FOG_EXP2":"",ae.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",ae.map?"#define USE_MAP":"",ae.matcap?"#define USE_MATCAP":"",ae.envMap?"#define USE_ENVMAP":"",ae.envMap?"#define "+me:"",ae.envMap?"#define "+_e:"",ae.envMap?"#define "+be:"",Ee?"#define CUBEUV_TEXEL_WIDTH "+Ee.texelWidth:"",Ee?"#define CUBEUV_TEXEL_HEIGHT "+Ee.texelHeight:"",Ee?"#define CUBEUV_MAX_MIP "+Ee.maxMip+".0":"",ae.lightMap?"#define USE_LIGHTMAP":"",ae.aoMap?"#define USE_AOMAP":"",ae.bumpMap?"#define USE_BUMPMAP":"",ae.normalMap?"#define USE_NORMALMAP":"",ae.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",ae.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",ae.emissiveMap?"#define USE_EMISSIVEMAP":"",ae.anisotropy?"#define USE_ANISOTROPY":"",ae.anisotropyMap?"#define USE_ANISOTROPYMAP":"",ae.clearcoat?"#define USE_CLEARCOAT":"",ae.clearcoatMap?"#define USE_CLEARCOATMAP":"",ae.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ae.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ae.dispersion?"#define USE_DISPERSION":"",ae.iridescence?"#define USE_IRIDESCENCE":"",ae.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ae.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ae.specularMap?"#define USE_SPECULARMAP":"",ae.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",ae.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",ae.roughnessMap?"#define USE_ROUGHNESSMAP":"",ae.metalnessMap?"#define USE_METALNESSMAP":"",ae.alphaMap?"#define USE_ALPHAMAP":"",ae.alphaTest?"#define USE_ALPHATEST":"",ae.alphaHash?"#define USE_ALPHAHASH":"",ae.sheen?"#define USE_SHEEN":"",ae.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",ae.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",ae.transmission?"#define USE_TRANSMISSION":"",ae.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ae.thicknessMap?"#define USE_THICKNESSMAP":"",ae.vertexTangents&&ae.flatShading===!1?"#define USE_TANGENT":"",ae.vertexColors||ae.instancingColor||ae.batchingColor?"#define USE_COLOR":"",ae.vertexAlphas?"#define USE_COLOR_ALPHA":"",ae.vertexUv1s?"#define USE_UV1":"",ae.vertexUv2s?"#define USE_UV2":"",ae.vertexUv3s?"#define USE_UV3":"",ae.pointsUvs?"#define USE_POINTS_UV":"",ae.gradientMap?"#define USE_GRADIENTMAP":"",ae.flatShading?"#define FLAT_SHADED":"",ae.doubleSided?"#define DOUBLE_SIDED":"",ae.flipSided?"#define FLIP_SIDED":"",ae.shadowMapEnabled?"#define USE_SHADOWMAP":"",ae.shadowMapEnabled?"#define "+pe:"",ae.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",ae.numLightProbes>0?"#define USE_LIGHT_PROBES":"",ae.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",ae.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",ae.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ae.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",ae.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",ae.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",ae.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",ae.toneMapping):"",ae.dithering?"#define DITHERING":"",ae.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",ae.outputColorSpace),getLuminanceFunction(),ae.useDepthPacking?"#define DEPTH_PACKING "+ae.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),fe=resolveIncludes(fe),fe=replaceLightNums(fe,ae),fe=replaceClippingPlaneNums(fe,ae),de=resolveIncludes(de),de=replaceLightNums(de,ae),de=replaceClippingPlaneNums(de,ae),fe=unrollLoops(fe),de=unrollLoops(de),ae.isRawShaderMaterial!==!0&&(Pe=`#version 300 es
`,De=[Ae,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+De,Oe=["#define varying in",ae.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",ae.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Oe);const Ie=Pe+De+fe,Fe=Pe+Oe+de,$e=WebGLShader(ce,ce.VERTEX_SHADER,Ie),Ve=WebGLShader(ce,ce.FRAGMENT_SHADER,Fe);ce.attachShader(Be,$e),ce.attachShader(Be,Ve),ae.index0AttributeName!==void 0?ce.bindAttribLocation(Be,0,ae.index0AttributeName):ae.morphTargets===!0&&ce.bindAttribLocation(Be,0,"position"),ce.linkProgram(Be);function ke(tt){if(se.debug.checkShaderErrors){const Ze=ce.getProgramInfoLog(Be).trim(),nt=ce.getShaderInfoLog($e).trim(),at=ce.getShaderInfoLog(Ve).trim();let mt=!0,Ye=!0;if(ce.getProgramParameter(Be,ce.LINK_STATUS)===!1)if(mt=!1,typeof se.debug.onShaderError=="function")se.debug.onShaderError(ce,Be,$e,Ve);else{const rt=getShaderErrors(ce,$e,"vertex"),lt=getShaderErrors(ce,Ve,"fragment");console.error("THREE.WebGLProgram: Shader Error "+ce.getError()+" - VALIDATE_STATUS "+ce.getProgramParameter(Be,ce.VALIDATE_STATUS)+`

Material Name: `+tt.name+`
Material Type: `+tt.type+`

Program Info Log: `+Ze+`
`+rt+`
`+lt)}else Ze!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ze):(nt===""||at==="")&&(Ye=!1);Ye&&(tt.diagnostics={runnable:mt,programLog:Ze,vertexShader:{log:nt,prefix:De},fragmentShader:{log:at,prefix:Oe}})}ce.deleteShader($e),ce.deleteShader(Ve),We=new WebGLUniforms(ce,Be),je=fetchAttributeLocations(ce,Be)}let We;this.getUniforms=function(){return We===void 0&&ke(this),We};let je;this.getAttributes=function(){return je===void 0&&ke(this),je};let He=ae.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return He===!1&&(He=ce.getProgramParameter(Be,COMPLETION_STATUS_KHR)),He},this.destroy=function(){oe.releaseStatesOfProgram(this),ce.deleteProgram(Be),this.program=void 0},this.type=ae.shaderType,this.name=ae.shaderName,this.id=programIdCount++,this.cacheKey=te,this.usedTimes=1,this.program=Be,this.vertexShader=$e,this.fragmentShader=Ve,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(te){const ae=te.vertexShader,oe=te.fragmentShader,ce=this._getShaderStage(ae),ue=this._getShaderStage(oe),fe=this._getShaderCacheForMaterial(te);return fe.has(ce)===!1&&(fe.add(ce),ce.usedTimes++),fe.has(ue)===!1&&(fe.add(ue),ue.usedTimes++),this}remove(te){const ae=this.materialCache.get(te);for(const oe of ae)oe.usedTimes--,oe.usedTimes===0&&this.shaderCache.delete(oe.code);return this.materialCache.delete(te),this}getVertexShaderID(te){return this._getShaderStage(te.vertexShader).id}getFragmentShaderID(te){return this._getShaderStage(te.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(te){const ae=this.materialCache;let oe=ae.get(te);return oe===void 0&&(oe=new Set,ae.set(te,oe)),oe}_getShaderStage(te){const ae=this.shaderCache;let oe=ae.get(te);return oe===void 0&&(oe=new WebGLShaderStage(te),ae.set(te,oe)),oe}}class WebGLShaderStage{constructor(te){this.id=_id++,this.code=te,this.usedTimes=0}}function WebGLPrograms(se,te,ae,oe,ce,ue,fe){const de=new Layers,pe=new WebGLShaderCache,me=new Set,_e=[],be=ce.logarithmicDepthBuffer,Ee=ce.vertexTextures;let Ae=ce.precision;const Re={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Be(je){return me.add(je),je===0?"uv":`uv${je}`}function De(je,He,tt,Ze,nt){const at=Ze.fog,mt=nt.geometry,Ye=je.isMeshStandardMaterial?Ze.environment:null,rt=(je.isMeshStandardMaterial?ae:te).get(je.envMap||Ye),lt=rt&&rt.mapping===CubeUVReflectionMapping$1?rt.image.height:null,_t=Re[je.type];je.precision!==null&&(Ae=ce.getMaxPrecision(je.precision),Ae!==je.precision&&console.warn("THREE.WebGLProgram.getParameters:",je.precision,"not supported, using",Ae,"instead."));const Xe=mt.morphAttributes.position||mt.morphAttributes.normal||mt.morphAttributes.color,et=Xe!==void 0?Xe.length:0;let ft=0;mt.morphAttributes.position!==void 0&&(ft=1),mt.morphAttributes.normal!==void 0&&(ft=2),mt.morphAttributes.color!==void 0&&(ft=3);let yt,st,gt,Et;if(_t){const xn=ShaderLib[_t];yt=xn.vertexShader,st=xn.fragmentShader}else yt=je.vertexShader,st=je.fragmentShader,pe.update(je),gt=pe.getVertexShaderID(je),Et=pe.getFragmentShaderID(je);const bt=se.getRenderTarget(),Dt=se.state.buffers.depth.getReversed(),nn=nt.isInstancedMesh===!0,ln=nt.isBatchedMesh===!0,tn=!!je.map,Wt=!!je.matcap,on=!!rt,pt=!!je.aoMap,Sn=!!je.lightMap,Nt=!!je.bumpMap,ht=!!je.normalMap,Rt=!!je.displacementMap,kt=!!je.emissiveMap,Bt=!!je.metalnessMap,Qe=!!je.roughnessMap,Ke=je.anisotropy>0,ct=je.clearcoat>0,St=je.dispersion>0,Mt=je.iridescence>0,Ft=je.sheen>0,zt=je.transmission>0,$t=Ke&&!!je.anisotropyMap,Jt=ct&&!!je.clearcoatMap,Mn=ct&&!!je.clearcoatNormalMap,rn=ct&&!!je.clearcoatRoughnessMap,cn=Mt&&!!je.iridescenceMap,vn=Mt&&!!je.iridescenceThicknessMap,hn=Ft&&!!je.sheenColorMap,Qt=Ft&&!!je.sheenRoughnessMap,Cn=!!je.specularMap,Tn=!!je.specularColorMap,Xn=!!je.specularIntensityMap,xt=zt&&!!je.transmissionMap,sn=zt&&!!je.thicknessMap,Gt=!!je.gradientMap,an=!!je.alphaMap,mn=je.alphaTest>0,un=!!je.alphaHash,Un=!!je.extensions;let Hn=NoToneMapping;je.toneMapped&&(bt===null||bt.isXRRenderTarget===!0)&&(Hn=se.toneMapping);const Pn={shaderID:_t,shaderType:je.type,shaderName:je.name,vertexShader:yt,fragmentShader:st,defines:je.defines,customVertexShaderID:gt,customFragmentShaderID:Et,isRawShaderMaterial:je.isRawShaderMaterial===!0,glslVersion:je.glslVersion,precision:Ae,batching:ln,batchingColor:ln&&nt._colorsTexture!==null,instancing:nn,instancingColor:nn&&nt.instanceColor!==null,instancingMorph:nn&&nt.morphTexture!==null,supportsVertexTextures:Ee,outputColorSpace:bt===null?se.outputColorSpace:bt.isXRRenderTarget===!0?bt.texture.colorSpace:LinearSRGBColorSpace$1,alphaToCoverage:!!je.alphaToCoverage,map:tn,matcap:Wt,envMap:on,envMapMode:on&&rt.mapping,envMapCubeUVHeight:lt,aoMap:pt,lightMap:Sn,bumpMap:Nt,normalMap:ht,displacementMap:Ee&&Rt,emissiveMap:kt,normalMapObjectSpace:ht&&je.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:ht&&je.normalMapType===TangentSpaceNormalMap,metalnessMap:Bt,roughnessMap:Qe,anisotropy:Ke,anisotropyMap:$t,clearcoat:ct,clearcoatMap:Jt,clearcoatNormalMap:Mn,clearcoatRoughnessMap:rn,dispersion:St,iridescence:Mt,iridescenceMap:cn,iridescenceThicknessMap:vn,sheen:Ft,sheenColorMap:hn,sheenRoughnessMap:Qt,specularMap:Cn,specularColorMap:Tn,specularIntensityMap:Xn,transmission:zt,transmissionMap:xt,thicknessMap:sn,gradientMap:Gt,opaque:je.transparent===!1&&je.blending===NormalBlending&&je.alphaToCoverage===!1,alphaMap:an,alphaTest:mn,alphaHash:un,combine:je.combine,mapUv:tn&&Be(je.map.channel),aoMapUv:pt&&Be(je.aoMap.channel),lightMapUv:Sn&&Be(je.lightMap.channel),bumpMapUv:Nt&&Be(je.bumpMap.channel),normalMapUv:ht&&Be(je.normalMap.channel),displacementMapUv:Rt&&Be(je.displacementMap.channel),emissiveMapUv:kt&&Be(je.emissiveMap.channel),metalnessMapUv:Bt&&Be(je.metalnessMap.channel),roughnessMapUv:Qe&&Be(je.roughnessMap.channel),anisotropyMapUv:$t&&Be(je.anisotropyMap.channel),clearcoatMapUv:Jt&&Be(je.clearcoatMap.channel),clearcoatNormalMapUv:Mn&&Be(je.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rn&&Be(je.clearcoatRoughnessMap.channel),iridescenceMapUv:cn&&Be(je.iridescenceMap.channel),iridescenceThicknessMapUv:vn&&Be(je.iridescenceThicknessMap.channel),sheenColorMapUv:hn&&Be(je.sheenColorMap.channel),sheenRoughnessMapUv:Qt&&Be(je.sheenRoughnessMap.channel),specularMapUv:Cn&&Be(je.specularMap.channel),specularColorMapUv:Tn&&Be(je.specularColorMap.channel),specularIntensityMapUv:Xn&&Be(je.specularIntensityMap.channel),transmissionMapUv:xt&&Be(je.transmissionMap.channel),thicknessMapUv:sn&&Be(je.thicknessMap.channel),alphaMapUv:an&&Be(je.alphaMap.channel),vertexTangents:!!mt.attributes.tangent&&(ht||Ke),vertexColors:je.vertexColors,vertexAlphas:je.vertexColors===!0&&!!mt.attributes.color&&mt.attributes.color.itemSize===4,pointsUvs:nt.isPoints===!0&&!!mt.attributes.uv&&(tn||an),fog:!!at,useFog:je.fog===!0,fogExp2:!!at&&at.isFogExp2,flatShading:je.flatShading===!0,sizeAttenuation:je.sizeAttenuation===!0,logarithmicDepthBuffer:be,reverseDepthBuffer:Dt,skinning:nt.isSkinnedMesh===!0,morphTargets:mt.morphAttributes.position!==void 0,morphNormals:mt.morphAttributes.normal!==void 0,morphColors:mt.morphAttributes.color!==void 0,morphTargetsCount:et,morphTextureStride:ft,numDirLights:He.directional.length,numPointLights:He.point.length,numSpotLights:He.spot.length,numSpotLightMaps:He.spotLightMap.length,numRectAreaLights:He.rectArea.length,numHemiLights:He.hemi.length,numDirLightShadows:He.directionalShadowMap.length,numPointLightShadows:He.pointShadowMap.length,numSpotLightShadows:He.spotShadowMap.length,numSpotLightShadowsWithMaps:He.numSpotLightShadowsWithMaps,numLightProbes:He.numLightProbes,numClippingPlanes:fe.numPlanes,numClipIntersection:fe.numIntersection,dithering:je.dithering,shadowMapEnabled:se.shadowMap.enabled&&tt.length>0,shadowMapType:se.shadowMap.type,toneMapping:Hn,decodeVideoTexture:tn&&je.map.isVideoTexture===!0&&ColorManagement.getTransfer(je.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:kt&&je.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(je.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:je.premultipliedAlpha,doubleSided:je.side===DoubleSide,flipSided:je.side===BackSide,useDepthPacking:je.depthPacking>=0,depthPacking:je.depthPacking||0,index0AttributeName:je.index0AttributeName,extensionClipCullDistance:Un&&je.extensions.clipCullDistance===!0&&oe.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Un&&je.extensions.multiDraw===!0||ln)&&oe.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:oe.has("KHR_parallel_shader_compile"),customProgramCacheKey:je.customProgramCacheKey()};return Pn.vertexUv1s=me.has(1),Pn.vertexUv2s=me.has(2),Pn.vertexUv3s=me.has(3),me.clear(),Pn}function Oe(je){const He=[];if(je.shaderID?He.push(je.shaderID):(He.push(je.customVertexShaderID),He.push(je.customFragmentShaderID)),je.defines!==void 0)for(const tt in je.defines)He.push(tt),He.push(je.defines[tt]);return je.isRawShaderMaterial===!1&&(Pe(He,je),Ie(He,je),He.push(se.outputColorSpace)),He.push(je.customProgramCacheKey),He.join()}function Pe(je,He){je.push(He.precision),je.push(He.outputColorSpace),je.push(He.envMapMode),je.push(He.envMapCubeUVHeight),je.push(He.mapUv),je.push(He.alphaMapUv),je.push(He.lightMapUv),je.push(He.aoMapUv),je.push(He.bumpMapUv),je.push(He.normalMapUv),je.push(He.displacementMapUv),je.push(He.emissiveMapUv),je.push(He.metalnessMapUv),je.push(He.roughnessMapUv),je.push(He.anisotropyMapUv),je.push(He.clearcoatMapUv),je.push(He.clearcoatNormalMapUv),je.push(He.clearcoatRoughnessMapUv),je.push(He.iridescenceMapUv),je.push(He.iridescenceThicknessMapUv),je.push(He.sheenColorMapUv),je.push(He.sheenRoughnessMapUv),je.push(He.specularMapUv),je.push(He.specularColorMapUv),je.push(He.specularIntensityMapUv),je.push(He.transmissionMapUv),je.push(He.thicknessMapUv),je.push(He.combine),je.push(He.fogExp2),je.push(He.sizeAttenuation),je.push(He.morphTargetsCount),je.push(He.morphAttributeCount),je.push(He.numDirLights),je.push(He.numPointLights),je.push(He.numSpotLights),je.push(He.numSpotLightMaps),je.push(He.numHemiLights),je.push(He.numRectAreaLights),je.push(He.numDirLightShadows),je.push(He.numPointLightShadows),je.push(He.numSpotLightShadows),je.push(He.numSpotLightShadowsWithMaps),je.push(He.numLightProbes),je.push(He.shadowMapType),je.push(He.toneMapping),je.push(He.numClippingPlanes),je.push(He.numClipIntersection),je.push(He.depthPacking)}function Ie(je,He){de.disableAll(),He.supportsVertexTextures&&de.enable(0),He.instancing&&de.enable(1),He.instancingColor&&de.enable(2),He.instancingMorph&&de.enable(3),He.matcap&&de.enable(4),He.envMap&&de.enable(5),He.normalMapObjectSpace&&de.enable(6),He.normalMapTangentSpace&&de.enable(7),He.clearcoat&&de.enable(8),He.iridescence&&de.enable(9),He.alphaTest&&de.enable(10),He.vertexColors&&de.enable(11),He.vertexAlphas&&de.enable(12),He.vertexUv1s&&de.enable(13),He.vertexUv2s&&de.enable(14),He.vertexUv3s&&de.enable(15),He.vertexTangents&&de.enable(16),He.anisotropy&&de.enable(17),He.alphaHash&&de.enable(18),He.batching&&de.enable(19),He.dispersion&&de.enable(20),He.batchingColor&&de.enable(21),je.push(de.mask),de.disableAll(),He.fog&&de.enable(0),He.useFog&&de.enable(1),He.flatShading&&de.enable(2),He.logarithmicDepthBuffer&&de.enable(3),He.reverseDepthBuffer&&de.enable(4),He.skinning&&de.enable(5),He.morphTargets&&de.enable(6),He.morphNormals&&de.enable(7),He.morphColors&&de.enable(8),He.premultipliedAlpha&&de.enable(9),He.shadowMapEnabled&&de.enable(10),He.doubleSided&&de.enable(11),He.flipSided&&de.enable(12),He.useDepthPacking&&de.enable(13),He.dithering&&de.enable(14),He.transmission&&de.enable(15),He.sheen&&de.enable(16),He.opaque&&de.enable(17),He.pointsUvs&&de.enable(18),He.decodeVideoTexture&&de.enable(19),He.decodeVideoTextureEmissive&&de.enable(20),He.alphaToCoverage&&de.enable(21),je.push(de.mask)}function Fe(je){const He=Re[je.type];let tt;if(He){const Ze=ShaderLib[He];tt=UniformsUtils.clone(Ze.uniforms)}else tt=je.uniforms;return tt}function $e(je,He){let tt;for(let Ze=0,nt=_e.length;Ze<nt;Ze++){const at=_e[Ze];if(at.cacheKey===He){tt=at,++tt.usedTimes;break}}return tt===void 0&&(tt=new WebGLProgram(se,He,je,ue),_e.push(tt)),tt}function Ve(je){if(--je.usedTimes===0){const He=_e.indexOf(je);_e[He]=_e[_e.length-1],_e.pop(),je.destroy()}}function ke(je){pe.remove(je)}function We(){pe.dispose()}return{getParameters:De,getProgramCacheKey:Oe,getUniforms:Fe,acquireProgram:$e,releaseProgram:Ve,releaseShaderCache:ke,programs:_e,dispose:We}}function WebGLProperties(){let se=new WeakMap;function te(fe){return se.has(fe)}function ae(fe){let de=se.get(fe);return de===void 0&&(de={},se.set(fe,de)),de}function oe(fe){se.delete(fe)}function ce(fe,de,pe){se.get(fe)[de]=pe}function ue(){se=new WeakMap}return{has:te,get:ae,remove:oe,update:ce,dispose:ue}}function painterSortStable(se,te){return se.groupOrder!==te.groupOrder?se.groupOrder-te.groupOrder:se.renderOrder!==te.renderOrder?se.renderOrder-te.renderOrder:se.material.id!==te.material.id?se.material.id-te.material.id:se.z!==te.z?se.z-te.z:se.id-te.id}function reversePainterSortStable(se,te){return se.groupOrder!==te.groupOrder?se.groupOrder-te.groupOrder:se.renderOrder!==te.renderOrder?se.renderOrder-te.renderOrder:se.z!==te.z?te.z-se.z:se.id-te.id}function WebGLRenderList(){const se=[];let te=0;const ae=[],oe=[],ce=[];function ue(){te=0,ae.length=0,oe.length=0,ce.length=0}function fe(be,Ee,Ae,Re,Be,De){let Oe=se[te];return Oe===void 0?(Oe={id:be.id,object:be,geometry:Ee,material:Ae,groupOrder:Re,renderOrder:be.renderOrder,z:Be,group:De},se[te]=Oe):(Oe.id=be.id,Oe.object=be,Oe.geometry=Ee,Oe.material=Ae,Oe.groupOrder=Re,Oe.renderOrder=be.renderOrder,Oe.z=Be,Oe.group=De),te++,Oe}function de(be,Ee,Ae,Re,Be,De){const Oe=fe(be,Ee,Ae,Re,Be,De);Ae.transmission>0?oe.push(Oe):Ae.transparent===!0?ce.push(Oe):ae.push(Oe)}function pe(be,Ee,Ae,Re,Be,De){const Oe=fe(be,Ee,Ae,Re,Be,De);Ae.transmission>0?oe.unshift(Oe):Ae.transparent===!0?ce.unshift(Oe):ae.unshift(Oe)}function me(be,Ee){ae.length>1&&ae.sort(be||painterSortStable),oe.length>1&&oe.sort(Ee||reversePainterSortStable),ce.length>1&&ce.sort(Ee||reversePainterSortStable)}function _e(){for(let be=te,Ee=se.length;be<Ee;be++){const Ae=se[be];if(Ae.id===null)break;Ae.id=null,Ae.object=null,Ae.geometry=null,Ae.material=null,Ae.group=null}}return{opaque:ae,transmissive:oe,transparent:ce,init:ue,push:de,unshift:pe,finish:_e,sort:me}}function WebGLRenderLists(){let se=new WeakMap;function te(oe,ce){const ue=se.get(oe);let fe;return ue===void 0?(fe=new WebGLRenderList,se.set(oe,[fe])):ce>=ue.length?(fe=new WebGLRenderList,ue.push(fe)):fe=ue[ce],fe}function ae(){se=new WeakMap}return{get:te,dispose:ae}}function UniformsCache(){const se={};return{get:function(te){if(se[te.id]!==void 0)return se[te.id];let ae;switch(te.type){case"DirectionalLight":ae={direction:new Vector3,color:new Color$1};break;case"SpotLight":ae={position:new Vector3,direction:new Vector3,color:new Color$1,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":ae={position:new Vector3,color:new Color$1,distance:0,decay:0};break;case"HemisphereLight":ae={direction:new Vector3,skyColor:new Color$1,groundColor:new Color$1};break;case"RectAreaLight":ae={color:new Color$1,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return se[te.id]=ae,ae}}}function ShadowUniformsCache(){const se={};return{get:function(te){if(se[te.id]!==void 0)return se[te.id];let ae;switch(te.type){case"DirectionalLight":ae={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":ae={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":ae={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return se[te.id]=ae,ae}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(se,te){return(te.castShadow?2:0)-(se.castShadow?2:0)+(te.map?1:0)-(se.map?1:0)}function WebGLLights(se){const te=new UniformsCache,ae=ShadowUniformsCache(),oe={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let me=0;me<9;me++)oe.probe.push(new Vector3);const ce=new Vector3,ue=new Matrix4,fe=new Matrix4;function de(me){let _e=0,be=0,Ee=0;for(let je=0;je<9;je++)oe.probe[je].set(0,0,0);let Ae=0,Re=0,Be=0,De=0,Oe=0,Pe=0,Ie=0,Fe=0,$e=0,Ve=0,ke=0;me.sort(shadowCastingAndTexturingLightsFirst);for(let je=0,He=me.length;je<He;je++){const tt=me[je],Ze=tt.color,nt=tt.intensity,at=tt.distance,mt=tt.shadow&&tt.shadow.map?tt.shadow.map.texture:null;if(tt.isAmbientLight)_e+=Ze.r*nt,be+=Ze.g*nt,Ee+=Ze.b*nt;else if(tt.isLightProbe){for(let Ye=0;Ye<9;Ye++)oe.probe[Ye].addScaledVector(tt.sh.coefficients[Ye],nt);ke++}else if(tt.isDirectionalLight){const Ye=te.get(tt);if(Ye.color.copy(tt.color).multiplyScalar(tt.intensity),tt.castShadow){const rt=tt.shadow,lt=ae.get(tt);lt.shadowIntensity=rt.intensity,lt.shadowBias=rt.bias,lt.shadowNormalBias=rt.normalBias,lt.shadowRadius=rt.radius,lt.shadowMapSize=rt.mapSize,oe.directionalShadow[Ae]=lt,oe.directionalShadowMap[Ae]=mt,oe.directionalShadowMatrix[Ae]=tt.shadow.matrix,Pe++}oe.directional[Ae]=Ye,Ae++}else if(tt.isSpotLight){const Ye=te.get(tt);Ye.position.setFromMatrixPosition(tt.matrixWorld),Ye.color.copy(Ze).multiplyScalar(nt),Ye.distance=at,Ye.coneCos=Math.cos(tt.angle),Ye.penumbraCos=Math.cos(tt.angle*(1-tt.penumbra)),Ye.decay=tt.decay,oe.spot[Be]=Ye;const rt=tt.shadow;if(tt.map&&(oe.spotLightMap[$e]=tt.map,$e++,rt.updateMatrices(tt),tt.castShadow&&Ve++),oe.spotLightMatrix[Be]=rt.matrix,tt.castShadow){const lt=ae.get(tt);lt.shadowIntensity=rt.intensity,lt.shadowBias=rt.bias,lt.shadowNormalBias=rt.normalBias,lt.shadowRadius=rt.radius,lt.shadowMapSize=rt.mapSize,oe.spotShadow[Be]=lt,oe.spotShadowMap[Be]=mt,Fe++}Be++}else if(tt.isRectAreaLight){const Ye=te.get(tt);Ye.color.copy(Ze).multiplyScalar(nt),Ye.halfWidth.set(tt.width*.5,0,0),Ye.halfHeight.set(0,tt.height*.5,0),oe.rectArea[De]=Ye,De++}else if(tt.isPointLight){const Ye=te.get(tt);if(Ye.color.copy(tt.color).multiplyScalar(tt.intensity),Ye.distance=tt.distance,Ye.decay=tt.decay,tt.castShadow){const rt=tt.shadow,lt=ae.get(tt);lt.shadowIntensity=rt.intensity,lt.shadowBias=rt.bias,lt.shadowNormalBias=rt.normalBias,lt.shadowRadius=rt.radius,lt.shadowMapSize=rt.mapSize,lt.shadowCameraNear=rt.camera.near,lt.shadowCameraFar=rt.camera.far,oe.pointShadow[Re]=lt,oe.pointShadowMap[Re]=mt,oe.pointShadowMatrix[Re]=tt.shadow.matrix,Ie++}oe.point[Re]=Ye,Re++}else if(tt.isHemisphereLight){const Ye=te.get(tt);Ye.skyColor.copy(tt.color).multiplyScalar(nt),Ye.groundColor.copy(tt.groundColor).multiplyScalar(nt),oe.hemi[Oe]=Ye,Oe++}}De>0&&(se.has("OES_texture_float_linear")===!0?(oe.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,oe.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(oe.rectAreaLTC1=UniformsLib.LTC_HALF_1,oe.rectAreaLTC2=UniformsLib.LTC_HALF_2)),oe.ambient[0]=_e,oe.ambient[1]=be,oe.ambient[2]=Ee;const We=oe.hash;(We.directionalLength!==Ae||We.pointLength!==Re||We.spotLength!==Be||We.rectAreaLength!==De||We.hemiLength!==Oe||We.numDirectionalShadows!==Pe||We.numPointShadows!==Ie||We.numSpotShadows!==Fe||We.numSpotMaps!==$e||We.numLightProbes!==ke)&&(oe.directional.length=Ae,oe.spot.length=Be,oe.rectArea.length=De,oe.point.length=Re,oe.hemi.length=Oe,oe.directionalShadow.length=Pe,oe.directionalShadowMap.length=Pe,oe.pointShadow.length=Ie,oe.pointShadowMap.length=Ie,oe.spotShadow.length=Fe,oe.spotShadowMap.length=Fe,oe.directionalShadowMatrix.length=Pe,oe.pointShadowMatrix.length=Ie,oe.spotLightMatrix.length=Fe+$e-Ve,oe.spotLightMap.length=$e,oe.numSpotLightShadowsWithMaps=Ve,oe.numLightProbes=ke,We.directionalLength=Ae,We.pointLength=Re,We.spotLength=Be,We.rectAreaLength=De,We.hemiLength=Oe,We.numDirectionalShadows=Pe,We.numPointShadows=Ie,We.numSpotShadows=Fe,We.numSpotMaps=$e,We.numLightProbes=ke,oe.version=nextVersion++)}function pe(me,_e){let be=0,Ee=0,Ae=0,Re=0,Be=0;const De=_e.matrixWorldInverse;for(let Oe=0,Pe=me.length;Oe<Pe;Oe++){const Ie=me[Oe];if(Ie.isDirectionalLight){const Fe=oe.directional[be];Fe.direction.setFromMatrixPosition(Ie.matrixWorld),ce.setFromMatrixPosition(Ie.target.matrixWorld),Fe.direction.sub(ce),Fe.direction.transformDirection(De),be++}else if(Ie.isSpotLight){const Fe=oe.spot[Ae];Fe.position.setFromMatrixPosition(Ie.matrixWorld),Fe.position.applyMatrix4(De),Fe.direction.setFromMatrixPosition(Ie.matrixWorld),ce.setFromMatrixPosition(Ie.target.matrixWorld),Fe.direction.sub(ce),Fe.direction.transformDirection(De),Ae++}else if(Ie.isRectAreaLight){const Fe=oe.rectArea[Re];Fe.position.setFromMatrixPosition(Ie.matrixWorld),Fe.position.applyMatrix4(De),fe.identity(),ue.copy(Ie.matrixWorld),ue.premultiply(De),fe.extractRotation(ue),Fe.halfWidth.set(Ie.width*.5,0,0),Fe.halfHeight.set(0,Ie.height*.5,0),Fe.halfWidth.applyMatrix4(fe),Fe.halfHeight.applyMatrix4(fe),Re++}else if(Ie.isPointLight){const Fe=oe.point[Ee];Fe.position.setFromMatrixPosition(Ie.matrixWorld),Fe.position.applyMatrix4(De),Ee++}else if(Ie.isHemisphereLight){const Fe=oe.hemi[Be];Fe.direction.setFromMatrixPosition(Ie.matrixWorld),Fe.direction.transformDirection(De),Be++}}}return{setup:de,setupView:pe,state:oe}}function WebGLRenderState(se){const te=new WebGLLights(se),ae=[],oe=[];function ce(_e){me.camera=_e,ae.length=0,oe.length=0}function ue(_e){ae.push(_e)}function fe(_e){oe.push(_e)}function de(){te.setup(ae)}function pe(_e){te.setupView(ae,_e)}const me={lightsArray:ae,shadowsArray:oe,camera:null,lights:te,transmissionRenderTarget:{}};return{init:ce,state:me,setupLights:de,setupLightsView:pe,pushLight:ue,pushShadow:fe}}function WebGLRenderStates(se){let te=new WeakMap;function ae(ce,ue=0){const fe=te.get(ce);let de;return fe===void 0?(de=new WebGLRenderState(se),te.set(ce,[de])):ue>=fe.length?(de=new WebGLRenderState(se),fe.push(de)):de=fe[ue],de}function oe(){te=new WeakMap}return{get:ae,dispose:oe}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(se,te,ae){let oe=new Frustum;const ce=new Vector2,ue=new Vector2,fe=new Vector4,de=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),pe=new MeshDistanceMaterial,me={},_e=ae.maxTextureSize,be={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},Ee=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),Ae=Ee.clone();Ae.defines.HORIZONTAL_PASS=1;const Re=new BufferGeometry;Re.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Be=new Mesh(Re,Ee),De=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Oe=this.type;this.render=function(Ve,ke,We){if(De.enabled===!1||De.autoUpdate===!1&&De.needsUpdate===!1||Ve.length===0)return;const je=se.getRenderTarget(),He=se.getActiveCubeFace(),tt=se.getActiveMipmapLevel(),Ze=se.state;Ze.setBlending(NoBlending),Ze.buffers.color.setClear(1,1,1,1),Ze.buffers.depth.setTest(!0),Ze.setScissorTest(!1);const nt=Oe!==VSMShadowMap&&this.type===VSMShadowMap,at=Oe===VSMShadowMap&&this.type!==VSMShadowMap;for(let mt=0,Ye=Ve.length;mt<Ye;mt++){const rt=Ve[mt],lt=rt.shadow;if(lt===void 0){console.warn("THREE.WebGLShadowMap:",rt,"has no shadow.");continue}if(lt.autoUpdate===!1&&lt.needsUpdate===!1)continue;ce.copy(lt.mapSize);const _t=lt.getFrameExtents();if(ce.multiply(_t),ue.copy(lt.mapSize),(ce.x>_e||ce.y>_e)&&(ce.x>_e&&(ue.x=Math.floor(_e/_t.x),ce.x=ue.x*_t.x,lt.mapSize.x=ue.x),ce.y>_e&&(ue.y=Math.floor(_e/_t.y),ce.y=ue.y*_t.y,lt.mapSize.y=ue.y)),lt.map===null||nt===!0||at===!0){const et=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};lt.map!==null&&lt.map.dispose(),lt.map=new WebGLRenderTarget(ce.x,ce.y,et),lt.map.texture.name=rt.name+".shadowMap",lt.camera.updateProjectionMatrix()}se.setRenderTarget(lt.map),se.clear();const Xe=lt.getViewportCount();for(let et=0;et<Xe;et++){const ft=lt.getViewport(et);fe.set(ue.x*ft.x,ue.y*ft.y,ue.x*ft.z,ue.y*ft.w),Ze.viewport(fe),lt.updateMatrices(rt,et),oe=lt.getFrustum(),Fe(ke,We,lt.camera,rt,this.type)}lt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Pe(lt,We),lt.needsUpdate=!1}Oe=this.type,De.needsUpdate=!1,se.setRenderTarget(je,He,tt)};function Pe(Ve,ke){const We=te.update(Be);Ee.defines.VSM_SAMPLES!==Ve.blurSamples&&(Ee.defines.VSM_SAMPLES=Ve.blurSamples,Ae.defines.VSM_SAMPLES=Ve.blurSamples,Ee.needsUpdate=!0,Ae.needsUpdate=!0),Ve.mapPass===null&&(Ve.mapPass=new WebGLRenderTarget(ce.x,ce.y)),Ee.uniforms.shadow_pass.value=Ve.map.texture,Ee.uniforms.resolution.value=Ve.mapSize,Ee.uniforms.radius.value=Ve.radius,se.setRenderTarget(Ve.mapPass),se.clear(),se.renderBufferDirect(ke,null,We,Ee,Be,null),Ae.uniforms.shadow_pass.value=Ve.mapPass.texture,Ae.uniforms.resolution.value=Ve.mapSize,Ae.uniforms.radius.value=Ve.radius,se.setRenderTarget(Ve.map),se.clear(),se.renderBufferDirect(ke,null,We,Ae,Be,null)}function Ie(Ve,ke,We,je){let He=null;const tt=We.isPointLight===!0?Ve.customDistanceMaterial:Ve.customDepthMaterial;if(tt!==void 0)He=tt;else if(He=We.isPointLight===!0?pe:de,se.localClippingEnabled&&ke.clipShadows===!0&&Array.isArray(ke.clippingPlanes)&&ke.clippingPlanes.length!==0||ke.displacementMap&&ke.displacementScale!==0||ke.alphaMap&&ke.alphaTest>0||ke.map&&ke.alphaTest>0){const Ze=He.uuid,nt=ke.uuid;let at=me[Ze];at===void 0&&(at={},me[Ze]=at);let mt=at[nt];mt===void 0&&(mt=He.clone(),at[nt]=mt,ke.addEventListener("dispose",$e)),He=mt}if(He.visible=ke.visible,He.wireframe=ke.wireframe,je===VSMShadowMap?He.side=ke.shadowSide!==null?ke.shadowSide:ke.side:He.side=ke.shadowSide!==null?ke.shadowSide:be[ke.side],He.alphaMap=ke.alphaMap,He.alphaTest=ke.alphaTest,He.map=ke.map,He.clipShadows=ke.clipShadows,He.clippingPlanes=ke.clippingPlanes,He.clipIntersection=ke.clipIntersection,He.displacementMap=ke.displacementMap,He.displacementScale=ke.displacementScale,He.displacementBias=ke.displacementBias,He.wireframeLinewidth=ke.wireframeLinewidth,He.linewidth=ke.linewidth,We.isPointLight===!0&&He.isMeshDistanceMaterial===!0){const Ze=se.properties.get(He);Ze.light=We}return He}function Fe(Ve,ke,We,je,He){if(Ve.visible===!1)return;if(Ve.layers.test(ke.layers)&&(Ve.isMesh||Ve.isLine||Ve.isPoints)&&(Ve.castShadow||Ve.receiveShadow&&He===VSMShadowMap)&&(!Ve.frustumCulled||oe.intersectsObject(Ve))){Ve.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,Ve.matrixWorld);const nt=te.update(Ve),at=Ve.material;if(Array.isArray(at)){const mt=nt.groups;for(let Ye=0,rt=mt.length;Ye<rt;Ye++){const lt=mt[Ye],_t=at[lt.materialIndex];if(_t&&_t.visible){const Xe=Ie(Ve,_t,je,He);Ve.onBeforeShadow(se,Ve,ke,We,nt,Xe,lt),se.renderBufferDirect(We,null,nt,Xe,Ve,lt),Ve.onAfterShadow(se,Ve,ke,We,nt,Xe,lt)}}}else if(at.visible){const mt=Ie(Ve,at,je,He);Ve.onBeforeShadow(se,Ve,ke,We,nt,mt,null),se.renderBufferDirect(We,null,nt,mt,Ve,null),Ve.onAfterShadow(se,Ve,ke,We,nt,mt,null)}}const Ze=Ve.children;for(let nt=0,at=Ze.length;nt<at;nt++)Fe(Ze[nt],ke,We,je,He)}function $e(Ve){Ve.target.removeEventListener("dispose",$e);for(const We in me){const je=me[We],He=Ve.target.uuid;He in je&&(je[He].dispose(),delete je[He])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(se,te){function ae(){let xt=!1;const sn=new Vector4;let Gt=null;const an=new Vector4(0,0,0,0);return{setMask:function(mn){Gt!==mn&&!xt&&(se.colorMask(mn,mn,mn,mn),Gt=mn)},setLocked:function(mn){xt=mn},setClear:function(mn,un,Un,Hn,Pn){Pn===!0&&(mn*=Hn,un*=Hn,Un*=Hn),sn.set(mn,un,Un,Hn),an.equals(sn)===!1&&(se.clearColor(mn,un,Un,Hn),an.copy(sn))},reset:function(){xt=!1,Gt=null,an.set(-1,0,0,0)}}}function oe(){let xt=!1,sn=!1,Gt=null,an=null,mn=null;return{setReversed:function(un){if(sn!==un){const Un=te.get("EXT_clip_control");un?Un.clipControlEXT(Un.LOWER_LEFT_EXT,Un.ZERO_TO_ONE_EXT):Un.clipControlEXT(Un.LOWER_LEFT_EXT,Un.NEGATIVE_ONE_TO_ONE_EXT),sn=un;const Hn=mn;mn=null,this.setClear(Hn)}},getReversed:function(){return sn},setTest:function(un){un?bt(se.DEPTH_TEST):Dt(se.DEPTH_TEST)},setMask:function(un){Gt!==un&&!xt&&(se.depthMask(un),Gt=un)},setFunc:function(un){if(sn&&(un=reversedFuncs[un]),an!==un){switch(un){case NeverDepth:se.depthFunc(se.NEVER);break;case AlwaysDepth:se.depthFunc(se.ALWAYS);break;case LessDepth:se.depthFunc(se.LESS);break;case LessEqualDepth:se.depthFunc(se.LEQUAL);break;case EqualDepth:se.depthFunc(se.EQUAL);break;case GreaterEqualDepth:se.depthFunc(se.GEQUAL);break;case GreaterDepth:se.depthFunc(se.GREATER);break;case NotEqualDepth:se.depthFunc(se.NOTEQUAL);break;default:se.depthFunc(se.LEQUAL)}an=un}},setLocked:function(un){xt=un},setClear:function(un){mn!==un&&(sn&&(un=1-un),se.clearDepth(un),mn=un)},reset:function(){xt=!1,Gt=null,an=null,mn=null,sn=!1}}}function ce(){let xt=!1,sn=null,Gt=null,an=null,mn=null,un=null,Un=null,Hn=null,Pn=null;return{setTest:function(xn){xt||(xn?bt(se.STENCIL_TEST):Dt(se.STENCIL_TEST))},setMask:function(xn){sn!==xn&&!xt&&(se.stencilMask(xn),sn=xn)},setFunc:function(xn,wn,Fn){(Gt!==xn||an!==wn||mn!==Fn)&&(se.stencilFunc(xn,wn,Fn),Gt=xn,an=wn,mn=Fn)},setOp:function(xn,wn,Fn){(un!==xn||Un!==wn||Hn!==Fn)&&(se.stencilOp(xn,wn,Fn),un=xn,Un=wn,Hn=Fn)},setLocked:function(xn){xt=xn},setClear:function(xn){Pn!==xn&&(se.clearStencil(xn),Pn=xn)},reset:function(){xt=!1,sn=null,Gt=null,an=null,mn=null,un=null,Un=null,Hn=null,Pn=null}}}const ue=new ae,fe=new oe,de=new ce,pe=new WeakMap,me=new WeakMap;let _e={},be={},Ee=new WeakMap,Ae=[],Re=null,Be=!1,De=null,Oe=null,Pe=null,Ie=null,Fe=null,$e=null,Ve=null,ke=new Color$1(0,0,0),We=0,je=!1,He=null,tt=null,Ze=null,nt=null,at=null;const mt=se.getParameter(se.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ye=!1,rt=0;const lt=se.getParameter(se.VERSION);lt.indexOf("WebGL")!==-1?(rt=parseFloat(/^WebGL (\d)/.exec(lt)[1]),Ye=rt>=1):lt.indexOf("OpenGL ES")!==-1&&(rt=parseFloat(/^OpenGL ES (\d)/.exec(lt)[1]),Ye=rt>=2);let _t=null,Xe={};const et=se.getParameter(se.SCISSOR_BOX),ft=se.getParameter(se.VIEWPORT),yt=new Vector4().fromArray(et),st=new Vector4().fromArray(ft);function gt(xt,sn,Gt,an){const mn=new Uint8Array(4),un=se.createTexture();se.bindTexture(xt,un),se.texParameteri(xt,se.TEXTURE_MIN_FILTER,se.NEAREST),se.texParameteri(xt,se.TEXTURE_MAG_FILTER,se.NEAREST);for(let Un=0;Un<Gt;Un++)xt===se.TEXTURE_3D||xt===se.TEXTURE_2D_ARRAY?se.texImage3D(sn,0,se.RGBA,1,1,an,0,se.RGBA,se.UNSIGNED_BYTE,mn):se.texImage2D(sn+Un,0,se.RGBA,1,1,0,se.RGBA,se.UNSIGNED_BYTE,mn);return un}const Et={};Et[se.TEXTURE_2D]=gt(se.TEXTURE_2D,se.TEXTURE_2D,1),Et[se.TEXTURE_CUBE_MAP]=gt(se.TEXTURE_CUBE_MAP,se.TEXTURE_CUBE_MAP_POSITIVE_X,6),Et[se.TEXTURE_2D_ARRAY]=gt(se.TEXTURE_2D_ARRAY,se.TEXTURE_2D_ARRAY,1,1),Et[se.TEXTURE_3D]=gt(se.TEXTURE_3D,se.TEXTURE_3D,1,1),ue.setClear(0,0,0,1),fe.setClear(1),de.setClear(0),bt(se.DEPTH_TEST),fe.setFunc(LessEqualDepth),Nt(!1),ht(CullFaceBack),bt(se.CULL_FACE),pt(NoBlending);function bt(xt){_e[xt]!==!0&&(se.enable(xt),_e[xt]=!0)}function Dt(xt){_e[xt]!==!1&&(se.disable(xt),_e[xt]=!1)}function nn(xt,sn){return be[xt]!==sn?(se.bindFramebuffer(xt,sn),be[xt]=sn,xt===se.DRAW_FRAMEBUFFER&&(be[se.FRAMEBUFFER]=sn),xt===se.FRAMEBUFFER&&(be[se.DRAW_FRAMEBUFFER]=sn),!0):!1}function ln(xt,sn){let Gt=Ae,an=!1;if(xt){Gt=Ee.get(sn),Gt===void 0&&(Gt=[],Ee.set(sn,Gt));const mn=xt.textures;if(Gt.length!==mn.length||Gt[0]!==se.COLOR_ATTACHMENT0){for(let un=0,Un=mn.length;un<Un;un++)Gt[un]=se.COLOR_ATTACHMENT0+un;Gt.length=mn.length,an=!0}}else Gt[0]!==se.BACK&&(Gt[0]=se.BACK,an=!0);an&&se.drawBuffers(Gt)}function tn(xt){return Re!==xt?(se.useProgram(xt),Re=xt,!0):!1}const Wt={[AddEquation]:se.FUNC_ADD,[SubtractEquation]:se.FUNC_SUBTRACT,[ReverseSubtractEquation]:se.FUNC_REVERSE_SUBTRACT};Wt[MinEquation]=se.MIN,Wt[MaxEquation]=se.MAX;const on={[ZeroFactor]:se.ZERO,[OneFactor]:se.ONE,[SrcColorFactor]:se.SRC_COLOR,[SrcAlphaFactor]:se.SRC_ALPHA,[SrcAlphaSaturateFactor]:se.SRC_ALPHA_SATURATE,[DstColorFactor]:se.DST_COLOR,[DstAlphaFactor]:se.DST_ALPHA,[OneMinusSrcColorFactor]:se.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:se.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:se.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:se.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:se.CONSTANT_COLOR,[OneMinusConstantColorFactor]:se.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:se.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:se.ONE_MINUS_CONSTANT_ALPHA};function pt(xt,sn,Gt,an,mn,un,Un,Hn,Pn,xn){if(xt===NoBlending){Be===!0&&(Dt(se.BLEND),Be=!1);return}if(Be===!1&&(bt(se.BLEND),Be=!0),xt!==CustomBlending){if(xt!==De||xn!==je){if((Oe!==AddEquation||Fe!==AddEquation)&&(se.blendEquation(se.FUNC_ADD),Oe=AddEquation,Fe=AddEquation),xn)switch(xt){case NormalBlending:se.blendFuncSeparate(se.ONE,se.ONE_MINUS_SRC_ALPHA,se.ONE,se.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:se.blendFunc(se.ONE,se.ONE);break;case SubtractiveBlending:se.blendFuncSeparate(se.ZERO,se.ONE_MINUS_SRC_COLOR,se.ZERO,se.ONE);break;case MultiplyBlending:se.blendFuncSeparate(se.ZERO,se.SRC_COLOR,se.ZERO,se.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt);break}else switch(xt){case NormalBlending:se.blendFuncSeparate(se.SRC_ALPHA,se.ONE_MINUS_SRC_ALPHA,se.ONE,se.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:se.blendFunc(se.SRC_ALPHA,se.ONE);break;case SubtractiveBlending:se.blendFuncSeparate(se.ZERO,se.ONE_MINUS_SRC_COLOR,se.ZERO,se.ONE);break;case MultiplyBlending:se.blendFunc(se.ZERO,se.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",xt);break}Pe=null,Ie=null,$e=null,Ve=null,ke.set(0,0,0),We=0,De=xt,je=xn}return}mn=mn||sn,un=un||Gt,Un=Un||an,(sn!==Oe||mn!==Fe)&&(se.blendEquationSeparate(Wt[sn],Wt[mn]),Oe=sn,Fe=mn),(Gt!==Pe||an!==Ie||un!==$e||Un!==Ve)&&(se.blendFuncSeparate(on[Gt],on[an],on[un],on[Un]),Pe=Gt,Ie=an,$e=un,Ve=Un),(Hn.equals(ke)===!1||Pn!==We)&&(se.blendColor(Hn.r,Hn.g,Hn.b,Pn),ke.copy(Hn),We=Pn),De=xt,je=!1}function Sn(xt,sn){xt.side===DoubleSide?Dt(se.CULL_FACE):bt(se.CULL_FACE);let Gt=xt.side===BackSide;sn&&(Gt=!Gt),Nt(Gt),xt.blending===NormalBlending&&xt.transparent===!1?pt(NoBlending):pt(xt.blending,xt.blendEquation,xt.blendSrc,xt.blendDst,xt.blendEquationAlpha,xt.blendSrcAlpha,xt.blendDstAlpha,xt.blendColor,xt.blendAlpha,xt.premultipliedAlpha),fe.setFunc(xt.depthFunc),fe.setTest(xt.depthTest),fe.setMask(xt.depthWrite),ue.setMask(xt.colorWrite);const an=xt.stencilWrite;de.setTest(an),an&&(de.setMask(xt.stencilWriteMask),de.setFunc(xt.stencilFunc,xt.stencilRef,xt.stencilFuncMask),de.setOp(xt.stencilFail,xt.stencilZFail,xt.stencilZPass)),kt(xt.polygonOffset,xt.polygonOffsetFactor,xt.polygonOffsetUnits),xt.alphaToCoverage===!0?bt(se.SAMPLE_ALPHA_TO_COVERAGE):Dt(se.SAMPLE_ALPHA_TO_COVERAGE)}function Nt(xt){He!==xt&&(xt?se.frontFace(se.CW):se.frontFace(se.CCW),He=xt)}function ht(xt){xt!==CullFaceNone?(bt(se.CULL_FACE),xt!==tt&&(xt===CullFaceBack?se.cullFace(se.BACK):xt===CullFaceFront?se.cullFace(se.FRONT):se.cullFace(se.FRONT_AND_BACK))):Dt(se.CULL_FACE),tt=xt}function Rt(xt){xt!==Ze&&(Ye&&se.lineWidth(xt),Ze=xt)}function kt(xt,sn,Gt){xt?(bt(se.POLYGON_OFFSET_FILL),(nt!==sn||at!==Gt)&&(se.polygonOffset(sn,Gt),nt=sn,at=Gt)):Dt(se.POLYGON_OFFSET_FILL)}function Bt(xt){xt?bt(se.SCISSOR_TEST):Dt(se.SCISSOR_TEST)}function Qe(xt){xt===void 0&&(xt=se.TEXTURE0+mt-1),_t!==xt&&(se.activeTexture(xt),_t=xt)}function Ke(xt,sn,Gt){Gt===void 0&&(_t===null?Gt=se.TEXTURE0+mt-1:Gt=_t);let an=Xe[Gt];an===void 0&&(an={type:void 0,texture:void 0},Xe[Gt]=an),(an.type!==xt||an.texture!==sn)&&(_t!==Gt&&(se.activeTexture(Gt),_t=Gt),se.bindTexture(xt,sn||Et[xt]),an.type=xt,an.texture=sn)}function ct(){const xt=Xe[_t];xt!==void 0&&xt.type!==void 0&&(se.bindTexture(xt.type,null),xt.type=void 0,xt.texture=void 0)}function St(){try{se.compressedTexImage2D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function Mt(){try{se.compressedTexImage3D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function Ft(){try{se.texSubImage2D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function zt(){try{se.texSubImage3D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function $t(){try{se.compressedTexSubImage2D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function Jt(){try{se.compressedTexSubImage3D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function Mn(){try{se.texStorage2D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function rn(){try{se.texStorage3D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function cn(){try{se.texImage2D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function vn(){try{se.texImage3D(...arguments)}catch(xt){console.error("THREE.WebGLState:",xt)}}function hn(xt){yt.equals(xt)===!1&&(se.scissor(xt.x,xt.y,xt.z,xt.w),yt.copy(xt))}function Qt(xt){st.equals(xt)===!1&&(se.viewport(xt.x,xt.y,xt.z,xt.w),st.copy(xt))}function Cn(xt,sn){let Gt=me.get(sn);Gt===void 0&&(Gt=new WeakMap,me.set(sn,Gt));let an=Gt.get(xt);an===void 0&&(an=se.getUniformBlockIndex(sn,xt.name),Gt.set(xt,an))}function Tn(xt,sn){const an=me.get(sn).get(xt);pe.get(sn)!==an&&(se.uniformBlockBinding(sn,an,xt.__bindingPointIndex),pe.set(sn,an))}function Xn(){se.disable(se.BLEND),se.disable(se.CULL_FACE),se.disable(se.DEPTH_TEST),se.disable(se.POLYGON_OFFSET_FILL),se.disable(se.SCISSOR_TEST),se.disable(se.STENCIL_TEST),se.disable(se.SAMPLE_ALPHA_TO_COVERAGE),se.blendEquation(se.FUNC_ADD),se.blendFunc(se.ONE,se.ZERO),se.blendFuncSeparate(se.ONE,se.ZERO,se.ONE,se.ZERO),se.blendColor(0,0,0,0),se.colorMask(!0,!0,!0,!0),se.clearColor(0,0,0,0),se.depthMask(!0),se.depthFunc(se.LESS),fe.setReversed(!1),se.clearDepth(1),se.stencilMask(4294967295),se.stencilFunc(se.ALWAYS,0,4294967295),se.stencilOp(se.KEEP,se.KEEP,se.KEEP),se.clearStencil(0),se.cullFace(se.BACK),se.frontFace(se.CCW),se.polygonOffset(0,0),se.activeTexture(se.TEXTURE0),se.bindFramebuffer(se.FRAMEBUFFER,null),se.bindFramebuffer(se.DRAW_FRAMEBUFFER,null),se.bindFramebuffer(se.READ_FRAMEBUFFER,null),se.useProgram(null),se.lineWidth(1),se.scissor(0,0,se.canvas.width,se.canvas.height),se.viewport(0,0,se.canvas.width,se.canvas.height),_e={},_t=null,Xe={},be={},Ee=new WeakMap,Ae=[],Re=null,Be=!1,De=null,Oe=null,Pe=null,Ie=null,Fe=null,$e=null,Ve=null,ke=new Color$1(0,0,0),We=0,je=!1,He=null,tt=null,Ze=null,nt=null,at=null,yt.set(0,0,se.canvas.width,se.canvas.height),st.set(0,0,se.canvas.width,se.canvas.height),ue.reset(),fe.reset(),de.reset()}return{buffers:{color:ue,depth:fe,stencil:de},enable:bt,disable:Dt,bindFramebuffer:nn,drawBuffers:ln,useProgram:tn,setBlending:pt,setMaterial:Sn,setFlipSided:Nt,setCullFace:ht,setLineWidth:Rt,setPolygonOffset:kt,setScissorTest:Bt,activeTexture:Qe,bindTexture:Ke,unbindTexture:ct,compressedTexImage2D:St,compressedTexImage3D:Mt,texImage2D:cn,texImage3D:vn,updateUBOMapping:Cn,uniformBlockBinding:Tn,texStorage2D:Mn,texStorage3D:rn,texSubImage2D:Ft,texSubImage3D:zt,compressedTexSubImage2D:$t,compressedTexSubImage3D:Jt,scissor:hn,viewport:Qt,reset:Xn}}function WebGLTextures(se,te,ae,oe,ce,ue,fe){const de=te.has("WEBGL_multisampled_render_to_texture")?te.get("WEBGL_multisampled_render_to_texture"):null,pe=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),me=new Vector2,_e=new WeakMap;let be;const Ee=new WeakMap;let Ae=!1;try{Ae=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Re(Qe,Ke){return Ae?new OffscreenCanvas(Qe,Ke):createElementNS("canvas")}function Be(Qe,Ke,ct){let St=1;const Mt=Bt(Qe);if((Mt.width>ct||Mt.height>ct)&&(St=ct/Math.max(Mt.width,Mt.height)),St<1)if(typeof HTMLImageElement<"u"&&Qe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Qe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Qe instanceof ImageBitmap||typeof VideoFrame<"u"&&Qe instanceof VideoFrame){const Ft=Math.floor(St*Mt.width),zt=Math.floor(St*Mt.height);be===void 0&&(be=Re(Ft,zt));const $t=Ke?Re(Ft,zt):be;return $t.width=Ft,$t.height=zt,$t.getContext("2d").drawImage(Qe,0,0,Ft,zt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Mt.width+"x"+Mt.height+") to ("+Ft+"x"+zt+")."),$t}else return"data"in Qe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Mt.width+"x"+Mt.height+")."),Qe;return Qe}function De(Qe){return Qe.generateMipmaps}function Oe(Qe){se.generateMipmap(Qe)}function Pe(Qe){return Qe.isWebGLCubeRenderTarget?se.TEXTURE_CUBE_MAP:Qe.isWebGL3DRenderTarget?se.TEXTURE_3D:Qe.isWebGLArrayRenderTarget||Qe.isCompressedArrayTexture?se.TEXTURE_2D_ARRAY:se.TEXTURE_2D}function Ie(Qe,Ke,ct,St,Mt=!1){if(Qe!==null){if(se[Qe]!==void 0)return se[Qe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Qe+"'")}let Ft=Ke;if(Ke===se.RED&&(ct===se.FLOAT&&(Ft=se.R32F),ct===se.HALF_FLOAT&&(Ft=se.R16F),ct===se.UNSIGNED_BYTE&&(Ft=se.R8)),Ke===se.RED_INTEGER&&(ct===se.UNSIGNED_BYTE&&(Ft=se.R8UI),ct===se.UNSIGNED_SHORT&&(Ft=se.R16UI),ct===se.UNSIGNED_INT&&(Ft=se.R32UI),ct===se.BYTE&&(Ft=se.R8I),ct===se.SHORT&&(Ft=se.R16I),ct===se.INT&&(Ft=se.R32I)),Ke===se.RG&&(ct===se.FLOAT&&(Ft=se.RG32F),ct===se.HALF_FLOAT&&(Ft=se.RG16F),ct===se.UNSIGNED_BYTE&&(Ft=se.RG8)),Ke===se.RG_INTEGER&&(ct===se.UNSIGNED_BYTE&&(Ft=se.RG8UI),ct===se.UNSIGNED_SHORT&&(Ft=se.RG16UI),ct===se.UNSIGNED_INT&&(Ft=se.RG32UI),ct===se.BYTE&&(Ft=se.RG8I),ct===se.SHORT&&(Ft=se.RG16I),ct===se.INT&&(Ft=se.RG32I)),Ke===se.RGB_INTEGER&&(ct===se.UNSIGNED_BYTE&&(Ft=se.RGB8UI),ct===se.UNSIGNED_SHORT&&(Ft=se.RGB16UI),ct===se.UNSIGNED_INT&&(Ft=se.RGB32UI),ct===se.BYTE&&(Ft=se.RGB8I),ct===se.SHORT&&(Ft=se.RGB16I),ct===se.INT&&(Ft=se.RGB32I)),Ke===se.RGBA_INTEGER&&(ct===se.UNSIGNED_BYTE&&(Ft=se.RGBA8UI),ct===se.UNSIGNED_SHORT&&(Ft=se.RGBA16UI),ct===se.UNSIGNED_INT&&(Ft=se.RGBA32UI),ct===se.BYTE&&(Ft=se.RGBA8I),ct===se.SHORT&&(Ft=se.RGBA16I),ct===se.INT&&(Ft=se.RGBA32I)),Ke===se.RGB&&ct===se.UNSIGNED_INT_5_9_9_9_REV&&(Ft=se.RGB9_E5),Ke===se.RGBA){const zt=Mt?LinearTransfer:ColorManagement.getTransfer(St);ct===se.FLOAT&&(Ft=se.RGBA32F),ct===se.HALF_FLOAT&&(Ft=se.RGBA16F),ct===se.UNSIGNED_BYTE&&(Ft=zt===SRGBTransfer?se.SRGB8_ALPHA8:se.RGBA8),ct===se.UNSIGNED_SHORT_4_4_4_4&&(Ft=se.RGBA4),ct===se.UNSIGNED_SHORT_5_5_5_1&&(Ft=se.RGB5_A1)}return(Ft===se.R16F||Ft===se.R32F||Ft===se.RG16F||Ft===se.RG32F||Ft===se.RGBA16F||Ft===se.RGBA32F)&&te.get("EXT_color_buffer_float"),Ft}function Fe(Qe,Ke){let ct;return Qe?Ke===null||Ke===UnsignedIntType||Ke===UnsignedInt248Type?ct=se.DEPTH24_STENCIL8:Ke===FloatType?ct=se.DEPTH32F_STENCIL8:Ke===UnsignedShortType&&(ct=se.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Ke===null||Ke===UnsignedIntType||Ke===UnsignedInt248Type?ct=se.DEPTH_COMPONENT24:Ke===FloatType?ct=se.DEPTH_COMPONENT32F:Ke===UnsignedShortType&&(ct=se.DEPTH_COMPONENT16),ct}function $e(Qe,Ke){return De(Qe)===!0||Qe.isFramebufferTexture&&Qe.minFilter!==NearestFilter&&Qe.minFilter!==LinearFilter?Math.log2(Math.max(Ke.width,Ke.height))+1:Qe.mipmaps!==void 0&&Qe.mipmaps.length>0?Qe.mipmaps.length:Qe.isCompressedTexture&&Array.isArray(Qe.image)?Ke.mipmaps.length:1}function Ve(Qe){const Ke=Qe.target;Ke.removeEventListener("dispose",Ve),We(Ke),Ke.isVideoTexture&&_e.delete(Ke)}function ke(Qe){const Ke=Qe.target;Ke.removeEventListener("dispose",ke),He(Ke)}function We(Qe){const Ke=oe.get(Qe);if(Ke.__webglInit===void 0)return;const ct=Qe.source,St=Ee.get(ct);if(St){const Mt=St[Ke.__cacheKey];Mt.usedTimes--,Mt.usedTimes===0&&je(Qe),Object.keys(St).length===0&&Ee.delete(ct)}oe.remove(Qe)}function je(Qe){const Ke=oe.get(Qe);se.deleteTexture(Ke.__webglTexture);const ct=Qe.source,St=Ee.get(ct);delete St[Ke.__cacheKey],fe.memory.textures--}function He(Qe){const Ke=oe.get(Qe);if(Qe.depthTexture&&(Qe.depthTexture.dispose(),oe.remove(Qe.depthTexture)),Qe.isWebGLCubeRenderTarget)for(let St=0;St<6;St++){if(Array.isArray(Ke.__webglFramebuffer[St]))for(let Mt=0;Mt<Ke.__webglFramebuffer[St].length;Mt++)se.deleteFramebuffer(Ke.__webglFramebuffer[St][Mt]);else se.deleteFramebuffer(Ke.__webglFramebuffer[St]);Ke.__webglDepthbuffer&&se.deleteRenderbuffer(Ke.__webglDepthbuffer[St])}else{if(Array.isArray(Ke.__webglFramebuffer))for(let St=0;St<Ke.__webglFramebuffer.length;St++)se.deleteFramebuffer(Ke.__webglFramebuffer[St]);else se.deleteFramebuffer(Ke.__webglFramebuffer);if(Ke.__webglDepthbuffer&&se.deleteRenderbuffer(Ke.__webglDepthbuffer),Ke.__webglMultisampledFramebuffer&&se.deleteFramebuffer(Ke.__webglMultisampledFramebuffer),Ke.__webglColorRenderbuffer)for(let St=0;St<Ke.__webglColorRenderbuffer.length;St++)Ke.__webglColorRenderbuffer[St]&&se.deleteRenderbuffer(Ke.__webglColorRenderbuffer[St]);Ke.__webglDepthRenderbuffer&&se.deleteRenderbuffer(Ke.__webglDepthRenderbuffer)}const ct=Qe.textures;for(let St=0,Mt=ct.length;St<Mt;St++){const Ft=oe.get(ct[St]);Ft.__webglTexture&&(se.deleteTexture(Ft.__webglTexture),fe.memory.textures--),oe.remove(ct[St])}oe.remove(Qe)}let tt=0;function Ze(){tt=0}function nt(){const Qe=tt;return Qe>=ce.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Qe+" texture units while this GPU supports only "+ce.maxTextures),tt+=1,Qe}function at(Qe){const Ke=[];return Ke.push(Qe.wrapS),Ke.push(Qe.wrapT),Ke.push(Qe.wrapR||0),Ke.push(Qe.magFilter),Ke.push(Qe.minFilter),Ke.push(Qe.anisotropy),Ke.push(Qe.internalFormat),Ke.push(Qe.format),Ke.push(Qe.type),Ke.push(Qe.generateMipmaps),Ke.push(Qe.premultiplyAlpha),Ke.push(Qe.flipY),Ke.push(Qe.unpackAlignment),Ke.push(Qe.colorSpace),Ke.join()}function mt(Qe,Ke){const ct=oe.get(Qe);if(Qe.isVideoTexture&&Rt(Qe),Qe.isRenderTargetTexture===!1&&Qe.version>0&&ct.__version!==Qe.version){const St=Qe.image;if(St===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(St.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{st(ct,Qe,Ke);return}}ae.bindTexture(se.TEXTURE_2D,ct.__webglTexture,se.TEXTURE0+Ke)}function Ye(Qe,Ke){const ct=oe.get(Qe);if(Qe.version>0&&ct.__version!==Qe.version){st(ct,Qe,Ke);return}ae.bindTexture(se.TEXTURE_2D_ARRAY,ct.__webglTexture,se.TEXTURE0+Ke)}function rt(Qe,Ke){const ct=oe.get(Qe);if(Qe.version>0&&ct.__version!==Qe.version){st(ct,Qe,Ke);return}ae.bindTexture(se.TEXTURE_3D,ct.__webglTexture,se.TEXTURE0+Ke)}function lt(Qe,Ke){const ct=oe.get(Qe);if(Qe.version>0&&ct.__version!==Qe.version){gt(ct,Qe,Ke);return}ae.bindTexture(se.TEXTURE_CUBE_MAP,ct.__webglTexture,se.TEXTURE0+Ke)}const _t={[RepeatWrapping]:se.REPEAT,[ClampToEdgeWrapping]:se.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:se.MIRRORED_REPEAT},Xe={[NearestFilter]:se.NEAREST,[NearestMipmapNearestFilter]:se.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:se.NEAREST_MIPMAP_LINEAR,[LinearFilter]:se.LINEAR,[LinearMipmapNearestFilter]:se.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:se.LINEAR_MIPMAP_LINEAR},et={[NeverCompare]:se.NEVER,[AlwaysCompare]:se.ALWAYS,[LessCompare]:se.LESS,[LessEqualCompare]:se.LEQUAL,[EqualCompare]:se.EQUAL,[GreaterEqualCompare]:se.GEQUAL,[GreaterCompare]:se.GREATER,[NotEqualCompare]:se.NOTEQUAL};function ft(Qe,Ke){if(Ke.type===FloatType&&te.has("OES_texture_float_linear")===!1&&(Ke.magFilter===LinearFilter||Ke.magFilter===LinearMipmapNearestFilter||Ke.magFilter===NearestMipmapLinearFilter||Ke.magFilter===LinearMipmapLinearFilter||Ke.minFilter===LinearFilter||Ke.minFilter===LinearMipmapNearestFilter||Ke.minFilter===NearestMipmapLinearFilter||Ke.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),se.texParameteri(Qe,se.TEXTURE_WRAP_S,_t[Ke.wrapS]),se.texParameteri(Qe,se.TEXTURE_WRAP_T,_t[Ke.wrapT]),(Qe===se.TEXTURE_3D||Qe===se.TEXTURE_2D_ARRAY)&&se.texParameteri(Qe,se.TEXTURE_WRAP_R,_t[Ke.wrapR]),se.texParameteri(Qe,se.TEXTURE_MAG_FILTER,Xe[Ke.magFilter]),se.texParameteri(Qe,se.TEXTURE_MIN_FILTER,Xe[Ke.minFilter]),Ke.compareFunction&&(se.texParameteri(Qe,se.TEXTURE_COMPARE_MODE,se.COMPARE_REF_TO_TEXTURE),se.texParameteri(Qe,se.TEXTURE_COMPARE_FUNC,et[Ke.compareFunction])),te.has("EXT_texture_filter_anisotropic")===!0){if(Ke.magFilter===NearestFilter||Ke.minFilter!==NearestMipmapLinearFilter&&Ke.minFilter!==LinearMipmapLinearFilter||Ke.type===FloatType&&te.has("OES_texture_float_linear")===!1)return;if(Ke.anisotropy>1||oe.get(Ke).__currentAnisotropy){const ct=te.get("EXT_texture_filter_anisotropic");se.texParameterf(Qe,ct.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ke.anisotropy,ce.getMaxAnisotropy())),oe.get(Ke).__currentAnisotropy=Ke.anisotropy}}}function yt(Qe,Ke){let ct=!1;Qe.__webglInit===void 0&&(Qe.__webglInit=!0,Ke.addEventListener("dispose",Ve));const St=Ke.source;let Mt=Ee.get(St);Mt===void 0&&(Mt={},Ee.set(St,Mt));const Ft=at(Ke);if(Ft!==Qe.__cacheKey){Mt[Ft]===void 0&&(Mt[Ft]={texture:se.createTexture(),usedTimes:0},fe.memory.textures++,ct=!0),Mt[Ft].usedTimes++;const zt=Mt[Qe.__cacheKey];zt!==void 0&&(Mt[Qe.__cacheKey].usedTimes--,zt.usedTimes===0&&je(Ke)),Qe.__cacheKey=Ft,Qe.__webglTexture=Mt[Ft].texture}return ct}function st(Qe,Ke,ct){let St=se.TEXTURE_2D;(Ke.isDataArrayTexture||Ke.isCompressedArrayTexture)&&(St=se.TEXTURE_2D_ARRAY),Ke.isData3DTexture&&(St=se.TEXTURE_3D);const Mt=yt(Qe,Ke),Ft=Ke.source;ae.bindTexture(St,Qe.__webglTexture,se.TEXTURE0+ct);const zt=oe.get(Ft);if(Ft.version!==zt.__version||Mt===!0){ae.activeTexture(se.TEXTURE0+ct);const $t=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Jt=Ke.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ke.colorSpace),Mn=Ke.colorSpace===NoColorSpace||$t===Jt?se.NONE:se.BROWSER_DEFAULT_WEBGL;se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,Ke.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,Ke.unpackAlignment),se.pixelStorei(se.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mn);let rn=Be(Ke.image,!1,ce.maxTextureSize);rn=kt(Ke,rn);const cn=ue.convert(Ke.format,Ke.colorSpace),vn=ue.convert(Ke.type);let hn=Ie(Ke.internalFormat,cn,vn,Ke.colorSpace,Ke.isVideoTexture);ft(St,Ke);let Qt;const Cn=Ke.mipmaps,Tn=Ke.isVideoTexture!==!0,Xn=zt.__version===void 0||Mt===!0,xt=Ft.dataReady,sn=$e(Ke,rn);if(Ke.isDepthTexture)hn=Fe(Ke.format===DepthStencilFormat,Ke.type),Xn&&(Tn?ae.texStorage2D(se.TEXTURE_2D,1,hn,rn.width,rn.height):ae.texImage2D(se.TEXTURE_2D,0,hn,rn.width,rn.height,0,cn,vn,null));else if(Ke.isDataTexture)if(Cn.length>0){Tn&&Xn&&ae.texStorage2D(se.TEXTURE_2D,sn,hn,Cn[0].width,Cn[0].height);for(let Gt=0,an=Cn.length;Gt<an;Gt++)Qt=Cn[Gt],Tn?xt&&ae.texSubImage2D(se.TEXTURE_2D,Gt,0,0,Qt.width,Qt.height,cn,vn,Qt.data):ae.texImage2D(se.TEXTURE_2D,Gt,hn,Qt.width,Qt.height,0,cn,vn,Qt.data);Ke.generateMipmaps=!1}else Tn?(Xn&&ae.texStorage2D(se.TEXTURE_2D,sn,hn,rn.width,rn.height),xt&&ae.texSubImage2D(se.TEXTURE_2D,0,0,0,rn.width,rn.height,cn,vn,rn.data)):ae.texImage2D(se.TEXTURE_2D,0,hn,rn.width,rn.height,0,cn,vn,rn.data);else if(Ke.isCompressedTexture)if(Ke.isCompressedArrayTexture){Tn&&Xn&&ae.texStorage3D(se.TEXTURE_2D_ARRAY,sn,hn,Cn[0].width,Cn[0].height,rn.depth);for(let Gt=0,an=Cn.length;Gt<an;Gt++)if(Qt=Cn[Gt],Ke.format!==RGBAFormat)if(cn!==null)if(Tn){if(xt)if(Ke.layerUpdates.size>0){const mn=getByteLength(Qt.width,Qt.height,Ke.format,Ke.type);for(const un of Ke.layerUpdates){const Un=Qt.data.subarray(un*mn/Qt.data.BYTES_PER_ELEMENT,(un+1)*mn/Qt.data.BYTES_PER_ELEMENT);ae.compressedTexSubImage3D(se.TEXTURE_2D_ARRAY,Gt,0,0,un,Qt.width,Qt.height,1,cn,Un)}Ke.clearLayerUpdates()}else ae.compressedTexSubImage3D(se.TEXTURE_2D_ARRAY,Gt,0,0,0,Qt.width,Qt.height,rn.depth,cn,Qt.data)}else ae.compressedTexImage3D(se.TEXTURE_2D_ARRAY,Gt,hn,Qt.width,Qt.height,rn.depth,0,Qt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Tn?xt&&ae.texSubImage3D(se.TEXTURE_2D_ARRAY,Gt,0,0,0,Qt.width,Qt.height,rn.depth,cn,vn,Qt.data):ae.texImage3D(se.TEXTURE_2D_ARRAY,Gt,hn,Qt.width,Qt.height,rn.depth,0,cn,vn,Qt.data)}else{Tn&&Xn&&ae.texStorage2D(se.TEXTURE_2D,sn,hn,Cn[0].width,Cn[0].height);for(let Gt=0,an=Cn.length;Gt<an;Gt++)Qt=Cn[Gt],Ke.format!==RGBAFormat?cn!==null?Tn?xt&&ae.compressedTexSubImage2D(se.TEXTURE_2D,Gt,0,0,Qt.width,Qt.height,cn,Qt.data):ae.compressedTexImage2D(se.TEXTURE_2D,Gt,hn,Qt.width,Qt.height,0,Qt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tn?xt&&ae.texSubImage2D(se.TEXTURE_2D,Gt,0,0,Qt.width,Qt.height,cn,vn,Qt.data):ae.texImage2D(se.TEXTURE_2D,Gt,hn,Qt.width,Qt.height,0,cn,vn,Qt.data)}else if(Ke.isDataArrayTexture)if(Tn){if(Xn&&ae.texStorage3D(se.TEXTURE_2D_ARRAY,sn,hn,rn.width,rn.height,rn.depth),xt)if(Ke.layerUpdates.size>0){const Gt=getByteLength(rn.width,rn.height,Ke.format,Ke.type);for(const an of Ke.layerUpdates){const mn=rn.data.subarray(an*Gt/rn.data.BYTES_PER_ELEMENT,(an+1)*Gt/rn.data.BYTES_PER_ELEMENT);ae.texSubImage3D(se.TEXTURE_2D_ARRAY,0,0,0,an,rn.width,rn.height,1,cn,vn,mn)}Ke.clearLayerUpdates()}else ae.texSubImage3D(se.TEXTURE_2D_ARRAY,0,0,0,0,rn.width,rn.height,rn.depth,cn,vn,rn.data)}else ae.texImage3D(se.TEXTURE_2D_ARRAY,0,hn,rn.width,rn.height,rn.depth,0,cn,vn,rn.data);else if(Ke.isData3DTexture)Tn?(Xn&&ae.texStorage3D(se.TEXTURE_3D,sn,hn,rn.width,rn.height,rn.depth),xt&&ae.texSubImage3D(se.TEXTURE_3D,0,0,0,0,rn.width,rn.height,rn.depth,cn,vn,rn.data)):ae.texImage3D(se.TEXTURE_3D,0,hn,rn.width,rn.height,rn.depth,0,cn,vn,rn.data);else if(Ke.isFramebufferTexture){if(Xn)if(Tn)ae.texStorage2D(se.TEXTURE_2D,sn,hn,rn.width,rn.height);else{let Gt=rn.width,an=rn.height;for(let mn=0;mn<sn;mn++)ae.texImage2D(se.TEXTURE_2D,mn,hn,Gt,an,0,cn,vn,null),Gt>>=1,an>>=1}}else if(Cn.length>0){if(Tn&&Xn){const Gt=Bt(Cn[0]);ae.texStorage2D(se.TEXTURE_2D,sn,hn,Gt.width,Gt.height)}for(let Gt=0,an=Cn.length;Gt<an;Gt++)Qt=Cn[Gt],Tn?xt&&ae.texSubImage2D(se.TEXTURE_2D,Gt,0,0,cn,vn,Qt):ae.texImage2D(se.TEXTURE_2D,Gt,hn,cn,vn,Qt);Ke.generateMipmaps=!1}else if(Tn){if(Xn){const Gt=Bt(rn);ae.texStorage2D(se.TEXTURE_2D,sn,hn,Gt.width,Gt.height)}xt&&ae.texSubImage2D(se.TEXTURE_2D,0,0,0,cn,vn,rn)}else ae.texImage2D(se.TEXTURE_2D,0,hn,cn,vn,rn);De(Ke)&&Oe(St),zt.__version=Ft.version,Ke.onUpdate&&Ke.onUpdate(Ke)}Qe.__version=Ke.version}function gt(Qe,Ke,ct){if(Ke.image.length!==6)return;const St=yt(Qe,Ke),Mt=Ke.source;ae.bindTexture(se.TEXTURE_CUBE_MAP,Qe.__webglTexture,se.TEXTURE0+ct);const Ft=oe.get(Mt);if(Mt.version!==Ft.__version||St===!0){ae.activeTexture(se.TEXTURE0+ct);const zt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),$t=Ke.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ke.colorSpace),Jt=Ke.colorSpace===NoColorSpace||zt===$t?se.NONE:se.BROWSER_DEFAULT_WEBGL;se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,Ke.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ke.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,Ke.unpackAlignment),se.pixelStorei(se.UNPACK_COLORSPACE_CONVERSION_WEBGL,Jt);const Mn=Ke.isCompressedTexture||Ke.image[0].isCompressedTexture,rn=Ke.image[0]&&Ke.image[0].isDataTexture,cn=[];for(let an=0;an<6;an++)!Mn&&!rn?cn[an]=Be(Ke.image[an],!0,ce.maxCubemapSize):cn[an]=rn?Ke.image[an].image:Ke.image[an],cn[an]=kt(Ke,cn[an]);const vn=cn[0],hn=ue.convert(Ke.format,Ke.colorSpace),Qt=ue.convert(Ke.type),Cn=Ie(Ke.internalFormat,hn,Qt,Ke.colorSpace),Tn=Ke.isVideoTexture!==!0,Xn=Ft.__version===void 0||St===!0,xt=Mt.dataReady;let sn=$e(Ke,vn);ft(se.TEXTURE_CUBE_MAP,Ke);let Gt;if(Mn){Tn&&Xn&&ae.texStorage2D(se.TEXTURE_CUBE_MAP,sn,Cn,vn.width,vn.height);for(let an=0;an<6;an++){Gt=cn[an].mipmaps;for(let mn=0;mn<Gt.length;mn++){const un=Gt[mn];Ke.format!==RGBAFormat?hn!==null?Tn?xt&&ae.compressedTexSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn,0,0,un.width,un.height,hn,un.data):ae.compressedTexImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn,Cn,un.width,un.height,0,un.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tn?xt&&ae.texSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn,0,0,un.width,un.height,hn,Qt,un.data):ae.texImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn,Cn,un.width,un.height,0,hn,Qt,un.data)}}}else{if(Gt=Ke.mipmaps,Tn&&Xn){Gt.length>0&&sn++;const an=Bt(cn[0]);ae.texStorage2D(se.TEXTURE_CUBE_MAP,sn,Cn,an.width,an.height)}for(let an=0;an<6;an++)if(rn){Tn?xt&&ae.texSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,0,0,cn[an].width,cn[an].height,hn,Qt,cn[an].data):ae.texImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,Cn,cn[an].width,cn[an].height,0,hn,Qt,cn[an].data);for(let mn=0;mn<Gt.length;mn++){const Un=Gt[mn].image[an].image;Tn?xt&&ae.texSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn+1,0,0,Un.width,Un.height,hn,Qt,Un.data):ae.texImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn+1,Cn,Un.width,Un.height,0,hn,Qt,Un.data)}}else{Tn?xt&&ae.texSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,0,0,hn,Qt,cn[an]):ae.texImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,0,Cn,hn,Qt,cn[an]);for(let mn=0;mn<Gt.length;mn++){const un=Gt[mn];Tn?xt&&ae.texSubImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn+1,0,0,hn,Qt,un.image[an]):ae.texImage2D(se.TEXTURE_CUBE_MAP_POSITIVE_X+an,mn+1,Cn,hn,Qt,un.image[an])}}}De(Ke)&&Oe(se.TEXTURE_CUBE_MAP),Ft.__version=Mt.version,Ke.onUpdate&&Ke.onUpdate(Ke)}Qe.__version=Ke.version}function Et(Qe,Ke,ct,St,Mt,Ft){const zt=ue.convert(ct.format,ct.colorSpace),$t=ue.convert(ct.type),Jt=Ie(ct.internalFormat,zt,$t,ct.colorSpace),Mn=oe.get(Ke),rn=oe.get(ct);if(rn.__renderTarget=Ke,!Mn.__hasExternalTextures){const cn=Math.max(1,Ke.width>>Ft),vn=Math.max(1,Ke.height>>Ft);Mt===se.TEXTURE_3D||Mt===se.TEXTURE_2D_ARRAY?ae.texImage3D(Mt,Ft,Jt,cn,vn,Ke.depth,0,zt,$t,null):ae.texImage2D(Mt,Ft,Jt,cn,vn,0,zt,$t,null)}ae.bindFramebuffer(se.FRAMEBUFFER,Qe),ht(Ke)?de.framebufferTexture2DMultisampleEXT(se.FRAMEBUFFER,St,Mt,rn.__webglTexture,0,Nt(Ke)):(Mt===se.TEXTURE_2D||Mt>=se.TEXTURE_CUBE_MAP_POSITIVE_X&&Mt<=se.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&se.framebufferTexture2D(se.FRAMEBUFFER,St,Mt,rn.__webglTexture,Ft),ae.bindFramebuffer(se.FRAMEBUFFER,null)}function bt(Qe,Ke,ct){if(se.bindRenderbuffer(se.RENDERBUFFER,Qe),Ke.depthBuffer){const St=Ke.depthTexture,Mt=St&&St.isDepthTexture?St.type:null,Ft=Fe(Ke.stencilBuffer,Mt),zt=Ke.stencilBuffer?se.DEPTH_STENCIL_ATTACHMENT:se.DEPTH_ATTACHMENT,$t=Nt(Ke);ht(Ke)?de.renderbufferStorageMultisampleEXT(se.RENDERBUFFER,$t,Ft,Ke.width,Ke.height):ct?se.renderbufferStorageMultisample(se.RENDERBUFFER,$t,Ft,Ke.width,Ke.height):se.renderbufferStorage(se.RENDERBUFFER,Ft,Ke.width,Ke.height),se.framebufferRenderbuffer(se.FRAMEBUFFER,zt,se.RENDERBUFFER,Qe)}else{const St=Ke.textures;for(let Mt=0;Mt<St.length;Mt++){const Ft=St[Mt],zt=ue.convert(Ft.format,Ft.colorSpace),$t=ue.convert(Ft.type),Jt=Ie(Ft.internalFormat,zt,$t,Ft.colorSpace),Mn=Nt(Ke);ct&&ht(Ke)===!1?se.renderbufferStorageMultisample(se.RENDERBUFFER,Mn,Jt,Ke.width,Ke.height):ht(Ke)?de.renderbufferStorageMultisampleEXT(se.RENDERBUFFER,Mn,Jt,Ke.width,Ke.height):se.renderbufferStorage(se.RENDERBUFFER,Jt,Ke.width,Ke.height)}}se.bindRenderbuffer(se.RENDERBUFFER,null)}function Dt(Qe,Ke){if(Ke&&Ke.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(ae.bindFramebuffer(se.FRAMEBUFFER,Qe),!(Ke.depthTexture&&Ke.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const St=oe.get(Ke.depthTexture);St.__renderTarget=Ke,(!St.__webglTexture||Ke.depthTexture.image.width!==Ke.width||Ke.depthTexture.image.height!==Ke.height)&&(Ke.depthTexture.image.width=Ke.width,Ke.depthTexture.image.height=Ke.height,Ke.depthTexture.needsUpdate=!0),mt(Ke.depthTexture,0);const Mt=St.__webglTexture,Ft=Nt(Ke);if(Ke.depthTexture.format===DepthFormat)ht(Ke)?de.framebufferTexture2DMultisampleEXT(se.FRAMEBUFFER,se.DEPTH_ATTACHMENT,se.TEXTURE_2D,Mt,0,Ft):se.framebufferTexture2D(se.FRAMEBUFFER,se.DEPTH_ATTACHMENT,se.TEXTURE_2D,Mt,0);else if(Ke.depthTexture.format===DepthStencilFormat)ht(Ke)?de.framebufferTexture2DMultisampleEXT(se.FRAMEBUFFER,se.DEPTH_STENCIL_ATTACHMENT,se.TEXTURE_2D,Mt,0,Ft):se.framebufferTexture2D(se.FRAMEBUFFER,se.DEPTH_STENCIL_ATTACHMENT,se.TEXTURE_2D,Mt,0);else throw new Error("Unknown depthTexture format")}function nn(Qe){const Ke=oe.get(Qe),ct=Qe.isWebGLCubeRenderTarget===!0;if(Ke.__boundDepthTexture!==Qe.depthTexture){const St=Qe.depthTexture;if(Ke.__depthDisposeCallback&&Ke.__depthDisposeCallback(),St){const Mt=()=>{delete Ke.__boundDepthTexture,delete Ke.__depthDisposeCallback,St.removeEventListener("dispose",Mt)};St.addEventListener("dispose",Mt),Ke.__depthDisposeCallback=Mt}Ke.__boundDepthTexture=St}if(Qe.depthTexture&&!Ke.__autoAllocateDepthBuffer){if(ct)throw new Error("target.depthTexture not supported in Cube render targets");Dt(Ke.__webglFramebuffer,Qe)}else if(ct){Ke.__webglDepthbuffer=[];for(let St=0;St<6;St++)if(ae.bindFramebuffer(se.FRAMEBUFFER,Ke.__webglFramebuffer[St]),Ke.__webglDepthbuffer[St]===void 0)Ke.__webglDepthbuffer[St]=se.createRenderbuffer(),bt(Ke.__webglDepthbuffer[St],Qe,!1);else{const Mt=Qe.stencilBuffer?se.DEPTH_STENCIL_ATTACHMENT:se.DEPTH_ATTACHMENT,Ft=Ke.__webglDepthbuffer[St];se.bindRenderbuffer(se.RENDERBUFFER,Ft),se.framebufferRenderbuffer(se.FRAMEBUFFER,Mt,se.RENDERBUFFER,Ft)}}else if(ae.bindFramebuffer(se.FRAMEBUFFER,Ke.__webglFramebuffer),Ke.__webglDepthbuffer===void 0)Ke.__webglDepthbuffer=se.createRenderbuffer(),bt(Ke.__webglDepthbuffer,Qe,!1);else{const St=Qe.stencilBuffer?se.DEPTH_STENCIL_ATTACHMENT:se.DEPTH_ATTACHMENT,Mt=Ke.__webglDepthbuffer;se.bindRenderbuffer(se.RENDERBUFFER,Mt),se.framebufferRenderbuffer(se.FRAMEBUFFER,St,se.RENDERBUFFER,Mt)}ae.bindFramebuffer(se.FRAMEBUFFER,null)}function ln(Qe,Ke,ct){const St=oe.get(Qe);Ke!==void 0&&Et(St.__webglFramebuffer,Qe,Qe.texture,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,0),ct!==void 0&&nn(Qe)}function tn(Qe){const Ke=Qe.texture,ct=oe.get(Qe),St=oe.get(Ke);Qe.addEventListener("dispose",ke);const Mt=Qe.textures,Ft=Qe.isWebGLCubeRenderTarget===!0,zt=Mt.length>1;if(zt||(St.__webglTexture===void 0&&(St.__webglTexture=se.createTexture()),St.__version=Ke.version,fe.memory.textures++),Ft){ct.__webglFramebuffer=[];for(let $t=0;$t<6;$t++)if(Ke.mipmaps&&Ke.mipmaps.length>0){ct.__webglFramebuffer[$t]=[];for(let Jt=0;Jt<Ke.mipmaps.length;Jt++)ct.__webglFramebuffer[$t][Jt]=se.createFramebuffer()}else ct.__webglFramebuffer[$t]=se.createFramebuffer()}else{if(Ke.mipmaps&&Ke.mipmaps.length>0){ct.__webglFramebuffer=[];for(let $t=0;$t<Ke.mipmaps.length;$t++)ct.__webglFramebuffer[$t]=se.createFramebuffer()}else ct.__webglFramebuffer=se.createFramebuffer();if(zt)for(let $t=0,Jt=Mt.length;$t<Jt;$t++){const Mn=oe.get(Mt[$t]);Mn.__webglTexture===void 0&&(Mn.__webglTexture=se.createTexture(),fe.memory.textures++)}if(Qe.samples>0&&ht(Qe)===!1){ct.__webglMultisampledFramebuffer=se.createFramebuffer(),ct.__webglColorRenderbuffer=[],ae.bindFramebuffer(se.FRAMEBUFFER,ct.__webglMultisampledFramebuffer);for(let $t=0;$t<Mt.length;$t++){const Jt=Mt[$t];ct.__webglColorRenderbuffer[$t]=se.createRenderbuffer(),se.bindRenderbuffer(se.RENDERBUFFER,ct.__webglColorRenderbuffer[$t]);const Mn=ue.convert(Jt.format,Jt.colorSpace),rn=ue.convert(Jt.type),cn=Ie(Jt.internalFormat,Mn,rn,Jt.colorSpace,Qe.isXRRenderTarget===!0),vn=Nt(Qe);se.renderbufferStorageMultisample(se.RENDERBUFFER,vn,cn,Qe.width,Qe.height),se.framebufferRenderbuffer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0+$t,se.RENDERBUFFER,ct.__webglColorRenderbuffer[$t])}se.bindRenderbuffer(se.RENDERBUFFER,null),Qe.depthBuffer&&(ct.__webglDepthRenderbuffer=se.createRenderbuffer(),bt(ct.__webglDepthRenderbuffer,Qe,!0)),ae.bindFramebuffer(se.FRAMEBUFFER,null)}}if(Ft){ae.bindTexture(se.TEXTURE_CUBE_MAP,St.__webglTexture),ft(se.TEXTURE_CUBE_MAP,Ke);for(let $t=0;$t<6;$t++)if(Ke.mipmaps&&Ke.mipmaps.length>0)for(let Jt=0;Jt<Ke.mipmaps.length;Jt++)Et(ct.__webglFramebuffer[$t][Jt],Qe,Ke,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+$t,Jt);else Et(ct.__webglFramebuffer[$t],Qe,Ke,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+$t,0);De(Ke)&&Oe(se.TEXTURE_CUBE_MAP),ae.unbindTexture()}else if(zt){for(let $t=0,Jt=Mt.length;$t<Jt;$t++){const Mn=Mt[$t],rn=oe.get(Mn);ae.bindTexture(se.TEXTURE_2D,rn.__webglTexture),ft(se.TEXTURE_2D,Mn),Et(ct.__webglFramebuffer,Qe,Mn,se.COLOR_ATTACHMENT0+$t,se.TEXTURE_2D,0),De(Mn)&&Oe(se.TEXTURE_2D)}ae.unbindTexture()}else{let $t=se.TEXTURE_2D;if((Qe.isWebGL3DRenderTarget||Qe.isWebGLArrayRenderTarget)&&($t=Qe.isWebGL3DRenderTarget?se.TEXTURE_3D:se.TEXTURE_2D_ARRAY),ae.bindTexture($t,St.__webglTexture),ft($t,Ke),Ke.mipmaps&&Ke.mipmaps.length>0)for(let Jt=0;Jt<Ke.mipmaps.length;Jt++)Et(ct.__webglFramebuffer[Jt],Qe,Ke,se.COLOR_ATTACHMENT0,$t,Jt);else Et(ct.__webglFramebuffer,Qe,Ke,se.COLOR_ATTACHMENT0,$t,0);De(Ke)&&Oe($t),ae.unbindTexture()}Qe.depthBuffer&&nn(Qe)}function Wt(Qe){const Ke=Qe.textures;for(let ct=0,St=Ke.length;ct<St;ct++){const Mt=Ke[ct];if(De(Mt)){const Ft=Pe(Qe),zt=oe.get(Mt).__webglTexture;ae.bindTexture(Ft,zt),Oe(Ft),ae.unbindTexture()}}}const on=[],pt=[];function Sn(Qe){if(Qe.samples>0){if(ht(Qe)===!1){const Ke=Qe.textures,ct=Qe.width,St=Qe.height;let Mt=se.COLOR_BUFFER_BIT;const Ft=Qe.stencilBuffer?se.DEPTH_STENCIL_ATTACHMENT:se.DEPTH_ATTACHMENT,zt=oe.get(Qe),$t=Ke.length>1;if($t)for(let Jt=0;Jt<Ke.length;Jt++)ae.bindFramebuffer(se.FRAMEBUFFER,zt.__webglMultisampledFramebuffer),se.framebufferRenderbuffer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0+Jt,se.RENDERBUFFER,null),ae.bindFramebuffer(se.FRAMEBUFFER,zt.__webglFramebuffer),se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0+Jt,se.TEXTURE_2D,null,0);ae.bindFramebuffer(se.READ_FRAMEBUFFER,zt.__webglMultisampledFramebuffer),ae.bindFramebuffer(se.DRAW_FRAMEBUFFER,zt.__webglFramebuffer);for(let Jt=0;Jt<Ke.length;Jt++){if(Qe.resolveDepthBuffer&&(Qe.depthBuffer&&(Mt|=se.DEPTH_BUFFER_BIT),Qe.stencilBuffer&&Qe.resolveStencilBuffer&&(Mt|=se.STENCIL_BUFFER_BIT)),$t){se.framebufferRenderbuffer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.RENDERBUFFER,zt.__webglColorRenderbuffer[Jt]);const Mn=oe.get(Ke[Jt]).__webglTexture;se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,Mn,0)}se.blitFramebuffer(0,0,ct,St,0,0,ct,St,Mt,se.NEAREST),pe===!0&&(on.length=0,pt.length=0,on.push(se.COLOR_ATTACHMENT0+Jt),Qe.depthBuffer&&Qe.resolveDepthBuffer===!1&&(on.push(Ft),pt.push(Ft),se.invalidateFramebuffer(se.DRAW_FRAMEBUFFER,pt)),se.invalidateFramebuffer(se.READ_FRAMEBUFFER,on))}if(ae.bindFramebuffer(se.READ_FRAMEBUFFER,null),ae.bindFramebuffer(se.DRAW_FRAMEBUFFER,null),$t)for(let Jt=0;Jt<Ke.length;Jt++){ae.bindFramebuffer(se.FRAMEBUFFER,zt.__webglMultisampledFramebuffer),se.framebufferRenderbuffer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0+Jt,se.RENDERBUFFER,zt.__webglColorRenderbuffer[Jt]);const Mn=oe.get(Ke[Jt]).__webglTexture;ae.bindFramebuffer(se.FRAMEBUFFER,zt.__webglFramebuffer),se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0+Jt,se.TEXTURE_2D,Mn,0)}ae.bindFramebuffer(se.DRAW_FRAMEBUFFER,zt.__webglMultisampledFramebuffer)}else if(Qe.depthBuffer&&Qe.resolveDepthBuffer===!1&&pe){const Ke=Qe.stencilBuffer?se.DEPTH_STENCIL_ATTACHMENT:se.DEPTH_ATTACHMENT;se.invalidateFramebuffer(se.DRAW_FRAMEBUFFER,[Ke])}}}function Nt(Qe){return Math.min(ce.maxSamples,Qe.samples)}function ht(Qe){const Ke=oe.get(Qe);return Qe.samples>0&&te.has("WEBGL_multisampled_render_to_texture")===!0&&Ke.__useRenderToTexture!==!1}function Rt(Qe){const Ke=fe.render.frame;_e.get(Qe)!==Ke&&(_e.set(Qe,Ke),Qe.update())}function kt(Qe,Ke){const ct=Qe.colorSpace,St=Qe.format,Mt=Qe.type;return Qe.isCompressedTexture===!0||Qe.isVideoTexture===!0||ct!==LinearSRGBColorSpace$1&&ct!==NoColorSpace&&(ColorManagement.getTransfer(ct)===SRGBTransfer?(St!==RGBAFormat||Mt!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ct)),Ke}function Bt(Qe){return typeof HTMLImageElement<"u"&&Qe instanceof HTMLImageElement?(me.width=Qe.naturalWidth||Qe.width,me.height=Qe.naturalHeight||Qe.height):typeof VideoFrame<"u"&&Qe instanceof VideoFrame?(me.width=Qe.displayWidth,me.height=Qe.displayHeight):(me.width=Qe.width,me.height=Qe.height),me}this.allocateTextureUnit=nt,this.resetTextureUnits=Ze,this.setTexture2D=mt,this.setTexture2DArray=Ye,this.setTexture3D=rt,this.setTextureCube=lt,this.rebindTextures=ln,this.setupRenderTarget=tn,this.updateRenderTargetMipmap=Wt,this.updateMultisampleRenderTarget=Sn,this.setupDepthRenderbuffer=nn,this.setupFrameBufferTexture=Et,this.useMultisampledRTT=ht}function WebGLUtils(se,te){function ae(oe,ce=NoColorSpace){let ue;const fe=ColorManagement.getTransfer(ce);if(oe===UnsignedByteType)return se.UNSIGNED_BYTE;if(oe===UnsignedShort4444Type)return se.UNSIGNED_SHORT_4_4_4_4;if(oe===UnsignedShort5551Type)return se.UNSIGNED_SHORT_5_5_5_1;if(oe===UnsignedInt5999Type)return se.UNSIGNED_INT_5_9_9_9_REV;if(oe===ByteType)return se.BYTE;if(oe===ShortType)return se.SHORT;if(oe===UnsignedShortType)return se.UNSIGNED_SHORT;if(oe===IntType)return se.INT;if(oe===UnsignedIntType)return se.UNSIGNED_INT;if(oe===FloatType)return se.FLOAT;if(oe===HalfFloatType)return se.HALF_FLOAT;if(oe===AlphaFormat)return se.ALPHA;if(oe===RGBFormat)return se.RGB;if(oe===RGBAFormat)return se.RGBA;if(oe===LuminanceFormat)return se.LUMINANCE;if(oe===LuminanceAlphaFormat)return se.LUMINANCE_ALPHA;if(oe===DepthFormat)return se.DEPTH_COMPONENT;if(oe===DepthStencilFormat)return se.DEPTH_STENCIL;if(oe===RedFormat)return se.RED;if(oe===RedIntegerFormat)return se.RED_INTEGER;if(oe===RGFormat)return se.RG;if(oe===RGIntegerFormat)return se.RG_INTEGER;if(oe===RGBAIntegerFormat)return se.RGBA_INTEGER;if(oe===RGB_S3TC_DXT1_Format||oe===RGBA_S3TC_DXT1_Format||oe===RGBA_S3TC_DXT3_Format||oe===RGBA_S3TC_DXT5_Format)if(fe===SRGBTransfer)if(ue=te.get("WEBGL_compressed_texture_s3tc_srgb"),ue!==null){if(oe===RGB_S3TC_DXT1_Format)return ue.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(oe===RGBA_S3TC_DXT1_Format)return ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(oe===RGBA_S3TC_DXT3_Format)return ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(oe===RGBA_S3TC_DXT5_Format)return ue.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(ue=te.get("WEBGL_compressed_texture_s3tc"),ue!==null){if(oe===RGB_S3TC_DXT1_Format)return ue.COMPRESSED_RGB_S3TC_DXT1_EXT;if(oe===RGBA_S3TC_DXT1_Format)return ue.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(oe===RGBA_S3TC_DXT3_Format)return ue.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(oe===RGBA_S3TC_DXT5_Format)return ue.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(oe===RGB_PVRTC_4BPPV1_Format||oe===RGB_PVRTC_2BPPV1_Format||oe===RGBA_PVRTC_4BPPV1_Format||oe===RGBA_PVRTC_2BPPV1_Format)if(ue=te.get("WEBGL_compressed_texture_pvrtc"),ue!==null){if(oe===RGB_PVRTC_4BPPV1_Format)return ue.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(oe===RGB_PVRTC_2BPPV1_Format)return ue.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(oe===RGBA_PVRTC_4BPPV1_Format)return ue.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(oe===RGBA_PVRTC_2BPPV1_Format)return ue.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(oe===RGB_ETC1_Format||oe===RGB_ETC2_Format||oe===RGBA_ETC2_EAC_Format)if(ue=te.get("WEBGL_compressed_texture_etc"),ue!==null){if(oe===RGB_ETC1_Format||oe===RGB_ETC2_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ETC2:ue.COMPRESSED_RGB8_ETC2;if(oe===RGBA_ETC2_EAC_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:ue.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(oe===RGBA_ASTC_4x4_Format||oe===RGBA_ASTC_5x4_Format||oe===RGBA_ASTC_5x5_Format||oe===RGBA_ASTC_6x5_Format||oe===RGBA_ASTC_6x6_Format||oe===RGBA_ASTC_8x5_Format||oe===RGBA_ASTC_8x6_Format||oe===RGBA_ASTC_8x8_Format||oe===RGBA_ASTC_10x5_Format||oe===RGBA_ASTC_10x6_Format||oe===RGBA_ASTC_10x8_Format||oe===RGBA_ASTC_10x10_Format||oe===RGBA_ASTC_12x10_Format||oe===RGBA_ASTC_12x12_Format)if(ue=te.get("WEBGL_compressed_texture_astc"),ue!==null){if(oe===RGBA_ASTC_4x4_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:ue.COMPRESSED_RGBA_ASTC_4x4_KHR;if(oe===RGBA_ASTC_5x4_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:ue.COMPRESSED_RGBA_ASTC_5x4_KHR;if(oe===RGBA_ASTC_5x5_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:ue.COMPRESSED_RGBA_ASTC_5x5_KHR;if(oe===RGBA_ASTC_6x5_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:ue.COMPRESSED_RGBA_ASTC_6x5_KHR;if(oe===RGBA_ASTC_6x6_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:ue.COMPRESSED_RGBA_ASTC_6x6_KHR;if(oe===RGBA_ASTC_8x5_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:ue.COMPRESSED_RGBA_ASTC_8x5_KHR;if(oe===RGBA_ASTC_8x6_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:ue.COMPRESSED_RGBA_ASTC_8x6_KHR;if(oe===RGBA_ASTC_8x8_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:ue.COMPRESSED_RGBA_ASTC_8x8_KHR;if(oe===RGBA_ASTC_10x5_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:ue.COMPRESSED_RGBA_ASTC_10x5_KHR;if(oe===RGBA_ASTC_10x6_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:ue.COMPRESSED_RGBA_ASTC_10x6_KHR;if(oe===RGBA_ASTC_10x8_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:ue.COMPRESSED_RGBA_ASTC_10x8_KHR;if(oe===RGBA_ASTC_10x10_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:ue.COMPRESSED_RGBA_ASTC_10x10_KHR;if(oe===RGBA_ASTC_12x10_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:ue.COMPRESSED_RGBA_ASTC_12x10_KHR;if(oe===RGBA_ASTC_12x12_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:ue.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(oe===RGBA_BPTC_Format||oe===RGB_BPTC_SIGNED_Format||oe===RGB_BPTC_UNSIGNED_Format)if(ue=te.get("EXT_texture_compression_bptc"),ue!==null){if(oe===RGBA_BPTC_Format)return fe===SRGBTransfer?ue.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:ue.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(oe===RGB_BPTC_SIGNED_Format)return ue.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(oe===RGB_BPTC_UNSIGNED_Format)return ue.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(oe===RED_RGTC1_Format||oe===SIGNED_RED_RGTC1_Format||oe===RED_GREEN_RGTC2_Format||oe===SIGNED_RED_GREEN_RGTC2_Format)if(ue=te.get("EXT_texture_compression_rgtc"),ue!==null){if(oe===RGBA_BPTC_Format)return ue.COMPRESSED_RED_RGTC1_EXT;if(oe===SIGNED_RED_RGTC1_Format)return ue.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(oe===RED_GREEN_RGTC2_Format)return ue.COMPRESSED_RED_GREEN_RGTC2_EXT;if(oe===SIGNED_RED_GREEN_RGTC2_Format)return ue.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return oe===UnsignedInt248Type?se.UNSIGNED_INT_24_8:se[oe]!==void 0?se[oe]:null}return{convert:ae}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(te,ae,oe){if(this.texture===null){const ce=new Texture,ue=te.properties.get(ce);ue.__webglTexture=ae.texture,(ae.depthNear!==oe.depthNear||ae.depthFar!==oe.depthFar)&&(this.depthNear=ae.depthNear,this.depthFar=ae.depthFar),this.texture=ce}}getMesh(te){if(this.texture!==null&&this.mesh===null){const ae=te.cameras[0].viewport,oe=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:ae.z},depthHeight:{value:ae.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),oe)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher{constructor(te,ae){super();const oe=this;let ce=null,ue=1,fe=null,de="local-floor",pe=1,me=null,_e=null,be=null,Ee=null,Ae=null,Re=null;const Be=new WebXRDepthSensing,De=ae.getContextAttributes();let Oe=null,Pe=null;const Ie=[],Fe=[],$e=new Vector2;let Ve=null;const ke=new PerspectiveCamera;ke.viewport=new Vector4;const We=new PerspectiveCamera;We.viewport=new Vector4;const je=[ke,We],He=new ArrayCamera;let tt=null,Ze=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(st){let gt=Ie[st];return gt===void 0&&(gt=new WebXRController,Ie[st]=gt),gt.getTargetRaySpace()},this.getControllerGrip=function(st){let gt=Ie[st];return gt===void 0&&(gt=new WebXRController,Ie[st]=gt),gt.getGripSpace()},this.getHand=function(st){let gt=Ie[st];return gt===void 0&&(gt=new WebXRController,Ie[st]=gt),gt.getHandSpace()};function nt(st){const gt=Fe.indexOf(st.inputSource);if(gt===-1)return;const Et=Ie[gt];Et!==void 0&&(Et.update(st.inputSource,st.frame,me||fe),Et.dispatchEvent({type:st.type,data:st.inputSource}))}function at(){ce.removeEventListener("select",nt),ce.removeEventListener("selectstart",nt),ce.removeEventListener("selectend",nt),ce.removeEventListener("squeeze",nt),ce.removeEventListener("squeezestart",nt),ce.removeEventListener("squeezeend",nt),ce.removeEventListener("end",at),ce.removeEventListener("inputsourceschange",mt);for(let st=0;st<Ie.length;st++){const gt=Fe[st];gt!==null&&(Fe[st]=null,Ie[st].disconnect(gt))}tt=null,Ze=null,Be.reset(),te.setRenderTarget(Oe),Ae=null,Ee=null,be=null,ce=null,Pe=null,yt.stop(),oe.isPresenting=!1,te.setPixelRatio(Ve),te.setSize($e.width,$e.height,!1),oe.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(st){ue=st,oe.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(st){de=st,oe.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return me||fe},this.setReferenceSpace=function(st){me=st},this.getBaseLayer=function(){return Ee!==null?Ee:Ae},this.getBinding=function(){return be},this.getFrame=function(){return Re},this.getSession=function(){return ce},this.setSession=async function(st){if(ce=st,ce!==null){if(Oe=te.getRenderTarget(),ce.addEventListener("select",nt),ce.addEventListener("selectstart",nt),ce.addEventListener("selectend",nt),ce.addEventListener("squeeze",nt),ce.addEventListener("squeezestart",nt),ce.addEventListener("squeezeend",nt),ce.addEventListener("end",at),ce.addEventListener("inputsourceschange",mt),De.xrCompatible!==!0&&await ae.makeXRCompatible(),Ve=te.getPixelRatio(),te.getSize($e),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Et=null,bt=null,Dt=null;De.depth&&(Dt=De.stencil?ae.DEPTH24_STENCIL8:ae.DEPTH_COMPONENT24,Et=De.stencil?DepthStencilFormat:DepthFormat,bt=De.stencil?UnsignedInt248Type:UnsignedIntType);const nn={colorFormat:ae.RGBA8,depthFormat:Dt,scaleFactor:ue};be=new XRWebGLBinding(ce,ae),Ee=be.createProjectionLayer(nn),ce.updateRenderState({layers:[Ee]}),te.setPixelRatio(1),te.setSize(Ee.textureWidth,Ee.textureHeight,!1),Pe=new WebGLRenderTarget(Ee.textureWidth,Ee.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(Ee.textureWidth,Ee.textureHeight,bt,void 0,void 0,void 0,void 0,void 0,void 0,Et),stencilBuffer:De.stencil,colorSpace:te.outputColorSpace,samples:De.antialias?4:0,resolveDepthBuffer:Ee.ignoreDepthValues===!1,resolveStencilBuffer:Ee.ignoreDepthValues===!1})}else{const Et={antialias:De.antialias,alpha:!0,depth:De.depth,stencil:De.stencil,framebufferScaleFactor:ue};Ae=new XRWebGLLayer(ce,ae,Et),ce.updateRenderState({baseLayer:Ae}),te.setPixelRatio(1),te.setSize(Ae.framebufferWidth,Ae.framebufferHeight,!1),Pe=new WebGLRenderTarget(Ae.framebufferWidth,Ae.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:te.outputColorSpace,stencilBuffer:De.stencil,resolveDepthBuffer:Ae.ignoreDepthValues===!1,resolveStencilBuffer:Ae.ignoreDepthValues===!1})}Pe.isXRRenderTarget=!0,this.setFoveation(pe),me=null,fe=await ce.requestReferenceSpace(de),yt.setContext(ce),yt.start(),oe.isPresenting=!0,oe.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(ce!==null)return ce.environmentBlendMode},this.getDepthTexture=function(){return Be.getDepthTexture()};function mt(st){for(let gt=0;gt<st.removed.length;gt++){const Et=st.removed[gt],bt=Fe.indexOf(Et);bt>=0&&(Fe[bt]=null,Ie[bt].disconnect(Et))}for(let gt=0;gt<st.added.length;gt++){const Et=st.added[gt];let bt=Fe.indexOf(Et);if(bt===-1){for(let nn=0;nn<Ie.length;nn++)if(nn>=Fe.length){Fe.push(Et),bt=nn;break}else if(Fe[nn]===null){Fe[nn]=Et,bt=nn;break}if(bt===-1)break}const Dt=Ie[bt];Dt&&Dt.connect(Et)}}const Ye=new Vector3,rt=new Vector3;function lt(st,gt,Et){Ye.setFromMatrixPosition(gt.matrixWorld),rt.setFromMatrixPosition(Et.matrixWorld);const bt=Ye.distanceTo(rt),Dt=gt.projectionMatrix.elements,nn=Et.projectionMatrix.elements,ln=Dt[14]/(Dt[10]-1),tn=Dt[14]/(Dt[10]+1),Wt=(Dt[9]+1)/Dt[5],on=(Dt[9]-1)/Dt[5],pt=(Dt[8]-1)/Dt[0],Sn=(nn[8]+1)/nn[0],Nt=ln*pt,ht=ln*Sn,Rt=bt/(-pt+Sn),kt=Rt*-pt;if(gt.matrixWorld.decompose(st.position,st.quaternion,st.scale),st.translateX(kt),st.translateZ(Rt),st.matrixWorld.compose(st.position,st.quaternion,st.scale),st.matrixWorldInverse.copy(st.matrixWorld).invert(),Dt[10]===-1)st.projectionMatrix.copy(gt.projectionMatrix),st.projectionMatrixInverse.copy(gt.projectionMatrixInverse);else{const Bt=ln+Rt,Qe=tn+Rt,Ke=Nt-kt,ct=ht+(bt-kt),St=Wt*tn/Qe*Bt,Mt=on*tn/Qe*Bt;st.projectionMatrix.makePerspective(Ke,ct,St,Mt,Bt,Qe),st.projectionMatrixInverse.copy(st.projectionMatrix).invert()}}function _t(st,gt){gt===null?st.matrixWorld.copy(st.matrix):st.matrixWorld.multiplyMatrices(gt.matrixWorld,st.matrix),st.matrixWorldInverse.copy(st.matrixWorld).invert()}this.updateCamera=function(st){if(ce===null)return;let gt=st.near,Et=st.far;Be.texture!==null&&(Be.depthNear>0&&(gt=Be.depthNear),Be.depthFar>0&&(Et=Be.depthFar)),He.near=We.near=ke.near=gt,He.far=We.far=ke.far=Et,(tt!==He.near||Ze!==He.far)&&(ce.updateRenderState({depthNear:He.near,depthFar:He.far}),tt=He.near,Ze=He.far),ke.layers.mask=st.layers.mask|2,We.layers.mask=st.layers.mask|4,He.layers.mask=ke.layers.mask|We.layers.mask;const bt=st.parent,Dt=He.cameras;_t(He,bt);for(let nn=0;nn<Dt.length;nn++)_t(Dt[nn],bt);Dt.length===2?lt(He,ke,We):He.projectionMatrix.copy(ke.projectionMatrix),Xe(st,He,bt)};function Xe(st,gt,Et){Et===null?st.matrix.copy(gt.matrixWorld):(st.matrix.copy(Et.matrixWorld),st.matrix.invert(),st.matrix.multiply(gt.matrixWorld)),st.matrix.decompose(st.position,st.quaternion,st.scale),st.updateMatrixWorld(!0),st.projectionMatrix.copy(gt.projectionMatrix),st.projectionMatrixInverse.copy(gt.projectionMatrixInverse),st.isPerspectiveCamera&&(st.fov=RAD2DEG*2*Math.atan(1/st.projectionMatrix.elements[5]),st.zoom=1)}this.getCamera=function(){return He},this.getFoveation=function(){if(!(Ee===null&&Ae===null))return pe},this.setFoveation=function(st){pe=st,Ee!==null&&(Ee.fixedFoveation=st),Ae!==null&&Ae.fixedFoveation!==void 0&&(Ae.fixedFoveation=st)},this.hasDepthSensing=function(){return Be.texture!==null},this.getDepthSensingMesh=function(){return Be.getMesh(He)};let et=null;function ft(st,gt){if(_e=gt.getViewerPose(me||fe),Re=gt,_e!==null){const Et=_e.views;Ae!==null&&(te.setRenderTargetFramebuffer(Pe,Ae.framebuffer),te.setRenderTarget(Pe));let bt=!1;Et.length!==He.cameras.length&&(He.cameras.length=0,bt=!0);for(let ln=0;ln<Et.length;ln++){const tn=Et[ln];let Wt=null;if(Ae!==null)Wt=Ae.getViewport(tn);else{const pt=be.getViewSubImage(Ee,tn);Wt=pt.viewport,ln===0&&(te.setRenderTargetTextures(Pe,pt.colorTexture,pt.depthStencilTexture),te.setRenderTarget(Pe))}let on=je[ln];on===void 0&&(on=new PerspectiveCamera,on.layers.enable(ln),on.viewport=new Vector4,je[ln]=on),on.matrix.fromArray(tn.transform.matrix),on.matrix.decompose(on.position,on.quaternion,on.scale),on.projectionMatrix.fromArray(tn.projectionMatrix),on.projectionMatrixInverse.copy(on.projectionMatrix).invert(),on.viewport.set(Wt.x,Wt.y,Wt.width,Wt.height),ln===0&&(He.matrix.copy(on.matrix),He.matrix.decompose(He.position,He.quaternion,He.scale)),bt===!0&&He.cameras.push(on)}const Dt=ce.enabledFeatures;if(Dt&&Dt.includes("depth-sensing")&&ce.depthUsage=="gpu-optimized"&&be){const ln=be.getDepthInformation(Et[0]);ln&&ln.isValid&&ln.texture&&Be.init(te,ln,ce.renderState)}}for(let Et=0;Et<Ie.length;Et++){const bt=Fe[Et],Dt=Ie[Et];bt!==null&&Dt!==void 0&&Dt.update(bt,gt,me||fe)}et&&et(st,gt),gt.detectedPlanes&&oe.dispatchEvent({type:"planesdetected",data:gt}),Re=null}const yt=new WebGLAnimation;yt.setAnimationLoop(ft),this.setAnimationLoop=function(st){et=st},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(se,te){function ae(De,Oe){De.matrixAutoUpdate===!0&&De.updateMatrix(),Oe.value.copy(De.matrix)}function oe(De,Oe){Oe.color.getRGB(De.fogColor.value,getUnlitUniformColorSpace(se)),Oe.isFog?(De.fogNear.value=Oe.near,De.fogFar.value=Oe.far):Oe.isFogExp2&&(De.fogDensity.value=Oe.density)}function ce(De,Oe,Pe,Ie,Fe){Oe.isMeshBasicMaterial||Oe.isMeshLambertMaterial?ue(De,Oe):Oe.isMeshToonMaterial?(ue(De,Oe),be(De,Oe)):Oe.isMeshPhongMaterial?(ue(De,Oe),_e(De,Oe)):Oe.isMeshStandardMaterial?(ue(De,Oe),Ee(De,Oe),Oe.isMeshPhysicalMaterial&&Ae(De,Oe,Fe)):Oe.isMeshMatcapMaterial?(ue(De,Oe),Re(De,Oe)):Oe.isMeshDepthMaterial?ue(De,Oe):Oe.isMeshDistanceMaterial?(ue(De,Oe),Be(De,Oe)):Oe.isMeshNormalMaterial?ue(De,Oe):Oe.isLineBasicMaterial?(fe(De,Oe),Oe.isLineDashedMaterial&&de(De,Oe)):Oe.isPointsMaterial?pe(De,Oe,Pe,Ie):Oe.isSpriteMaterial?me(De,Oe):Oe.isShadowMaterial?(De.color.value.copy(Oe.color),De.opacity.value=Oe.opacity):Oe.isShaderMaterial&&(Oe.uniformsNeedUpdate=!1)}function ue(De,Oe){De.opacity.value=Oe.opacity,Oe.color&&De.diffuse.value.copy(Oe.color),Oe.emissive&&De.emissive.value.copy(Oe.emissive).multiplyScalar(Oe.emissiveIntensity),Oe.map&&(De.map.value=Oe.map,ae(Oe.map,De.mapTransform)),Oe.alphaMap&&(De.alphaMap.value=Oe.alphaMap,ae(Oe.alphaMap,De.alphaMapTransform)),Oe.bumpMap&&(De.bumpMap.value=Oe.bumpMap,ae(Oe.bumpMap,De.bumpMapTransform),De.bumpScale.value=Oe.bumpScale,Oe.side===BackSide&&(De.bumpScale.value*=-1)),Oe.normalMap&&(De.normalMap.value=Oe.normalMap,ae(Oe.normalMap,De.normalMapTransform),De.normalScale.value.copy(Oe.normalScale),Oe.side===BackSide&&De.normalScale.value.negate()),Oe.displacementMap&&(De.displacementMap.value=Oe.displacementMap,ae(Oe.displacementMap,De.displacementMapTransform),De.displacementScale.value=Oe.displacementScale,De.displacementBias.value=Oe.displacementBias),Oe.emissiveMap&&(De.emissiveMap.value=Oe.emissiveMap,ae(Oe.emissiveMap,De.emissiveMapTransform)),Oe.specularMap&&(De.specularMap.value=Oe.specularMap,ae(Oe.specularMap,De.specularMapTransform)),Oe.alphaTest>0&&(De.alphaTest.value=Oe.alphaTest);const Pe=te.get(Oe),Ie=Pe.envMap,Fe=Pe.envMapRotation;Ie&&(De.envMap.value=Ie,_e1.copy(Fe),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,Ie.isCubeTexture&&Ie.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),De.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),De.flipEnvMap.value=Ie.isCubeTexture&&Ie.isRenderTargetTexture===!1?-1:1,De.reflectivity.value=Oe.reflectivity,De.ior.value=Oe.ior,De.refractionRatio.value=Oe.refractionRatio),Oe.lightMap&&(De.lightMap.value=Oe.lightMap,De.lightMapIntensity.value=Oe.lightMapIntensity,ae(Oe.lightMap,De.lightMapTransform)),Oe.aoMap&&(De.aoMap.value=Oe.aoMap,De.aoMapIntensity.value=Oe.aoMapIntensity,ae(Oe.aoMap,De.aoMapTransform))}function fe(De,Oe){De.diffuse.value.copy(Oe.color),De.opacity.value=Oe.opacity,Oe.map&&(De.map.value=Oe.map,ae(Oe.map,De.mapTransform))}function de(De,Oe){De.dashSize.value=Oe.dashSize,De.totalSize.value=Oe.dashSize+Oe.gapSize,De.scale.value=Oe.scale}function pe(De,Oe,Pe,Ie){De.diffuse.value.copy(Oe.color),De.opacity.value=Oe.opacity,De.size.value=Oe.size*Pe,De.scale.value=Ie*.5,Oe.map&&(De.map.value=Oe.map,ae(Oe.map,De.uvTransform)),Oe.alphaMap&&(De.alphaMap.value=Oe.alphaMap,ae(Oe.alphaMap,De.alphaMapTransform)),Oe.alphaTest>0&&(De.alphaTest.value=Oe.alphaTest)}function me(De,Oe){De.diffuse.value.copy(Oe.color),De.opacity.value=Oe.opacity,De.rotation.value=Oe.rotation,Oe.map&&(De.map.value=Oe.map,ae(Oe.map,De.mapTransform)),Oe.alphaMap&&(De.alphaMap.value=Oe.alphaMap,ae(Oe.alphaMap,De.alphaMapTransform)),Oe.alphaTest>0&&(De.alphaTest.value=Oe.alphaTest)}function _e(De,Oe){De.specular.value.copy(Oe.specular),De.shininess.value=Math.max(Oe.shininess,1e-4)}function be(De,Oe){Oe.gradientMap&&(De.gradientMap.value=Oe.gradientMap)}function Ee(De,Oe){De.metalness.value=Oe.metalness,Oe.metalnessMap&&(De.metalnessMap.value=Oe.metalnessMap,ae(Oe.metalnessMap,De.metalnessMapTransform)),De.roughness.value=Oe.roughness,Oe.roughnessMap&&(De.roughnessMap.value=Oe.roughnessMap,ae(Oe.roughnessMap,De.roughnessMapTransform)),Oe.envMap&&(De.envMapIntensity.value=Oe.envMapIntensity)}function Ae(De,Oe,Pe){De.ior.value=Oe.ior,Oe.sheen>0&&(De.sheenColor.value.copy(Oe.sheenColor).multiplyScalar(Oe.sheen),De.sheenRoughness.value=Oe.sheenRoughness,Oe.sheenColorMap&&(De.sheenColorMap.value=Oe.sheenColorMap,ae(Oe.sheenColorMap,De.sheenColorMapTransform)),Oe.sheenRoughnessMap&&(De.sheenRoughnessMap.value=Oe.sheenRoughnessMap,ae(Oe.sheenRoughnessMap,De.sheenRoughnessMapTransform))),Oe.clearcoat>0&&(De.clearcoat.value=Oe.clearcoat,De.clearcoatRoughness.value=Oe.clearcoatRoughness,Oe.clearcoatMap&&(De.clearcoatMap.value=Oe.clearcoatMap,ae(Oe.clearcoatMap,De.clearcoatMapTransform)),Oe.clearcoatRoughnessMap&&(De.clearcoatRoughnessMap.value=Oe.clearcoatRoughnessMap,ae(Oe.clearcoatRoughnessMap,De.clearcoatRoughnessMapTransform)),Oe.clearcoatNormalMap&&(De.clearcoatNormalMap.value=Oe.clearcoatNormalMap,ae(Oe.clearcoatNormalMap,De.clearcoatNormalMapTransform),De.clearcoatNormalScale.value.copy(Oe.clearcoatNormalScale),Oe.side===BackSide&&De.clearcoatNormalScale.value.negate())),Oe.dispersion>0&&(De.dispersion.value=Oe.dispersion),Oe.iridescence>0&&(De.iridescence.value=Oe.iridescence,De.iridescenceIOR.value=Oe.iridescenceIOR,De.iridescenceThicknessMinimum.value=Oe.iridescenceThicknessRange[0],De.iridescenceThicknessMaximum.value=Oe.iridescenceThicknessRange[1],Oe.iridescenceMap&&(De.iridescenceMap.value=Oe.iridescenceMap,ae(Oe.iridescenceMap,De.iridescenceMapTransform)),Oe.iridescenceThicknessMap&&(De.iridescenceThicknessMap.value=Oe.iridescenceThicknessMap,ae(Oe.iridescenceThicknessMap,De.iridescenceThicknessMapTransform))),Oe.transmission>0&&(De.transmission.value=Oe.transmission,De.transmissionSamplerMap.value=Pe.texture,De.transmissionSamplerSize.value.set(Pe.width,Pe.height),Oe.transmissionMap&&(De.transmissionMap.value=Oe.transmissionMap,ae(Oe.transmissionMap,De.transmissionMapTransform)),De.thickness.value=Oe.thickness,Oe.thicknessMap&&(De.thicknessMap.value=Oe.thicknessMap,ae(Oe.thicknessMap,De.thicknessMapTransform)),De.attenuationDistance.value=Oe.attenuationDistance,De.attenuationColor.value.copy(Oe.attenuationColor)),Oe.anisotropy>0&&(De.anisotropyVector.value.set(Oe.anisotropy*Math.cos(Oe.anisotropyRotation),Oe.anisotropy*Math.sin(Oe.anisotropyRotation)),Oe.anisotropyMap&&(De.anisotropyMap.value=Oe.anisotropyMap,ae(Oe.anisotropyMap,De.anisotropyMapTransform))),De.specularIntensity.value=Oe.specularIntensity,De.specularColor.value.copy(Oe.specularColor),Oe.specularColorMap&&(De.specularColorMap.value=Oe.specularColorMap,ae(Oe.specularColorMap,De.specularColorMapTransform)),Oe.specularIntensityMap&&(De.specularIntensityMap.value=Oe.specularIntensityMap,ae(Oe.specularIntensityMap,De.specularIntensityMapTransform))}function Re(De,Oe){Oe.matcap&&(De.matcap.value=Oe.matcap)}function Be(De,Oe){const Pe=te.get(Oe).light;De.referencePosition.value.setFromMatrixPosition(Pe.matrixWorld),De.nearDistance.value=Pe.shadow.camera.near,De.farDistance.value=Pe.shadow.camera.far}return{refreshFogUniforms:oe,refreshMaterialUniforms:ce}}function WebGLUniformsGroups(se,te,ae,oe){let ce={},ue={},fe=[];const de=se.getParameter(se.MAX_UNIFORM_BUFFER_BINDINGS);function pe(Pe,Ie){const Fe=Ie.program;oe.uniformBlockBinding(Pe,Fe)}function me(Pe,Ie){let Fe=ce[Pe.id];Fe===void 0&&(Re(Pe),Fe=_e(Pe),ce[Pe.id]=Fe,Pe.addEventListener("dispose",De));const $e=Ie.program;oe.updateUBOMapping(Pe,$e);const Ve=te.render.frame;ue[Pe.id]!==Ve&&(Ee(Pe),ue[Pe.id]=Ve)}function _e(Pe){const Ie=be();Pe.__bindingPointIndex=Ie;const Fe=se.createBuffer(),$e=Pe.__size,Ve=Pe.usage;return se.bindBuffer(se.UNIFORM_BUFFER,Fe),se.bufferData(se.UNIFORM_BUFFER,$e,Ve),se.bindBuffer(se.UNIFORM_BUFFER,null),se.bindBufferBase(se.UNIFORM_BUFFER,Ie,Fe),Fe}function be(){for(let Pe=0;Pe<de;Pe++)if(fe.indexOf(Pe)===-1)return fe.push(Pe),Pe;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function Ee(Pe){const Ie=ce[Pe.id],Fe=Pe.uniforms,$e=Pe.__cache;se.bindBuffer(se.UNIFORM_BUFFER,Ie);for(let Ve=0,ke=Fe.length;Ve<ke;Ve++){const We=Array.isArray(Fe[Ve])?Fe[Ve]:[Fe[Ve]];for(let je=0,He=We.length;je<He;je++){const tt=We[je];if(Ae(tt,Ve,je,$e)===!0){const Ze=tt.__offset,nt=Array.isArray(tt.value)?tt.value:[tt.value];let at=0;for(let mt=0;mt<nt.length;mt++){const Ye=nt[mt],rt=Be(Ye);typeof Ye=="number"||typeof Ye=="boolean"?(tt.__data[0]=Ye,se.bufferSubData(se.UNIFORM_BUFFER,Ze+at,tt.__data)):Ye.isMatrix3?(tt.__data[0]=Ye.elements[0],tt.__data[1]=Ye.elements[1],tt.__data[2]=Ye.elements[2],tt.__data[3]=0,tt.__data[4]=Ye.elements[3],tt.__data[5]=Ye.elements[4],tt.__data[6]=Ye.elements[5],tt.__data[7]=0,tt.__data[8]=Ye.elements[6],tt.__data[9]=Ye.elements[7],tt.__data[10]=Ye.elements[8],tt.__data[11]=0):(Ye.toArray(tt.__data,at),at+=rt.storage/Float32Array.BYTES_PER_ELEMENT)}se.bufferSubData(se.UNIFORM_BUFFER,Ze,tt.__data)}}}se.bindBuffer(se.UNIFORM_BUFFER,null)}function Ae(Pe,Ie,Fe,$e){const Ve=Pe.value,ke=Ie+"_"+Fe;if($e[ke]===void 0)return typeof Ve=="number"||typeof Ve=="boolean"?$e[ke]=Ve:$e[ke]=Ve.clone(),!0;{const We=$e[ke];if(typeof Ve=="number"||typeof Ve=="boolean"){if(We!==Ve)return $e[ke]=Ve,!0}else if(We.equals(Ve)===!1)return We.copy(Ve),!0}return!1}function Re(Pe){const Ie=Pe.uniforms;let Fe=0;const $e=16;for(let ke=0,We=Ie.length;ke<We;ke++){const je=Array.isArray(Ie[ke])?Ie[ke]:[Ie[ke]];for(let He=0,tt=je.length;He<tt;He++){const Ze=je[He],nt=Array.isArray(Ze.value)?Ze.value:[Ze.value];for(let at=0,mt=nt.length;at<mt;at++){const Ye=nt[at],rt=Be(Ye),lt=Fe%$e,_t=lt%rt.boundary,Xe=lt+_t;Fe+=_t,Xe!==0&&$e-Xe<rt.storage&&(Fe+=$e-Xe),Ze.__data=new Float32Array(rt.storage/Float32Array.BYTES_PER_ELEMENT),Ze.__offset=Fe,Fe+=rt.storage}}}const Ve=Fe%$e;return Ve>0&&(Fe+=$e-Ve),Pe.__size=Fe,Pe.__cache={},this}function Be(Pe){const Ie={boundary:0,storage:0};return typeof Pe=="number"||typeof Pe=="boolean"?(Ie.boundary=4,Ie.storage=4):Pe.isVector2?(Ie.boundary=8,Ie.storage=8):Pe.isVector3||Pe.isColor?(Ie.boundary=16,Ie.storage=12):Pe.isVector4?(Ie.boundary=16,Ie.storage=16):Pe.isMatrix3?(Ie.boundary=48,Ie.storage=48):Pe.isMatrix4?(Ie.boundary=64,Ie.storage=64):Pe.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Pe),Ie}function De(Pe){const Ie=Pe.target;Ie.removeEventListener("dispose",De);const Fe=fe.indexOf(Ie.__bindingPointIndex);fe.splice(Fe,1),se.deleteBuffer(ce[Ie.id]),delete ce[Ie.id],delete ue[Ie.id]}function Oe(){for(const Pe in ce)se.deleteBuffer(ce[Pe]);fe=[],ce={},ue={}}return{bind:pe,update:me,dispose:Oe}}class WebGLRenderer{constructor(te={}){const{canvas:ae=createCanvasElement(),context:oe=null,depth:ce=!0,stencil:ue=!1,alpha:fe=!1,antialias:de=!1,premultipliedAlpha:pe=!0,preserveDrawingBuffer:me=!1,powerPreference:_e="default",failIfMajorPerformanceCaveat:be=!1,reverseDepthBuffer:Ee=!1}=te;this.isWebGLRenderer=!0;let Ae;if(oe!==null){if(typeof WebGLRenderingContext<"u"&&oe instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");Ae=oe.getContextAttributes().alpha}else Ae=fe;const Re=new Uint32Array(4),Be=new Int32Array(4);let De=null,Oe=null;const Pe=[],Ie=[];this.domElement=ae,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const Fe=this;let $e=!1;this._outputColorSpace=SRGBColorSpace$1;let Ve=0,ke=0,We=null,je=-1,He=null;const tt=new Vector4,Ze=new Vector4;let nt=null;const at=new Color$1(0);let mt=0,Ye=ae.width,rt=ae.height,lt=1,_t=null,Xe=null;const et=new Vector4(0,0,Ye,rt),ft=new Vector4(0,0,Ye,rt);let yt=!1;const st=new Frustum;let gt=!1,Et=!1;const bt=new Matrix4,Dt=new Matrix4,nn=new Vector3,ln=new Vector4,tn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Wt=!1;function on(){return We===null?lt:1}let pt=oe;function Sn(it,Ot){return ae.getContext(it,Ot)}try{const it={alpha:!0,depth:ce,stencil:ue,antialias:de,premultipliedAlpha:pe,preserveDrawingBuffer:me,powerPreference:_e,failIfMajorPerformanceCaveat:be};if("setAttribute"in ae&&ae.setAttribute("data-engine",`three.js r${REVISION}`),ae.addEventListener("webglcontextlost",an,!1),ae.addEventListener("webglcontextrestored",mn,!1),ae.addEventListener("webglcontextcreationerror",un,!1),pt===null){const Ot="webgl2";if(pt=Sn(Ot,it),pt===null)throw Sn(Ot)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(it){throw console.error("THREE.WebGLRenderer: "+it.message),it}let Nt,ht,Rt,kt,Bt,Qe,Ke,ct,St,Mt,Ft,zt,$t,Jt,Mn,rn,cn,vn,hn,Qt,Cn,Tn,Xn,xt;function sn(){Nt=new WebGLExtensions(pt),Nt.init(),Tn=new WebGLUtils(pt,Nt),ht=new WebGLCapabilities(pt,Nt,te,Tn),Rt=new WebGLState(pt,Nt),ht.reverseDepthBuffer&&Ee&&Rt.buffers.depth.setReversed(!0),kt=new WebGLInfo(pt),Bt=new WebGLProperties,Qe=new WebGLTextures(pt,Nt,Rt,Bt,ht,Tn,kt),Ke=new WebGLCubeMaps(Fe),ct=new WebGLCubeUVMaps(Fe),St=new WebGLAttributes(pt),Xn=new WebGLBindingStates(pt,St),Mt=new WebGLGeometries(pt,St,kt,Xn),Ft=new WebGLObjects(pt,Mt,St,kt),hn=new WebGLMorphtargets(pt,ht,Qe),rn=new WebGLClipping(Bt),zt=new WebGLPrograms(Fe,Ke,ct,Nt,ht,Xn,rn),$t=new WebGLMaterials(Fe,Bt),Jt=new WebGLRenderLists,Mn=new WebGLRenderStates(Nt),vn=new WebGLBackground(Fe,Ke,ct,Rt,Ft,Ae,pe),cn=new WebGLShadowMap(Fe,Ft,ht),xt=new WebGLUniformsGroups(pt,kt,ht,Rt),Qt=new WebGLBufferRenderer(pt,Nt,kt),Cn=new WebGLIndexedBufferRenderer(pt,Nt,kt),kt.programs=zt.programs,Fe.capabilities=ht,Fe.extensions=Nt,Fe.properties=Bt,Fe.renderLists=Jt,Fe.shadowMap=cn,Fe.state=Rt,Fe.info=kt}sn();const Gt=new WebXRManager(Fe,pt);this.xr=Gt,this.getContext=function(){return pt},this.getContextAttributes=function(){return pt.getContextAttributes()},this.forceContextLoss=function(){const it=Nt.get("WEBGL_lose_context");it&&it.loseContext()},this.forceContextRestore=function(){const it=Nt.get("WEBGL_lose_context");it&&it.restoreContext()},this.getPixelRatio=function(){return lt},this.setPixelRatio=function(it){it!==void 0&&(lt=it,this.setSize(Ye,rt,!1))},this.getSize=function(it){return it.set(Ye,rt)},this.setSize=function(it,Ot,jt=!0){if(Gt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Ye=it,rt=Ot,ae.width=Math.floor(it*lt),ae.height=Math.floor(Ot*lt),jt===!0&&(ae.style.width=it+"px",ae.style.height=Ot+"px"),this.setViewport(0,0,it,Ot)},this.getDrawingBufferSize=function(it){return it.set(Ye*lt,rt*lt).floor()},this.setDrawingBufferSize=function(it,Ot,jt){Ye=it,rt=Ot,lt=jt,ae.width=Math.floor(it*jt),ae.height=Math.floor(Ot*jt),this.setViewport(0,0,it,Ot)},this.getCurrentViewport=function(it){return it.copy(tt)},this.getViewport=function(it){return it.copy(et)},this.setViewport=function(it,Ot,jt,Ct){it.isVector4?et.set(it.x,it.y,it.z,it.w):et.set(it,Ot,jt,Ct),Rt.viewport(tt.copy(et).multiplyScalar(lt).round())},this.getScissor=function(it){return it.copy(ft)},this.setScissor=function(it,Ot,jt,Ct){it.isVector4?ft.set(it.x,it.y,it.z,it.w):ft.set(it,Ot,jt,Ct),Rt.scissor(Ze.copy(ft).multiplyScalar(lt).round())},this.getScissorTest=function(){return yt},this.setScissorTest=function(it){Rt.setScissorTest(yt=it)},this.setOpaqueSort=function(it){_t=it},this.setTransparentSort=function(it){Xe=it},this.getClearColor=function(it){return it.copy(vn.getClearColor())},this.setClearColor=function(){vn.setClearColor(...arguments)},this.getClearAlpha=function(){return vn.getClearAlpha()},this.setClearAlpha=function(){vn.setClearAlpha(...arguments)},this.clear=function(it=!0,Ot=!0,jt=!0){let Ct=0;if(it){let Lt=!1;if(We!==null){const pn=We.texture.format;Lt=pn===RGBAIntegerFormat||pn===RGIntegerFormat||pn===RedIntegerFormat}if(Lt){const pn=We.texture.type,En=pn===UnsignedByteType||pn===UnsignedIntType||pn===UnsignedShortType||pn===UnsignedInt248Type||pn===UnsignedShort4444Type||pn===UnsignedShort5551Type,Rn=vn.getClearColor(),Dn=vn.getClearAlpha(),Vn=Rn.r,zn=Rn.g,Gn=Rn.b;En?(Re[0]=Vn,Re[1]=zn,Re[2]=Gn,Re[3]=Dn,pt.clearBufferuiv(pt.COLOR,0,Re)):(Be[0]=Vn,Be[1]=zn,Be[2]=Gn,Be[3]=Dn,pt.clearBufferiv(pt.COLOR,0,Be))}else Ct|=pt.COLOR_BUFFER_BIT}Ot&&(Ct|=pt.DEPTH_BUFFER_BIT),jt&&(Ct|=pt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),pt.clear(Ct)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){ae.removeEventListener("webglcontextlost",an,!1),ae.removeEventListener("webglcontextrestored",mn,!1),ae.removeEventListener("webglcontextcreationerror",un,!1),vn.dispose(),Jt.dispose(),Mn.dispose(),Bt.dispose(),Ke.dispose(),ct.dispose(),Ft.dispose(),Xn.dispose(),xt.dispose(),zt.dispose(),Gt.dispose(),Gt.removeEventListener("sessionstart",_n),Gt.removeEventListener("sessionend",On),Bn.stop()};function an(it){it.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),$e=!0}function mn(){console.log("THREE.WebGLRenderer: Context Restored."),$e=!1;const it=kt.autoReset,Ot=cn.enabled,jt=cn.autoUpdate,Ct=cn.needsUpdate,Lt=cn.type;sn(),kt.autoReset=it,cn.enabled=Ot,cn.autoUpdate=jt,cn.needsUpdate=Ct,cn.type=Lt}function un(it){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",it.statusMessage)}function Un(it){const Ot=it.target;Ot.removeEventListener("dispose",Un),Hn(Ot)}function Hn(it){Pn(it),Bt.remove(it)}function Pn(it){const Ot=Bt.get(it).programs;Ot!==void 0&&(Ot.forEach(function(jt){zt.releaseProgram(jt)}),it.isShaderMaterial&&zt.releaseShaderCache(it))}this.renderBufferDirect=function(it,Ot,jt,Ct,Lt,pn){Ot===null&&(Ot=tn);const En=Lt.isMesh&&Lt.matrixWorld.determinant()<0,Rn=or(it,Ot,jt,Ct,Lt);Rt.setMaterial(Ct,En);let Dn=jt.index,Vn=1;if(Ct.wireframe===!0){if(Dn=Mt.getWireframeAttribute(jt),Dn===void 0)return;Vn=2}const zn=jt.drawRange,Gn=jt.attributes.position;let ni=zn.start*Vn,xi=(zn.start+zn.count)*Vn;pn!==null&&(ni=Math.max(ni,pn.start*Vn),xi=Math.min(xi,(pn.start+pn.count)*Vn)),Dn!==null?(ni=Math.max(ni,0),xi=Math.min(xi,Dn.count)):Gn!=null&&(ni=Math.max(ni,0),xi=Math.min(xi,Gn.count));const Vi=xi-ni;if(Vi<0||Vi===1/0)return;Xn.setup(Lt,Ct,Rn,jt,Dn);let di,yi=Qt;if(Dn!==null&&(di=St.get(Dn),yi=Cn,yi.setIndex(di)),Lt.isMesh)Ct.wireframe===!0?(Rt.setLineWidth(Ct.wireframeLinewidth*on()),yi.setMode(pt.LINES)):yi.setMode(pt.TRIANGLES);else if(Lt.isLine){let jn=Ct.linewidth;jn===void 0&&(jn=1),Rt.setLineWidth(jn*on()),Lt.isLineSegments?yi.setMode(pt.LINES):Lt.isLineLoop?yi.setMode(pt.LINE_LOOP):yi.setMode(pt.LINE_STRIP)}else Lt.isPoints?yi.setMode(pt.POINTS):Lt.isSprite&&yi.setMode(pt.TRIANGLES);if(Lt.isBatchedMesh)if(Lt._multiDrawInstances!==null)warnOnce("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),yi.renderMultiDrawInstances(Lt._multiDrawStarts,Lt._multiDrawCounts,Lt._multiDrawCount,Lt._multiDrawInstances);else if(Nt.get("WEBGL_multi_draw"))yi.renderMultiDraw(Lt._multiDrawStarts,Lt._multiDrawCounts,Lt._multiDrawCount);else{const jn=Lt._multiDrawStarts,ki=Lt._multiDrawCounts,hi=Lt._multiDrawCount,mr=Dn?St.get(Dn).bytesPerElement:1,ca=Bt.get(Ct).currentProgram.getUniforms();for(let Ui=0;Ui<hi;Ui++)ca.setValue(pt,"_gl_DrawID",Ui),yi.render(jn[Ui]/mr,ki[Ui])}else if(Lt.isInstancedMesh)yi.renderInstances(ni,Vi,Lt.count);else if(jt.isInstancedBufferGeometry){const jn=jt._maxInstanceCount!==void 0?jt._maxInstanceCount:1/0,ki=Math.min(jt.instanceCount,jn);yi.renderInstances(ni,Vi,ki)}else yi.render(ni,Vi)};function xn(it,Ot,jt){it.transparent===!0&&it.side===DoubleSide&&it.forceSinglePass===!1?(it.side=BackSide,it.needsUpdate=!0,$n(it,Ot,jt),it.side=FrontSide,it.needsUpdate=!0,$n(it,Ot,jt),it.side=DoubleSide):$n(it,Ot,jt)}this.compile=function(it,Ot,jt=null){jt===null&&(jt=it),Oe=Mn.get(jt),Oe.init(Ot),Ie.push(Oe),jt.traverseVisible(function(Lt){Lt.isLight&&Lt.layers.test(Ot.layers)&&(Oe.pushLight(Lt),Lt.castShadow&&Oe.pushShadow(Lt))}),it!==jt&&it.traverseVisible(function(Lt){Lt.isLight&&Lt.layers.test(Ot.layers)&&(Oe.pushLight(Lt),Lt.castShadow&&Oe.pushShadow(Lt))}),Oe.setupLights();const Ct=new Set;return it.traverse(function(Lt){if(!(Lt.isMesh||Lt.isPoints||Lt.isLine||Lt.isSprite))return;const pn=Lt.material;if(pn)if(Array.isArray(pn))for(let En=0;En<pn.length;En++){const Rn=pn[En];xn(Rn,jt,Lt),Ct.add(Rn)}else xn(pn,jt,Lt),Ct.add(pn)}),Oe=Ie.pop(),Ct},this.compileAsync=function(it,Ot,jt=null){const Ct=this.compile(it,Ot,jt);return new Promise(Lt=>{function pn(){if(Ct.forEach(function(En){Bt.get(En).currentProgram.isReady()&&Ct.delete(En)}),Ct.size===0){Lt(it);return}setTimeout(pn,10)}Nt.get("KHR_parallel_shader_compile")!==null?pn():setTimeout(pn,10)})};let wn=null;function Fn(it){wn&&wn(it)}function _n(){Bn.stop()}function On(){Bn.start()}const Bn=new WebGLAnimation;Bn.setAnimationLoop(Fn),typeof self<"u"&&Bn.setContext(self),this.setAnimationLoop=function(it){wn=it,Gt.setAnimationLoop(it),it===null?Bn.stop():Bn.start()},Gt.addEventListener("sessionstart",_n),Gt.addEventListener("sessionend",On),this.render=function(it,Ot){if(Ot!==void 0&&Ot.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if($e===!0)return;if(it.matrixWorldAutoUpdate===!0&&it.updateMatrixWorld(),Ot.parent===null&&Ot.matrixWorldAutoUpdate===!0&&Ot.updateMatrixWorld(),Gt.enabled===!0&&Gt.isPresenting===!0&&(Gt.cameraAutoUpdate===!0&&Gt.updateCamera(Ot),Ot=Gt.getCamera()),it.isScene===!0&&it.onBeforeRender(Fe,it,Ot,We),Oe=Mn.get(it,Ie.length),Oe.init(Ot),Ie.push(Oe),Dt.multiplyMatrices(Ot.projectionMatrix,Ot.matrixWorldInverse),st.setFromProjectionMatrix(Dt),Et=this.localClippingEnabled,gt=rn.init(this.clippingPlanes,Et),De=Jt.get(it,Pe.length),De.init(),Pe.push(De),Gt.enabled===!0&&Gt.isPresenting===!0){const pn=Fe.xr.getDepthSensingMesh();pn!==null&&In(pn,Ot,-1/0,Fe.sortObjects)}In(it,Ot,0,Fe.sortObjects),De.finish(),Fe.sortObjects===!0&&De.sort(_t,Xe),Wt=Gt.enabled===!1||Gt.isPresenting===!1||Gt.hasDepthSensing()===!1,Wt&&vn.addToRenderList(De,it),this.info.render.frame++,gt===!0&&rn.beginShadows();const jt=Oe.state.shadowsArray;cn.render(jt,it,Ot),gt===!0&&rn.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ct=De.opaque,Lt=De.transmissive;if(Oe.setupLights(),Ot.isArrayCamera){const pn=Ot.cameras;if(Lt.length>0)for(let En=0,Rn=pn.length;En<Rn;En++){const Dn=pn[En];qn(Ct,Lt,it,Dn)}Wt&&vn.render(it);for(let En=0,Rn=pn.length;En<Rn;En++){const Dn=pn[En];Ri(De,it,Dn,Dn.viewport)}}else Lt.length>0&&qn(Ct,Lt,it,Ot),Wt&&vn.render(it),Ri(De,it,Ot);We!==null&&ke===0&&(Qe.updateMultisampleRenderTarget(We),Qe.updateRenderTargetMipmap(We)),it.isScene===!0&&it.onAfterRender(Fe,it,Ot),Xn.resetDefaultState(),je=-1,He=null,Ie.pop(),Ie.length>0?(Oe=Ie[Ie.length-1],gt===!0&&rn.setGlobalState(Fe.clippingPlanes,Oe.state.camera)):Oe=null,Pe.pop(),Pe.length>0?De=Pe[Pe.length-1]:De=null};function In(it,Ot,jt,Ct){if(it.visible===!1)return;if(it.layers.test(Ot.layers)){if(it.isGroup)jt=it.renderOrder;else if(it.isLOD)it.autoUpdate===!0&&it.update(Ot);else if(it.isLight)Oe.pushLight(it),it.castShadow&&Oe.pushShadow(it);else if(it.isSprite){if(!it.frustumCulled||st.intersectsSprite(it)){Ct&&ln.setFromMatrixPosition(it.matrixWorld).applyMatrix4(Dt);const En=Ft.update(it),Rn=it.material;Rn.visible&&De.push(it,En,Rn,jt,ln.z,null)}}else if((it.isMesh||it.isLine||it.isPoints)&&(!it.frustumCulled||st.intersectsObject(it))){const En=Ft.update(it),Rn=it.material;if(Ct&&(it.boundingSphere!==void 0?(it.boundingSphere===null&&it.computeBoundingSphere(),ln.copy(it.boundingSphere.center)):(En.boundingSphere===null&&En.computeBoundingSphere(),ln.copy(En.boundingSphere.center)),ln.applyMatrix4(it.matrixWorld).applyMatrix4(Dt)),Array.isArray(Rn)){const Dn=En.groups;for(let Vn=0,zn=Dn.length;Vn<zn;Vn++){const Gn=Dn[Vn],ni=Rn[Gn.materialIndex];ni&&ni.visible&&De.push(it,En,ni,jt,ln.z,Gn)}}else Rn.visible&&De.push(it,En,Rn,jt,ln.z,null)}}const pn=it.children;for(let En=0,Rn=pn.length;En<Rn;En++)In(pn[En],Ot,jt,Ct)}function Ri(it,Ot,jt,Ct){const Lt=it.opaque,pn=it.transmissive,En=it.transparent;Oe.setupLightsView(jt),gt===!0&&rn.setGlobalState(Fe.clippingPlanes,jt),Ct&&Rt.viewport(tt.copy(Ct)),Lt.length>0&&ti(Lt,Ot,jt),pn.length>0&&ti(pn,Ot,jt),En.length>0&&ti(En,Ot,jt),Rt.buffers.depth.setTest(!0),Rt.buffers.depth.setMask(!0),Rt.buffers.color.setMask(!0),Rt.setPolygonOffset(!1)}function qn(it,Ot,jt,Ct){if((jt.isScene===!0?jt.overrideMaterial:null)!==null)return;Oe.state.transmissionRenderTarget[Ct.id]===void 0&&(Oe.state.transmissionRenderTarget[Ct.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Nt.has("EXT_color_buffer_half_float")||Nt.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:ue,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const pn=Oe.state.transmissionRenderTarget[Ct.id],En=Ct.viewport||tt;pn.setSize(En.z*Fe.transmissionResolutionScale,En.w*Fe.transmissionResolutionScale);const Rn=Fe.getRenderTarget();Fe.setRenderTarget(pn),Fe.getClearColor(at),mt=Fe.getClearAlpha(),mt<1&&Fe.setClearColor(16777215,.5),Fe.clear(),Wt&&vn.render(jt);const Dn=Fe.toneMapping;Fe.toneMapping=NoToneMapping;const Vn=Ct.viewport;if(Ct.viewport!==void 0&&(Ct.viewport=void 0),Oe.setupLightsView(Ct),gt===!0&&rn.setGlobalState(Fe.clippingPlanes,Ct),ti(it,jt,Ct),Qe.updateMultisampleRenderTarget(pn),Qe.updateRenderTargetMipmap(pn),Nt.has("WEBGL_multisampled_render_to_texture")===!1){let zn=!1;for(let Gn=0,ni=Ot.length;Gn<ni;Gn++){const xi=Ot[Gn],Vi=xi.object,di=xi.geometry,yi=xi.material,jn=xi.group;if(yi.side===DoubleSide&&Vi.layers.test(Ct.layers)){const ki=yi.side;yi.side=BackSide,yi.needsUpdate=!0,si(Vi,jt,Ct,di,yi,jn),yi.side=ki,yi.needsUpdate=!0,zn=!0}}zn===!0&&(Qe.updateMultisampleRenderTarget(pn),Qe.updateRenderTargetMipmap(pn))}Fe.setRenderTarget(Rn),Fe.setClearColor(at,mt),Vn!==void 0&&(Ct.viewport=Vn),Fe.toneMapping=Dn}function ti(it,Ot,jt){const Ct=Ot.isScene===!0?Ot.overrideMaterial:null;for(let Lt=0,pn=it.length;Lt<pn;Lt++){const En=it[Lt],Rn=En.object,Dn=En.geometry,Vn=En.group;let zn=En.material;zn.allowOverride===!0&&Ct!==null&&(zn=Ct),Rn.layers.test(jt.layers)&&si(Rn,Ot,jt,Dn,zn,Vn)}}function si(it,Ot,jt,Ct,Lt,pn){it.onBeforeRender(Fe,Ot,jt,Ct,Lt,pn),it.modelViewMatrix.multiplyMatrices(jt.matrixWorldInverse,it.matrixWorld),it.normalMatrix.getNormalMatrix(it.modelViewMatrix),Lt.onBeforeRender(Fe,Ot,jt,Ct,it,pn),Lt.transparent===!0&&Lt.side===DoubleSide&&Lt.forceSinglePass===!1?(Lt.side=BackSide,Lt.needsUpdate=!0,Fe.renderBufferDirect(jt,Ot,Ct,Lt,it,pn),Lt.side=FrontSide,Lt.needsUpdate=!0,Fe.renderBufferDirect(jt,Ot,Ct,Lt,it,pn),Lt.side=DoubleSide):Fe.renderBufferDirect(jt,Ot,Ct,Lt,it,pn),it.onAfterRender(Fe,Ot,jt,Ct,Lt,pn)}function $n(it,Ot,jt){Ot.isScene!==!0&&(Ot=tn);const Ct=Bt.get(it),Lt=Oe.state.lights,pn=Oe.state.shadowsArray,En=Lt.state.version,Rn=zt.getParameters(it,Lt.state,pn,Ot,jt),Dn=zt.getProgramCacheKey(Rn);let Vn=Ct.programs;Ct.environment=it.isMeshStandardMaterial?Ot.environment:null,Ct.fog=Ot.fog,Ct.envMap=(it.isMeshStandardMaterial?ct:Ke).get(it.envMap||Ct.environment),Ct.envMapRotation=Ct.environment!==null&&it.envMap===null?Ot.environmentRotation:it.envMapRotation,Vn===void 0&&(it.addEventListener("dispose",Un),Vn=new Map,Ct.programs=Vn);let zn=Vn.get(Dn);if(zn!==void 0){if(Ct.currentProgram===zn&&Ct.lightsStateVersion===En)return oi(it,Rn),zn}else Rn.uniforms=zt.getUniforms(it),it.onBeforeCompile(Rn,Fe),zn=zt.acquireProgram(Rn,Dn),Vn.set(Dn,zn),Ct.uniforms=Rn.uniforms;const Gn=Ct.uniforms;return(!it.isShaderMaterial&&!it.isRawShaderMaterial||it.clipping===!0)&&(Gn.clippingPlanes=rn.uniform),oi(it,Rn),Ct.needsLights=vi(it),Ct.lightsStateVersion=En,Ct.needsLights&&(Gn.ambientLightColor.value=Lt.state.ambient,Gn.lightProbe.value=Lt.state.probe,Gn.directionalLights.value=Lt.state.directional,Gn.directionalLightShadows.value=Lt.state.directionalShadow,Gn.spotLights.value=Lt.state.spot,Gn.spotLightShadows.value=Lt.state.spotShadow,Gn.rectAreaLights.value=Lt.state.rectArea,Gn.ltc_1.value=Lt.state.rectAreaLTC1,Gn.ltc_2.value=Lt.state.rectAreaLTC2,Gn.pointLights.value=Lt.state.point,Gn.pointLightShadows.value=Lt.state.pointShadow,Gn.hemisphereLights.value=Lt.state.hemi,Gn.directionalShadowMap.value=Lt.state.directionalShadowMap,Gn.directionalShadowMatrix.value=Lt.state.directionalShadowMatrix,Gn.spotShadowMap.value=Lt.state.spotShadowMap,Gn.spotLightMatrix.value=Lt.state.spotLightMatrix,Gn.spotLightMap.value=Lt.state.spotLightMap,Gn.pointShadowMap.value=Lt.state.pointShadowMap,Gn.pointShadowMatrix.value=Lt.state.pointShadowMatrix),Ct.currentProgram=zn,Ct.uniformsList=null,zn}function gi(it){if(it.uniformsList===null){const Ot=it.currentProgram.getUniforms();it.uniformsList=WebGLUniforms.seqWithValue(Ot.seq,it.uniforms)}return it.uniformsList}function oi(it,Ot){const jt=Bt.get(it);jt.outputColorSpace=Ot.outputColorSpace,jt.batching=Ot.batching,jt.batchingColor=Ot.batchingColor,jt.instancing=Ot.instancing,jt.instancingColor=Ot.instancingColor,jt.instancingMorph=Ot.instancingMorph,jt.skinning=Ot.skinning,jt.morphTargets=Ot.morphTargets,jt.morphNormals=Ot.morphNormals,jt.morphColors=Ot.morphColors,jt.morphTargetsCount=Ot.morphTargetsCount,jt.numClippingPlanes=Ot.numClippingPlanes,jt.numIntersection=Ot.numClipIntersection,jt.vertexAlphas=Ot.vertexAlphas,jt.vertexTangents=Ot.vertexTangents,jt.toneMapping=Ot.toneMapping}function or(it,Ot,jt,Ct,Lt){Ot.isScene!==!0&&(Ot=tn),Qe.resetTextureUnits();const pn=Ot.fog,En=Ct.isMeshStandardMaterial?Ot.environment:null,Rn=We===null?Fe.outputColorSpace:We.isXRRenderTarget===!0?We.texture.colorSpace:LinearSRGBColorSpace$1,Dn=(Ct.isMeshStandardMaterial?ct:Ke).get(Ct.envMap||En),Vn=Ct.vertexColors===!0&&!!jt.attributes.color&&jt.attributes.color.itemSize===4,zn=!!jt.attributes.tangent&&(!!Ct.normalMap||Ct.anisotropy>0),Gn=!!jt.morphAttributes.position,ni=!!jt.morphAttributes.normal,xi=!!jt.morphAttributes.color;let Vi=NoToneMapping;Ct.toneMapped&&(We===null||We.isXRRenderTarget===!0)&&(Vi=Fe.toneMapping);const di=jt.morphAttributes.position||jt.morphAttributes.normal||jt.morphAttributes.color,yi=di!==void 0?di.length:0,jn=Bt.get(Ct),ki=Oe.state.lights;if(gt===!0&&(Et===!0||it!==He)){const vr=it===He&&Ct.id===je;rn.setState(Ct,it,vr)}let hi=!1;Ct.version===jn.__version?(jn.needsLights&&jn.lightsStateVersion!==ki.state.version||jn.outputColorSpace!==Rn||Lt.isBatchedMesh&&jn.batching===!1||!Lt.isBatchedMesh&&jn.batching===!0||Lt.isBatchedMesh&&jn.batchingColor===!0&&Lt.colorTexture===null||Lt.isBatchedMesh&&jn.batchingColor===!1&&Lt.colorTexture!==null||Lt.isInstancedMesh&&jn.instancing===!1||!Lt.isInstancedMesh&&jn.instancing===!0||Lt.isSkinnedMesh&&jn.skinning===!1||!Lt.isSkinnedMesh&&jn.skinning===!0||Lt.isInstancedMesh&&jn.instancingColor===!0&&Lt.instanceColor===null||Lt.isInstancedMesh&&jn.instancingColor===!1&&Lt.instanceColor!==null||Lt.isInstancedMesh&&jn.instancingMorph===!0&&Lt.morphTexture===null||Lt.isInstancedMesh&&jn.instancingMorph===!1&&Lt.morphTexture!==null||jn.envMap!==Dn||Ct.fog===!0&&jn.fog!==pn||jn.numClippingPlanes!==void 0&&(jn.numClippingPlanes!==rn.numPlanes||jn.numIntersection!==rn.numIntersection)||jn.vertexAlphas!==Vn||jn.vertexTangents!==zn||jn.morphTargets!==Gn||jn.morphNormals!==ni||jn.morphColors!==xi||jn.toneMapping!==Vi||jn.morphTargetsCount!==yi)&&(hi=!0):(hi=!0,jn.__version=Ct.version);let mr=jn.currentProgram;hi===!0&&(mr=$n(Ct,Ot,Lt));let ca=!1,Ui=!1,gr=!1;const Pi=mr.getUniforms(),lr=jn.uniforms;if(Rt.useProgram(mr.program)&&(ca=!0,Ui=!0,gr=!0),Ct.id!==je&&(je=Ct.id,Ui=!0),ca||He!==it){Rt.buffers.depth.getReversed()?(bt.copy(it.projectionMatrix),toNormalizedProjectionMatrix(bt),toReversedProjectionMatrix(bt),Pi.setValue(pt,"projectionMatrix",bt)):Pi.setValue(pt,"projectionMatrix",it.projectionMatrix),Pi.setValue(pt,"viewMatrix",it.matrixWorldInverse);const rr=Pi.map.cameraPosition;rr!==void 0&&rr.setValue(pt,nn.setFromMatrixPosition(it.matrixWorld)),ht.logarithmicDepthBuffer&&Pi.setValue(pt,"logDepthBufFC",2/(Math.log(it.far+1)/Math.LN2)),(Ct.isMeshPhongMaterial||Ct.isMeshToonMaterial||Ct.isMeshLambertMaterial||Ct.isMeshBasicMaterial||Ct.isMeshStandardMaterial||Ct.isShaderMaterial)&&Pi.setValue(pt,"isOrthographic",it.isOrthographicCamera===!0),He!==it&&(He=it,Ui=!0,gr=!0)}if(Lt.isSkinnedMesh){Pi.setOptional(pt,Lt,"bindMatrix"),Pi.setOptional(pt,Lt,"bindMatrixInverse");const vr=Lt.skeleton;vr&&(vr.boneTexture===null&&vr.computeBoneTexture(),Pi.setValue(pt,"boneTexture",vr.boneTexture,Qe))}Lt.isBatchedMesh&&(Pi.setOptional(pt,Lt,"batchingTexture"),Pi.setValue(pt,"batchingTexture",Lt._matricesTexture,Qe),Pi.setOptional(pt,Lt,"batchingIdTexture"),Pi.setValue(pt,"batchingIdTexture",Lt._indirectTexture,Qe),Pi.setOptional(pt,Lt,"batchingColorTexture"),Lt._colorsTexture!==null&&Pi.setValue(pt,"batchingColorTexture",Lt._colorsTexture,Qe));const Yi=jt.morphAttributes;if((Yi.position!==void 0||Yi.normal!==void 0||Yi.color!==void 0)&&hn.update(Lt,jt,mr),(Ui||jn.receiveShadow!==Lt.receiveShadow)&&(jn.receiveShadow=Lt.receiveShadow,Pi.setValue(pt,"receiveShadow",Lt.receiveShadow)),Ct.isMeshGouraudMaterial&&Ct.envMap!==null&&(lr.envMap.value=Dn,lr.flipEnvMap.value=Dn.isCubeTexture&&Dn.isRenderTargetTexture===!1?-1:1),Ct.isMeshStandardMaterial&&Ct.envMap===null&&Ot.environment!==null&&(lr.envMapIntensity.value=Ot.environmentIntensity),Ui&&(Pi.setValue(pt,"toneMappingExposure",Fe.toneMappingExposure),jn.needsLights&&Ei(lr,gr),pn&&Ct.fog===!0&&$t.refreshFogUniforms(lr,pn),$t.refreshMaterialUniforms(lr,Ct,lt,rt,Oe.state.transmissionRenderTarget[it.id]),WebGLUniforms.upload(pt,gi(jn),lr,Qe)),Ct.isShaderMaterial&&Ct.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(pt,gi(jn),lr,Qe),Ct.uniformsNeedUpdate=!1),Ct.isSpriteMaterial&&Pi.setValue(pt,"center",Lt.center),Pi.setValue(pt,"modelViewMatrix",Lt.modelViewMatrix),Pi.setValue(pt,"normalMatrix",Lt.normalMatrix),Pi.setValue(pt,"modelMatrix",Lt.matrixWorld),Ct.isShaderMaterial||Ct.isRawShaderMaterial){const vr=Ct.uniformsGroups;for(let rr=0,Tr=vr.length;rr<Tr;rr++){const ua=vr[rr];xt.update(ua,mr),xt.bind(ua,mr)}}return mr}function Ei(it,Ot){it.ambientLightColor.needsUpdate=Ot,it.lightProbe.needsUpdate=Ot,it.directionalLights.needsUpdate=Ot,it.directionalLightShadows.needsUpdate=Ot,it.pointLights.needsUpdate=Ot,it.pointLightShadows.needsUpdate=Ot,it.spotLights.needsUpdate=Ot,it.spotLightShadows.needsUpdate=Ot,it.rectAreaLights.needsUpdate=Ot,it.hemisphereLights.needsUpdate=Ot}function vi(it){return it.isMeshLambertMaterial||it.isMeshToonMaterial||it.isMeshPhongMaterial||it.isMeshStandardMaterial||it.isShadowMaterial||it.isShaderMaterial&&it.lights===!0}this.getActiveCubeFace=function(){return Ve},this.getActiveMipmapLevel=function(){return ke},this.getRenderTarget=function(){return We},this.setRenderTargetTextures=function(it,Ot,jt){const Ct=Bt.get(it);Ct.__autoAllocateDepthBuffer=it.resolveDepthBuffer===!1,Ct.__autoAllocateDepthBuffer===!1&&(Ct.__useRenderToTexture=!1),Bt.get(it.texture).__webglTexture=Ot,Bt.get(it.depthTexture).__webglTexture=Ct.__autoAllocateDepthBuffer?void 0:jt,Ct.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(it,Ot){const jt=Bt.get(it);jt.__webglFramebuffer=Ot,jt.__useDefaultFramebuffer=Ot===void 0};const pr=pt.createFramebuffer();this.setRenderTarget=function(it,Ot=0,jt=0){We=it,Ve=Ot,ke=jt;let Ct=!0,Lt=null,pn=!1,En=!1;if(it){const Dn=Bt.get(it);if(Dn.__useDefaultFramebuffer!==void 0)Rt.bindFramebuffer(pt.FRAMEBUFFER,null),Ct=!1;else if(Dn.__webglFramebuffer===void 0)Qe.setupRenderTarget(it);else if(Dn.__hasExternalTextures)Qe.rebindTextures(it,Bt.get(it.texture).__webglTexture,Bt.get(it.depthTexture).__webglTexture);else if(it.depthBuffer){const Gn=it.depthTexture;if(Dn.__boundDepthTexture!==Gn){if(Gn!==null&&Bt.has(Gn)&&(it.width!==Gn.image.width||it.height!==Gn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Qe.setupDepthRenderbuffer(it)}}const Vn=it.texture;(Vn.isData3DTexture||Vn.isDataArrayTexture||Vn.isCompressedArrayTexture)&&(En=!0);const zn=Bt.get(it).__webglFramebuffer;it.isWebGLCubeRenderTarget?(Array.isArray(zn[Ot])?Lt=zn[Ot][jt]:Lt=zn[Ot],pn=!0):it.samples>0&&Qe.useMultisampledRTT(it)===!1?Lt=Bt.get(it).__webglMultisampledFramebuffer:Array.isArray(zn)?Lt=zn[jt]:Lt=zn,tt.copy(it.viewport),Ze.copy(it.scissor),nt=it.scissorTest}else tt.copy(et).multiplyScalar(lt).floor(),Ze.copy(ft).multiplyScalar(lt).floor(),nt=yt;if(jt!==0&&(Lt=pr),Rt.bindFramebuffer(pt.FRAMEBUFFER,Lt)&&Ct&&Rt.drawBuffers(it,Lt),Rt.viewport(tt),Rt.scissor(Ze),Rt.setScissorTest(nt),pn){const Dn=Bt.get(it.texture);pt.framebufferTexture2D(pt.FRAMEBUFFER,pt.COLOR_ATTACHMENT0,pt.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,Dn.__webglTexture,jt)}else if(En){const Dn=Bt.get(it.texture),Vn=Ot;pt.framebufferTextureLayer(pt.FRAMEBUFFER,pt.COLOR_ATTACHMENT0,Dn.__webglTexture,jt,Vn)}else if(it!==null&&jt!==0){const Dn=Bt.get(it.texture);pt.framebufferTexture2D(pt.FRAMEBUFFER,pt.COLOR_ATTACHMENT0,pt.TEXTURE_2D,Dn.__webglTexture,jt)}je=-1},this.readRenderTargetPixels=function(it,Ot,jt,Ct,Lt,pn,En){if(!(it&&it.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Rn=Bt.get(it).__webglFramebuffer;if(it.isWebGLCubeRenderTarget&&En!==void 0&&(Rn=Rn[En]),Rn){Rt.bindFramebuffer(pt.FRAMEBUFFER,Rn);try{const Dn=it.texture,Vn=Dn.format,zn=Dn.type;if(!ht.textureFormatReadable(Vn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ht.textureTypeReadable(zn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ot>=0&&Ot<=it.width-Ct&&jt>=0&&jt<=it.height-Lt&&pt.readPixels(Ot,jt,Ct,Lt,Tn.convert(Vn),Tn.convert(zn),pn)}finally{const Dn=We!==null?Bt.get(We).__webglFramebuffer:null;Rt.bindFramebuffer(pt.FRAMEBUFFER,Dn)}}},this.readRenderTargetPixelsAsync=async function(it,Ot,jt,Ct,Lt,pn,En){if(!(it&&it.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Rn=Bt.get(it).__webglFramebuffer;if(it.isWebGLCubeRenderTarget&&En!==void 0&&(Rn=Rn[En]),Rn)if(Ot>=0&&Ot<=it.width-Ct&&jt>=0&&jt<=it.height-Lt){Rt.bindFramebuffer(pt.FRAMEBUFFER,Rn);const Dn=it.texture,Vn=Dn.format,zn=Dn.type;if(!ht.textureFormatReadable(Vn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ht.textureTypeReadable(zn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Gn=pt.createBuffer();pt.bindBuffer(pt.PIXEL_PACK_BUFFER,Gn),pt.bufferData(pt.PIXEL_PACK_BUFFER,pn.byteLength,pt.STREAM_READ),pt.readPixels(Ot,jt,Ct,Lt,Tn.convert(Vn),Tn.convert(zn),0);const ni=We!==null?Bt.get(We).__webglFramebuffer:null;Rt.bindFramebuffer(pt.FRAMEBUFFER,ni);const xi=pt.fenceSync(pt.SYNC_GPU_COMMANDS_COMPLETE,0);return pt.flush(),await probeAsync(pt,xi,4),pt.bindBuffer(pt.PIXEL_PACK_BUFFER,Gn),pt.getBufferSubData(pt.PIXEL_PACK_BUFFER,0,pn),pt.deleteBuffer(Gn),pt.deleteSync(xi),pn}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(it,Ot=null,jt=0){const Ct=Math.pow(2,-jt),Lt=Math.floor(it.image.width*Ct),pn=Math.floor(it.image.height*Ct),En=Ot!==null?Ot.x:0,Rn=Ot!==null?Ot.y:0;Qe.setTexture2D(it,0),pt.copyTexSubImage2D(pt.TEXTURE_2D,jt,0,0,En,Rn,Lt,pn),Rt.unbindTexture()};const qi=pt.createFramebuffer(),Di=pt.createFramebuffer();this.copyTextureToTexture=function(it,Ot,jt=null,Ct=null,Lt=0,pn=null){pn===null&&(Lt!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),pn=Lt,Lt=0):pn=0);let En,Rn,Dn,Vn,zn,Gn,ni,xi,Vi;const di=it.isCompressedTexture?it.mipmaps[pn]:it.image;if(jt!==null)En=jt.max.x-jt.min.x,Rn=jt.max.y-jt.min.y,Dn=jt.isBox3?jt.max.z-jt.min.z:1,Vn=jt.min.x,zn=jt.min.y,Gn=jt.isBox3?jt.min.z:0;else{const Yi=Math.pow(2,-Lt);En=Math.floor(di.width*Yi),Rn=Math.floor(di.height*Yi),it.isDataArrayTexture?Dn=di.depth:it.isData3DTexture?Dn=Math.floor(di.depth*Yi):Dn=1,Vn=0,zn=0,Gn=0}Ct!==null?(ni=Ct.x,xi=Ct.y,Vi=Ct.z):(ni=0,xi=0,Vi=0);const yi=Tn.convert(Ot.format),jn=Tn.convert(Ot.type);let ki;Ot.isData3DTexture?(Qe.setTexture3D(Ot,0),ki=pt.TEXTURE_3D):Ot.isDataArrayTexture||Ot.isCompressedArrayTexture?(Qe.setTexture2DArray(Ot,0),ki=pt.TEXTURE_2D_ARRAY):(Qe.setTexture2D(Ot,0),ki=pt.TEXTURE_2D),pt.pixelStorei(pt.UNPACK_FLIP_Y_WEBGL,Ot.flipY),pt.pixelStorei(pt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ot.premultiplyAlpha),pt.pixelStorei(pt.UNPACK_ALIGNMENT,Ot.unpackAlignment);const hi=pt.getParameter(pt.UNPACK_ROW_LENGTH),mr=pt.getParameter(pt.UNPACK_IMAGE_HEIGHT),ca=pt.getParameter(pt.UNPACK_SKIP_PIXELS),Ui=pt.getParameter(pt.UNPACK_SKIP_ROWS),gr=pt.getParameter(pt.UNPACK_SKIP_IMAGES);pt.pixelStorei(pt.UNPACK_ROW_LENGTH,di.width),pt.pixelStorei(pt.UNPACK_IMAGE_HEIGHT,di.height),pt.pixelStorei(pt.UNPACK_SKIP_PIXELS,Vn),pt.pixelStorei(pt.UNPACK_SKIP_ROWS,zn),pt.pixelStorei(pt.UNPACK_SKIP_IMAGES,Gn);const Pi=it.isDataArrayTexture||it.isData3DTexture,lr=Ot.isDataArrayTexture||Ot.isData3DTexture;if(it.isDepthTexture){const Yi=Bt.get(it),vr=Bt.get(Ot),rr=Bt.get(Yi.__renderTarget),Tr=Bt.get(vr.__renderTarget);Rt.bindFramebuffer(pt.READ_FRAMEBUFFER,rr.__webglFramebuffer),Rt.bindFramebuffer(pt.DRAW_FRAMEBUFFER,Tr.__webglFramebuffer);for(let ua=0;ua<Dn;ua++)Pi&&(pt.framebufferTextureLayer(pt.READ_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,Bt.get(it).__webglTexture,Lt,Gn+ua),pt.framebufferTextureLayer(pt.DRAW_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,Bt.get(Ot).__webglTexture,pn,Vi+ua)),pt.blitFramebuffer(Vn,zn,En,Rn,ni,xi,En,Rn,pt.DEPTH_BUFFER_BIT,pt.NEAREST);Rt.bindFramebuffer(pt.READ_FRAMEBUFFER,null),Rt.bindFramebuffer(pt.DRAW_FRAMEBUFFER,null)}else if(Lt!==0||it.isRenderTargetTexture||Bt.has(it)){const Yi=Bt.get(it),vr=Bt.get(Ot);Rt.bindFramebuffer(pt.READ_FRAMEBUFFER,qi),Rt.bindFramebuffer(pt.DRAW_FRAMEBUFFER,Di);for(let rr=0;rr<Dn;rr++)Pi?pt.framebufferTextureLayer(pt.READ_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,Yi.__webglTexture,Lt,Gn+rr):pt.framebufferTexture2D(pt.READ_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,pt.TEXTURE_2D,Yi.__webglTexture,Lt),lr?pt.framebufferTextureLayer(pt.DRAW_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,vr.__webglTexture,pn,Vi+rr):pt.framebufferTexture2D(pt.DRAW_FRAMEBUFFER,pt.COLOR_ATTACHMENT0,pt.TEXTURE_2D,vr.__webglTexture,pn),Lt!==0?pt.blitFramebuffer(Vn,zn,En,Rn,ni,xi,En,Rn,pt.COLOR_BUFFER_BIT,pt.NEAREST):lr?pt.copyTexSubImage3D(ki,pn,ni,xi,Vi+rr,Vn,zn,En,Rn):pt.copyTexSubImage2D(ki,pn,ni,xi,Vn,zn,En,Rn);Rt.bindFramebuffer(pt.READ_FRAMEBUFFER,null),Rt.bindFramebuffer(pt.DRAW_FRAMEBUFFER,null)}else lr?it.isDataTexture||it.isData3DTexture?pt.texSubImage3D(ki,pn,ni,xi,Vi,En,Rn,Dn,yi,jn,di.data):Ot.isCompressedArrayTexture?pt.compressedTexSubImage3D(ki,pn,ni,xi,Vi,En,Rn,Dn,yi,di.data):pt.texSubImage3D(ki,pn,ni,xi,Vi,En,Rn,Dn,yi,jn,di):it.isDataTexture?pt.texSubImage2D(pt.TEXTURE_2D,pn,ni,xi,En,Rn,yi,jn,di.data):it.isCompressedTexture?pt.compressedTexSubImage2D(pt.TEXTURE_2D,pn,ni,xi,di.width,di.height,yi,di.data):pt.texSubImage2D(pt.TEXTURE_2D,pn,ni,xi,En,Rn,yi,jn,di);pt.pixelStorei(pt.UNPACK_ROW_LENGTH,hi),pt.pixelStorei(pt.UNPACK_IMAGE_HEIGHT,mr),pt.pixelStorei(pt.UNPACK_SKIP_PIXELS,ca),pt.pixelStorei(pt.UNPACK_SKIP_ROWS,Ui),pt.pixelStorei(pt.UNPACK_SKIP_IMAGES,gr),pn===0&&Ot.generateMipmaps&&pt.generateMipmap(ki),Rt.unbindTexture()},this.copyTextureToTexture3D=function(it,Ot,jt=null,Ct=null,Lt=0){return warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(it,Ot,jt,Ct,Lt)},this.initRenderTarget=function(it){Bt.get(it).__webglFramebuffer===void 0&&Qe.setupRenderTarget(it)},this.initTexture=function(it){it.isCubeTexture?Qe.setTextureCube(it,0):it.isData3DTexture?Qe.setTexture3D(it,0):it.isDataArrayTexture||it.isCompressedArrayTexture?Qe.setTexture2DArray(it,0):Qe.setTexture2D(it,0),Rt.unbindTexture()},this.resetState=function(){Ve=0,ke=0,We=null,Rt.reset(),Xn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(te){this._outputColorSpace=te;const ae=this.getContext();ae.drawingBufferColorSpace=ColorManagement._getDrawingBufferColorSpace(te),ae.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color:Color$1,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping:CubeUVReflectionMapping$1,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace:LinearSRGBColorSpace$1,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RenderTargetArray,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace:SRGBColorSpace$1,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TimestampQuery,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoFrameTexture,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WebXRController,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconcilerConstants_production;function requireReactReconcilerConstants_production(){return hasRequiredReactReconcilerConstants_production||(hasRequiredReactReconcilerConstants_production=1,reactReconcilerConstants_production.ConcurrentRoot=1,reactReconcilerConstants_production.ContinuousEventPriority=8,reactReconcilerConstants_production.DefaultEventPriority=32,reactReconcilerConstants_production.DiscreteEventPriority=2,reactReconcilerConstants_production.IdleEventPriority=268435456,reactReconcilerConstants_production.LegacyRoot=0,reactReconcilerConstants_production.NoEventPriority=0),reactReconcilerConstants_production}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,constants.exports=requireReactReconcilerConstants_production()),constants.exports}var constantsExports=requireConstants(),withSelector={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var se=requireReact();function te(be,Ee){return be===Ee&&(be!==0||1/be===1/Ee)||be!==be&&Ee!==Ee}var ae=typeof Object.is=="function"?Object.is:te,oe=se.useState,ce=se.useEffect,ue=se.useLayoutEffect,fe=se.useDebugValue;function de(be,Ee){var Ae=Ee(),Re=oe({inst:{value:Ae,getSnapshot:Ee}}),Be=Re[0].inst,De=Re[1];return ue(function(){Be.value=Ae,Be.getSnapshot=Ee,pe(Be)&&De({inst:Be})},[be,Ae,Ee]),ce(function(){return pe(Be)&&De({inst:Be}),be(function(){pe(Be)&&De({inst:Be})})},[be]),fe(Ae),Ae}function pe(be){var Ee=be.getSnapshot;be=be.value;try{var Ae=Ee();return!ae(be,Ae)}catch{return!0}}function me(be,Ee){return Ee()}var _e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?me:de;return useSyncExternalStoreShim_production.useSyncExternalStore=se.useSyncExternalStore!==void 0?se.useSyncExternalStore:_e,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var se=requireReact(),te=requireShim();function ae(me,_e){return me===_e&&(me!==0||1/me===1/_e)||me!==me&&_e!==_e}var oe=typeof Object.is=="function"?Object.is:ae,ce=te.useSyncExternalStore,ue=se.useRef,fe=se.useEffect,de=se.useMemo,pe=se.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(me,_e,be,Ee,Ae){var Re=ue(null);if(Re.current===null){var Be={hasValue:!1,value:null};Re.current=Be}else Be=Re.current;Re=de(function(){function Oe(Ve){if(!Pe){if(Pe=!0,Ie=Ve,Ve=Ee(Ve),Ae!==void 0&&Be.hasValue){var ke=Be.value;if(Ae(ke,Ve))return Fe=ke}return Fe=Ve}if(ke=Fe,oe(Ie,Ve))return ke;var We=Ee(Ve);return Ae!==void 0&&Ae(ke,We)?(Ie=Ve,ke):(Ie=Ve,Fe=We)}var Pe=!1,Ie,Fe,$e=be===void 0?null:be;return[function(){return Oe(_e())},$e===null?void 0:function(){return Oe($e())}]},[_e,be,Ee,Ae]);var De=ce(me,Re[0],Re[1]);return fe(function(){Be.hasValue=!0,Be.value=De},[De]),pe(De),De},withSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireWithSelector_production()),withSelector.exports}var withSelectorExports=requireWithSelector();const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),createStoreImpl=se=>{let te;const ae=new Set,oe=(me,_e)=>{const be=typeof me=="function"?me(te):me;if(!Object.is(be,te)){const Ee=te;te=_e??(typeof be!="object"||be===null)?be:Object.assign({},te,be),ae.forEach(Ae=>Ae(te,Ee))}},ce=()=>te,de={setState:oe,getState:ce,getInitialState:()=>pe,subscribe:me=>(ae.add(me),()=>ae.delete(me))},pe=te=se(oe,ce,de);return de},createStore$2=se=>se?createStoreImpl(se):createStoreImpl,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity$1=se=>se;function useStoreWithEqualityFn(se,te=identity$1,ae){const oe=useSyncExternalStoreWithSelector(se.subscribe,se.getState,se.getInitialState,te,ae);return React.useDebugValue(oe),oe}const createWithEqualityFnImpl=(se,te)=>{const ae=createStore$2(se),oe=(ce,ue=te)=>useStoreWithEqualityFn(ae,ce,ue);return Object.assign(oe,ae),oe},createWithEqualityFn=(se,te)=>se?createWithEqualityFnImpl(se,te):createWithEqualityFnImpl;var reactReconciler={exports:{}},reactReconciler_production={exports:{}},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(se){function te(Ye,rt){var lt=Ye.length;Ye.push(rt);e:for(;0<lt;){var _t=lt-1>>>1,Xe=Ye[_t];if(0<ce(Xe,rt))Ye[_t]=rt,Ye[lt]=Xe,lt=_t;else break e}}function ae(Ye){return Ye.length===0?null:Ye[0]}function oe(Ye){if(Ye.length===0)return null;var rt=Ye[0],lt=Ye.pop();if(lt!==rt){Ye[0]=lt;e:for(var _t=0,Xe=Ye.length,et=Xe>>>1;_t<et;){var ft=2*(_t+1)-1,yt=Ye[ft],st=ft+1,gt=Ye[st];if(0>ce(yt,lt))st<Xe&&0>ce(gt,yt)?(Ye[_t]=gt,Ye[st]=lt,_t=st):(Ye[_t]=yt,Ye[ft]=lt,_t=ft);else if(st<Xe&&0>ce(gt,lt))Ye[_t]=gt,Ye[st]=lt,_t=st;else break e}}return rt}function ce(Ye,rt){var lt=Ye.sortIndex-rt.sortIndex;return lt!==0?lt:Ye.id-rt.id}if(se.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var ue=performance;se.unstable_now=function(){return ue.now()}}else{var fe=Date,de=fe.now();se.unstable_now=function(){return fe.now()-de}}var pe=[],me=[],_e=1,be=null,Ee=3,Ae=!1,Re=!1,Be=!1,De=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,Pe=typeof setImmediate<"u"?setImmediate:null;function Ie(Ye){for(var rt=ae(me);rt!==null;){if(rt.callback===null)oe(me);else if(rt.startTime<=Ye)oe(me),rt.sortIndex=rt.expirationTime,te(pe,rt);else break;rt=ae(me)}}function Fe(Ye){if(Be=!1,Ie(Ye),!Re)if(ae(pe)!==null)Re=!0,at();else{var rt=ae(me);rt!==null&&mt(Fe,rt.startTime-Ye)}}var $e=!1,Ve=-1,ke=5,We=-1;function je(){return!(se.unstable_now()-We<ke)}function He(){if($e){var Ye=se.unstable_now();We=Ye;var rt=!0;try{e:{Re=!1,Be&&(Be=!1,Oe(Ve),Ve=-1),Ae=!0;var lt=Ee;try{t:{for(Ie(Ye),be=ae(pe);be!==null&&!(be.expirationTime>Ye&&je());){var _t=be.callback;if(typeof _t=="function"){be.callback=null,Ee=be.priorityLevel;var Xe=_t(be.expirationTime<=Ye);if(Ye=se.unstable_now(),typeof Xe=="function"){be.callback=Xe,Ie(Ye),rt=!0;break t}be===ae(pe)&&oe(pe),Ie(Ye)}else oe(pe);be=ae(pe)}if(be!==null)rt=!0;else{var et=ae(me);et!==null&&mt(Fe,et.startTime-Ye),rt=!1}}break e}finally{be=null,Ee=lt,Ae=!1}rt=void 0}}finally{rt?tt():$e=!1}}}var tt;if(typeof Pe=="function")tt=function(){Pe(He)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,nt=Ze.port2;Ze.port1.onmessage=He,tt=function(){nt.postMessage(null)}}else tt=function(){De(He,0)};function at(){$e||($e=!0,tt())}function mt(Ye,rt){Ve=De(function(){Ye(se.unstable_now())},rt)}se.unstable_IdlePriority=5,se.unstable_ImmediatePriority=1,se.unstable_LowPriority=4,se.unstable_NormalPriority=3,se.unstable_Profiling=null,se.unstable_UserBlockingPriority=2,se.unstable_cancelCallback=function(Ye){Ye.callback=null},se.unstable_continueExecution=function(){Re||Ae||(Re=!0,at())},se.unstable_forceFrameRate=function(Ye){0>Ye||125<Ye?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<Ye?Math.floor(1e3/Ye):5},se.unstable_getCurrentPriorityLevel=function(){return Ee},se.unstable_getFirstCallbackNode=function(){return ae(pe)},se.unstable_next=function(Ye){switch(Ee){case 1:case 2:case 3:var rt=3;break;default:rt=Ee}var lt=Ee;Ee=rt;try{return Ye()}finally{Ee=lt}},se.unstable_pauseExecution=function(){},se.unstable_requestPaint=function(){},se.unstable_runWithPriority=function(Ye,rt){switch(Ye){case 1:case 2:case 3:case 4:case 5:break;default:Ye=3}var lt=Ee;Ee=Ye;try{return rt()}finally{Ee=lt}},se.unstable_scheduleCallback=function(Ye,rt,lt){var _t=se.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?_t+lt:_t):lt=_t,Ye){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=lt+Xe,Ye={id:_e++,callback:rt,priorityLevel:Ye,startTime:lt,expirationTime:Xe,sortIndex:-1},lt>_t?(Ye.sortIndex=lt,te(me,Ye),ae(pe)===null&&Ye===ae(me)&&(Be?(Oe(Ve),Ve=-1):Be=!0,mt(Fe,lt-_t))):(Ye.sortIndex=Xe,te(pe,Ye),Re||Ae||(Re=!0,at())),Ye},se.unstable_shouldYield=je,se.unstable_wrapCallback=function(Ye){var rt=Ee;return function(){var lt=Ee;Ee=rt;try{return Ye.apply(this,arguments)}finally{Ee=lt}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactReconciler_production;function requireReactReconciler_production(){return hasRequiredReactReconciler_production||(hasRequiredReactReconciler_production=1,function(se){se.exports=function(te){function ae(ve,ye,we,Ue){return new pf(ve,ye,we,Ue)}function oe(){}function ce(ve){var ye="https://react.dev/errors/"+ve;if(1<arguments.length){ye+="?args[]="+encodeURIComponent(arguments[1]);for(var we=2;we<arguments.length;we++)ye+="&args[]="+encodeURIComponent(arguments[we])}return"Minified React error #"+ve+"; visit "+ye+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ue(ve){return ve===null||typeof ve!="object"?null:(ve=no&&ve[no]||ve["@@iterator"],typeof ve=="function"?ve:null)}function fe(ve){if(ve==null)return null;if(typeof ve=="function")return ve.$$typeof===_f?null:ve.displayName||ve.name||null;if(typeof ve=="string")return ve;switch(ve){case Do:return"Fragment";case ja:return"Portal";case du:return"Profiler";case Bc:return"StrictMode";case hu:return"Suspense";case Pl:return"SuspenseList"}if(typeof ve=="object")switch(ve.$$typeof){case os:return(ve.displayName||"Context")+".Provider";case gf:return(ve._context.displayName||"Context")+".Consumer";case Oc:var ye=ve.render;return ve=ve.displayName,ve||(ve=ye.displayName||ye.name||"",ve=ve!==""?"ForwardRef("+ve+")":"ForwardRef"),ve;case pu:return ye=ve.displayName||null,ye!==null?ye:fe(ve.type)||"Memo";case Xa:ye=ve._payload,ve=ve._init;try{return fe(ve(ye))}catch{}}return null}function de(ve){if(bs===void 0)try{throw Error()}catch(we){var ye=we.stack.trim().match(/\n( *(at )?)/);bs=ye&&ye[1]||"",io=-1<we.stack.indexOf(`
    at`)?" (<anonymous>)":-1<we.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bs+ve+io}function pe(ve,ye){if(!ve||il)return"";il=!0;var we=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Ue={DetermineComponentFrameRoot:function(){try{if(ye){var Ln=function(){throw Error()};if(Object.defineProperty(Ln.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ln,[])}catch(ci){var Nn=ci}Reflect.construct(ve,[],Ln)}else{try{Ln.call()}catch(ci){Nn=ci}ve.call(Ln.prototype)}}else{try{throw Error()}catch(ci){Nn=ci}(Ln=ve())&&typeof Ln.catch=="function"&&Ln.catch(function(){})}}catch(ci){if(ci&&Nn&&typeof ci.stack=="string")return[ci.stack,Nn.stack]}return[null,null]}};Ue.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ze=Object.getOwnPropertyDescriptor(Ue.DetermineComponentFrameRoot,"name");ze&&ze.configurable&&Object.defineProperty(Ue.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var qe=Ue.DetermineComponentFrameRoot(),ut=qe[0],Tt=qe[1];if(ut&&Tt){var Ht=ut.split(`
`),fn=Tt.split(`
`);for(ze=Ue=0;Ue<Ht.length&&!Ht[Ue].includes("DetermineComponentFrameRoot");)Ue++;for(;ze<fn.length&&!fn[ze].includes("DetermineComponentFrameRoot");)ze++;if(Ue===Ht.length||ze===fn.length)for(Ue=Ht.length-1,ze=fn.length-1;1<=Ue&&0<=ze&&Ht[Ue]!==fn[ze];)ze--;for(;1<=Ue&&0<=ze;Ue--,ze--)if(Ht[Ue]!==fn[ze]){if(Ue!==1||ze!==1)do if(Ue--,ze--,0>ze||Ht[Ue]!==fn[ze]){var An=`
`+Ht[Ue].replace(" at new "," at ");return ve.displayName&&An.includes("<anonymous>")&&(An=An.replace("<anonymous>",ve.displayName)),An}while(1<=Ue&&0<=ze);break}}}finally{il=!1,Error.prepareStackTrace=we}return(we=ve?ve.displayName||ve.name:"")?de(we):""}function me(ve){switch(ve.tag){case 26:case 27:case 5:return de(ve.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ve=pe(ve.type,!1),ve;case 11:return ve=pe(ve.type.render,!1),ve;case 1:return ve=pe(ve.type,!0),ve;default:return""}}function _e(ve){try{var ye="";do ye+=me(ve),ve=ve.return;while(ve);return ye}catch(we){return`
Error generating stack: `+we.message+`
`+we.stack}}function be(ve){var ye=ve,we=ve;if(ve.alternate)for(;ye.return;)ye=ye.return;else{ve=ye;do ye=ve,(ye.flags&4098)!==0&&(we=ye.return),ve=ye.return;while(ve)}return ye.tag===3?we:null}function Ee(ve){if(be(ve)!==ve)throw Error(ce(188))}function Ae(ve){var ye=ve.alternate;if(!ye){if(ye=be(ve),ye===null)throw Error(ce(188));return ye!==ve?null:ve}for(var we=ve,Ue=ye;;){var ze=we.return;if(ze===null)break;var qe=ze.alternate;if(qe===null){if(Ue=ze.return,Ue!==null){we=Ue;continue}break}if(ze.child===qe.child){for(qe=ze.child;qe;){if(qe===we)return Ee(ze),ve;if(qe===Ue)return Ee(ze),ye;qe=qe.sibling}throw Error(ce(188))}if(we.return!==Ue.return)we=ze,Ue=qe;else{for(var ut=!1,Tt=ze.child;Tt;){if(Tt===we){ut=!0,we=ze,Ue=qe;break}if(Tt===Ue){ut=!0,Ue=ze,we=qe;break}Tt=Tt.sibling}if(!ut){for(Tt=qe.child;Tt;){if(Tt===we){ut=!0,we=qe,Ue=ze;break}if(Tt===Ue){ut=!0,Ue=qe,we=ze;break}Tt=Tt.sibling}if(!ut)throw Error(ce(189))}}if(we.alternate!==Ue)throw Error(ce(190))}if(we.tag!==3)throw Error(ce(188));return we.stateNode.current===we?ve:ye}function Re(ve){var ye=ve.tag;if(ye===5||ye===26||ye===27||ye===6)return ve;for(ve=ve.child;ve!==null;){if(ye=Re(ve),ye!==null)return ye;ve=ve.sibling}return null}function Be(ve){var ye=ve.tag;if(ye===5||ye===26||ye===27||ye===6)return ve;for(ve=ve.child;ve!==null;){if(ve.tag!==4&&(ye=Be(ve),ye!==null))return ye;ve=ve.sibling}return null}function De(ve){return{current:ve}}function Oe(ve){0>oo||(ve.current=br[oo],br[oo]=null,oo--)}function Pe(ve,ye){oo++,br[oo]=ve.current,ve.current=ye}function Ie(ve){return ve>>>=0,ve===0?32:31-(Yd(ve)/Kd|0)|0}function Fe(ve){var ye=ve&42;if(ye!==0)return ye;switch(ve&-ve){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ve&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return ve&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ve}}function $e(ve,ye){var we=ve.pendingLanes;if(we===0)return 0;var Ue=0,ze=ve.suspendedLanes,qe=ve.pingedLanes,ut=ve.warmLanes;ve=ve.finishedLanes!==0;var Tt=we&134217727;return Tt!==0?(we=Tt&~ze,we!==0?Ue=Fe(we):(qe&=Tt,qe!==0?Ue=Fe(qe):ve||(ut=Tt&~ut,ut!==0&&(Ue=Fe(ut))))):(Tt=we&~ze,Tt!==0?Ue=Fe(Tt):qe!==0?Ue=Fe(qe):ve||(ut=we&~ut,ut!==0&&(Ue=Fe(ut)))),Ue===0?0:ye!==0&&ye!==Ue&&(ye&ze)===0&&(ze=Ue&-Ue,ut=ye&-ye,ze>=ut||ze===32&&(ut&4194176)!==0)?ye:Ue}function Ve(ve,ye){return(ve.pendingLanes&~(ve.suspendedLanes&~ve.pingedLanes)&ye)===0}function ke(ve,ye){switch(ve){case 1:case 2:case 4:case 8:return ye+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ye+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function We(){var ve=As;return As<<=1,(As&4194176)===0&&(As=128),ve}function je(){var ve=sl;return sl<<=1,(sl&62914560)===0&&(sl=4194304),ve}function He(ve){for(var ye=[],we=0;31>we;we++)ye.push(ve);return ye}function tt(ve,ye){ve.pendingLanes|=ye,ye!==268435456&&(ve.suspendedLanes=0,ve.pingedLanes=0,ve.warmLanes=0)}function Ze(ve,ye,we,Ue,ze,qe){var ut=ve.pendingLanes;ve.pendingLanes=we,ve.suspendedLanes=0,ve.pingedLanes=0,ve.warmLanes=0,ve.expiredLanes&=we,ve.entangledLanes&=we,ve.errorRecoveryDisabledLanes&=we,ve.shellSuspendCounter=0;var Tt=ve.entanglements,Ht=ve.expirationTimes,fn=ve.hiddenUpdates;for(we=ut&~we;0<we;){var An=31-aa(we),Ln=1<<An;Tt[An]=0,Ht[An]=-1;var Nn=fn[An];if(Nn!==null)for(fn[An]=null,An=0;An<Nn.length;An++){var ci=Nn[An];ci!==null&&(ci.lane&=-536870913)}we&=~Ln}Ue!==0&&nt(ve,Ue,0),qe!==0&&ze===0&&ve.tag!==0&&(ve.suspendedLanes|=qe&~(ut&~ye))}function nt(ve,ye,we){ve.pendingLanes|=ye,ve.suspendedLanes&=~ye;var Ue=31-aa(ye);ve.entangledLanes|=ye,ve.entanglements[Ue]=ve.entanglements[Ue]|1073741824|we&4194218}function at(ve,ye){var we=ve.entangledLanes|=ye;for(ve=ve.entanglements;we;){var Ue=31-aa(we),ze=1<<Ue;ze&ye|ve[Ue]&ye&&(ve[Ue]|=ye),we&=~ze}}function mt(ve){return ve&=-ve,2<ve?8<ve?(ve&134217727)!==0?32:268435456:8:2}function Ye(ve){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(Er,ve,void 0,(ve.current.flags&128)===128)}catch{}}function rt(ve){if(typeof Zd=="function"&&Nr(ve),xa&&typeof xa.setStrictMode=="function")try{xa.setStrictMode(Er,ve)}catch{}}function lt(ve,ye){return ve===ye&&(ve!==0||1/ve===1/ye)||ve!==ve&&ye!==ye}function _t(ve,ye){if(typeof ve=="object"&&ve!==null){var we=Ff.get(ve);return we!==void 0?we:(ye={value:ve,source:ye,stack:_e(ye)},Ff.set(ve,ye),ye)}return{value:ve,source:ye,stack:_e(ye)}}function Xe(ve,ye){ol[ll++]=$l,ol[ll++]=cl,cl=ve,$l=ye}function et(ve,ye,we){Ra[wa++]=us,Ra[wa++]=fs,Ra[wa++]=Io,Io=ve;var Ue=us;ve=fs;var ze=32-aa(Ue)-1;Ue&=~(1<<ze),we+=1;var qe=32-aa(ye)+ze;if(30<qe){var ut=ze-ze%5;qe=(Ue&(1<<ut)-1).toString(32),Ue>>=ut,ze-=ut,us=1<<32-aa(ye)+ze|we<<ze|Ue,fs=qe+ve}else us=1<<qe|we<<ze|Ue,fs=ve}function ft(ve){ve.return!==null&&(Xe(ve,1),et(ve,1,0))}function yt(ve){for(;ve===cl;)cl=ol[--ll],ol[ll]=null,$l=ol[--ll],ol[ll]=null;for(;ve===Io;)Io=Ra[--wa],Ra[wa]=null,fs=Ra[--wa],Ra[wa]=null,us=Ra[--wa],Ra[wa]=null}function st(ve,ye){Pe(Ts,ye),Pe(jl,ve),Pe(Dr,null),ve=pd(ye),Oe(Dr),Pe(Dr,ve)}function gt(){Oe(Dr),Oe(jl),Oe(Ts)}function Et(ve){ve.memoizedState!==null&&Pe(ul,ve);var ye=Dr.current,we=Gl(ye,ve.type);ye!==we&&(Pe(jl,ve),Pe(Dr,we))}function bt(ve){jl.current===ve&&(Oe(Dr),Oe(jl)),ul.current===ve&&(Oe(ul),ia?ls._currentValue=Lo:ls._currentValue2=Lo)}function Dt(ve){var ye=Error(ce(418,""));throw on(_t(ye,ve)),Hc}function nn(ve,ye){if(!$r)throw Error(ce(175));Gd(ve.stateNode,ve.type,ve.memoizedProps,ye,ve)||Dt(ve)}function ln(ve){for(jr=ve.return;jr;)switch(jr.tag){case 3:case 27:Fr=!0;return;case 5:case 13:Fr=!1;return;default:jr=jr.return}}function tn(ve){if(!$r||ve!==jr)return!1;if(!Ci)return ln(ve),Ci=!0,!1;var ye=!1;if($i?ve.tag!==3&&ve.tag!==27&&(ve.tag!==5||Eu(ve.type)&&!fi(ve.type,ve.memoizedProps))&&(ye=!0):ve.tag!==3&&(ve.tag!==5||Eu(ve.type)&&!fi(ve.type,ve.memoizedProps))&&(ye=!0),ye&&Xr&&Dt(ve),ln(ve),ve.tag===13){if(!$r)throw Error(ce(316));if(ve=ve.memoizedState,ve=ve!==null?ve.dehydrated:null,!ve)throw Error(ce(317));Xr=Hd(ve)}else Xr=jr?Lf(ve.stateNode):null;return!0}function Wt(){$r&&(Xr=jr=null,Ci=!1)}function on(ve){Ya===null?Ya=[ve]:Ya.push(ve)}function pt(){for(var ve=fl,ye=ds=fl=0;ye<ve;){var we=Ka[ye];Ka[ye++]=null;var Ue=Ka[ye];Ka[ye++]=null;var ze=Ka[ye];Ka[ye++]=null;var qe=Ka[ye];if(Ka[ye++]=null,Ue!==null&&ze!==null){var ut=Ue.pending;ut===null?ze.next=ze:(ze.next=ut.next,ut.next=ze),Ue.pending=ze}qe!==0&&Rt(we,ze,qe)}}function Sn(ve,ye,we,Ue){Ka[fl++]=ve,Ka[fl++]=ye,Ka[fl++]=we,Ka[fl++]=Ue,ds|=Ue,ve.lanes|=Ue,ve=ve.alternate,ve!==null&&(ve.lanes|=Ue)}function Nt(ve,ye,we,Ue){return Sn(ve,ye,we,Ue),kt(ve)}function ht(ve,ye){return Sn(ve,null,null,ye),kt(ve)}function Rt(ve,ye,we){ve.lanes|=we;var Ue=ve.alternate;Ue!==null&&(Ue.lanes|=we);for(var ze=!1,qe=ve.return;qe!==null;)qe.childLanes|=we,Ue=qe.alternate,Ue!==null&&(Ue.childLanes|=we),qe.tag===22&&(ve=qe.stateNode,ve===null||ve._visibility&1||(ze=!0)),ve=qe,qe=qe.return;ze&&ye!==null&&ve.tag===3&&(qe=ve.stateNode,ze=31-aa(we),qe=qe.hiddenUpdates,ve=qe[ze],ve===null?qe[ze]=[ye]:ve.push(ye),ye.lane=we|536870912)}function kt(ve){if(50<ec)throw ec=0,Iu=null,Error(ce(185));for(var ye=ve.return;ye!==null;)ve=ye,ye=ve.return;return ve.tag===3?ve.stateNode:null}function Bt(ve){ve!==lo&&ve.next===null&&(lo===null?Vc=lo=ve:lo=lo.next=ve),Ki=!0,dl||(dl=!0,Ft(Ke))}function Qe(ve,ye){if(!If&&Ki){If=!0;do for(var we=!1,Ue=Vc;Ue!==null;){if(ve!==0){var ze=Ue.pendingLanes;if(ze===0)var qe=0;else{var ut=Ue.suspendedLanes,Tt=Ue.pingedLanes;qe=(1<<31-aa(42|ve)+1)-1,qe&=ze&~(ut&~Tt),qe=qe&201326677?qe&201326677|1:qe?qe|2:0}qe!==0&&(we=!0,Mt(Ue,qe))}else qe=Ai,qe=$e(Ue,Ue===Ii?qe:0),(qe&3)===0||Ve(Ue,qe)||(we=!0,Mt(Ue,qe));Ue=Ue.next}while(we);If=!1}}function Ke(){Ki=dl=!1;var ve=0;Xl!==0&&(_d()&&(ve=Xl),Xl=0);for(var ye=qa(),we=null,Ue=Vc;Ue!==null;){var ze=Ue.next,qe=ct(Ue,ye);qe===0?(Ue.next=null,we===null?Vc=ze:we.next=ze,ze===null&&(lo=we)):(we=Ue,(ve!==0||(qe&3)!==0)&&(Ki=!0)),Ue=ze}Qe(ve)}function ct(ve,ye){for(var we=ve.suspendedLanes,Ue=ve.pingedLanes,ze=ve.expirationTimes,qe=ve.pendingLanes&-62914561;0<qe;){var ut=31-aa(qe),Tt=1<<ut,Ht=ze[ut];Ht===-1?((Tt&we)===0||(Tt&Ue)!==0)&&(ze[ut]=ke(Tt,ye)):Ht<=ye&&(ve.expiredLanes|=Tt),qe&=~Tt}if(ye=Ii,we=Ai,we=$e(ve,ve===ye?we:0),Ue=ve.callbackNode,we===0||ve===ye&&Hi===2||ve.cancelPendingCommit!==null)return Ue!==null&&Ue!==null&&Cu(Ue),ve.callbackNode=null,ve.callbackPriority=0;if((we&3)===0||Ve(ve,we)){if(ye=we&-we,ye===ve.callbackPriority)return ye;switch(Ue!==null&&Cu(Ue),mt(we)){case 2:case 8:we=Qd;break;case 32:we=Bu;break;case 268435456:we=Rh;break;default:we=Bu}return Ue=St.bind(null,ve),we=zc(we,Ue),ve.callbackPriority=ye,ve.callbackNode=we,ye}return Ue!==null&&Ue!==null&&Cu(Ue),ve.callbackPriority=2,ve.callbackNode=null,2}function St(ve,ye){var we=ve.callbackNode;if(ss()&&ve.callbackNode!==we)return null;var Ue=Ai;return Ue=$e(ve,ve===Ii?Ue:0),Ue===0?null:(Mo(ve,Ue,ye),ct(ve,qa()),ve.callbackNode!=null&&ve.callbackNode===we?St.bind(null,ve):null)}function Mt(ve,ye){if(ss())return null;Mo(ve,ye,!0)}function Ft(ve){Ef?so(function(){(Bi&6)!==0?zc(wu,ve):ve()}):zc(wu,ve)}function zt(){return Xl===0&&(Xl=We()),Xl}function $t(ve,ye){if(Wl===null){var we=Wl=[];hl=0,Ba=zt(),pl={status:"pending",value:void 0,then:function(Ue){we.push(Ue)}}}return hl++,ye.then(Jt,Jt),ye}function Jt(){if(--hl===0&&Wl!==null){pl!==null&&(pl.status="fulfilled");var ve=Wl;Wl=null,Ba=0,pl=null;for(var ye=0;ye<ve.length;ye++)(0,ve[ye])()}}function Mn(ve,ye){var we=[],Ue={status:"pending",value:null,reason:null,then:function(ze){we.push(ze)}};return ve.then(function(){Ue.status="fulfilled",Ue.value=ye;for(var ze=0;ze<we.length;ze++)(0,we[ze])(ye)},function(ze){for(Ue.status="rejected",Ue.reason=ze,ze=0;ze<we.length;ze++)(0,we[ze])(void 0)}),Ue}function rn(ve){ve.updateQueue={baseState:ve.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cn(ve,ye){ve=ve.updateQueue,ye.updateQueue===ve&&(ye.updateQueue={baseState:ve.baseState,firstBaseUpdate:ve.firstBaseUpdate,lastBaseUpdate:ve.lastBaseUpdate,shared:ve.shared,callbacks:null})}function vn(ve){return{lane:ve,tag:0,payload:null,callback:null,next:null}}function hn(ve,ye,we){var Ue=ve.updateQueue;if(Ue===null)return null;if(Ue=Ue.shared,(Bi&2)!==0){var ze=Ue.pending;return ze===null?ye.next=ye:(ye.next=ze.next,ze.next=ye),Ue.pending=ye,ye=kt(ve),Rt(ve,null,we),ye}return Sn(ve,Ue,ye,we),kt(ve)}function Qt(ve,ye,we){if(ye=ye.updateQueue,ye!==null&&(ye=ye.shared,(we&4194176)!==0)){var Ue=ye.lanes;Ue&=ve.pendingLanes,we|=Ue,ye.lanes=we,at(ve,we)}}function Cn(ve,ye){var we=ve.updateQueue,Ue=ve.alternate;if(Ue!==null&&(Ue=Ue.updateQueue,we===Ue)){var ze=null,qe=null;if(we=we.firstBaseUpdate,we!==null){do{var ut={lane:we.lane,tag:we.tag,payload:we.payload,callback:null,next:null};qe===null?ze=qe=ut:qe=qe.next=ut,we=we.next}while(we!==null);qe===null?ze=qe=ye:qe=qe.next=ye}else ze=qe=ye;we={baseState:Ue.baseState,firstBaseUpdate:ze,lastBaseUpdate:qe,shared:Ue.shared,callbacks:Ue.callbacks},ve.updateQueue=we;return}ve=we.lastBaseUpdate,ve===null?we.firstBaseUpdate=ye:ve.next=ye,we.lastBaseUpdate=ye}function Tn(){if(ml){var ve=pl;if(ve!==null)throw ve}}function Xn(ve,ye,we,Ue){ml=!1;var ze=ve.updateQueue;co=!1;var qe=ze.firstBaseUpdate,ut=ze.lastBaseUpdate,Tt=ze.shared.pending;if(Tt!==null){ze.shared.pending=null;var Ht=Tt,fn=Ht.next;Ht.next=null,ut===null?qe=fn:ut.next=fn,ut=Ht;var An=ve.alternate;An!==null&&(An=An.updateQueue,Tt=An.lastBaseUpdate,Tt!==ut&&(Tt===null?An.firstBaseUpdate=fn:Tt.next=fn,An.lastBaseUpdate=Ht))}if(qe!==null){var Ln=ze.baseState;ut=0,An=fn=Ht=null,Tt=qe;do{var Nn=Tt.lane&-536870913,ci=Nn!==Tt.lane;if(ci?(Ai&Nn)===Nn:(Ue&Nn)===Nn){Nn!==0&&Nn===Ba&&(ml=!0),An!==null&&(An=An.next={lane:0,tag:Tt.tag,payload:Tt.payload,callback:null,next:null});e:{var Ia=ve,Wo=Tt;Nn=ye;var qo=we;switch(Wo.tag){case 1:if(Ia=Wo.payload,typeof Ia=="function"){Ln=Ia.call(qo,Ln,Nn);break e}Ln=Ia;break e;case 3:Ia.flags=Ia.flags&-65537|128;case 0:if(Ia=Wo.payload,Nn=typeof Ia=="function"?Ia.call(qo,Ln,Nn):Ia,Nn==null)break e;Ln=fu({},Ln,Nn);break e;case 2:co=!0}}Nn=Tt.callback,Nn!==null&&(ve.flags|=64,ci&&(ve.flags|=8192),ci=ze.callbacks,ci===null?ze.callbacks=[Nn]:ci.push(Nn))}else ci={lane:Nn,tag:Tt.tag,payload:Tt.payload,callback:Tt.callback,next:null},An===null?(fn=An=ci,Ht=Ln):An=An.next=ci,ut|=Nn;if(Tt=Tt.next,Tt===null){if(Tt=ze.shared.pending,Tt===null)break;ci=Tt,Tt=ci.next,ci.next=null,ze.lastBaseUpdate=ci,ze.shared.pending=null}}while(!0);An===null&&(Ht=Ln),ze.baseState=Ht,ze.firstBaseUpdate=fn,ze.lastBaseUpdate=An,qe===null&&(ze.shared.lanes=0),Na|=ut,ve.lanes=ut,ve.memoizedState=Ln}}function xt(ve,ye){if(typeof ve!="function")throw Error(ce(191,ve));ve.call(ye)}function sn(ve,ye){var we=ve.callbacks;if(we!==null)for(ve.callbacks=null,ve=0;ve<we.length;ve++)xt(we[ve],ye)}function Gt(ve,ye){if(Sa(ve,ye))return!0;if(typeof ve!="object"||ve===null||typeof ye!="object"||ye===null)return!1;var we=Object.keys(ve),Ue=Object.keys(ye);if(we.length!==Ue.length)return!1;for(Ue=0;Ue<we.length;Ue++){var ze=we[Ue];if(!Ms.call(ye,ze)||!Sa(ve[ze],ye[ze]))return!1}return!0}function an(ve){return ve=ve.status,ve==="fulfilled"||ve==="rejected"}function mn(){}function un(ve,ye,we){switch(we=ve[we],we===void 0?ve.push(ye):we!==ye&&(ye.then(mn,mn),ye=we),ye.status){case"fulfilled":return ye.value;case"rejected":throw ve=ye.reason,ve===ql?Error(ce(483)):ve;default:if(typeof ye.status=="string")ye.then(mn,mn);else{if(ve=Ii,ve!==null&&100<ve.shellSuspendCounter)throw Error(ce(482));ve=ye,ve.status="pending",ve.then(function(Ue){if(ye.status==="pending"){var ze=ye;ze.status="fulfilled",ze.value=Ue}},function(Ue){if(ye.status==="pending"){var ze=ye;ze.status="rejected",ze.reason=Ue}})}switch(ye.status){case"fulfilled":return ye.value;case"rejected":throw ve=ye.reason,ve===ql?Error(ce(483)):ve}throw Go=ye,ql}}function Un(){if(Go===null)throw Error(ce(459));var ve=Go;return Go=null,ve}function Hn(ve){var ye=Ho;return Ho+=1,zo===null&&(zo=[]),un(zo,ve,ye)}function Pn(ve,ye){ye=ye.props.ref,ve.ref=ye!==void 0?ye:null}function xn(ve,ye){throw ye.$$typeof===Sh?Error(ce(525)):(ve=Object.prototype.toString.call(ye),Error(ce(31,ve==="[object Object]"?"object with keys {"+Object.keys(ye).join(", ")+"}":ve)))}function wn(ve){var ye=ve._init;return ye(ve._payload)}function Fn(ve){function ye(Yt,Ut){if(ve){var en=Yt.deletions;en===null?(Yt.deletions=[Ut],Yt.flags|=16):en.push(Ut)}}function we(Yt,Ut){if(!ve)return null;for(;Ut!==null;)ye(Yt,Ut),Ut=Ut.sibling;return null}function Ue(Yt){for(var Ut=new Map;Yt!==null;)Yt.key!==null?Ut.set(Yt.key,Yt):Ut.set(Yt.index,Yt),Yt=Yt.sibling;return Ut}function ze(Yt,Ut){return Yt=$a(Yt,Ut),Yt.index=0,Yt.sibling=null,Yt}function qe(Yt,Ut,en){return Yt.index=en,ve?(en=Yt.alternate,en!==null?(en=en.index,en<Ut?(Yt.flags|=33554434,Ut):en):(Yt.flags|=33554434,Ut)):(Yt.flags|=1048576,Ut)}function ut(Yt){return ve&&Yt.alternate===null&&(Yt.flags|=33554434),Yt}function Tt(Yt,Ut,en,bn){return Ut===null||Ut.tag!==6?(Ut=cu(en,Yt.mode,bn),Ut.return=Yt,Ut):(Ut=ze(Ut,en),Ut.return=Yt,Ut)}function Ht(Yt,Ut,en,bn){var Wn=en.type;return Wn===Do?An(Yt,Ut,en.props.children,bn,en.key):Ut!==null&&(Ut.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===Xa&&wn(Wn)===Ut.type)?(Ut=ze(Ut,en.props),Pn(Ut,en),Ut.return=Yt,Ut):(Ut=Ss(en.type,en.key,en.props,null,Yt.mode,bn),Pn(Ut,en),Ut.return=Yt,Ut)}function fn(Yt,Ut,en,bn){return Ut===null||Ut.tag!==4||Ut.stateNode.containerInfo!==en.containerInfo||Ut.stateNode.implementation!==en.implementation?(Ut=mf(en,Yt.mode,bn),Ut.return=Yt,Ut):(Ut=ze(Ut,en.children||[]),Ut.return=Yt,Ut)}function An(Yt,Ut,en,bn,Wn){return Ut===null||Ut.tag!==7?(Ut=ur(en,Yt.mode,bn,Wn),Ut.return=Yt,Ut):(Ut=ze(Ut,en),Ut.return=Yt,Ut)}function Ln(Yt,Ut,en){if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number"||typeof Ut=="bigint")return Ut=cu(""+Ut,Yt.mode,en),Ut.return=Yt,Ut;if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case wc:return en=Ss(Ut.type,Ut.key,Ut.props,null,Yt.mode,en),Pn(en,Ut),en.return=Yt,en;case ja:return Ut=mf(Ut,Yt.mode,en),Ut.return=Yt,Ut;case Xa:var bn=Ut._init;return Ut=bn(Ut._payload),Ln(Yt,Ut,en)}if(Nl(Ut)||ue(Ut))return Ut=ur(Ut,Yt.mode,en,null),Ut.return=Yt,Ut;if(typeof Ut.then=="function")return Ln(Yt,Hn(Ut),en);if(Ut.$$typeof===os)return Ln(Yt,pc(Yt,Ut),en);xn(Yt,Ut)}return null}function Nn(Yt,Ut,en,bn){var Wn=Ut!==null?Ut.key:null;if(typeof en=="string"&&en!==""||typeof en=="number"||typeof en=="bigint")return Wn!==null?null:Tt(Yt,Ut,""+en,bn);if(typeof en=="object"&&en!==null){switch(en.$$typeof){case wc:return en.key===Wn?Ht(Yt,Ut,en,bn):null;case ja:return en.key===Wn?fn(Yt,Ut,en,bn):null;case Xa:return Wn=en._init,en=Wn(en._payload),Nn(Yt,Ut,en,bn)}if(Nl(en)||ue(en))return Wn!==null?null:An(Yt,Ut,en,bn,null);if(typeof en.then=="function")return Nn(Yt,Ut,Hn(en),bn);if(en.$$typeof===os)return Nn(Yt,Ut,pc(Yt,en),bn);xn(Yt,en)}return null}function ci(Yt,Ut,en,bn,Wn){if(typeof bn=="string"&&bn!==""||typeof bn=="number"||typeof bn=="bigint")return Yt=Yt.get(en)||null,Tt(Ut,Yt,""+bn,Wn);if(typeof bn=="object"&&bn!==null){switch(bn.$$typeof){case wc:return Yt=Yt.get(bn.key===null?en:bn.key)||null,Ht(Ut,Yt,bn,Wn);case ja:return Yt=Yt.get(bn.key===null?en:bn.key)||null,fn(Ut,Yt,bn,Wn);case Xa:var nr=bn._init;return bn=nr(bn._payload),ci(Yt,Ut,en,bn,Wn)}if(Nl(bn)||ue(bn))return Yt=Yt.get(en)||null,An(Ut,Yt,bn,Wn,null);if(typeof bn.then=="function")return ci(Yt,Ut,en,Hn(bn),Wn);if(bn.$$typeof===os)return ci(Yt,Ut,en,pc(Ut,bn),Wn);xn(Ut,bn)}return null}function Ia(Yt,Ut,en,bn){for(var Wn=null,nr=null,ri=Ut,Li=Ut=0,Ar=null;ri!==null&&Li<en.length;Li++){ri.index>Li?(Ar=ri,ri=null):Ar=ri.sibling;var bi=Nn(Yt,ri,en[Li],bn);if(bi===null){ri===null&&(ri=Ar);break}ve&&ri&&bi.alternate===null&&ye(Yt,ri),Ut=qe(bi,Ut,Li),nr===null?Wn=bi:nr.sibling=bi,nr=bi,ri=Ar}if(Li===en.length)return we(Yt,ri),Ci&&Xe(Yt,Li),Wn;if(ri===null){for(;Li<en.length;Li++)ri=Ln(Yt,en[Li],bn),ri!==null&&(Ut=qe(ri,Ut,Li),nr===null?Wn=ri:nr.sibling=ri,nr=ri);return Ci&&Xe(Yt,Li),Wn}for(ri=Ue(ri);Li<en.length;Li++)Ar=ci(ri,Yt,Li,en[Li],bn),Ar!==null&&(ve&&Ar.alternate!==null&&ri.delete(Ar.key===null?Li:Ar.key),Ut=qe(Ar,Ut,Li),nr===null?Wn=Ar:nr.sibling=Ar,nr=Ar);return ve&&ri.forEach(function(Us){return ye(Yt,Us)}),Ci&&Xe(Yt,Li),Wn}function Wo(Yt,Ut,en,bn){if(en==null)throw Error(ce(151));for(var Wn=null,nr=null,ri=Ut,Li=Ut=0,Ar=null,bi=en.next();ri!==null&&!bi.done;Li++,bi=en.next()){ri.index>Li?(Ar=ri,ri=null):Ar=ri.sibling;var Us=Nn(Yt,ri,bi.value,bn);if(Us===null){ri===null&&(ri=Ar);break}ve&&ri&&Us.alternate===null&&ye(Yt,ri),Ut=qe(Us,Ut,Li),nr===null?Wn=Us:nr.sibling=Us,nr=Us,ri=Ar}if(bi.done)return we(Yt,ri),Ci&&Xe(Yt,Li),Wn;if(ri===null){for(;!bi.done;Li++,bi=en.next())bi=Ln(Yt,bi.value,bn),bi!==null&&(Ut=qe(bi,Ut,Li),nr===null?Wn=bi:nr.sibling=bi,nr=bi);return Ci&&Xe(Yt,Li),Wn}for(ri=Ue(ri);!bi.done;Li++,bi=en.next())bi=ci(ri,Yt,Li,bi.value,bn),bi!==null&&(ve&&bi.alternate!==null&&ri.delete(bi.key===null?Li:bi.key),Ut=qe(bi,Ut,Li),nr===null?Wn=bi:nr.sibling=bi,nr=bi);return ve&&ri.forEach(function(Gu){return ye(Yt,Gu)}),Ci&&Xe(Yt,Li),Wn}function qo(Yt,Ut,en,bn){if(typeof en=="object"&&en!==null&&en.type===Do&&en.key===null&&(en=en.props.children),typeof en=="object"&&en!==null){switch(en.$$typeof){case wc:e:{for(var Wn=en.key;Ut!==null;){if(Ut.key===Wn){if(Wn=en.type,Wn===Do){if(Ut.tag===7){we(Yt,Ut.sibling),bn=ze(Ut,en.props.children),bn.return=Yt,Yt=bn;break e}}else if(Ut.elementType===Wn||typeof Wn=="object"&&Wn!==null&&Wn.$$typeof===Xa&&wn(Wn)===Ut.type){we(Yt,Ut.sibling),bn=ze(Ut,en.props),Pn(bn,en),bn.return=Yt,Yt=bn;break e}we(Yt,Ut);break}else ye(Yt,Ut);Ut=Ut.sibling}en.type===Do?(bn=ur(en.props.children,Yt.mode,bn,en.key),bn.return=Yt,Yt=bn):(bn=Ss(en.type,en.key,en.props,null,Yt.mode,bn),Pn(bn,en),bn.return=Yt,Yt=bn)}return ut(Yt);case ja:e:{for(Wn=en.key;Ut!==null;){if(Ut.key===Wn)if(Ut.tag===4&&Ut.stateNode.containerInfo===en.containerInfo&&Ut.stateNode.implementation===en.implementation){we(Yt,Ut.sibling),bn=ze(Ut,en.children||[]),bn.return=Yt,Yt=bn;break e}else{we(Yt,Ut);break}else ye(Yt,Ut);Ut=Ut.sibling}bn=mf(en,Yt.mode,bn),bn.return=Yt,Yt=bn}return ut(Yt);case Xa:return Wn=en._init,en=Wn(en._payload),qo(Yt,Ut,en,bn)}if(Nl(en))return Ia(Yt,Ut,en,bn);if(ue(en)){if(Wn=ue(en),typeof Wn!="function")throw Error(ce(150));return en=Wn.call(en),Wo(Yt,Ut,en,bn)}if(typeof en.then=="function")return qo(Yt,Ut,Hn(en),bn);if(en.$$typeof===os)return qo(Yt,Ut,pc(Yt,en),bn);xn(Yt,en)}return typeof en=="string"&&en!==""||typeof en=="number"||typeof en=="bigint"?(en=""+en,Ut!==null&&Ut.tag===6?(we(Yt,Ut.sibling),bn=ze(Ut,en),bn.return=Yt,Yt=bn):(we(Yt,Ut),bn=cu(en,Yt.mode,bn),bn.return=Yt,Yt=bn),ut(Yt)):we(Yt,Ut)}return function(Yt,Ut,en,bn){try{Ho=0;var Wn=qo(Yt,Ut,en,bn);return zo=null,Wn}catch(ri){if(ri===ql)throw ri;var nr=ae(29,ri,null,Yt.mode);return nr.lanes=bn,nr.return=Yt,nr}finally{}}}function _n(ve,ye){ve=Jr,Pe(Yl,ve),Pe(Ji,ye),Jr=ve|ye.baseLanes}function On(){Pe(Yl,Jr),Pe(Ji,Ji.current)}function Bn(){Jr=Yl.current,Oe(Ji),Oe(Yl)}function In(ve){var ye=ve.alternate;Pe(Or,Or.current&1),Pe(Da,ve),ji===null&&(ye===null||Ji.current!==null||ye.memoizedState!==null)&&(ji=ve)}function Ri(ve){if(ve.tag===22){if(Pe(Or,Or.current),Pe(Da,ve),ji===null){var ye=ve.alternate;ye!==null&&ye.memoizedState!==null&&(ji=ve)}}else qn()}function qn(){Pe(Or,Or.current),Pe(Da,Da.current)}function ti(ve){Oe(Da),ji===ve&&(ji=null),Oe(Or)}function si(ve){for(var ye=ve;ye!==null;){if(ye.tag===13){var we=ye.memoizedState;if(we!==null&&(we=we.dehydrated,we===null||xu(we)||Su(we)))return ye}else if(ye.tag===19&&ye.memoizedProps.revealOrder!==void 0){if((ye.flags&128)!==0)return ye}else if(ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===ve)break;for(;ye.sibling===null;){if(ye.return===null||ye.return===ve)return null;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}return null}function $n(){throw Error(ce(321))}function gi(ve,ye){if(ye===null)return!1;for(var we=0;we<ye.length&&we<ve.length;we++)if(!Sa(ve[we],ye[we]))return!1;return!0}function oi(ve,ye,we,Ue,ze,qe){return uo=qe,mi=ye,ye.memoizedState=null,ye.updateQueue=null,ye.lanes=0,ii.H=ve===null||ve.memoizedState===null?$o:sa,ko=!1,qe=we(Ue,ze),ko=!1,gl&&(qe=Ei(ye,we,Ue,ze)),or(ve),qe}function or(ve){ii.H=fr;var ye=Jn!==null&&Jn.next!==null;if(uo=0,wi=Jn=mi=null,Ja=!1,vl=0,Ir=null,ye)throw Error(ce(300));ve===null||Xi||(ve=ve.dependencies,ve!==null&&hc(ve)&&(Xi=!0))}function Ei(ve,ye,we,Ue){mi=ve;var ze=0;do{if(gl&&(Ir=null),vl=0,gl=!1,25<=ze)throw Error(ce(301));if(ze+=1,wi=Jn=null,ve.updateQueue!=null){var qe=ve.updateQueue;qe.lastEffect=null,qe.events=null,qe.stores=null,qe.memoCache!=null&&(qe.memoCache.index=0)}ii.H=Oa,qe=ye(we,Ue)}while(gl);return qe}function vi(){var ve=ii.H,ye=ve.useState()[0];return ye=typeof ye.then=="function"?jt(ye):ye,ve=ve.useState()[0],(Jn!==null?Jn.memoizedState:null)!==ve&&(mi.flags|=1024),ye}function pr(){var ve=Du!==0;return Du=0,ve}function qi(ve,ye,we){ye.updateQueue=ve.updateQueue,ye.flags&=-2053,ve.lanes&=~we}function Di(ve){if(Ja){for(ve=ve.memoizedState;ve!==null;){var ye=ve.queue;ye!==null&&(ye.pending=null),ve=ve.next}Ja=!1}uo=0,wi=Jn=mi=null,gl=!1,vl=Du=0,Ir=null}function it(){var ve={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wi===null?mi.memoizedState=wi=ve:wi=wi.next=ve,wi}function Ot(){if(Jn===null){var ve=mi.alternate;ve=ve!==null?ve.memoizedState:null}else ve=Jn.next;var ye=wi===null?mi.memoizedState:wi.next;if(ye!==null)wi=ye,Jn=ve;else{if(ve===null)throw mi.alternate===null?Error(ce(467)):Error(ce(310));Jn=ve,ve={memoizedState:Jn.memoizedState,baseState:Jn.baseState,baseQueue:Jn.baseQueue,queue:Jn.queue,next:null},wi===null?mi.memoizedState=wi=ve:wi=wi.next=ve}return wi}function jt(ve){var ye=vl;return vl+=1,Ir===null&&(Ir=[]),ve=un(Ir,ve,ye),ye=mi,(wi===null?ye.memoizedState:wi.next)===null&&(ye=ye.alternate,ii.H=ye===null||ye.memoizedState===null?$o:sa),ve}function Ct(ve){if(ve!==null&&typeof ve=="object"){if(typeof ve.then=="function")return jt(ve);if(ve.$$typeof===os)return zr(ve)}throw Error(ce(438,String(ve)))}function Lt(ve){var ye=null,we=mi.updateQueue;if(we!==null&&(ye=we.memoCache),ye==null){var Ue=mi.alternate;Ue!==null&&(Ue=Ue.updateQueue,Ue!==null&&(Ue=Ue.memoCache,Ue!=null&&(ye={data:Ue.data.map(function(ze){return ze.slice()}),index:0})))}if(ye==null&&(ye={data:[],index:0}),we===null&&(we=Ou(),mi.updateQueue=we),we.memoCache=ye,we=ye.data[ye.index],we===void 0)for(we=ye.data[ye.index]=Array(ve),Ue=0;Ue<ve;Ue++)we[Ue]=hd;return ye.index++,we}function pn(ve,ye){return typeof ye=="function"?ye(ve):ye}function En(ve){var ye=Ot();return Rn(ye,Jn,ve)}function Rn(ve,ye,we){var Ue=ve.queue;if(Ue===null)throw Error(ce(311));Ue.lastRenderedReducer=we;var ze=ve.baseQueue,qe=Ue.pending;if(qe!==null){if(ze!==null){var ut=ze.next;ze.next=qe.next,qe.next=ut}ye.baseQueue=ze=qe,Ue.pending=null}if(qe=ve.baseState,ze===null)ve.memoizedState=qe;else{ye=ze.next;var Tt=ut=null,Ht=null,fn=ye,An=!1;do{var Ln=fn.lane&-536870913;if(Ln!==fn.lane?(Ai&Ln)===Ln:(uo&Ln)===Ln){var Nn=fn.revertLane;if(Nn===0)Ht!==null&&(Ht=Ht.next={lane:0,revertLane:0,action:fn.action,hasEagerState:fn.hasEagerState,eagerState:fn.eagerState,next:null}),Ln===Ba&&(An=!0);else if((uo&Nn)===Nn){fn=fn.next,Nn===Ba&&(An=!0);continue}else Ln={lane:0,revertLane:fn.revertLane,action:fn.action,hasEagerState:fn.hasEagerState,eagerState:fn.eagerState,next:null},Ht===null?(Tt=Ht=Ln,ut=qe):Ht=Ht.next=Ln,mi.lanes|=Nn,Na|=Nn;Ln=fn.action,ko&&we(qe,Ln),qe=fn.hasEagerState?fn.eagerState:we(qe,Ln)}else Nn={lane:Ln,revertLane:fn.revertLane,action:fn.action,hasEagerState:fn.hasEagerState,eagerState:fn.eagerState,next:null},Ht===null?(Tt=Ht=Nn,ut=qe):Ht=Ht.next=Nn,mi.lanes|=Ln,Na|=Ln;fn=fn.next}while(fn!==null&&fn!==ye);if(Ht===null?ut=qe:Ht.next=Tt,!Sa(qe,ve.memoizedState)&&(Xi=!0,An&&(we=pl,we!==null)))throw we;ve.memoizedState=qe,ve.baseState=ut,ve.baseQueue=Ht,Ue.lastRenderedState=qe}return ze===null&&(Ue.lanes=0),[ve.memoizedState,Ue.dispatch]}function Dn(ve){var ye=Ot(),we=ye.queue;if(we===null)throw Error(ce(311));we.lastRenderedReducer=ve;var Ue=we.dispatch,ze=we.pending,qe=ye.memoizedState;if(ze!==null){we.pending=null;var ut=ze=ze.next;do qe=ve(qe,ut.action),ut=ut.next;while(ut!==ze);Sa(qe,ye.memoizedState)||(Xi=!0),ye.memoizedState=qe,ye.baseQueue===null&&(ye.baseState=qe),we.lastRenderedState=qe}return[qe,Ue]}function Vn(ve,ye,we){var Ue=mi,ze=Ot(),qe=Ci;if(qe){if(we===void 0)throw Error(ce(407));we=we()}else we=ye();var ut=!Sa((Jn||ze).memoizedState,we);if(ut&&(ze.memoizedState=we,Xi=!0),ze=ze.queue,Ns(ni.bind(null,Ue,ze,ve),[ve]),ze.getSnapshot!==ye||ut||wi!==null&&wi.memoizedState.tag&1){if(Ue.flags|=2048,Tr(9,Gn.bind(null,Ue,ze,we,ye),{destroy:void 0},null),Ii===null)throw Error(ce(349));qe||(uo&60)!==0||zn(Ue,ye,we)}return we}function zn(ve,ye,we){ve.flags|=16384,ve={getSnapshot:ye,value:we},ye=mi.updateQueue,ye===null?(ye=Ou(),mi.updateQueue=ye,ye.stores=[ve]):(we=ye.stores,we===null?ye.stores=[ve]:we.push(ve))}function Gn(ve,ye,we,Ue){ye.value=we,ye.getSnapshot=Ue,xi(ye)&&Vi(ve)}function ni(ve,ye,we){return we(function(){xi(ye)&&Vi(ve)})}function xi(ve){var ye=ve.getSnapshot;ve=ve.value;try{var we=ye();return!Sa(ve,we)}catch{return!0}}function Vi(ve){var ye=ht(ve,2);ye!==null&&Pr(ye,ve,2)}function di(ve){var ye=it();if(typeof ve=="function"){var we=ve;if(ve=we(),ko){rt(!0);try{we()}finally{rt(!1)}}}return ye.memoizedState=ye.baseState=ve,ye.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:ve},ye}function yi(ve,ye,we,Ue){return ve.baseState=we,Rn(ve,Jn,typeof Ue=="function"?Ue:pn)}function jn(ve,ye,we,Ue,ze){if(_o(ve))throw Error(ce(485));if(ve=ye.action,ve!==null){var qe={payload:ze,action:ve,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ut){qe.listeners.push(ut)}};ii.T!==null?we(!0):qe.isTransition=!1,Ue(qe),we=ye.pending,we===null?(qe.next=ye.pending=qe,ki(ye,qe)):(qe.next=we.next,ye.pending=we.next=qe)}}function ki(ve,ye){var we=ye.action,Ue=ye.payload,ze=ve.state;if(ye.isTransition){var qe=ii.T,ut={};ii.T=ut;try{var Tt=we(ze,Ue),Ht=ii.S;Ht!==null&&Ht(ut,Tt),hi(ve,ye,Tt)}catch(fn){ca(ve,ye,fn)}finally{ii.T=qe}}else try{qe=we(ze,Ue),hi(ve,ye,qe)}catch(fn){ca(ve,ye,fn)}}function hi(ve,ye,we){we!==null&&typeof we=="object"&&typeof we.then=="function"?we.then(function(Ue){mr(ve,ye,Ue)},function(Ue){return ca(ve,ye,Ue)}):mr(ve,ye,we)}function mr(ve,ye,we){ye.status="fulfilled",ye.value=we,Ui(ye),ve.state=we,ye=ve.pending,ye!==null&&(we=ye.next,we===ye?ve.pending=null:(we=we.next,ye.next=we,ki(ve,we)))}function ca(ve,ye,we){var Ue=ve.pending;if(ve.pending=null,Ue!==null){Ue=Ue.next;do ye.status="rejected",ye.reason=we,Ui(ye),ye=ye.next;while(ye!==Ue)}ve.action=null}function Ui(ve){ve=ve.listeners;for(var ye=0;ye<ve.length;ye++)(0,ve[ye])()}function gr(ve,ye){return ye}function Pi(ve,ye){if(Ci){var we=Ii.formState;if(we!==null){e:{var Ue=mi;if(Ci){if(Xr){var ze=Of(Xr,Fr);if(ze){Xr=Lf(ze),Ue=Pd(ze);break e}}Dt(Ue)}Ue=!1}Ue&&(ye=we[0])}}we=it(),we.memoizedState=we.baseState=ye,Ue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:ye},we.queue=Ue,we=bl.bind(null,mi,Ue),Ue.dispatch=we,Ue=di(!1);var qe=Vs.bind(null,mi,!1,Ue.queue);return Ue=it(),ze={state:ye,dispatch:null,action:ve,pending:null},Ue.queue=ze,we=jn.bind(null,mi,ze,qe,we),ze.dispatch=we,Ue.memoizedState=ve,[ye,we,!1]}function lr(ve){var ye=Ot();return Yi(ye,Jn,ve)}function Yi(ve,ye,we){ye=Rn(ve,ye,gr)[0],ve=En(pn)[0],ye=typeof ye=="object"&&ye!==null&&typeof ye.then=="function"?jt(ye):ye;var Ue=Ot(),ze=Ue.queue,qe=ze.dispatch;return we!==Ue.memoizedState&&(mi.flags|=2048,Tr(9,vr.bind(null,ze,we),{destroy:void 0},null)),[ye,qe,ve]}function vr(ve,ye){ve.action=ye}function rr(ve){var ye=Ot(),we=Jn;if(we!==null)return Yi(ye,we,ve);Ot(),ye=ye.memoizedState,we=Ot();var Ue=we.queue.dispatch;return we.memoizedState=ve,[ye,Ue,!1]}function Tr(ve,ye,we,Ue){return ve={tag:ve,create:ye,inst:we,deps:Ue,next:null},ye=mi.updateQueue,ye===null&&(ye=Ou(),mi.updateQueue=ye),we=ye.lastEffect,we===null?ye.lastEffect=ve.next=ve:(Ue=we.next,we.next=ve,ve.next=Ue,ye.lastEffect=ve),ve}function ua(){return Ot().memoizedState}function mo(ve,ye,we,Ue){var ze=it();mi.flags|=ve,ze.memoizedState=Tr(1|ye,we,{destroy:void 0},Ue===void 0?null:Ue)}function go(ve,ye,we,Ue){var ze=Ot();Ue=Ue===void 0?null:Ue;var qe=ze.memoizedState.inst;Jn!==null&&Ue!==null&&gi(Ue,Jn.memoizedState.deps)?ze.memoizedState=Tr(ye,we,qe,Ue):(mi.flags|=ve,ze.memoizedState=Tr(1|ye,we,qe,Ue))}function vo(ve,ye){mo(8390656,8,ve,ye)}function Ns(ve,ye){go(2048,8,ve,ye)}function oc(ve,ye){return go(4,2,ve,ye)}function vs(ve,ye){return go(4,4,ve,ye)}function ns(ve,ye){if(typeof ye=="function"){ve=ve();var we=ye(ve);return function(){typeof we=="function"?we():ye(null)}}if(ye!=null)return ve=ve(),ye.current=ve,function(){ye.current=null}}function rs(ve,ye,we){we=we!=null?we.concat([ve]):null,go(4,4,ns.bind(null,ye,ve),we)}function fa(){}function _s(ve,ye){var we=Ot();ye=ye===void 0?null:ye;var Ue=we.memoizedState;return ye!==null&&gi(ye,Ue[1])?Ue[0]:(we.memoizedState=[ve,ye],ve)}function Fs(ve,ye){var we=Ot();ye=ye===void 0?null:ye;var Ue=we.memoizedState;if(ye!==null&&gi(ye,Ue[1]))return Ue[0];if(Ue=ve(),ko){rt(!0);try{ve()}finally{rt(!1)}}return we.memoizedState=[Ue,ye],Ue}function Is(ve,ye,we){return we===void 0||(uo&1073741824)!==0?ve.memoizedState=ye:(ve.memoizedState=we,ve=cf(),mi.lanes|=ve,Na|=ve,we)}function Ko(ve,ye,we,Ue){return Sa(we,ye)?we:Ji.current!==null?(ve=Is(ve,we,Ue),Sa(ve,ye)||(Xi=!0),ve):(uo&42)===0?(Xi=!0,ve.memoizedState=we):(ve=cf(),mi.lanes|=ve,Na|=ve,ye)}function Gs(ve,ye,we,Ue,ze){var qe=ao();Yr(qe!==0&&8>qe?qe:8);var ut=ii.T,Tt={};ii.T=Tt,Vs(ve,!1,ye,we);try{var Ht=ze(),fn=ii.S;if(fn!==null&&fn(Tt,Ht),Ht!==null&&typeof Ht=="object"&&typeof Ht.then=="function"){var An=Mn(Ht,Ue);Ga(ve,ye,An,xr(ve))}else Ga(ve,ye,Ue,xr(ve))}catch(Ln){Ga(ve,ye,{then:function(){},status:"rejected",reason:Ln},xr())}finally{Yr(qe),ii.T=ut}}function Zr(ve){var ye=ve.memoizedState;if(ye!==null)return ye;ye={memoizedState:Lo,baseState:Lo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:Lo},next:null};var we={};return ye.next={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:we},next:null},ve.memoizedState=ye,ve=ve.alternate,ve!==null&&(ve.memoizedState=ye),ye}function zs(){return zr(ls)}function Hs(){return Ot().memoizedState}function _r(){return Ot().memoizedState}function Jo(ve){for(var ye=ve.return;ye!==null;){switch(ye.tag){case 24:case 3:var we=xr();ve=vn(we);var Ue=hn(ye,ve,we);Ue!==null&&(Pr(Ue,ye,we),Qt(Ue,ye,we)),ye={cache:So()},ve.payload=ye;return}ye=ye.return}}function Qo(ve,ye,we){var Ue=xr();we={lane:Ue,revertLane:0,action:we,hasEagerState:!1,eagerState:null,next:null},_o(ve)?yr(ye,we):(we=Nt(ve,ye,we,Ue),we!==null&&(Pr(we,ve,Ue),da(we,ye,Ue)))}function bl(ve,ye,we){var Ue=xr();Ga(ve,ye,we,Ue)}function Ga(ve,ye,we,Ue){var ze={lane:Ue,revertLane:0,action:we,hasEagerState:!1,eagerState:null,next:null};if(_o(ve))yr(ye,ze);else{var qe=ve.alternate;if(ve.lanes===0&&(qe===null||qe.lanes===0)&&(qe=ye.lastRenderedReducer,qe!==null))try{var ut=ye.lastRenderedState,Tt=qe(ut,we);if(ze.hasEagerState=!0,ze.eagerState=Tt,Sa(Tt,ut))return Sn(ve,ye,ze,0),Ii===null&&pt(),!1}catch{}finally{}if(we=Nt(ve,ye,ze,Ue),we!==null)return Pr(we,ve,Ue),da(we,ye,Ue),!0}return!1}function Vs(ve,ye,we,Ue){if(Ue={lane:2,revertLane:zt(),action:Ue,hasEagerState:!1,eagerState:null,next:null},_o(ve)){if(ye)throw Error(ce(479))}else ye=Nt(ve,we,Ue,2),ye!==null&&Pr(ye,ve,2)}function _o(ve){var ye=ve.alternate;return ve===mi||ye!==null&&ye===mi}function yr(ve,ye){gl=Ja=!0;var we=ve.pending;we===null?ye.next=ye:(ye.next=we.next,we.next=ye),ve.pending=ye}function da(ve,ye,we){if((we&4194176)!==0){var Ue=ye.lanes;Ue&=ve.pendingLanes,we|=Ue,ye.lanes=we,at(ve,we)}}function ea(ve,ye,we,Ue){ye=ve.memoizedState,we=we(Ue,ye),we=we==null?ye:fu({},ye,we),ve.memoizedState=we,ve.lanes===0&&(ve.updateQueue.baseState=we)}function ks(ve,ye,we,Ue,ze,qe,ut){return ve=ve.stateNode,typeof ve.shouldComponentUpdate=="function"?ve.shouldComponentUpdate(Ue,qe,ut):ye.prototype&&ye.prototype.isPureReactComponent?!Gt(we,Ue)||!Gt(ze,qe):!0}function El(ve,ye,we,Ue){ve=ye.state,typeof ye.componentWillReceiveProps=="function"&&ye.componentWillReceiveProps(we,Ue),typeof ye.UNSAFE_componentWillReceiveProps=="function"&&ye.UNSAFE_componentWillReceiveProps(we,Ue),ye.state!==ve&&Rs.enqueueReplaceState(ye,ye.state,null)}function ba(ve,ye){var we=ye;if("ref"in ye){we={};for(var Ue in ye)Ue!=="ref"&&(we[Ue]=ye[Ue])}if(ve=ve.defaultProps){we===ye&&(we=fu({},we));for(var ze in ve)we[ze]===void 0&&(we[ze]=ve[ze])}return we}function za(ve,ye){try{var we=ve.onUncaughtError;we(ye.value,{componentStack:ye.stack})}catch(Ue){setTimeout(function(){throw Ue})}}function $s(ve,ye,we){try{var Ue=ve.onCaughtError;Ue(we.value,{componentStack:we.stack,errorBoundary:ye.tag===1?ye.stateNode:null})}catch(ze){setTimeout(function(){throw ze})}}function Ha(ve,ye,we){return we=vn(we),we.tag=3,we.payload={element:null},we.callback=function(){za(ve,ye)},we}function Zo(ve){return ve=vn(ve),ve.tag=3,ve}function Wr(ve,ye,we,Ue){var ze=we.type.getDerivedStateFromError;if(typeof ze=="function"){var qe=Ue.value;ve.payload=function(){return ze(qe)},ve.callback=function(){$s(ye,we,Ue)}}var ut=we.stateNode;ut!==null&&typeof ut.componentDidCatch=="function"&&(ve.callback=function(){$s(ye,we,Ue),typeof ze!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var Tt=Ue.stack;this.componentDidCatch(Ue.value,{componentStack:Tt!==null?Tt:""})})}function $u(ve,ye,we,Ue,ze){if(we.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){if(ye=we.alternate,ye!==null&&dc(ye,we,ze,!0),we=Da.current,we!==null){switch(we.tag){case 13:return ji===null?Zs():we.alternate===null&&Wi===0&&(Wi=3),we.flags&=-257,we.flags|=65536,we.lanes=ze,Ue===$c?we.flags|=16384:(ye=we.updateQueue,ye===null?we.updateQueue=new Set([Ue]):ye.add(Ue),nl(ve,Ue,ze)),!1;case 22:return we.flags|=65536,Ue===$c?we.flags|=16384:(ye=we.updateQueue,ye===null?(ye={transitions:null,markerInstances:null,retryQueue:new Set([Ue])},we.updateQueue=ye):(we=ye.retryQueue,we===null?ye.retryQueue=new Set([Ue]):we.add(Ue)),nl(ve,Ue,ze)),!1}throw Error(ce(435,we.tag))}return nl(ve,Ue,ze),Zs(),!1}if(Ci)return ye=Da.current,ye!==null?((ye.flags&65536)===0&&(ye.flags|=256),ye.flags|=65536,ye.lanes=ze,Ue!==Hc&&(ve=Error(ce(422),{cause:Ue}),on(_t(ve,we)))):(Ue!==Hc&&(ye=Error(ce(423),{cause:Ue}),on(_t(ye,we))),ve=ve.current.alternate,ve.flags|=65536,ze&=-ze,ve.lanes|=ze,Ue=_t(Ue,we),ze=Ha(ve.stateNode,Ue,ze),Cn(ve,ze),Wi!==4&&(Wi=2)),!1;var qe=Error(ce(520),{cause:Ue});if(qe=_t(qe,we),yl===null?yl=[qe]:yl.push(qe),Wi!==4&&(Wi=2),ye===null)return!0;Ue=_t(Ue,we),we=ye;do{switch(we.tag){case 3:return we.flags|=65536,ve=ze&-ze,we.lanes|=ve,ve=Ha(we.stateNode,Ue,ve),Cn(we,ve),!1;case 1:if(ye=we.type,qe=we.stateNode,(we.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(jo===null||!jo.has(qe))))return we.flags|=65536,ze&=-ze,we.lanes|=ze,ze=Zo(ze),Wr(ze,ve,we,Ue),Cn(we,ze),!1}we=we.return}while(we!==null);return!1}function cr(ve,ye,we,Ue){ye.child=ve===null?Cs(ye,null,we,Ue):Vo(ye,ve.child,we,Ue)}function js(ve,ye,we,Ue,ze){we=we.render;var qe=ye.ref;if("ref"in Ue){var ut={};for(var Tt in Ue)Tt!=="ref"&&(ut[Tt]=Ue[Tt])}else ut=Ue;return xo(ye),Ue=oi(ve,ye,we,ut,qe,ze),Tt=pr(),ve!==null&&!Xi?(qi(ve,ye,ze),Xs(ve,ye,ze)):(Ci&&Tt&&ft(ye),ye.flags|=1,cr(ve,ye,Ue,ze),ye.child)}function lc(ve,ye,we,Ue,ze){if(ve===null){var qe=we.type;return typeof qe=="function"&&!Tc(qe)&&qe.defaultProps===void 0&&we.compare===null?(ye.tag=15,ye.type=qe,qc(ve,ye,qe,Ue,ze)):(ve=Ss(we.type,null,Ue,ye,ye.mode,ze),ve.ref=ye.ref,ve.return=ye,ye.child=ve)}if(qe=ve.child,!Yu(ve,ze)){var ut=qe.memoizedProps;if(we=we.compare,we=we!==null?we:Gt,we(ut,Ue)&&ve.ref===ye.ref)return Xs(ve,ye,ze)}return ye.flags|=1,ve=$a(qe,Ue),ve.ref=ye.ref,ve.return=ye,ye.child=ve}function qc(ve,ye,we,Ue,ze){if(ve!==null){var qe=ve.memoizedProps;if(Gt(qe,Ue)&&ve.ref===ye.ref)if(Xi=!1,ye.pendingProps=Ue=qe,Yu(ve,ze))(ve.flags&131072)!==0&&(Xi=!0);else return ye.lanes=ve.lanes,Xs(ve,ye,ze)}return Ea(ve,ye,we,Ue,ze)}function Gr(ve,ye,we){var Ue=ye.pendingProps,ze=Ue.children,qe=(ye.stateNode._pendingVisibility&2)!==0,ut=ve!==null?ve.memoizedState:null;if(Mr(ve,ye),Ue.mode==="hidden"||qe){if((ye.flags&128)!==0){if(Ue=ut!==null?ut.baseLanes|we:we,ve!==null){for(ze=ye.child=ve.child,qe=0;ze!==null;)qe=qe|ze.lanes|ze.childLanes,ze=ze.sibling;ye.childLanes=qe&~Ue}else ye.childLanes=0,ye.child=null;return ha(ve,ye,Ue,we)}if((we&536870912)!==0)ye.memoizedState={baseLanes:0,cachePool:null},ve!==null&&Kc(ye,ut!==null?ut.cachePool:null),ut!==null?_n(ye,ut):On(),Ri(ye);else return ye.lanes=ye.childLanes=536870912,ha(ve,ye,ut!==null?ut.baseLanes|we:we,we)}else ut!==null?(Kc(ye,ut.cachePool),_n(ye,ut),qn(),ye.memoizedState=null):(ve!==null&&Kc(ye,null),On(),qn());return cr(ve,ye,ze,we),ye.child}function ha(ve,ye,we,Ue){var ze=Ju();return ze=ze===null?null:{parent:ia?Qi._currentValue:Qi._currentValue2,pool:ze},ye.memoizedState={baseLanes:we,cachePool:ze},ve!==null&&Kc(ye,null),On(),Ri(ye),ve!==null&&dc(ve,ye,Ue,!0),null}function Mr(ve,ye){var we=ye.ref;if(we===null)ve!==null&&ve.ref!==null&&(ye.flags|=2097664);else{if(typeof we!="function"&&typeof we!="object")throw Error(ce(284));(ve===null||ve.ref!==we)&&(ye.flags|=2097664)}}function Ea(ve,ye,we,Ue,ze){return xo(ye),we=oi(ve,ye,we,Ue,void 0,ze),Ue=pr(),ve!==null&&!Xi?(qi(ve,ye,ze),Xs(ve,ye,ze)):(Ci&&Ue&&ft(ye),ye.flags|=1,cr(ve,ye,we,ze),ye.child)}function cc(ve,ye,we,Ue,ze,qe){return xo(ye),ye.updateQueue=null,we=Ei(ye,Ue,we,ze),or(ve),Ue=pr(),ve!==null&&!Xi?(qi(ve,ye,qe),Xs(ve,ye,qe)):(Ci&&Ue&&ft(ye),ye.flags|=1,cr(ve,ye,we,qe),ye.child)}function Zf(ve,ye,we,Ue,ze){if(xo(ye),ye.stateNode===null){var qe=Fo,ut=we.contextType;typeof ut=="object"&&ut!==null&&(qe=zr(ut)),qe=new we(Ue,qe),ye.memoizedState=qe.state!==null&&qe.state!==void 0?qe.state:null,qe.updater=Rs,ye.stateNode=qe,qe._reactInternals=ye,qe=ye.stateNode,qe.props=Ue,qe.state=ye.memoizedState,qe.refs={},rn(ye),ut=we.contextType,qe.context=typeof ut=="object"&&ut!==null?zr(ut):Fo,qe.state=ye.memoizedState,ut=we.getDerivedStateFromProps,typeof ut=="function"&&(ea(ye,we,ut,Ue),qe.state=ye.memoizedState),typeof we.getDerivedStateFromProps=="function"||typeof qe.getSnapshotBeforeUpdate=="function"||typeof qe.UNSAFE_componentWillMount!="function"&&typeof qe.componentWillMount!="function"||(ut=qe.state,typeof qe.componentWillMount=="function"&&qe.componentWillMount(),typeof qe.UNSAFE_componentWillMount=="function"&&qe.UNSAFE_componentWillMount(),ut!==qe.state&&Rs.enqueueReplaceState(qe,qe.state,null),Xn(ye,Ue,qe,ze),Tn(),qe.state=ye.memoizedState),typeof qe.componentDidMount=="function"&&(ye.flags|=4194308),Ue=!0}else if(ve===null){qe=ye.stateNode;var Tt=ye.memoizedProps,Ht=ba(we,Tt);qe.props=Ht;var fn=qe.context,An=we.contextType;ut=Fo,typeof An=="object"&&An!==null&&(ut=zr(An));var Ln=we.getDerivedStateFromProps;An=typeof Ln=="function"||typeof qe.getSnapshotBeforeUpdate=="function",Tt=ye.pendingProps!==Tt,An||typeof qe.UNSAFE_componentWillReceiveProps!="function"&&typeof qe.componentWillReceiveProps!="function"||(Tt||fn!==ut)&&El(ye,qe,Ue,ut),co=!1;var Nn=ye.memoizedState;qe.state=Nn,Xn(ye,Ue,qe,ze),Tn(),fn=ye.memoizedState,Tt||Nn!==fn||co?(typeof Ln=="function"&&(ea(ye,we,Ln,Ue),fn=ye.memoizedState),(Ht=co||ks(ye,we,Ht,Ue,Nn,fn,ut))?(An||typeof qe.UNSAFE_componentWillMount!="function"&&typeof qe.componentWillMount!="function"||(typeof qe.componentWillMount=="function"&&qe.componentWillMount(),typeof qe.UNSAFE_componentWillMount=="function"&&qe.UNSAFE_componentWillMount()),typeof qe.componentDidMount=="function"&&(ye.flags|=4194308)):(typeof qe.componentDidMount=="function"&&(ye.flags|=4194308),ye.memoizedProps=Ue,ye.memoizedState=fn),qe.props=Ue,qe.state=fn,qe.context=ut,Ue=Ht):(typeof qe.componentDidMount=="function"&&(ye.flags|=4194308),Ue=!1)}else{qe=ye.stateNode,cn(ve,ye),ut=ye.memoizedProps,An=ba(we,ut),qe.props=An,Ln=ye.pendingProps,Nn=qe.context,fn=we.contextType,Ht=Fo,typeof fn=="object"&&fn!==null&&(Ht=zr(fn)),Tt=we.getDerivedStateFromProps,(fn=typeof Tt=="function"||typeof qe.getSnapshotBeforeUpdate=="function")||typeof qe.UNSAFE_componentWillReceiveProps!="function"&&typeof qe.componentWillReceiveProps!="function"||(ut!==Ln||Nn!==Ht)&&El(ye,qe,Ue,Ht),co=!1,Nn=ye.memoizedState,qe.state=Nn,Xn(ye,Ue,qe,ze),Tn();var ci=ye.memoizedState;ut!==Ln||Nn!==ci||co||ve!==null&&ve.dependencies!==null&&hc(ve.dependencies)?(typeof Tt=="function"&&(ea(ye,we,Tt,Ue),ci=ye.memoizedState),(An=co||ks(ye,we,An,Ue,Nn,ci,Ht)||ve!==null&&ve.dependencies!==null&&hc(ve.dependencies))?(fn||typeof qe.UNSAFE_componentWillUpdate!="function"&&typeof qe.componentWillUpdate!="function"||(typeof qe.componentWillUpdate=="function"&&qe.componentWillUpdate(Ue,ci,Ht),typeof qe.UNSAFE_componentWillUpdate=="function"&&qe.UNSAFE_componentWillUpdate(Ue,ci,Ht)),typeof qe.componentDidUpdate=="function"&&(ye.flags|=4),typeof qe.getSnapshotBeforeUpdate=="function"&&(ye.flags|=1024)):(typeof qe.componentDidUpdate!="function"||ut===ve.memoizedProps&&Nn===ve.memoizedState||(ye.flags|=4),typeof qe.getSnapshotBeforeUpdate!="function"||ut===ve.memoizedProps&&Nn===ve.memoizedState||(ye.flags|=1024),ye.memoizedProps=Ue,ye.memoizedState=ci),qe.props=Ue,qe.state=ci,qe.context=Ht,Ue=An):(typeof qe.componentDidUpdate!="function"||ut===ve.memoizedProps&&Nn===ve.memoizedState||(ye.flags|=4),typeof qe.getSnapshotBeforeUpdate!="function"||ut===ve.memoizedProps&&Nn===ve.memoizedState||(ye.flags|=1024),Ue=!1)}return qe=Ue,Mr(ve,ye),Ue=(ye.flags&128)!==0,qe||Ue?(qe=ye.stateNode,we=Ue&&typeof we.getDerivedStateFromError!="function"?null:qe.render(),ye.flags|=1,ve!==null&&Ue?(ye.child=Vo(ye,ve.child,null,ze),ye.child=Vo(ye,null,we,ze)):cr(ve,ye,we,ze),ye.memoizedState=qe.state,ve=ye.child):ve=Xs(ve,ye,ze),ve}function ed(ve,ye,we,Ue){return Wt(),ye.flags|=256,cr(ve,ye,we,Ue),ye.child}function ju(ve){return{baseLanes:ve,cachePool:Qu()}}function uc(ve,ye,we){return ve=ve!==null?ve.childLanes&~we:0,ye&&(ve|=Fa),ve}function td(ve,ye,we){var Ue=ye.pendingProps,ze=!1,qe=(ye.flags&128)!==0,ut;if((ut=qe)||(ut=ve!==null&&ve.memoizedState===null?!1:(Or.current&2)!==0),ut&&(ze=!0,ye.flags&=-129),ut=(ye.flags&32)!==0,ye.flags&=-33,ve===null){if(Ci){if(ze?In(ye):qn(),Ci){var Tt=Xr,Ht;(Ht=Tt)&&(Tt=Id(Tt,Fr),Tt!==null?(ye.memoizedState={dehydrated:Tt,treeContext:Io!==null?{id:us,overflow:fs}:null,retryLane:536870912},Ht=ae(18,null,null,0),Ht.stateNode=Tt,Ht.return=ye,ye.child=Ht,jr=ye,Xr=null,Ht=!0):Ht=!1),Ht||Dt(ye)}if(Tt=ye.memoizedState,Tt!==null&&(Tt=Tt.dehydrated,Tt!==null))return Su(Tt)?ye.lanes=16:ye.lanes=536870912,null;ti(ye)}return Tt=Ue.children,Ue=Ue.fallback,ze?(qn(),ze=ye.mode,Tt=Wu({mode:"hidden",children:Tt},ze),Ue=ur(Ue,ze,we,null),Tt.return=ye,Ue.return=ye,Tt.sibling=Ue,ye.child=Tt,ze=ye.child,ze.memoizedState=ju(we),ze.childLanes=uc(ve,ut,we),ye.memoizedState=Pu,Ue):(In(ye),Xu(ye,Tt))}if(Ht=ve.memoizedState,Ht!==null&&(Tt=Ht.dehydrated,Tt!==null)){if(qe)ye.flags&256?(In(ye),ye.flags&=-257,ye=Yc(ve,ye,we)):ye.memoizedState!==null?(qn(),ye.child=ve.child,ye.flags|=128,ye=null):(qn(),ze=Ue.fallback,Tt=ye.mode,Ue=Wu({mode:"visible",children:Ue.children},Tt),ze=ur(ze,Tt,we,null),ze.flags|=2,Ue.return=ye,ze.return=ye,Ue.sibling=ze,ye.child=Ue,Vo(ye,ve.child,null,we),Ue=ye.child,Ue.memoizedState=ju(we),Ue.childLanes=uc(ve,ut,we),ye.memoizedState=Pu,ye=ze);else if(In(ye),Su(Tt))ut=Ld(Tt).digest,Ue=Error(ce(419)),Ue.stack="",Ue.digest=ut,on({value:Ue,source:null,stack:null}),ye=Yc(ve,ye,we);else if(Xi||dc(ve,ye,we,!1),ut=(we&ve.childLanes)!==0,Xi||ut){if(ut=Ii,ut!==null){if(Ue=we&-we,(Ue&42)!==0)Ue=1;else switch(Ue){case 2:Ue=1;break;case 8:Ue=4;break;case 32:Ue=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Ue=64;break;case 268435456:Ue=134217728;break;default:Ue=0}if(Ue=(Ue&(ut.suspendedLanes|we))!==0?0:Ue,Ue!==0&&Ue!==Ht.retryLane)throw Ht.retryLane=Ue,ht(ve,Ue),Pr(ut,ve,Ue),Uu}xu(Tt)||Zs(),ye=Yc(ve,ye,we)}else xu(Tt)?(ye.flags|=128,ye.child=ve.child,ye=eo.bind(null,ve),Ud(Tt,ye),ye=null):(ve=Ht.treeContext,$r&&(Xr=Fd(Tt),jr=ye,Ci=!0,Ya=null,Fr=!1,ve!==null&&(Ra[wa++]=us,Ra[wa++]=fs,Ra[wa++]=Io,us=ve.id,fs=ve.overflow,Io=ye)),ye=Xu(ye,Ue.children),ye.flags|=4096);return ye}return ze?(qn(),ze=Ue.fallback,Tt=ye.mode,Ht=ve.child,qe=Ht.sibling,Ue=$a(Ht,{mode:"hidden",children:Ue.children}),Ue.subtreeFlags=Ht.subtreeFlags&31457280,qe!==null?ze=$a(qe,ze):(ze=ur(ze,Tt,we,null),ze.flags|=2),ze.return=ye,Ue.return=ye,Ue.sibling=ze,ye.child=Ue,Ue=ze,ze=ye.child,Tt=ve.child.memoizedState,Tt===null?Tt=ju(we):(Ht=Tt.cachePool,Ht!==null?(qe=ia?Qi._currentValue:Qi._currentValue2,Ht=Ht.parent!==qe?{parent:qe,pool:qe}:Ht):Ht=Qu(),Tt={baseLanes:Tt.baseLanes|we,cachePool:Ht}),ze.memoizedState=Tt,ze.childLanes=uc(ve,ut,we),ye.memoizedState=Pu,Ue):(In(ye),we=ve.child,ve=we.sibling,we=$a(we,{mode:"visible",children:Ue.children}),we.return=ye,we.sibling=null,ve!==null&&(ut=ye.deletions,ut===null?(ye.deletions=[ve],ye.flags|=16):ut.push(ve)),ye.child=we,ye.memoizedState=null,we)}function Xu(ve,ye){return ye=Wu({mode:"visible",children:ye},ve.mode),ye.return=ve,ve.child=ye}function Wu(ve,ye){return Cc(ve,ye,0,null)}function Yc(ve,ye,we){return Vo(ye,ve.child,null,we),ve=Xu(ye,ye.pendingProps.children),ve.flags|=2,ye.memoizedState=null,ve}function nd(ve,ye,we){ve.lanes|=ye;var Ue=ve.alternate;Ue!==null&&(Ue.lanes|=ye),fc(ve.return,ye,we)}function qu(ve,ye,we,Ue,ze){var qe=ve.memoizedState;qe===null?ve.memoizedState={isBackwards:ye,rendering:null,renderingStartTime:0,last:Ue,tail:we,tailMode:ze}:(qe.isBackwards=ye,qe.rendering=null,qe.renderingStartTime=0,qe.last=Ue,qe.tail=we,qe.tailMode=ze)}function id(ve,ye,we){var Ue=ye.pendingProps,ze=Ue.revealOrder,qe=Ue.tail;if(cr(ve,ye,Ue.children,we),Ue=Or.current,(Ue&2)!==0)Ue=Ue&1|2,ye.flags|=128;else{if(ve!==null&&(ve.flags&128)!==0)e:for(ve=ye.child;ve!==null;){if(ve.tag===13)ve.memoizedState!==null&&nd(ve,we,ye);else if(ve.tag===19)nd(ve,we,ye);else if(ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===ye)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===ye)break e;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}Ue&=1}switch(Pe(Or,Ue),ze){case"forwards":for(we=ye.child,ze=null;we!==null;)ve=we.alternate,ve!==null&&si(ve)===null&&(ze=we),we=we.sibling;we=ze,we===null?(ze=ye.child,ye.child=null):(ze=we.sibling,we.sibling=null),qu(ye,!1,ze,we,qe);break;case"backwards":for(we=null,ze=ye.child,ye.child=null;ze!==null;){if(ve=ze.alternate,ve!==null&&si(ve)===null){ye.child=ze;break}ve=ze.sibling,ze.sibling=we,we=ze,ze=ve}qu(ye,!0,we,null,qe);break;case"together":qu(ye,!1,null,null,void 0);break;default:ye.memoizedState=null}return ye.child}function Xs(ve,ye,we){if(ve!==null&&(ye.dependencies=ve.dependencies),Na|=ye.lanes,(we&ye.childLanes)===0)if(ve!==null){if(dc(ve,ye,we,!1),(we&ye.childLanes)===0)return null}else return null;if(ve!==null&&ye.child!==ve.child)throw Error(ce(153));if(ye.child!==null){for(ve=ye.child,we=$a(ve,ve.pendingProps),ye.child=we,we.return=ye;ve.sibling!==null;)ve=ve.sibling,we=we.sibling=$a(ve,ve.pendingProps),we.return=ye;we.sibling=null}return ye.child}function Yu(ve,ye){return(ve.lanes&ye)!==0?!0:(ve=ve.dependencies,!!(ve!==null&&hc(ve)))}function _h(ve,ye,we){switch(ye.tag){case 3:st(ye,ye.stateNode.containerInfo),yo(ye,Qi,ve.memoizedState.cache),Wt();break;case 27:case 5:Et(ye);break;case 4:st(ye,ye.stateNode.containerInfo);break;case 10:yo(ye,ye.type,ye.memoizedProps.value);break;case 13:var Ue=ye.memoizedState;if(Ue!==null)return Ue.dehydrated!==null?(In(ye),ye.flags|=128,null):(we&ye.child.childLanes)!==0?td(ve,ye,we):(In(ye),ve=Xs(ve,ye,we),ve!==null?ve.sibling:null);In(ye);break;case 19:var ze=(ve.flags&128)!==0;if(Ue=(we&ye.childLanes)!==0,Ue||(dc(ve,ye,we,!1),Ue=(we&ye.childLanes)!==0),ze){if(Ue)return id(ve,ye,we);ye.flags|=128}if(ze=ye.memoizedState,ze!==null&&(ze.rendering=null,ze.tail=null,ze.lastEffect=null),Pe(Or,Or.current),Ue)break;return null;case 22:case 23:return ye.lanes=0,Gr(ve,ye,we);case 24:yo(ye,Qi,ve.memoizedState.cache)}return Xs(ve,ye,we)}function rd(ve,ye,we){if(ve!==null)if(ve.memoizedProps!==ye.pendingProps)Xi=!0;else{if(!Yu(ve,we)&&(ye.flags&128)===0)return Xi=!1,_h(ve,ye,we);Xi=(ve.flags&131072)!==0}else Xi=!1,Ci&&(ye.flags&1048576)!==0&&et(ye,$l,ye.index);switch(ye.lanes=0,ye.tag){case 16:e:{ve=ye.pendingProps;var Ue=ye.elementType,ze=Ue._init;if(Ue=ze(Ue._payload),ye.type=Ue,typeof Ue=="function")Tc(Ue)?(ve=ba(Ue,ve),ye.tag=1,ye=Zf(null,ye,Ue,ve,we)):(ye.tag=0,ye=Ea(null,ye,Ue,ve,we));else{if(Ue!=null){if(ze=Ue.$$typeof,ze===Oc){ye.tag=11,ye=js(null,ye,Ue,ve,we);break e}else if(ze===pu){ye.tag=14,ye=lc(null,ye,Ue,ve,we);break e}}throw ye=fe(Ue)||Ue,Error(ce(306,ye,""))}}return ye;case 0:return Ea(ve,ye,ye.type,ye.pendingProps,we);case 1:return Ue=ye.type,ze=ba(Ue,ye.pendingProps),Zf(ve,ye,Ue,ze,we);case 3:e:{if(st(ye,ye.stateNode.containerInfo),ve===null)throw Error(ce(387));var qe=ye.pendingProps;ze=ye.memoizedState,Ue=ze.element,cn(ve,ye),Xn(ye,qe,null,we);var ut=ye.memoizedState;if(qe=ut.cache,yo(ye,Qi,qe),qe!==ze.cache&&el(ye,[Qi],we,!0),Tn(),qe=ut.element,$r&&ze.isDehydrated)if(ze={element:qe,isDehydrated:!1,cache:ut.cache},ye.updateQueue.baseState=ze,ye.memoizedState=ze,ye.flags&256){ye=ed(ve,ye,qe,we);break e}else if(qe!==Ue){Ue=_t(Error(ce(424)),ye),on(Ue),ye=ed(ve,ye,qe,we);break e}else for($r&&(Xr=Nd(ye.stateNode.containerInfo),jr=ye,Ci=!0,Ya=null,Fr=!0),we=Cs(ye,null,qe,we),ye.child=we;we;)we.flags=we.flags&-3|4096,we=we.sibling;else{if(Wt(),qe===Ue){ye=Xs(ve,ye,we);break e}cr(ve,ye,qe,we)}ye=ye.child}return ye;case 26:if(Ca)return Mr(ve,ye),ve===null?(we=Nf(ye.type,null,ye.pendingProps,null))?ye.memoizedState=we:Ci||(ye.stateNode=Mu(ye.type,ye.pendingProps,Ts.current,ye)):ye.memoizedState=Nf(ye.type,ve.memoizedProps,ye.pendingProps,ve.memoizedState),null;case 27:if($i)return Et(ye),ve===null&&$i&&Ci&&(Ue=ye.stateNode=cs(ye.type,ye.pendingProps,Ts.current,Dr.current,!1),jr=ye,Fr=!0,Xr=bu(Ue)),Ue=ye.pendingProps.children,ve!==null||Ci?cr(ve,ye,Ue,we):ye.child=Vo(ye,null,Ue,we),Mr(ve,ye),ye.child;case 5:return ve===null&&Ci&&(Au(ye.type,ye.pendingProps,Dr.current),(ze=Ue=Xr)&&(Ue=Th(Ue,ye.type,ye.pendingProps,Fr),Ue!==null?(ye.stateNode=Ue,jr=ye,Xr=bu(Ue),Fr=!1,ze=!0):ze=!1),ze||Dt(ye)),Et(ye),ze=ye.type,qe=ye.pendingProps,ut=ve!==null?ve.memoizedProps:null,Ue=qe.children,fi(ze,qe)?Ue=null:ut!==null&&fi(ze,ut)&&(ye.flags|=32),ye.memoizedState!==null&&(ze=oi(ve,ye,vi,null,null,we),ia?ls._currentValue=ze:ls._currentValue2=ze),Mr(ve,ye),cr(ve,ye,Ue,we),ye.child;case 6:return ve===null&&Ci&&(kd(ye.pendingProps,Dr.current),(ve=we=Xr)&&(we=Uf(we,ye.pendingProps,Fr),we!==null?(ye.stateNode=we,jr=ye,Xr=null,ve=!0):ve=!1),ve||Dt(ye)),null;case 13:return td(ve,ye,we);case 4:return st(ye,ye.stateNode.containerInfo),Ue=ye.pendingProps,ve===null?ye.child=Vo(ye,null,Ue,we):cr(ve,ye,Ue,we),ye.child;case 11:return js(ve,ye,ye.type,ye.pendingProps,we);case 7:return cr(ve,ye,ye.pendingProps,we),ye.child;case 8:return cr(ve,ye,ye.pendingProps.children,we),ye.child;case 12:return cr(ve,ye,ye.pendingProps.children,we),ye.child;case 10:return Ue=ye.pendingProps,yo(ye,ye.type,Ue.value),cr(ve,ye,Ue.children,we),ye.child;case 9:return ze=ye.type._context,Ue=ye.pendingProps.children,xo(ye),ze=zr(ze),Ue=Ue(ze),ye.flags|=1,cr(ve,ye,Ue,we),ye.child;case 14:return lc(ve,ye,ye.type,ye.pendingProps,we);case 15:return qc(ve,ye,ye.type,ye.pendingProps,we);case 19:return id(ve,ye,we);case 22:return Gr(ve,ye,we);case 24:return xo(ye),Ue=zr(Qi),ve===null?(ze=Ju(),ze===null&&(ze=Ii,qe=So(),ze.pooledCache=qe,qe.refCount++,qe!==null&&(ze.pooledCacheLanes|=we),ze=qe),ye.memoizedState={parent:Ue,cache:ze},rn(ye),yo(ye,Qi,ze)):((ve.lanes&we)!==0&&(cn(ve,ye),Xn(ye,null,null,we),Tn()),ze=ve.memoizedState,qe=ye.memoizedState,ze.parent!==Ue?(ze={parent:Ue,cache:Ue},ye.memoizedState=ze,ye.lanes===0&&(ye.memoizedState=ye.updateQueue.baseState=ze),yo(ye,Qi,Ue)):(Ue=qe.cache,yo(ye,Qi,Ue),Ue!==ze.cache&&el(ye,[Qi],we,!0))),cr(ve,ye,ye.pendingProps.children,we),ye.child;case 29:throw ye.pendingProps}throw Error(ce(156,ye.tag))}function yo(ve,ye,we){ia?(Pe(fo,ye._currentValue),ye._currentValue=we):(Pe(fo,ye._currentValue2),ye._currentValue2=we)}function Ws(ve){var ye=fo.current;ia?ve._currentValue=ye:ve._currentValue2=ye,Oe(fo)}function fc(ve,ye,we){for(;ve!==null;){var Ue=ve.alternate;if((ve.childLanes&ye)!==ye?(ve.childLanes|=ye,Ue!==null&&(Ue.childLanes|=ye)):Ue!==null&&(Ue.childLanes&ye)!==ye&&(Ue.childLanes|=ye),ve===we)break;ve=ve.return}}function el(ve,ye,we,Ue){var ze=ve.child;for(ze!==null&&(ze.return=ve);ze!==null;){var qe=ze.dependencies;if(qe!==null){var ut=ze.child;qe=qe.firstContext;e:for(;qe!==null;){var Tt=qe;qe=ze;for(var Ht=0;Ht<ye.length;Ht++)if(Tt.context===ye[Ht]){qe.lanes|=we,Tt=qe.alternate,Tt!==null&&(Tt.lanes|=we),fc(qe.return,we,ve),Ue||(ut=null);break e}qe=Tt.next}}else if(ze.tag===18){if(ut=ze.return,ut===null)throw Error(ce(341));ut.lanes|=we,qe=ut.alternate,qe!==null&&(qe.lanes|=we),fc(ut,we,ve),ut=null}else ut=ze.child;if(ut!==null)ut.return=ze;else for(ut=ze;ut!==null;){if(ut===ve){ut=null;break}if(ze=ut.sibling,ze!==null){ze.return=ut.return,ut=ze;break}ut=ut.return}ze=ut}}function dc(ve,ye,we,Ue){ve=null;for(var ze=ye,qe=!1;ze!==null;){if(!qe){if((ze.flags&524288)!==0)qe=!0;else if((ze.flags&262144)!==0)break}if(ze.tag===10){var ut=ze.alternate;if(ut===null)throw Error(ce(387));if(ut=ut.memoizedProps,ut!==null){var Tt=ze.type;Sa(ze.pendingProps.value,ut.value)||(ve!==null?ve.push(Tt):ve=[Tt])}}else if(ze===ul.current){if(ut=ze.alternate,ut===null)throw Error(ce(387));ut.memoizedState.memoizedState!==ze.memoizedState.memoizedState&&(ve!==null?ve.push(ls):ve=[ls])}ze=ze.return}ve!==null&&el(ye,ve,we,Ue),ye.flags|=262144}function hc(ve){for(ve=ve.firstContext;ve!==null;){var ye=ve.context;if(!Sa(ia?ye._currentValue:ye._currentValue2,ve.memoizedValue))return!0;ve=ve.next}return!1}function xo(ve){ps=ve,La=null,ve=ve.dependencies,ve!==null&&(ve.firstContext=null)}function zr(ve){return Ku(ps,ve)}function pc(ve,ye){return ps===null&&xo(ve),Ku(ve,ye)}function Ku(ve,ye){var we=ia?ye._currentValue:ye._currentValue2;if(ye={context:ye,memoizedValue:we,next:null},La===null){if(ve===null)throw Error(ce(308));La=ye,ve.dependencies={lanes:0,firstContext:ye},ve.flags|=524288}else La=La.next=ye;return we}function So(){return{controller:new Kl,data:new Map,refCount:0}}function mc(ve){ve.refCount--,ve.refCount===0&&eh(th,function(){ve.controller.abort()})}function Ju(){var ve=ws.current;return ve!==null?ve:Ii.pooledCache}function Kc(ve,ye){ye===null?Pe(ws,ws.current):Pe(ws,ye.pool)}function Qu(){var ve=Ju();return ve===null?null:{parent:ia?Qi._currentValue:Qi._currentValue2,pool:ve}}function pa(ve){ve.flags|=4}function Al(ve,ye){if(ve!==null&&ve.child===ye.child)return!1;if((ye.flags&16)!==0)return!0;for(ve=ye.child;ve!==null;){if((ve.flags&13878)!==0||(ve.subtreeFlags&13878)!==0)return!0;ve=ve.sibling}return!1}function tl(ve,ye,we,Ue){if(Br)for(we=ye.child;we!==null;){if(we.tag===5||we.tag===6)Uc(ve,we.stateNode);else if(!(we.tag===4||$i&&we.tag===27)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===ye)break;for(;we.sibling===null;){if(we.return===null||we.return===ye)return;we=we.return}we.sibling.return=we.return,we=we.sibling}else if(Wa)for(var ze=ye.child;ze!==null;){if(ze.tag===5){var qe=ze.stateNode;we&&Ue&&(qe=Bf(qe,ze.type,ze.memoizedProps)),Uc(ve,qe)}else if(ze.tag===6)qe=ze.stateNode,we&&Ue&&(qe=Df(qe,ze.memoizedProps)),Uc(ve,qe);else if(ze.tag!==4){if(ze.tag===22&&ze.memoizedState!==null)qe=ze.child,qe!==null&&(qe.return=ze),tl(ve,ze,!0,!0);else if(ze.child!==null){ze.child.return=ze,ze=ze.child;continue}}if(ze===ye)break;for(;ze.sibling===null;){if(ze.return===null||ze.return===ye)return;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}}function ad(ve,ye,we,Ue){if(Wa)for(var ze=ye.child;ze!==null;){if(ze.tag===5){var qe=ze.stateNode;we&&Ue&&(qe=Bf(qe,ze.type,ze.memoizedProps)),wf(ve,qe)}else if(ze.tag===6)qe=ze.stateNode,we&&Ue&&(qe=Df(qe,ze.memoizedProps)),wf(ve,qe);else if(ze.tag!==4){if(ze.tag===22&&ze.memoizedState!==null)qe=ze.child,qe!==null&&(qe.return=ze),ad(ve,ze,!(ze.memoizedProps!==null&&ze.memoizedProps.mode==="manual"),!0);else if(ze.child!==null){ze.child.return=ze,ze=ze.child;continue}}if(ze===ye)break;for(;ze.sibling===null;){if(ze.return===null||ze.return===ye)return;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}}function gc(ve,ye){if(Wa&&Al(ve,ye)){ve=ye.stateNode;var we=ve.containerInfo,Ue=Pc();ad(Ue,ye,!1,!1),ve.pendingChildren=Ue,pa(ye),yu(we,Ue)}}function Jc(ve,ye,we,Ue){if(Br)ve.memoizedProps!==Ue&&pa(ye);else if(Wa){var ze=ve.stateNode,qe=ve.memoizedProps;if((ve=Al(ve,ye))||qe!==Ue){var ut=Dr.current;qe=Hl(ze,we,qe,Ue,!ve,null),qe===ze?ye.stateNode=ze:(ro(qe,we,Ue,ut)&&pa(ye),ye.stateNode=qe,ve?tl(qe,ye,!1,!1):pa(ye))}else ye.stateNode=ze}}function Qc(ve,ye,we){if(Sf(ye,we)){if(ve.flags|=16777216,!vu(ye,we))if(Co())ve.flags|=8192;else throw Go=$c,kc}else ve.flags&=-16777217}function Zc(ve,ye){if(Xd(ye)){if(ve.flags|=16777216,!al(ye))if(Co())ve.flags|=8192;else throw Go=$c,kc}else ve.flags&=-16777217}function Tl(ve,ye){ye!==null&&(ve.flags|=4),ve.flags&16384&&(ye=ve.tag!==22?je():536870912,ve.lanes|=ye,Os|=ye)}function Ml(ve,ye){if(!Ci)switch(ve.tailMode){case"hidden":ye=ve.tail;for(var we=null;ye!==null;)ye.alternate!==null&&(we=ye),ye=ye.sibling;we===null?ve.tail=null:we.sibling=null;break;case"collapsed":we=ve.tail;for(var Ue=null;we!==null;)we.alternate!==null&&(Ue=we),we=we.sibling;Ue===null?ye||ve.tail===null?ve.tail=null:ve.tail.sibling=null:Ue.sibling=null}}function ir(ve){var ye=ve.alternate!==null&&ve.alternate.child===ve.child,we=0,Ue=0;if(ye)for(var ze=ve.child;ze!==null;)we|=ze.lanes|ze.childLanes,Ue|=ze.subtreeFlags&31457280,Ue|=ze.flags&31457280,ze.return=ve,ze=ze.sibling;else for(ze=ve.child;ze!==null;)we|=ze.lanes|ze.childLanes,Ue|=ze.subtreeFlags,Ue|=ze.flags,ze.return=ve,ze=ze.sibling;return ve.subtreeFlags|=Ue,ve.childLanes=we,ye}function sd(ve,ye,we){var Ue=ye.pendingProps;switch(yt(ye),ye.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ir(ye),null;case 1:return ir(ye),null;case 3:return we=ye.stateNode,Ue=null,ve!==null&&(Ue=ve.memoizedState.cache),ye.memoizedState.cache!==Ue&&(ye.flags|=2048),Ws(Qi),gt(),we.pendingContext&&(we.context=we.pendingContext,we.pendingContext=null),(ve===null||ve.child===null)&&(tn(ye)?pa(ye):ve===null||ve.memoizedState.isDehydrated&&(ye.flags&256)===0||(ye.flags|=1024,Ya!==null&&(Ec(Ya),Ya=null))),gc(ve,ye),ir(ye),null;case 26:if(Ca){we=ye.type;var ze=ye.memoizedState;return ve===null?(pa(ye),ze!==null?(ir(ye),Zc(ye,ze)):(ir(ye),Qc(ye,we,Ue))):ze?ze!==ve.memoizedState?(pa(ye),ir(ye),Zc(ye,ze)):(ir(ye),ye.flags&=-16777217):(Br?ve.memoizedProps!==Ue&&pa(ye):Jc(ve,ye,we,Ue),ir(ye),Qc(ye,we,Ue)),null}case 27:if($i){if(bt(ye),we=Ts.current,ze=ye.type,ve!==null&&ye.stateNode!=null)Br?ve.memoizedProps!==Ue&&pa(ye):Jc(ve,ye,ze,Ue);else{if(!Ue){if(ye.stateNode===null)throw Error(ce(166));return ir(ye),null}ve=Dr.current,tn(ye)?nn(ye,ve):(ve=cs(ze,Ue,we,ve,!0),ye.stateNode=ve,pa(ye))}return ir(ye),null}case 5:if(bt(ye),we=ye.type,ve!==null&&ye.stateNode!=null)Jc(ve,ye,we,Ue);else{if(!Ue){if(ye.stateNode===null)throw Error(ce(166));return ir(ye),null}ve=Dr.current,tn(ye)?nn(ye,ve):(ze=xf(we,Ue,Ts.current,ve,ye),tl(ze,ye,!1,!1),ye.stateNode=ze,ro(ze,we,Ue,ve)&&pa(ye))}return ir(ye),Qc(ye,ye.type,ye.pendingProps),null;case 6:if(ve&&ye.stateNode!=null)we=ve.memoizedProps,Br?we!==Ue&&pa(ye):Wa&&(we!==Ue?(ye.stateNode=zi(Ue,Ts.current,Dr.current,ye),pa(ye)):ye.stateNode=ve.stateNode);else{if(typeof Ue!="string"&&ye.stateNode===null)throw Error(ce(166));if(ve=Ts.current,we=Dr.current,tn(ye)){if(!$r)throw Error(ce(176));if(ve=ye.stateNode,we=ye.memoizedProps,Ue=null,ze=jr,ze!==null)switch(ze.tag){case 27:case 5:Ue=ze.memoizedProps}Pf(ve,we,ye,Ue)||Dt(ye)}else ye.stateNode=zi(Ue,ve,we,ye)}return ir(ye),null;case 13:if(Ue=ye.memoizedState,ve===null||ve.memoizedState!==null&&ve.memoizedState.dehydrated!==null){if(ze=tn(ye),Ue!==null&&Ue.dehydrated!==null){if(ve===null){if(!ze)throw Error(ce(318));if(!$r)throw Error(ce(344));if(ze=ye.memoizedState,ze=ze!==null?ze.dehydrated:null,!ze)throw Error(ce(317));zd(ze,ye)}else Wt(),(ye.flags&128)===0&&(ye.memoizedState=null),ye.flags|=4;ir(ye),ze=!1}else Ya!==null&&(Ec(Ya),Ya=null),ze=!0;if(!ze)return ye.flags&256?(ti(ye),ye):(ti(ye),null)}if(ti(ye),(ye.flags&128)!==0)return ye.lanes=we,ye;if(we=Ue!==null,ve=ve!==null&&ve.memoizedState!==null,we){Ue=ye.child,ze=null,Ue.alternate!==null&&Ue.alternate.memoizedState!==null&&Ue.alternate.memoizedState.cachePool!==null&&(ze=Ue.alternate.memoizedState.cachePool.pool);var qe=null;Ue.memoizedState!==null&&Ue.memoizedState.cachePool!==null&&(qe=Ue.memoizedState.cachePool.pool),qe!==ze&&(Ue.flags|=2048)}return we!==ve&&we&&(ye.child.flags|=8192),Tl(ye,ye.updateQueue),ir(ye),null;case 4:return gt(),gc(ve,ye),ve===null&&Sr(ye.stateNode.containerInfo),ir(ye),null;case 10:return Ws(ye.type),ir(ye),null;case 19:if(Oe(Or),ze=ye.memoizedState,ze===null)return ir(ye),null;if(Ue=(ye.flags&128)!==0,qe=ze.rendering,qe===null)if(Ue)Ml(ze,!1);else{if(Wi!==0||ve!==null&&(ve.flags&128)!==0)for(ve=ye.child;ve!==null;){if(qe=si(ve),qe!==null){for(ye.flags|=128,Ml(ze,!1),ve=qe.updateQueue,ye.updateQueue=ve,Tl(ye,ve),ye.subtreeFlags=0,ve=we,we=ye.child;we!==null;)Mc(we,ve),we=we.sibling;return Pe(Or,Or.current&1|2),ye.child}ve=ve.sibling}ze.tail!==null&&qa()>Zl&&(ye.flags|=128,Ue=!0,Ml(ze,!1),ye.lanes=4194304)}else{if(!Ue)if(ve=si(qe),ve!==null){if(ye.flags|=128,Ue=!0,ve=ve.updateQueue,ye.updateQueue=ve,Tl(ye,ve),Ml(ze,!0),ze.tail===null&&ze.tailMode==="hidden"&&!qe.alternate&&!Ci)return ir(ye),null}else 2*qa()-ze.renderingStartTime>Zl&&we!==536870912&&(ye.flags|=128,Ue=!0,Ml(ze,!1),ye.lanes=4194304);ze.isBackwards?(qe.sibling=ye.child,ye.child=qe):(ve=ze.last,ve!==null?ve.sibling=qe:ye.child=qe,ze.last=qe)}return ze.tail!==null?(ye=ze.tail,ze.rendering=ye,ze.tail=ye.sibling,ze.renderingStartTime=qa(),ye.sibling=null,ve=Or.current,Pe(Or,Ue?ve&1|2:ve&1),ye):(ir(ye),null);case 22:case 23:return ti(ye),Bn(),Ue=ye.memoizedState!==null,ve!==null?ve.memoizedState!==null!==Ue&&(ye.flags|=8192):Ue&&(ye.flags|=8192),Ue?(we&536870912)!==0&&(ye.flags&128)===0&&(ir(ye),ye.subtreeFlags&6&&(ye.flags|=8192)):ir(ye),we=ye.updateQueue,we!==null&&Tl(ye,we.retryQueue),we=null,ve!==null&&ve.memoizedState!==null&&ve.memoizedState.cachePool!==null&&(we=ve.memoizedState.cachePool.pool),Ue=null,ye.memoizedState!==null&&ye.memoizedState.cachePool!==null&&(Ue=ye.memoizedState.cachePool.pool),Ue!==we&&(ye.flags|=2048),ve!==null&&Oe(ws),null;case 24:return we=null,ve!==null&&(we=ve.memoizedState.cache),ye.memoizedState.cache!==we&&(ye.flags|=2048),Ws(Qi),ir(ye),null;case 25:return null}throw Error(ce(156,ye.tag))}function yh(ve,ye){switch(yt(ye),ye.tag){case 1:return ve=ye.flags,ve&65536?(ye.flags=ve&-65537|128,ye):null;case 3:return Ws(Qi),gt(),ve=ye.flags,(ve&65536)!==0&&(ve&128)===0?(ye.flags=ve&-65537|128,ye):null;case 26:case 27:case 5:return bt(ye),null;case 13:if(ti(ye),ve=ye.memoizedState,ve!==null&&ve.dehydrated!==null){if(ye.alternate===null)throw Error(ce(340));Wt()}return ve=ye.flags,ve&65536?(ye.flags=ve&-65537|128,ye):null;case 19:return Oe(Or),null;case 4:return gt(),null;case 10:return Ws(ye.type),null;case 22:case 23:return ti(ye),Bn(),ve!==null&&Oe(ws),ve=ye.flags,ve&65536?(ye.flags=ve&-65537|128,ye):null;case 24:return Ws(Qi),null;case 25:return null;default:return null}}function od(ve,ye){switch(yt(ye),ye.tag){case 3:Ws(Qi),gt();break;case 26:case 27:case 5:bt(ye);break;case 4:gt();break;case 13:ti(ye);break;case 19:Oe(Or);break;case 10:Ws(ye.type);break;case 22:case 23:ti(ye),Bn(),ve!==null&&Oe(ws);break;case 24:Ws(Qi)}}function vc(ve,ye){try{var we=ye.updateQueue,Ue=we!==null?we.lastEffect:null;if(Ue!==null){var ze=Ue.next;we=ze;do{if((we.tag&ve)===ve){Ue=void 0;var qe=we.create,ut=we.inst;Ue=qe(),ut.destroy=Ue}we=we.next}while(we!==ze)}}catch(Tt){Ni(ye,ye.return,Tt)}}function bo(ve,ye,we){try{var Ue=ye.updateQueue,ze=Ue!==null?Ue.lastEffect:null;if(ze!==null){var qe=ze.next;Ue=qe;do{if((Ue.tag&ve)===ve){var ut=Ue.inst,Tt=ut.destroy;if(Tt!==void 0){ut.destroy=void 0,ze=ye;var Ht=we;try{Tt()}catch(fn){Ni(ze,Ht,fn)}}}Ue=Ue.next}while(Ue!==qe)}}catch(fn){Ni(ye,ye.return,fn)}}function ld(ve){var ye=ve.updateQueue;if(ye!==null){var we=ve.stateNode;try{sn(ye,we)}catch(Ue){Ni(ve,ve.return,Ue)}}}function ma(ve,ye,we){we.props=ba(ve.type,ve.memoizedProps),we.state=ve.memoizedState;try{we.componentWillUnmount()}catch(Ue){Ni(ve,ye,Ue)}}function as(ve,ye){try{var we=ve.ref;if(we!==null){var Ue=ve.stateNode;switch(ve.tag){case 26:case 27:case 5:var ze=Il(Ue);break;default:ze=Ue}typeof we=="function"?ve.refCleanup=we(ze):we.current=ze}}catch(qe){Ni(ve,ye,qe)}}function ga(ve,ye){var we=ve.ref,Ue=ve.refCleanup;if(we!==null)if(typeof Ue=="function")try{Ue()}catch(ze){Ni(ve,ye,ze)}finally{ve.refCleanup=null,ve=ve.alternate,ve!=null&&(ve.refCleanup=null)}else if(typeof we=="function")try{we(null)}catch(ze){Ni(ve,ye,ze)}else we.current=null}function Zu(ve){var ye=ve.type,we=ve.memoizedProps,Ue=ve.stateNode;try{Eh(Ue,ye,we,ve)}catch(ze){Ni(ve,ve.return,ze)}}function ef(ve,ye,we){try{Td(ve.stateNode,ve.type,we,ye,ve)}catch(Ue){Ni(ve,ve.return,Ue)}}function tf(ve){return ve.tag===5||ve.tag===3||(Ca?ve.tag===26:!1)||($i?ve.tag===27:!1)||ve.tag===4}function _c(ve){e:for(;;){for(;ve.sibling===null;){if(ve.return===null||tf(ve.return))return null;ve=ve.return}for(ve.sibling.return=ve.return,ve=ve.sibling;ve.tag!==5&&ve.tag!==6&&(!$i||ve.tag!==27)&&ve.tag!==18;){if(ve.flags&2||ve.child===null||ve.tag===4)continue e;ve.child.return=ve,ve=ve.child}if(!(ve.flags&2))return ve.stateNode}}function nf(ve,ye,we){var Ue=ve.tag;if(Ue===5||Ue===6)ve=ve.stateNode,ye?Cd(we,ve,ye):Mf(we,ve);else if(!(Ue===4||$i&&Ue===27)&&(ve=ve.child,ve!==null))for(nf(ve,ye,we),ve=ve.sibling;ve!==null;)nf(ve,ye,we),ve=ve.sibling}function qs(ve,ye,we){var Ue=ve.tag;if(Ue===5||Ue===6)ve=ve.stateNode,ye?Md(we,ve,ye):Ed(we,ve);else if(!(Ue===4||$i&&Ue===27)&&(ve=ve.child,ve!==null))for(qs(ve,ye,we),ve=ve.sibling;ve!==null;)qs(ve,ye,we),ve=ve.sibling}function eu(ve,ye,we){ve=ve.containerInfo;try{Vl(ve,we)}catch(Ue){Ni(ye,ye.return,Ue)}}function yc(ve,ye){for(mu(ve.containerInfo),li=ye;li!==null;)if(ve=li,ye=ve.child,(ve.subtreeFlags&1028)!==0&&ye!==null)ye.return=ve,li=ye;else for(;li!==null;){ve=li;var we=ve.alternate;switch(ye=ve.flags,ve.tag){case 0:break;case 11:case 15:break;case 1:if((ye&1024)!==0&&we!==null){ye=void 0;var Ue=ve,ze=we.memoizedProps;we=we.memoizedState;var qe=Ue.stateNode;try{var ut=ba(Ue.type,ze,Ue.elementType===Ue.type);ye=qe.getSnapshotBeforeUpdate(ut,we),qe.__reactInternalSnapshotBeforeUpdate=ye}catch(Tt){Ni(Ue,Ue.return,Tt)}}break;case 3:(ye&1024)!==0&&Br&&Od(ve.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((ye&1024)!==0)throw Error(ce(163))}if(ye=ve.sibling,ye!==null){ye.return=ve.return,li=ye;break}li=ve.return}return ut=Si,Si=!1,ut}function tu(ve,ye,we){var Ue=we.flags;switch(we.tag){case 0:case 11:case 15:Ks(ve,we),Ue&4&&vc(5,we);break;case 1:if(Ks(ve,we),Ue&4)if(ve=we.stateNode,ye===null)try{ve.componentDidMount()}catch(Tt){Ni(we,we.return,Tt)}else{var ze=ba(we.type,ye.memoizedProps);ye=ye.memoizedState;try{ve.componentDidUpdate(ze,ye,ve.__reactInternalSnapshotBeforeUpdate)}catch(Tt){Ni(we,we.return,Tt)}}Ue&64&&ld(we),Ue&512&&as(we,we.return);break;case 3:if(Ks(ve,we),Ue&64&&(Ue=we.updateQueue,Ue!==null)){if(ve=null,we.child!==null)switch(we.child.tag){case 27:case 5:ve=Il(we.child.stateNode);break;case 1:ve=we.child.stateNode}try{sn(Ue,ve)}catch(Tt){Ni(we,we.return,Tt)}}break;case 26:if(Ca){Ks(ve,we),Ue&512&&as(we,we.return);break}case 27:case 5:Ks(ve,we),ye===null&&Ue&4&&Zu(we),Ue&512&&as(we,we.return);break;case 12:Ks(ve,we);break;case 13:Ks(ve,we),Ue&4&&nu(ve,we);break;case 22:if(ze=we.memoizedState!==null||Bs,!ze){ye=ye!==null&&ye.memoizedState!==null||dr;var qe=Bs,ut=dr;Bs=ze,(dr=ye)&&!ut?Js(ve,we,(we.subtreeFlags&8772)!==0):Ks(ve,we),Bs=qe,dr=ut}Ue&512&&(we.memoizedProps.mode==="manual"?as(we,we.return):ga(we,we.return));break;default:Ks(ve,we)}}function rf(ve){var ye=ve.alternate;ye!==null&&(ve.alternate=null,rf(ye)),ve.child=null,ve.deletions=null,ve.sibling=null,ve.tag===5&&(ye=ve.stateNode,ye!==null&&bh(ye)),ve.stateNode=null,ve.return=null,ve.dependencies=null,ve.memoizedProps=null,ve.memoizedState=null,ve.pendingProps=null,ve.stateNode=null,ve.updateQueue=null}function Hr(ve,ye,we){for(we=we.child;we!==null;)Eo(ve,ye,we),we=we.sibling}function Eo(ve,ye,we){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(Er,we)}catch{}switch(we.tag){case 26:if(Ca){dr||ga(we,ye),Hr(ve,ye,we),we.memoizedState?rl(we.memoizedState):we.stateNode&&kl(we.stateNode);break}case 27:if($i){dr||ga(we,ye);var Ue=Kn,ze=pi;Kn=we.stateNode,Hr(ve,ye,we),No(we.stateNode),Kn=Ue,pi=ze;break}case 5:dr||ga(we,ye);case 6:if(Br){if(Ue=Kn,ze=pi,Kn=null,Hr(ve,ye,we),Kn=Ue,pi=ze,Kn!==null)if(pi)try{Rd(Kn,we.stateNode)}catch(qe){Ni(we,ye,qe)}else try{Cf(Kn,we.stateNode)}catch(qe){Ni(we,ye,qe)}}else Hr(ve,ye,we);break;case 18:Br&&Kn!==null&&(pi?Nc(Kn,we.stateNode):Vd(Kn,we.stateNode));break;case 4:Br?(Ue=Kn,ze=pi,Kn=we.stateNode.containerInfo,pi=!0,Hr(ve,ye,we),Kn=Ue,pi=ze):(Wa&&eu(we.stateNode,we,Pc()),Hr(ve,ye,we));break;case 0:case 11:case 14:case 15:dr||bo(2,we,ye),dr||bo(4,we,ye),Hr(ve,ye,we);break;case 1:dr||(ga(we,ye),Ue=we.stateNode,typeof Ue.componentWillUnmount=="function"&&ma(we,ye,Ue)),Hr(ve,ye,we);break;case 21:Hr(ve,ye,we);break;case 22:dr||ga(we,ye),dr=(Ue=dr)||we.memoizedState!==null,Hr(ve,ye,we),dr=Ue;break;default:Hr(ve,ye,we)}}function nu(ve,ye){if($r&&ye.memoizedState===null&&(ve=ye.alternate,ve!==null&&(ve=ve.memoizedState,ve!==null&&(ve=ve.dehydrated,ve!==null))))try{Ch(ve)}catch(we){Ni(ye,ye.return,we)}}function cd(ve){switch(ve.tag){case 13:case 19:var ye=ve.stateNode;return ye===null&&(ye=ve.stateNode=new Fi),ye;case 22:return ve=ve.stateNode,ye=ve._retryCache,ye===null&&(ye=ve._retryCache=new Fi),ye;default:throw Error(ce(435,ve.tag))}}function Ys(ve,ye){var we=cd(ve);ye.forEach(function(Ue){var ze=Bo.bind(null,ve,Ue);we.has(Ue)||(we.add(Ue),Ue.then(ze,ze))})}function ta(ve,ye){var we=ye.deletions;if(we!==null)for(var Ue=0;Ue<we.length;Ue++){var ze=we[Ue],qe=ve,ut=ye;if(Br){var Tt=ut;e:for(;Tt!==null;){switch(Tt.tag){case 27:case 5:Kn=Tt.stateNode,pi=!1;break e;case 3:Kn=Tt.stateNode.containerInfo,pi=!0;break e;case 4:Kn=Tt.stateNode.containerInfo,pi=!0;break e}Tt=Tt.return}if(Kn===null)throw Error(ce(160));Eo(qe,ut,ze),Kn=null,pi=!1}else Eo(qe,ut,ze);qe=ze.alternate,qe!==null&&(qe.return=null),ze.return=null}if(ye.subtreeFlags&13878)for(ye=ye.child;ye!==null;)af(ye,ve),ye=ye.sibling}function af(ve,ye){var we=ve.alternate,Ue=ve.flags;switch(ve.tag){case 0:case 11:case 14:case 15:ta(ye,ve),va(ve),Ue&4&&(bo(3,ve,ve.return),vc(3,ve),bo(5,ve,ve.return));break;case 1:ta(ye,ve),va(ve),Ue&512&&(dr||we===null||ga(we,we.return)),Ue&64&&Bs&&(ve=ve.updateQueue,ve!==null&&(Ue=ve.callbacks,Ue!==null&&(we=ve.shared.hiddenCallbacks,ve.shared.hiddenCallbacks=we===null?Ue:we.concat(Ue))));break;case 26:if(Ca){var ze=sr;ta(ye,ve),va(ve),Ue&512&&(dr||we===null||ga(we,we.return)),Ue&4&&(Ue=we!==null?we.memoizedState:null,ye=ve.memoizedState,we===null?ye===null?ve.stateNode===null?ve.stateNode=Ic(ze,ve.type,ve.memoizedProps,ve):Gc(ze,ve.type,ve.stateNode):ve.stateNode=$d(ze,ye,ve.memoizedProps):Ue!==ye?(Ue===null?we.stateNode!==null&&kl(we.stateNode):rl(Ue),ye===null?Gc(ze,ve.type,ve.stateNode):$d(ze,ye,ve.memoizedProps)):ye===null&&ve.stateNode!==null&&ef(ve,ve.memoizedProps,we.memoizedProps));break}case 27:if($i&&Ue&4&&ve.alternate===null){ze=ve.stateNode;var qe=ve.memoizedProps;try{Po(ze),qd(ve.type,qe,ze,ve)}catch(An){Ni(ve,ve.return,An)}}case 5:if(ta(ye,ve),va(ve),Ue&512&&(dr||we===null||ga(we,we.return)),Br){if(ve.flags&32){ye=ve.stateNode;try{Rf(ye)}catch(An){Ni(ve,ve.return,An)}}Ue&4&&ve.stateNode!=null&&(ye=ve.memoizedProps,ef(ve,ye,we!==null?we.memoizedProps:ye)),Ue&1024&&(zf=!0)}break;case 6:if(ta(ye,ve),va(ve),Ue&4&&Br){if(ve.stateNode===null)throw Error(ce(162));Ue=ve.memoizedProps,we=we!==null?we.memoizedProps:Ue,ye=ve.stateNode;try{Ad(ye,we,Ue)}catch(An){Ni(ve,ve.return,An)}}break;case 3:if(Ca?(jd(),ze=sr,sr=Tu(ye.containerInfo),ta(ye,ve),sr=ze):ta(ye,ve),va(ve),Ue&4){if(Br&&$r&&we!==null&&we.memoizedState.isDehydrated)try{Mh(ye.containerInfo)}catch(An){Ni(ve,ve.return,An)}if(Wa){Ue=ye.containerInfo,we=ye.pendingChildren;try{Vl(Ue,we)}catch(An){Ni(ve,ve.return,An)}}}zf&&(zf=!1,ud(ve));break;case 4:Ca?(we=sr,sr=Tu(ve.stateNode.containerInfo),ta(ye,ve),va(ve),sr=we):(ta(ye,ve),va(ve)),Ue&4&&Wa&&eu(ve.stateNode,ve,ve.stateNode.pendingChildren);break;case 12:ta(ye,ve),va(ve);break;case 13:ta(ye,ve),va(ve),ve.child.flags&8192&&ve.memoizedState!==null!=(we!==null&&we.memoizedState!==null)&&(oa=qa()),Ue&4&&(Ue=ve.updateQueue,Ue!==null&&(ve.updateQueue=null,Ys(ve,Ue)));break;case 22:Ue&512&&(dr||we===null||ga(we,we.return)),ze=ve.memoizedState!==null;var ut=we!==null&&we.memoizedState!==null,Tt=Bs,Ht=dr;if(Bs=Tt||ze,dr=Ht||ut,ta(ye,ve),dr=Ht,Bs=Tt,va(ve),ye=ve.stateNode,ye._current=ve,ye._visibility&=-3,ye._visibility|=ye._pendingVisibility&2,Ue&8192&&(ye._visibility=ze?ye._visibility&-2:ye._visibility|1,ze&&(ye=Bs||dr,we===null||ut||ye||Cl(ve)),Br&&(ve.memoizedProps===null||ve.memoizedProps.mode!=="manual"))){e:if(we=null,Br)for(ye=ve;;){if(ye.tag===5||Ca&&ye.tag===26||$i&&ye.tag===27){if(we===null){ut=we=ye;try{qe=ut.stateNode,ze?wd(qe):Dd(ut.stateNode,ut.memoizedProps)}catch(An){Ni(ut,ut.return,An)}}}else if(ye.tag===6){if(we===null){ut=ye;try{var fn=ut.stateNode;ze?Bd(fn):Ah(fn,ut.memoizedProps)}catch(An){Ni(ut,ut.return,An)}}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===ve)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===ve)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===ve)break e;we===ye&&(we=null),ye=ye.return}we===ye&&(we=null),ye.sibling.return=ye.return,ye=ye.sibling}}Ue&4&&(Ue=ve.updateQueue,Ue!==null&&(we=Ue.retryQueue,we!==null&&(Ue.retryQueue=null,Ys(ve,we))));break;case 19:ta(ye,ve),va(ve),Ue&4&&(Ue=ve.updateQueue,Ue!==null&&(ve.updateQueue=null,Ys(ve,Ue)));break;case 21:break;default:ta(ye,ve),va(ve)}}function va(ve){var ye=ve.flags;if(ye&2){try{if(Br&&(!$i||ve.tag!==27)){e:{for(var we=ve.return;we!==null;){if(tf(we)){var Ue=we;break e}we=we.return}throw Error(ce(160))}switch(Ue.tag){case 27:if($i){var ze=Ue.stateNode,qe=_c(ve);qs(ve,qe,ze);break}case 5:var ut=Ue.stateNode;Ue.flags&32&&(Rf(ut),Ue.flags&=-33);var Tt=_c(ve);qs(ve,Tt,ut);break;case 3:case 4:var Ht=Ue.stateNode.containerInfo,fn=_c(ve);nf(ve,fn,Ht);break;default:throw Error(ce(161))}}}catch(An){Ni(ve,ve.return,An)}ve.flags&=-3}ye&4096&&(ve.flags&=-4097)}function ud(ve){if(ve.subtreeFlags&1024)for(ve=ve.child;ve!==null;){var ye=ve;ud(ye),ye.tag===5&&ye.flags&1024&&_u(ye.stateNode),ve=ve.sibling}}function Ks(ve,ye){if(ye.subtreeFlags&8772)for(ye=ye.child;ye!==null;)tu(ve,ye.alternate,ye),ye=ye.sibling}function Cl(ve){for(ve=ve.child;ve!==null;){var ye=ve;switch(ye.tag){case 0:case 11:case 14:case 15:bo(4,ye,ye.return),Cl(ye);break;case 1:ga(ye,ye.return);var we=ye.stateNode;typeof we.componentWillUnmount=="function"&&ma(ye,ye.return,we),Cl(ye);break;case 26:case 27:case 5:ga(ye,ye.return),Cl(ye);break;case 22:ga(ye,ye.return),ye.memoizedState===null&&Cl(ye);break;default:Cl(ye)}ve=ve.sibling}}function Js(ve,ye,we){for(we=we&&(ye.subtreeFlags&8772)!==0,ye=ye.child;ye!==null;){var Ue=ye.alternate,ze=ve,qe=ye,ut=qe.flags;switch(qe.tag){case 0:case 11:case 15:Js(ze,qe,we),vc(4,qe);break;case 1:if(Js(ze,qe,we),Ue=qe,ze=Ue.stateNode,typeof ze.componentDidMount=="function")try{ze.componentDidMount()}catch(fn){Ni(Ue,Ue.return,fn)}if(Ue=qe,ze=Ue.updateQueue,ze!==null){var Tt=Ue.stateNode;try{var Ht=ze.shared.hiddenCallbacks;if(Ht!==null)for(ze.shared.hiddenCallbacks=null,ze=0;ze<Ht.length;ze++)xt(Ht[ze],Tt)}catch(fn){Ni(Ue,Ue.return,fn)}}we&&ut&64&&ld(qe),as(qe,qe.return);break;case 26:case 27:case 5:Js(ze,qe,we),we&&Ue===null&&ut&4&&Zu(qe),as(qe,qe.return);break;case 12:Js(ze,qe,we);break;case 13:Js(ze,qe,we),we&&ut&4&&nu(ze,qe);break;case 22:qe.memoizedState===null&&Js(ze,qe,we),as(qe,qe.return);break;default:Js(ze,qe,we)}ye=ye.sibling}}function iu(ve,ye){var we=null;ve!==null&&ve.memoizedState!==null&&ve.memoizedState.cachePool!==null&&(we=ve.memoizedState.cachePool.pool),ve=null,ye.memoizedState!==null&&ye.memoizedState.cachePool!==null&&(ve=ye.memoizedState.cachePool.pool),ve!==we&&(ve!=null&&ve.refCount++,we!=null&&mc(we))}function xc(ve,ye){ve=null,ye.alternate!==null&&(ve=ye.alternate.memoizedState.cache),ye=ye.memoizedState.cache,ye!==ve&&(ye.refCount++,ve!=null&&mc(ve))}function Ur(ve,ye,we,Ue){if(ye.subtreeFlags&10256)for(ye=ye.child;ye!==null;)sf(ve,ye,we,Ue),ye=ye.sibling}function sf(ve,ye,we,Ue){var ze=ye.flags;switch(ye.tag){case 0:case 11:case 15:Ur(ve,ye,we,Ue),ze&2048&&vc(9,ye);break;case 3:Ur(ve,ye,we,Ue),ze&2048&&(ve=null,ye.alternate!==null&&(ve=ye.alternate.memoizedState.cache),ye=ye.memoizedState.cache,ye!==ve&&(ye.refCount++,ve!=null&&mc(ve)));break;case 12:if(ze&2048){Ur(ve,ye,we,Ue),ve=ye.stateNode;try{var qe=ye.memoizedProps,ut=qe.id,Tt=qe.onPostCommit;typeof Tt=="function"&&Tt(ut,ye.alternate===null?"mount":"update",ve.passiveEffectDuration,-0)}catch(Ht){Ni(ye,ye.return,Ht)}}else Ur(ve,ye,we,Ue);break;case 23:break;case 22:qe=ye.stateNode,ye.memoizedState!==null?qe._visibility&4?Ur(ve,ye,we,Ue):qr(ve,ye):qe._visibility&4?Ur(ve,ye,we,Ue):(qe._visibility|=4,Vr(ve,ye,we,Ue,(ye.subtreeFlags&10256)!==0)),ze&2048&&iu(ye.alternate,ye);break;case 24:Ur(ve,ye,we,Ue),ze&2048&&xc(ye.alternate,ye);break;default:Ur(ve,ye,we,Ue)}}function Vr(ve,ye,we,Ue,ze){for(ze=ze&&(ye.subtreeFlags&10256)!==0,ye=ye.child;ye!==null;){var qe=ve,ut=ye,Tt=we,Ht=Ue,fn=ut.flags;switch(ut.tag){case 0:case 11:case 15:Vr(qe,ut,Tt,Ht,ze),vc(8,ut);break;case 23:break;case 22:var An=ut.stateNode;ut.memoizedState!==null?An._visibility&4?Vr(qe,ut,Tt,Ht,ze):qr(qe,ut):(An._visibility|=4,Vr(qe,ut,Tt,Ht,ze)),ze&&fn&2048&&iu(ut.alternate,ut);break;case 24:Vr(qe,ut,Tt,Ht,ze),ze&&fn&2048&&xc(ut.alternate,ut);break;default:Vr(qe,ut,Tt,Ht,ze)}ye=ye.sibling}}function qr(ve,ye){if(ye.subtreeFlags&10256)for(ye=ye.child;ye!==null;){var we=ve,Ue=ye,ze=Ue.flags;switch(Ue.tag){case 22:qr(we,Ue),ze&2048&&iu(Ue.alternate,Ue);break;case 24:qr(we,Ue),ze&2048&&xc(Ue.alternate,Ue);break;default:qr(we,Ue)}ye=ye.sibling}}function Va(ve){if(ve.subtreeFlags&Ua)for(ve=ve.child;ve!==null;)ru(ve),ve=ve.sibling}function ru(ve){switch(ve.tag){case 26:Va(ve),ve.flags&Ua&&(ve.memoizedState!==null?Wd(sr,ve.memoizedState,ve.memoizedProps):ra(ve.type,ve.memoizedProps));break;case 5:Va(ve),ve.flags&Ua&&ra(ve.type,ve.memoizedProps);break;case 3:case 4:if(Ca){var ye=sr;sr=Tu(ve.stateNode.containerInfo),Va(ve),sr=ye}else Va(ve);break;case 22:ve.memoizedState===null&&(ye=ve.alternate,ye!==null&&ye.memoizedState!==null?(ye=Ua,Ua=16777216,Va(ve),Ua=ye):Va(ve));break;default:Va(ve)}}function Sc(ve){var ye=ve.alternate;if(ye!==null&&(ve=ye.child,ve!==null)){ye.child=null;do ye=ve.sibling,ve.sibling=null,ve=ye;while(ve!==null)}}function Ao(ve){var ye=ve.deletions;if((ve.flags&16)!==0){if(ye!==null)for(var we=0;we<ye.length;we++){var Ue=ye[we];li=Ue,of(Ue,ve)}Sc(ve)}if(ve.subtreeFlags&10256)for(ve=ve.child;ve!==null;)au(ve),ve=ve.sibling}function au(ve){switch(ve.tag){case 0:case 11:case 15:Ao(ve),ve.flags&2048&&bo(9,ve,ve.return);break;case 3:Ao(ve);break;case 12:Ao(ve);break;case 22:var ye=ve.stateNode;ve.memoizedState!==null&&ye._visibility&4&&(ve.return===null||ve.return.tag!==13)?(ye._visibility&=-5,Qs(ve)):Ao(ve);break;default:Ao(ve)}}function Qs(ve){var ye=ve.deletions;if((ve.flags&16)!==0){if(ye!==null)for(var we=0;we<ye.length;we++){var Ue=ye[we];li=Ue,of(Ue,ve)}Sc(ve)}for(ve=ve.child;ve!==null;){switch(ye=ve,ye.tag){case 0:case 11:case 15:bo(8,ye,ye.return),Qs(ye);break;case 22:we=ye.stateNode,we._visibility&4&&(we._visibility&=-5,Qs(ye));break;default:Qs(ye)}ve=ve.sibling}}function of(ve,ye){for(;li!==null;){var we=li;switch(we.tag){case 0:case 11:case 15:bo(8,we,ye);break;case 23:case 22:if(we.memoizedState!==null&&we.memoizedState.cachePool!==null){var Ue=we.memoizedState.cachePool.pool;Ue!=null&&Ue.refCount++}break;case 24:mc(we.memoizedState.cache)}if(Ue=we.child,Ue!==null)Ue.return=we,li=Ue;else e:for(we=ve;li!==null;){Ue=li;var ze=Ue.sibling,qe=Ue.return;if(rf(Ue),Ue===we){li=null;break e}if(ze!==null){ze.return=qe,li=ze;break e}li=qe}}}function Rl(ve){var ye=gd(ve);if(ye!=null){if(typeof ye.memoizedProps["data-testname"]!="string")throw Error(ce(364));return ye}if(ve=Af(ve),ve===null)throw Error(ce(362));return ve.stateNode.current}function To(ve,ye){var we=ve.tag;switch(ye.$$typeof){case Ql:if(ve.type===ye.value)return!0;break;case Qa:e:{for(ye=ye.value,ve=[ve,0],we=0;we<ve.length;){var Ue=ve[we++],ze=Ue.tag,qe=ve[we++],ut=ye[qe];if(ze!==5&&ze!==26&&ze!==27||!zl(Ue)){for(;ut!=null&&To(Ue,ut);)qe++,ut=ye[qe];if(qe===ye.length){ye=!0;break e}else for(Ue=Ue.child;Ue!==null;)ve.push(Ue,qe),Ue=Ue.sibling}}ye=!1}return ye;case tr:if((we===5||we===26||we===27)&&xd(ve.stateNode,ye.value))return!0;break;case Ds:if((we===5||we===6||we===26||we===27)&&(ve=yd(ve),ve!==null&&0<=ve.indexOf(ye.value)))return!0;break;case ms:if((we===5||we===26||we===27)&&(ve=ve.memoizedProps["data-testname"],typeof ve=="string"&&ve.toLowerCase()===ye.value.toLowerCase()))return!0;break;default:throw Error(ce(365))}return!1}function lf(ve){switch(ve.$$typeof){case Ql:return"<"+(fe(ve.value)||"Unknown")+">";case Qa:return":has("+(lf(ve)||"")+")";case tr:return'[role="'+ve.value+'"]';case Ds:return'"'+ve.value+'"';case ms:return'[data-testname="'+ve.value+'"]';default:throw Error(ce(365))}}function _a(ve,ye){var we=[];ve=[ve,0];for(var Ue=0;Ue<ve.length;){var ze=ve[Ue++],qe=ze.tag,ut=ve[Ue++],Tt=ye[ut];if(qe!==5&&qe!==26&&qe!==27||!zl(ze)){for(;Tt!=null&&To(ze,Tt);)ut++,Tt=ye[ut];if(ut===ye.length)we.push(ze);else for(ze=ze.child;ze!==null;)ve.push(ze,ut),ze=ze.sibling}}return we}function bc(ve,ye){if(!Uo)throw Error(ce(363));ve=Rl(ve),ve=_a(ve,ye),ye=[],ve=Array.from(ve);for(var we=0;we<ve.length;){var Ue=ve[we++],ze=Ue.tag;if(ze===5||ze===26||ze===27)zl(Ue)||ye.push(Ue.stateNode);else for(Ue=Ue.child;Ue!==null;)ve.push(Ue),Ue=Ue.sibling}return ye}function xr(){if((Bi&2)!==0&&Ai!==0)return Ai&-Ai;if(ii.T!==null){var ve=Ba;return ve!==0?ve:zt()}return vd()}function cf(){Fa===0&&(Fa=(Ai&536870912)===0||Ci?We():536870912);var ve=Da.current;return ve!==null&&(ve.flags|=32),Fa}function Pr(ve,ye,we){(ve===Ii&&Hi===2||ve.cancelPendingCommit!==null)&&(kr(ve,0),ya(ve,Ai,Fa,!1)),tt(ve,we),((Bi&2)===0||ve!==Ii)&&(ve===Ii&&((Bi&2)===0&&(ho|=we),Wi===4&&ya(ve,Ai,Fa,!1)),Bt(ve))}function Mo(ve,ye,we){if((Bi&6)!==0)throw Error(ce(327));var Ue=!we&&(ye&60)===0&&(ye&ve.expiredLanes)===0||Ve(ve,ye),ze=Ue?ff(ve,ye):ou(ve,ye,!0),qe=Ue;do{if(ze===0){Pa&&!Ue&&ya(ve,ye,0,!1);break}else if(ze===6)ya(ve,ye,0,!ts);else{if(we=ve.current.alternate,qe&&!wl(we)){ze=ou(ve,ye,!1),qe=!1;continue}if(ze===2){if(qe=ye,ve.errorRecoveryDisabledLanes&qe)var ut=0;else ut=ve.pendingLanes&-536870913,ut=ut!==0?ut:ut&536870912?536870912:0;if(ut!==0){ye=ut;e:{var Tt=ve;ze=yl;var Ht=$r&&Tt.current.memoizedState.isDehydrated;if(Ht&&(kr(Tt,ut).flags|=256),ut=ou(Tt,ut,!1),ut!==2){if(Lr&&!Ht){Tt.errorRecoveryDisabledLanes|=qe,ho|=qe,ze=4;break e}qe=hr,hr=ze,qe!==null&&Ec(qe)}ze=ut}if(qe=!1,ze!==2)continue}}if(ze===1){kr(ve,0),ya(ve,ye,0,!0);break}e:{switch(Ue=ve,ze){case 0:case 1:throw Error(ce(345));case 4:if((ye&4194176)===ye){ya(Ue,ye,Fa,!ts);break e}break;case 2:hr=null;break;case 3:case 5:break;default:throw Error(ce(329))}if(Ue.finishedWork=we,Ue.finishedLanes=ye,(ye&62914560)===ye&&(qe=oa+300-qa(),10<qe)){if(ya(Ue,ye,Fa,!ts),$e(Ue,0)!==0)break e;Ue.timeoutHandle=Rr(su.bind(null,Ue,we,hr,Xc,Nu,ye,Fa,ho,Os,ts,2,-0,0),qe);break e}su(Ue,we,hr,Xc,Nu,ye,Fa,ho,Os,ts,0,-0,0)}}break}while(!0);Bt(ve)}function Ec(ve){hr===null?hr=ve:hr.push.apply(hr,ve)}function su(ve,ye,we,Ue,ze,qe,ut,Tt,Ht,fn,An,Ln,Nn){var ci=ye.subtreeFlags;if((ci&8192||(ci&16785408)===16785408)&&(bf(),ru(ye),ye=wr(),ye!==null)){ve.cancelPendingCommit=ye(Ro.bind(null,ve,we,Ue,ze,ut,Tt,Ht,1,Ln,Nn)),ya(ve,qe,ut,!fn);return}Ro(ve,we,Ue,ze,ut,Tt,Ht,An,Ln,Nn)}function wl(ve){for(var ye=ve;;){var we=ye.tag;if((we===0||we===11||we===15)&&ye.flags&16384&&(we=ye.updateQueue,we!==null&&(we=we.stores,we!==null)))for(var Ue=0;Ue<we.length;Ue++){var ze=we[Ue],qe=ze.getSnapshot;ze=ze.value;try{if(!Sa(qe(),ze))return!1}catch{return!1}}if(we=ye.child,ye.subtreeFlags&16384&&we!==null)we.return=ye,ye=we;else{if(ye===ve)break;for(;ye.sibling===null;){if(ye.return===null||ye.return===ve)return!0;ye=ye.return}ye.sibling.return=ye.return,ye=ye.sibling}}return!0}function ya(ve,ye,we,Ue){ye&=~jc,ye&=~ho,ve.suspendedLanes|=ye,ve.pingedLanes&=~ye,Ue&&(ve.warmLanes|=ye),Ue=ve.expirationTimes;for(var ze=ye;0<ze;){var qe=31-aa(ze),ut=1<<qe;Ue[qe]=-1,ze&=~ut}we!==0&&nt(ve,we,ye)}function Ac(){return(Bi&6)===0?(Qe(0),!1):!0}function Bl(){if(Qn!==null){if(Hi===0)var ve=Qn.return;else ve=Qn,La=ps=null,Di(ve),zo=null,Ho=0,ve=Qn;for(;ve!==null;)od(ve.alternate,ve),ve=ve.return;Qn=null}}function kr(ve,ye){ve.finishedWork=null,ve.finishedLanes=0;var we=ve.timeoutHandle;we!==Oo&&(ve.timeoutHandle=Oo,gu(we)),we=ve.cancelPendingCommit,we!==null&&(ve.cancelPendingCommit=null,we()),Bl(),Ii=ve,Qn=we=$a(ve.current,null),Ai=ye,Hi=0,Kr=null,ts=!1,Pa=Ve(ve,ye),Lr=!1,Os=Fa=jc=ho=Na=Wi=0,hr=yl=null,Nu=!1,(ye&8)!==0&&(ye|=ye&32);var Ue=ve.entangledLanes;if(Ue!==0)for(ve=ve.entanglements,Ue&=ye;0<Ue;){var ze=31-aa(Ue),qe=1<<ze;ye|=ve[ze],Ue&=~qe}return Jr=ye,pt(),we}function Aa(ve,ye){mi=null,ii.H=fr,ye===ql?(ye=Un(),Hi=3):ye===kc?(ye=Un(),Hi=4):Hi=ye===Uu?8:ye!==null&&typeof ye=="object"&&typeof ye.then=="function"?6:1,Kr=ye,Qn===null&&(Wi=1,za(ve,_t(ye,ve.current)))}function Co(){var ve=Da.current;return ve===null?!0:(Ai&4194176)===Ai?ji===null:(Ai&62914560)===Ai||(Ai&536870912)!==0?ve===ji:!1}function ys(){var ve=ii.H;return ii.H=fr,ve===null?fr:ve}function xs(){var ve=ii.A;return ii.A=Jl,ve}function Zs(){Wi=4,ts||(Ai&4194176)!==Ai&&Da.current!==null||(Pa=!0),(Na&134217727)===0&&(ho&134217727)===0||Ii===null||ya(Ii,Ai,Fa,!1)}function ou(ve,ye,we){var Ue=Bi;Bi|=2;var ze=ys(),qe=xs();(Ii!==ve||Ai!==ye)&&(Xc=null,kr(ve,ye)),ye=!1;var ut=Wi;e:do try{if(Hi!==0&&Qn!==null){var Tt=Qn,Ht=Kr;switch(Hi){case 8:Bl(),ut=6;break e;case 3:case 2:case 6:Da.current===null&&(ye=!0);var fn=Hi;if(Hi=0,Kr=null,ka(ve,Tt,Ht,fn),we&&Pa){ut=0;break e}break;default:fn=Hi,Hi=0,Kr=null,ka(ve,Tt,Ht,fn)}}uf(),ut=Wi;break}catch(An){Aa(ve,An)}while(!0);return ye&&ve.shellSuspendCounter++,La=ps=null,Bi=Ue,ii.H=ze,ii.A=qe,Qn===null&&(Ii=null,Ai=0,pt()),ut}function uf(){for(;Qn!==null;)ar(Qn)}function ff(ve,ye){var we=Bi;Bi|=2;var Ue=ys(),ze=xs();Ii!==ve||Ai!==ye?(Xc=null,Zl=qa()+500,kr(ve,ye)):Pa=Ve(ve,ye);e:do try{if(Hi!==0&&Qn!==null){ye=Qn;var qe=Kr;t:switch(Hi){case 1:Hi=0,Kr=null,ka(ve,ye,qe,1);break;case 2:if(an(qe)){Hi=0,Kr=null,Oi(ye);break}ye=function(){Hi===2&&Ii===ve&&(Hi=7),Bt(ve)},qe.then(ye,ye);break e;case 3:Hi=7;break e;case 4:Hi=5;break e;case 7:an(qe)?(Hi=0,Kr=null,Oi(ye)):(Hi=0,Kr=null,ka(ve,ye,qe,7));break;case 5:var ut=null;switch(Qn.tag){case 26:ut=Qn.memoizedState;case 5:case 27:var Tt=Qn,Ht=Tt.type,fn=Tt.pendingProps;if(ut?al(ut):vu(Ht,fn)){Hi=0,Kr=null;var An=Tt.sibling;if(An!==null)Qn=An;else{var Ln=Tt.return;Ln!==null?(Qn=Ln,Ta(Ln)):Qn=null}break t}}Hi=0,Kr=null,ka(ve,ye,qe,5);break;case 6:Hi=0,Kr=null,ka(ve,ye,qe,6);break;case 8:Bl(),Wi=6;break e;default:throw Error(ce(462))}}na();break}catch(Nn){Aa(ve,Nn)}while(!0);return La=ps=null,ii.H=Ue,ii.A=ze,Bi=we,Qn!==null?0:(Ii=null,Ai=0,pt(),Wi)}function na(){for(;Qn!==null&&!Jd();)ar(Qn)}function ar(ve){var ye=rd(ve.alternate,ve,Jr);ve.memoizedProps=ve.pendingProps,ye===null?Ta(ve):Qn=ye}function Oi(ve){var ye=ve,we=ye.alternate;switch(ye.tag){case 15:case 0:ye=cc(we,ye,ye.pendingProps,ye.type,void 0,Ai);break;case 11:ye=cc(we,ye,ye.pendingProps,ye.type.render,ye.ref,Ai);break;case 5:Di(ye);default:od(we,ye),ye=Qn=Mc(ye,Jr),ye=rd(we,ye,Jr)}ve.memoizedProps=ve.pendingProps,ye===null?Ta(ve):Qn=ye}function ka(ve,ye,we,Ue){La=ps=null,Di(ye),zo=null,Ho=0;var ze=ye.return;try{if($u(ve,ze,ye,we,Ai)){Wi=1,za(ve,_t(we,ve.current)),Qn=null;return}}catch(qe){if(ze!==null)throw Qn=ze,qe;Wi=1,za(ve,_t(we,ve.current)),Qn=null;return}ye.flags&32768?(Ci||Ue===1?ve=!0:Pa||(Ai&536870912)!==0?ve=!1:(ts=ve=!0,(Ue===2||Ue===3||Ue===6)&&(Ue=Da.current,Ue!==null&&Ue.tag===13&&(Ue.flags|=16384))),lu(ye,ve)):Ta(ye)}function Ta(ve){var ye=ve;do{if((ye.flags&32768)!==0){lu(ye,ts);return}ve=ye.return;var we=sd(ye.alternate,ye,Jr);if(we!==null){Qn=we;return}if(ye=ye.sibling,ye!==null){Qn=ye;return}Qn=ye=ve}while(ye!==null);Wi===0&&(Wi=5)}function lu(ve,ye){do{var we=yh(ve.alternate,ve);if(we!==null){we.flags&=32767,Qn=we;return}if(we=ve.return,we!==null&&(we.flags|=32768,we.subtreeFlags=0,we.deletions=null),!ye&&(ve=ve.sibling,ve!==null)){Qn=ve;return}Qn=ve=we}while(ve!==null);Wi=6,Qn=null}function Ro(ve,ye,we,Ue,ze,qe,ut,Tt,Ht,fn){var An=ii.T,Ln=ao();try{Yr(2),ii.T=null,fd(ve,ye,we,Ue,Ln,ze,qe,ut,Tt,Ht,fn)}finally{ii.T=An,Yr(Ln)}}function fd(ve,ye,we,Ue,ze,qe,ut,Tt){do ss();while(Ls!==null);if((Bi&6)!==0)throw Error(ce(327));var Ht=ve.finishedWork;if(Ue=ve.finishedLanes,Ht===null)return null;if(ve.finishedWork=null,ve.finishedLanes=0,Ht===ve.current)throw Error(ce(177));ve.callbackNode=null,ve.callbackPriority=0,ve.cancelPendingCommit=null;var fn=Ht.lanes|Ht.childLanes;if(fn|=ds,Ze(ve,Ue,fn,qe,ut,Tt),ve===Ii&&(Qn=Ii=null,Ai=0),(Ht.subtreeFlags&10256)===0&&(Ht.flags&10256)===0||gs||(gs=!0,Xo=fn,Fu=we,to(Bu,function(){return ss(),null})),we=(Ht.flags&15990)!==0,(Ht.subtreeFlags&15990)!==0||we?(we=ii.T,ii.T=null,qe=ao(),Yr(2),ut=Bi,Bi|=4,yc(ve,Ht),af(Ht,ve),md(ve.containerInfo),ve.current=Ht,tu(ve,Ht.alternate,Ht),Ru(),Bi=ut,Yr(qe),ii.T=we):ve.current=Ht,gs?(gs=!1,Ls=ve,xl=Ue):df(ve,fn),fn=ve.pendingLanes,fn===0&&(jo=null),Ye(Ht.stateNode),Bt(ve),ye!==null)for(ze=ve.onRecoverableError,Ht=0;Ht<ye.length;Ht++)fn=ye[Ht],ze(fn.value,{componentStack:fn.stack});return(xl&3)!==0&&ss(),fn=ve.pendingLanes,(Ue&4194218)!==0&&(fn&42)!==0?ve===Iu?ec++:(ec=0,Iu=ve):ec=0,Qe(0),null}function df(ve,ye){(ve.pooledCacheLanes&=ye)===0&&(ye=ve.pooledCache,ye!=null&&(ve.pooledCache=null,mc(ye)))}function ss(){if(Ls!==null){var ve=Ls,ye=Xo;Xo=0;var we=mt(xl),Ue=32>we?32:we;we=ii.T;var ze=ao();try{if(Yr(Ue),ii.T=null,Ls===null)var qe=!1;else{Ue=Fu,Fu=null;var ut=Ls,Tt=xl;if(Ls=null,xl=0,(Bi&6)!==0)throw Error(ce(331));var Ht=Bi;if(Bi|=4,au(ut.current),sf(ut,ut.current,Tt,Ue),Bi=Ht,Qe(0,!1),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(Er,ut)}catch{}qe=!0}return qe}finally{Yr(ze),ii.T=we,df(ve,ye)}}return!1}function Dl(ve,ye,we){ye=_t(we,ye),ye=Ha(ve.stateNode,ye,2),ve=hn(ve,ye,2),ve!==null&&(tt(ve,2),Bt(ve))}function Ni(ve,ye,we){if(ve.tag===3)Dl(ve,ve,we);else for(;ye!==null;){if(ye.tag===3){Dl(ye,ve,we);break}else if(ye.tag===1){var Ue=ye.stateNode;if(typeof ye.type.getDerivedStateFromError=="function"||typeof Ue.componentDidCatch=="function"&&(jo===null||!jo.has(Ue))){ve=_t(we,ve),we=Zo(2),Ue=hn(ye,we,2),Ue!==null&&(Wr(we,Ue,ye,ve),tt(Ue,2),Bt(Ue));break}}ye=ye.return}}function nl(ve,ye,we){var Ue=ve.pingCache;if(Ue===null){Ue=ve.pingCache=new Za;var ze=new Set;Ue.set(ye,ze)}else ze=Ue.get(ye),ze===void 0&&(ze=new Set,Ue.set(ye,ze));ze.has(we)||(Lr=!0,ze.add(we),ve=hf.bind(null,ve,ye,we),ye.then(ve,ve))}function hf(ve,ye,we){var Ue=ve.pingCache;Ue!==null&&Ue.delete(ye),ve.pingedLanes|=ve.suspendedLanes&we,ve.warmLanes&=~we,Ii===ve&&(Ai&we)===we&&(Wi===4||Wi===3&&(Ai&62914560)===Ai&&300>qa()-oa?(Bi&2)===0&&kr(ve,0):jc|=we,Os===Ai&&(Os=0)),Bt(ve)}function wo(ve,ye){ye===0&&(ye=je()),ve=ht(ve,ye),ve!==null&&(tt(ve,ye),Bt(ve))}function eo(ve){var ye=ve.memoizedState,we=0;ye!==null&&(we=ye.retryLane),wo(ve,we)}function Bo(ve,ye){var we=0;switch(ve.tag){case 13:var Ue=ve.stateNode,ze=ve.memoizedState;ze!==null&&(we=ze.retryLane);break;case 19:Ue=ve.stateNode;break;case 22:Ue=ve.stateNode._retryCache;break;default:throw Error(ce(314))}Ue!==null&&Ue.delete(ye),wo(ve,we)}function to(ve,ye){return zc(ve,ye)}function pf(ve,ye,we,Ue){this.tag=ve,this.key=we,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=ye,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Ue,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(ve){return ve=ve.prototype,!(!ve||!ve.isReactComponent)}function $a(ve,ye){var we=ve.alternate;return we===null?(we=ae(ve.tag,ye,ve.key,ve.mode),we.elementType=ve.elementType,we.type=ve.type,we.stateNode=ve.stateNode,we.alternate=ve,ve.alternate=we):(we.pendingProps=ye,we.type=ve.type,we.flags=0,we.subtreeFlags=0,we.deletions=null),we.flags=ve.flags&31457280,we.childLanes=ve.childLanes,we.lanes=ve.lanes,we.child=ve.child,we.memoizedProps=ve.memoizedProps,we.memoizedState=ve.memoizedState,we.updateQueue=ve.updateQueue,ye=ve.dependencies,we.dependencies=ye===null?null:{lanes:ye.lanes,firstContext:ye.firstContext},we.sibling=ve.sibling,we.index=ve.index,we.ref=ve.ref,we.refCleanup=ve.refCleanup,we}function Mc(ve,ye){ve.flags&=31457282;var we=ve.alternate;return we===null?(ve.childLanes=0,ve.lanes=ye,ve.child=null,ve.subtreeFlags=0,ve.memoizedProps=null,ve.memoizedState=null,ve.updateQueue=null,ve.dependencies=null,ve.stateNode=null):(ve.childLanes=we.childLanes,ve.lanes=we.lanes,ve.child=we.child,ve.subtreeFlags=0,ve.deletions=null,ve.memoizedProps=we.memoizedProps,ve.memoizedState=we.memoizedState,ve.updateQueue=we.updateQueue,ve.type=we.type,ye=we.dependencies,ve.dependencies=ye===null?null:{lanes:ye.lanes,firstContext:ye.firstContext}),ve}function Ss(ve,ye,we,Ue,ze,qe){var ut=0;if(Ue=ve,typeof ve=="function")Tc(ve)&&(ut=1);else if(typeof ve=="string")ut=Ca&&$i?Fc(ve,we,Dr.current)?26:Es(ve)?27:5:Ca?Fc(ve,we,Dr.current)?26:5:$i&&Es(ve)?27:5;else e:switch(ve){case Do:return ur(we.children,ze,qe,ye);case Bc:ut=8,ze|=24;break;case du:return ve=ae(12,we,ye,ze|2),ve.elementType=du,ve.lanes=qe,ve;case hu:return ve=ae(13,we,ye,ze),ve.elementType=hu,ve.lanes=qe,ve;case Pl:return ve=ae(19,we,ye,ze),ve.elementType=Pl,ve.lanes=qe,ve;case vf:return Cc(we,ze,qe,ye);default:if(typeof ve=="object"&&ve!==null)switch(ve.$$typeof){case Dc:case os:ut=10;break e;case gf:ut=9;break e;case Oc:ut=11;break e;case pu:ut=14;break e;case Xa:ut=16,Ue=null;break e}ut=29,we=Error(ce(130,ve===null?"null":typeof ve,"")),Ue=null}return ye=ae(ut,we,ye,ze),ye.elementType=ve,ye.type=Ue,ye.lanes=qe,ye}function ur(ve,ye,we,Ue){return ve=ae(7,ve,Ue,ye),ve.lanes=we,ve}function Cc(ve,ye,we,Ue){ve=ae(22,ve,Ue,ye),ve.elementType=vf,ve.lanes=we;var ze={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var qe=ze._current;if(qe===null)throw Error(ce(456));if((ze._pendingVisibility&2)===0){var ut=ht(qe,2);ut!==null&&(ze._pendingVisibility|=2,Pr(ut,qe,2))}},attach:function(){var qe=ze._current;if(qe===null)throw Error(ce(456));if((ze._pendingVisibility&2)!==0){var ut=ht(qe,2);ut!==null&&(ze._pendingVisibility&=-3,Pr(ut,qe,2))}}};return ve.stateNode=ze,ve}function cu(ve,ye,we){return ve=ae(6,ve,null,ye),ve.lanes=we,ve}function mf(ve,ye,we){return ye=ae(4,ve.children!==null?ve.children:[],ve.key,ye),ye.lanes=we,ye.stateNode={containerInfo:ve.containerInfo,pendingChildren:null,implementation:ve.implementation},ye}function xh(ve,ye,we,Ue,ze,qe,ut,Tt){this.tag=1,this.containerInfo=ve,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Oo,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=Ue,this.onUncaughtError=ze,this.onCaughtError=qe,this.onRecoverableError=ut,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Tt,this.incompleteTransitions=new Map}function dd(ve,ye,we,Ue,ze,qe,ut,Tt,Ht,fn,An,Ln){return ve=new xh(ve,ye,we,ut,Tt,Ht,fn,Ln),ye=1,qe===!0&&(ye|=24),qe=ae(3,null,null,ye),ve.current=qe,qe.stateNode=ve,ye=So(),ye.refCount++,ve.pooledCache=ye,ye.refCount++,qe.memoizedState={element:Ue,isDehydrated:we,cache:ye},rn(qe),ve}function Cr(ve){return ve?(ve=Fo,ve):Fo}function uu(ve){var ye=ve._reactInternals;if(ye===void 0)throw typeof ve.render=="function"?Error(ce(188)):(ve=Object.keys(ve).join(","),Error(ce(268,ve)));return ve=Ae(ye),ve=ve!==null?Re(ve):null,ve===null?null:Il(ve.stateNode)}function Ol(ve,ye,we,Ue,ze,qe){ze=Cr(ze),Ue.context===null?Ue.context=ze:Ue.pendingContext=ze,Ue=vn(ye),Ue.payload={element:we},qe=qe===void 0?null:qe,qe!==null&&(Ue.callback=qe),we=hn(ve,Ue,ye),we!==null&&(Pr(we,ve,ye),Qt(we,ve,ye))}function Ll(ve,ye){if(ve=ve.memoizedState,ve!==null&&ve.dehydrated!==null){var we=ve.retryLane;ve.retryLane=we!==0&&we<ye?we:ye}}function Rc(ve,ye){Ll(ve,ye),(ve=ve.alternate)&&Ll(ve,ye)}var ui={},Ul=requireReact(),Ma=requireScheduler(),fu=Object.assign,Sh=Symbol.for("react.element"),wc=Symbol.for("react.transitional.element"),ja=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),du=Symbol.for("react.profiler"),Dc=Symbol.for("react.provider"),gf=Symbol.for("react.consumer"),os=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),pu=Symbol.for("react.memo"),Xa=Symbol.for("react.lazy"),vf=Symbol.for("react.offscreen"),hd=Symbol.for("react.memo_cache_sentinel"),no=Symbol.iterator,_f=Symbol.for("react.client.reference"),ii=Ul.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bs,io,il=!1,Nl=Array.isArray,yf=te.rendererVersion,Lc=te.rendererPackageName,Fl=te.extraDevToolsConfig,Il=te.getPublicInstance,pd=te.getRootHostContext,Gl=te.getChildHostContext,mu=te.prepareForCommit,md=te.resetAfterCommit,xf=te.createInstance,Uc=te.appendInitialChild,ro=te.finalizeInitialChildren,fi=te.shouldSetTextContent,zi=te.createTextInstance,Rr=te.scheduleTimeout,gu=te.cancelTimeout,Oo=te.noTimeout,ia=te.isPrimaryRenderer;te.warnsIfNotActing;var Br=te.supportsMutation,Wa=te.supportsPersistence,$r=te.supportsHydration,gd=te.getInstanceFromNode;te.beforeActiveInstanceBlur,te.afterActiveInstanceBlur;var Sr=te.preparePortalMount;te.prepareScopeUpdate,te.getInstanceFromScope;var Yr=te.setCurrentUpdatePriority,ao=te.getCurrentUpdatePriority,vd=te.resolveUpdatePriority;te.resolveEventType,te.resolveEventTimeStamp;var _d=te.shouldAttemptEagerTransition,bh=te.detachDeletedInstance;te.requestPostPaintCallback;var Sf=te.maySuspendCommit,vu=te.preloadInstance,bf=te.startSuspendingCommit,ra=te.suspendInstance,wr=te.waitForCommitToBeReady,Lo=te.NotPendingTransition,ls=te.HostTransitionContext,_u=te.resetFormInstance;te.bindToConsole;var Ef=te.supportsMicrotasks,so=te.scheduleMicrotask,Uo=te.supportsTestSelectors,Af=te.findFiberRoot,Tf=te.getBoundingRect,yd=te.getTextContent,zl=te.isHiddenSubtree,xd=te.matchAccessibilityRole,Sd=te.setFocusIfFocusable,bd=te.setupIntersectionObserver,Ed=te.appendChild,Mf=te.appendChildToContainer,Ad=te.commitTextUpdate,Eh=te.commitMount,Td=te.commitUpdate,Md=te.insertBefore,Cd=te.insertInContainerBefore,Cf=te.removeChild,Rd=te.removeChildFromContainer,Rf=te.resetTextContent,wd=te.hideInstance,Bd=te.hideTextInstance,Dd=te.unhideInstance,Ah=te.unhideTextInstance,Od=te.clearContainer,Hl=te.cloneInstance,Pc=te.createContainerChildSet,wf=te.appendChildToContainerChildSet,yu=te.finalizeContainerChildren,Vl=te.replaceContainerChildren,Bf=te.cloneHiddenInstance,Df=te.cloneHiddenTextInstance,xu=te.isSuspenseInstancePending,Su=te.isSuspenseInstanceFallback,Ld=te.getSuspenseInstanceFallbackErrorDetails,Ud=te.registerSuspenseInstanceRetry,Of=te.canHydrateFormStateMarker,Pd=te.isFormStateMarkerMatching,Lf=te.getNextHydratableSibling,bu=te.getFirstHydratableChild,Nd=te.getFirstHydratableChildWithinContainer,Fd=te.getFirstHydratableChildWithinSuspenseInstance,Th=te.canHydrateInstance,Uf=te.canHydrateTextInstance,Id=te.canHydrateSuspenseInstance,Gd=te.hydrateInstance,Pf=te.hydrateTextInstance,zd=te.hydrateSuspenseInstance,Hd=te.getNextHydratableInstanceAfterSuspenseInstance,Mh=te.commitHydratedContainer,Ch=te.commitHydratedSuspenseInstance,Vd=te.clearSuspenseBoundary,Nc=te.clearSuspenseBoundaryFromContainer,Eu=te.shouldDeleteUnhydratedTailInstances;te.diffHydratedPropsForDevWarnings,te.diffHydratedTextForDevWarnings,te.describeHydratableInstanceForDevWarnings;var Au=te.validateHydratableInstance,kd=te.validateHydratableTextInstance,Ca=te.supportsResources,Fc=te.isHostHoistableType,Tu=te.getHoistableRoot,Nf=te.getResource,$d=te.acquireResource,rl=te.releaseResource,Ic=te.hydrateHoistable,Gc=te.mountHoistable,kl=te.unmountHoistable,Mu=te.createHoistableInstance,jd=te.prepareToCommitHoistables,Xd=te.mayResourceSuspendCommit,al=te.preloadResource,Wd=te.suspendResource,$i=te.supportsSingletons,cs=te.resolveSingletonInstance,Po=te.clearSingleton,qd=te.acquireSingletonInstance,No=te.releaseSingletonInstance,Es=te.isHostSingletonType,br=[],oo=-1,Fo={},aa=Math.clz32?Math.clz32:Ie,Yd=Math.log,Kd=Math.LN2,As=128,sl=4194304,zc=Ma.unstable_scheduleCallback,Cu=Ma.unstable_cancelCallback,Jd=Ma.unstable_shouldYield,Ru=Ma.unstable_requestPaint,qa=Ma.unstable_now,wu=Ma.unstable_ImmediatePriority,Qd=Ma.unstable_UserBlockingPriority,Bu=Ma.unstable_NormalPriority,Rh=Ma.unstable_IdlePriority,Zd=Ma.log,Nr=Ma.unstable_setDisableYieldValue,Er=null,xa=null,Sa=typeof Object.is=="function"?Object.is:lt,Ff=new WeakMap,ol=[],ll=0,cl=null,$l=0,Ra=[],wa=0,Io=null,us=1,fs="",Dr=De(null),jl=De(null),Ts=De(null),ul=De(null),jr=null,Xr=null,Ci=!1,Ya=null,Fr=!1,Hc=Error(ce(519)),Ka=[],fl=0,ds=0,Vc=null,lo=null,dl=!1,Ki=!1,If=!1,Xl=0,Wl=null,hl=0,Ba=0,pl=null,co=!1,ml=!1,Ms=Object.prototype.hasOwnProperty,ql=Error(ce(460)),kc=Error(ce(474)),$c={then:function(){}},Go=null,zo=null,Ho=0,Vo=Fn(!0),Cs=Fn(!1),Ji=De(null),Yl=De(0),Da=De(null),ji=null,Or=De(0),uo=0,mi=null,Jn=null,wi=null,Ja=!1,gl=!1,ko=!1,Du=0,vl=0,Ir=null,hs=0,Ou=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},fr={readContext:zr,use:Ct,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n};fr.useCacheRefresh=$n,fr.useMemoCache=$n,fr.useHostTransitionStatus=$n,fr.useFormState=$n,fr.useActionState=$n,fr.useOptimistic=$n;var $o={readContext:zr,use:Ct,useCallback:function(ve,ye){return it().memoizedState=[ve,ye===void 0?null:ye],ve},useContext:zr,useEffect:vo,useImperativeHandle:function(ve,ye,we){we=we!=null?we.concat([ve]):null,mo(4194308,4,ns.bind(null,ye,ve),we)},useLayoutEffect:function(ve,ye){return mo(4194308,4,ve,ye)},useInsertionEffect:function(ve,ye){mo(4,2,ve,ye)},useMemo:function(ve,ye){var we=it();ye=ye===void 0?null:ye;var Ue=ve();if(ko){rt(!0);try{ve()}finally{rt(!1)}}return we.memoizedState=[Ue,ye],Ue},useReducer:function(ve,ye,we){var Ue=it();if(we!==void 0){var ze=we(ye);if(ko){rt(!0);try{we(ye)}finally{rt(!1)}}}else ze=ye;return Ue.memoizedState=Ue.baseState=ze,ve={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ve,lastRenderedState:ze},Ue.queue=ve,ve=ve.dispatch=Qo.bind(null,mi,ve),[Ue.memoizedState,ve]},useRef:function(ve){var ye=it();return ve={current:ve},ye.memoizedState=ve},useState:function(ve){ve=di(ve);var ye=ve.queue,we=bl.bind(null,mi,ye);return ye.dispatch=we,[ve.memoizedState,we]},useDebugValue:fa,useDeferredValue:function(ve,ye){var we=it();return Is(we,ve,ye)},useTransition:function(){var ve=di(!1);return ve=Gs.bind(null,mi,ve.queue,!0,!1),it().memoizedState=ve,[!1,ve]},useSyncExternalStore:function(ve,ye,we){var Ue=mi,ze=it();if(Ci){if(we===void 0)throw Error(ce(407));we=we()}else{if(we=ye(),Ii===null)throw Error(ce(349));(Ai&60)!==0||zn(Ue,ye,we)}ze.memoizedState=we;var qe={value:we,getSnapshot:ye};return ze.queue=qe,vo(ni.bind(null,Ue,qe,ve),[ve]),Ue.flags|=2048,Tr(9,Gn.bind(null,Ue,qe,we,ye),{destroy:void 0},null),we},useId:function(){var ve=it(),ye=Ii.identifierPrefix;if(Ci){var we=fs,Ue=us;we=(Ue&~(1<<32-aa(Ue)-1)).toString(32)+we,ye=":"+ye+"R"+we,we=Du++,0<we&&(ye+="H"+we.toString(32)),ye+=":"}else we=hs++,ye=":"+ye+"r"+we.toString(32)+":";return ve.memoizedState=ye},useCacheRefresh:function(){return it().memoizedState=Jo.bind(null,mi)}};$o.useMemoCache=Lt,$o.useHostTransitionStatus=zs,$o.useFormState=Pi,$o.useActionState=Pi,$o.useOptimistic=function(ve){var ye=it();ye.memoizedState=ye.baseState=ve;var we={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return ye.queue=we,ye=Vs.bind(null,mi,!0,we),we.dispatch=ye,[ve,ye]};var sa={readContext:zr,use:Ct,useCallback:_s,useContext:zr,useEffect:Ns,useImperativeHandle:rs,useInsertionEffect:oc,useLayoutEffect:vs,useMemo:Fs,useReducer:En,useRef:ua,useState:function(){return En(pn)},useDebugValue:fa,useDeferredValue:function(ve,ye){var we=Ot();return Ko(we,Jn.memoizedState,ve,ye)},useTransition:function(){var ve=En(pn)[0],ye=Ot().memoizedState;return[typeof ve=="boolean"?ve:jt(ve),ye]},useSyncExternalStore:Vn,useId:Hs};sa.useCacheRefresh=_r,sa.useMemoCache=Lt,sa.useHostTransitionStatus=zs,sa.useFormState=lr,sa.useActionState=lr,sa.useOptimistic=function(ve,ye){var we=Ot();return yi(we,Jn,ve,ye)};var Oa={readContext:zr,use:Ct,useCallback:_s,useContext:zr,useEffect:Ns,useImperativeHandle:rs,useInsertionEffect:oc,useLayoutEffect:vs,useMemo:Fs,useReducer:Dn,useRef:ua,useState:function(){return Dn(pn)},useDebugValue:fa,useDeferredValue:function(ve,ye){var we=Ot();return Jn===null?Is(we,ve,ye):Ko(we,Jn.memoizedState,ve,ye)},useTransition:function(){var ve=Dn(pn)[0],ye=Ot().memoizedState;return[typeof ve=="boolean"?ve:jt(ve),ye]},useSyncExternalStore:Vn,useId:Hs};Oa.useCacheRefresh=_r,Oa.useMemoCache=Lt,Oa.useHostTransitionStatus=zs,Oa.useFormState=rr,Oa.useActionState=rr,Oa.useOptimistic=function(ve,ye){var we=Ot();return Jn!==null?yi(we,Jn,ve,ye):(we.baseState=ve,[ve,we.queue.dispatch])};var Rs={isMounted:function(ve){return(ve=ve._reactInternals)?be(ve)===ve:!1},enqueueSetState:function(ve,ye,we){ve=ve._reactInternals;var Ue=xr(),ze=vn(Ue);ze.payload=ye,we!=null&&(ze.callback=we),ye=hn(ve,ze,Ue),ye!==null&&(Pr(ye,ve,Ue),Qt(ye,ve,Ue))},enqueueReplaceState:function(ve,ye,we){ve=ve._reactInternals;var Ue=xr(),ze=vn(Ue);ze.tag=1,ze.payload=ye,we!=null&&(ze.callback=we),ye=hn(ve,ze,Ue),ye!==null&&(Pr(ye,ve,Ue),Qt(ye,ve,Ue))},enqueueForceUpdate:function(ve,ye){ve=ve._reactInternals;var we=xr(),Ue=vn(we);Ue.tag=2,ye!=null&&(Ue.callback=ye),ye=hn(ve,Ue,we),ye!==null&&(Pr(ye,ve,we),Qt(ye,ve,we))}},Lu=typeof reportError=="function"?reportError:function(ve){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ve=="object"&&ve!==null&&typeof ve.message=="string"?String(ve.message):String(ve),error:ve});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ve);return}console.error(ve)},Uu=Error(ce(461)),Xi=!1,Pu={dehydrated:null,treeContext:null,retryLane:0},fo=De(null),ps=null,La=null,Kl=typeof AbortController<"u"?AbortController:function(){var ve=[],ye=this.signal={aborted:!1,addEventListener:function(we,Ue){ve.push(Ue)}};this.abort=function(){ye.aborted=!0,ve.forEach(function(we){return we()})}},eh=Ma.unstable_scheduleCallback,th=Ma.unstable_NormalPriority,Qi={$$typeof:os,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Gf=ii.S;ii.S=function(ve,ye){typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&$t(ve,ye),Gf!==null&&Gf(ve,ye)};var ws=De(null),Bs=!1,dr=!1,zf=!1,Fi=typeof WeakSet=="function"?WeakSet:Set,li=null,Si=!1,Kn=null,pi=!1,sr=null,Ua=8192,Jl={getCacheForType:function(ve){var ye=zr(Qi),we=ye.data.get(ve);return we===void 0&&(we=ve(),ye.data.set(ve,we)),we}},Ql=0,Qa=1,tr=2,ms=3,Ds=4;if(typeof Symbol=="function"&&Symbol.for){var _l=Symbol.for;Ql=_l("selector.component"),Qa=_l("selector.has_pseudo_class"),tr=_l("selector.role"),ms=_l("selector.test_id"),Ds=_l("selector.text")}var Za=typeof WeakMap=="function"?WeakMap:Map,Bi=0,Ii=null,Qn=null,Ai=0,Hi=0,Kr=null,ts=!1,Pa=!1,Lr=!1,Jr=0,Wi=0,Na=0,ho=0,jc=0,Fa=0,Os=0,yl=null,hr=null,Nu=!1,oa=0,Zl=1/0,Xc=null,jo=null,gs=!1,Ls=null,xl=0,Xo=0,Fu=null,ec=0,Iu=null;return ui.attemptContinuousHydration=function(ve){if(ve.tag===13){var ye=ht(ve,67108864);ye!==null&&Pr(ye,ve,67108864),Rc(ve,67108864)}},ui.attemptHydrationAtCurrentPriority=function(ve){if(ve.tag===13){var ye=xr(),we=ht(ve,ye);we!==null&&Pr(we,ve,ye),Rc(ve,ye)}},ui.attemptSynchronousHydration=function(ve){switch(ve.tag){case 3:if(ve=ve.stateNode,ve.current.memoizedState.isDehydrated){var ye=Fe(ve.pendingLanes);if(ye!==0){for(ve.pendingLanes|=2,ve.entangledLanes|=2;ye;){var we=1<<31-aa(ye);ve.entanglements[1]|=we,ye&=~we}Bt(ve),(Bi&6)===0&&(Zl=qa()+500,Qe(0))}}break;case 13:ye=ht(ve,2),ye!==null&&Pr(ye,ve,2),Ac(),Rc(ve,2)}},ui.batchedUpdates=function(ve,ye){return ve(ye)},ui.createComponentSelector=function(ve){return{$$typeof:Ql,value:ve}},ui.createContainer=function(ve,ye,we,Ue,ze,qe,ut,Tt,Ht,fn){return dd(ve,ye,!1,null,we,Ue,qe,ut,Tt,Ht,fn,null)},ui.createHasPseudoClassSelector=function(ve){return{$$typeof:Qa,value:ve}},ui.createHydrationContainer=function(ve,ye,we,Ue,ze,qe,ut,Tt,Ht,fn,An,Ln,Nn){return ve=dd(we,Ue,!0,ve,ze,qe,Tt,Ht,fn,An,Ln,Nn),ve.context=Cr(null),we=ve.current,Ue=xr(),ze=vn(Ue),ze.callback=ye??null,hn(we,ze,Ue),ve.current.lanes=Ue,tt(ve,Ue),Bt(ve),ve},ui.createPortal=function(ve,ye,we){var Ue=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:Ue==null?null:""+Ue,children:ve,containerInfo:ye,implementation:we}},ui.createRoleSelector=function(ve){return{$$typeof:tr,value:ve}},ui.createTestNameSelector=function(ve){return{$$typeof:ms,value:ve}},ui.createTextSelector=function(ve){return{$$typeof:Ds,value:ve}},ui.defaultOnCaughtError=function(ve){console.error(ve)},ui.defaultOnRecoverableError=function(ve){Lu(ve)},ui.defaultOnUncaughtError=function(ve){Lu(ve)},ui.deferredUpdates=function(ve){var ye=ii.T,we=ao();try{return Yr(32),ii.T=null,ve()}finally{Yr(we),ii.T=ye}},ui.discreteUpdates=function(ve,ye,we,Ue,ze){var qe=ii.T,ut=ao();try{return Yr(2),ii.T=null,ve(ye,we,Ue,ze)}finally{Yr(ut),ii.T=qe,Bi===0&&(Zl=qa()+500)}},ui.findAllNodes=bc,ui.findBoundingRects=function(ve,ye){if(!Uo)throw Error(ce(363));ye=bc(ve,ye),ve=[];for(var we=0;we<ye.length;we++)ve.push(Tf(ye[we]));for(ye=ve.length-1;0<ye;ye--){we=ve[ye];for(var Ue=we.x,ze=Ue+we.width,qe=we.y,ut=qe+we.height,Tt=ye-1;0<=Tt;Tt--)if(ye!==Tt){var Ht=ve[Tt],fn=Ht.x,An=fn+Ht.width,Ln=Ht.y,Nn=Ln+Ht.height;if(Ue>=fn&&qe>=Ln&&ze<=An&&ut<=Nn){ve.splice(ye,1);break}else if(Ue!==fn||we.width!==Ht.width||Nn<qe||Ln>ut){if(!(qe!==Ln||we.height!==Ht.height||An<Ue||fn>ze)){fn>Ue&&(Ht.width+=fn-Ue,Ht.x=Ue),An<ze&&(Ht.width=ze-fn),ve.splice(ye,1);break}}else{Ln>qe&&(Ht.height+=Ln-qe,Ht.y=qe),Nn<ut&&(Ht.height=ut-Ln),ve.splice(ye,1);break}}}return ve},ui.findHostInstance=uu,ui.findHostInstanceWithNoPortals=function(ve){return ve=Ae(ve),ve=ve!==null?Be(ve):null,ve===null?null:Il(ve.stateNode)},ui.findHostInstanceWithWarning=function(ve){return uu(ve)},ui.flushPassiveEffects=ss,ui.flushSyncFromReconciler=function(ve){var ye=Bi;Bi|=1;var we=ii.T,Ue=ao();try{if(Yr(2),ii.T=null,ve)return ve()}finally{Yr(Ue),ii.T=we,Bi=ye,(Bi&6)===0&&Qe(0)}},ui.flushSyncWork=Ac,ui.focusWithin=function(ve,ye){if(!Uo)throw Error(ce(363));for(ve=Rl(ve),ye=_a(ve,ye),ye=Array.from(ye),ve=0;ve<ye.length;){var we=ye[ve++],Ue=we.tag;if(!zl(we)){if((Ue===5||Ue===26||Ue===27)&&Sd(we.stateNode))return!0;for(we=we.child;we!==null;)ye.push(we),we=we.sibling}}return!1},ui.getFindAllNodesFailureDescription=function(ve,ye){if(!Uo)throw Error(ce(363));var we=0,Ue=[];ve=[Rl(ve),0];for(var ze=0;ze<ve.length;){var qe=ve[ze++],ut=qe.tag,Tt=ve[ze++],Ht=ye[Tt];if((ut!==5&&ut!==26&&ut!==27||!zl(qe))&&(To(qe,Ht)&&(Ue.push(lf(Ht)),Tt++,Tt>we&&(we=Tt)),Tt<ye.length))for(qe=qe.child;qe!==null;)ve.push(qe,Tt),qe=qe.sibling}if(we<ye.length){for(ve=[];we<ye.length;we++)ve.push(lf(ye[we]));return`findAllNodes was able to match part of the selector:
  `+(Ue.join(" > ")+`

No matching component was found for:
  `)+ve.join(" > ")}return null},ui.getPublicRootInstance=function(ve){if(ve=ve.current,!ve.child)return null;switch(ve.child.tag){case 27:case 5:return Il(ve.child.stateNode);default:return ve.child.stateNode}},ui.injectIntoDevTools=function(){var ve={bundleType:0,version:yf,rendererPackageName:Lc,currentDispatcherRef:ii,findFiberByHostInstance:gd,reconcilerVersion:"19.0.0"};if(Fl!==null&&(ve.rendererConfig=Fl),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")ve=!1;else{var ye=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ye.isDisabled||!ye.supportsFiber)ve=!0;else{try{Er=ye.inject(ve),xa=ye}catch{}ve=!!ye.checkDCE}}return ve},ui.isAlreadyRendering=function(){return!1},ui.observeVisibleRects=function(ve,ye,we,Ue){if(!Uo)throw Error(ce(363));ve=bc(ve,ye);var ze=bd(ve,we,Ue).disconnect;return{disconnect:function(){ze()}}},ui.shouldError=function(){return null},ui.shouldSuspend=function(){return!1},ui.startHostTransition=function(ve,ye,we,Ue){if(ve.tag!==5)throw Error(ce(476));var ze=Zr(ve).queue;Gs(ve,ze,ye,Lo,we===null?oe:function(){var qe=Zr(ve).next.queue;return Ga(ve,qe,{},xr()),we(Ue)})},ui.updateContainer=function(ve,ye,we,Ue){var ze=ye.current,qe=xr();return Ol(ze,qe,ve,ye,we,Ue),qe},ui.updateContainerSync=function(ve,ye,we,Ue){return ye.tag===0&&ss(),Ol(ye.current,2,ve,ye,we,Ue),2},ui},se.exports.default=se.exports,Object.defineProperty(se.exports,"__esModule",{value:!0})}(reactReconciler_production)),reactReconciler_production.exports}var hasRequiredReactReconciler;function requireReactReconciler(){return hasRequiredReactReconciler||(hasRequiredReactReconciler=1,reactReconciler.exports=requireReactReconciler_production()),reactReconciler.exports}var reactReconcilerExports=requireReactReconciler();const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var schedulerExports=requireScheduler();const isPromise=se=>typeof se=="object"&&typeof se.then=="function",globalCache=[];function shallowEqualArrays(se,te,ae=(oe,ce)=>oe===ce){if(se===te)return!0;if(!se||!te)return!1;const oe=se.length;if(te.length!==oe)return!1;for(let ce=0;ce<oe;ce++)if(!ae(se[ce],te[ce]))return!1;return!0}function query(se,te=null,ae=!1,oe={}){te===null&&(te=[se]);for(const ue of globalCache)if(shallowEqualArrays(te,ue.keys,ue.equal)){if(ae)return;if(Object.prototype.hasOwnProperty.call(ue,"error"))throw ue.error;if(Object.prototype.hasOwnProperty.call(ue,"response"))return oe.lifespan&&oe.lifespan>0&&(ue.timeout&&clearTimeout(ue.timeout),ue.timeout=setTimeout(ue.remove,oe.lifespan)),ue.response;if(!ae)throw ue.promise}const ce={keys:te,equal:oe.equal,remove:()=>{const ue=globalCache.indexOf(ce);ue!==-1&&globalCache.splice(ue,1)},promise:(isPromise(se)?se:se(...te)).then(ue=>{ce.response=ue,oe.lifespan&&oe.lifespan>0&&(ce.timeout=setTimeout(ce.remove,oe.lifespan))}).catch(ue=>ce.error=ue)};if(globalCache.push(ce),!ae)throw ce.promise}const suspend=(se,te,ae)=>query(se,te,!1,ae),preload=(se,te,ae)=>void query(se,te,!0,ae),clear=se=>{if(se===void 0||se.length===0)globalCache.splice(0,globalCache.length);else{const te=globalCache.find(ae=>shallowEqualArrays(se,ae.keys,ae.equal));te&&te.remove()}};function i$6(se,te,ae){if(!se)return;if(ae(se)===!0)return se;let oe=te?se.return:se.child;for(;oe;){const ce=i$6(oe,te,ae);if(ce)return ce;oe=te?null:oe.sibling}}function l$4(se){try{return Object.defineProperties(se,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return se}}const a$4=l$4(reactExports.createContext(null));let m$6=class extends reactExports.Component{render(){return reactExports.createElement(a$4.Provider,{value:this._reactInternals},this.props.children)}};function c$5(){const se=reactExports.useContext(a$4);if(se===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const te=reactExports.useId();return reactExports.useMemo(()=>{for(const ae of[se,se==null?void 0:se.alternate]){if(!ae)continue;const oe=i$6(ae,!1,ce=>{let ue=ce.memoizedState;for(;ue;){if(ue.memoizedState===te)return!0;ue=ue.next}});if(oe)return oe}},[se,te])}const p$6=Symbol.for("react.context"),b$5=se=>se!==null&&typeof se=="object"&&"$$typeof"in se&&se.$$typeof===p$6;function h$5(){const se=c$5(),[te]=reactExports.useState(()=>new Map);te.clear();let ae=se;for(;ae;){const oe=ae.type;b$5(oe)&&oe!==a$4&&!te.has(oe)&&te.set(oe,reactExports.use(l$4(oe))),ae=ae.return}return te}function x$5(){const se=h$5();return reactExports.useMemo(()=>Array.from(se.keys()).reduce((te,ae)=>oe=>reactExports.createElement(te,null,reactExports.createElement(ae.Provider,{...oe,value:se.get(ae)})),te=>reactExports.createElement(m$6,{...te})),[se])}function findInitialRoot(se){let te=se.root;for(;te.getState().previousRoot;)te=te.getState().previousRoot;return te}const isOrthographicCamera=se=>se&&se.isOrthographicCamera,isRef=se=>se&&se.hasOwnProperty("current"),isColorRepresentation=se=>se!=null&&(typeof se=="string"||typeof se=="number"||se.isColor),useIsomorphicLayoutEffect$2=((se,te)=>typeof window<"u"&&(((se=window.document)==null?void 0:se.createElement)||((te=window.navigator)==null?void 0:te.product)==="ReactNative"))()?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(se){const te=reactExports.useRef(se);return useIsomorphicLayoutEffect$2(()=>void(te.current=se),[se]),te}function useBridge(){const se=c$5(),te=x$5();return reactExports.useMemo(()=>({children:ae})=>{const ce=!!i$6(se,!0,ue=>ue.type===reactExports.StrictMode)?reactExports.StrictMode:reactExports.Fragment;return jsxRuntimeExports.jsx(ce,{children:jsxRuntimeExports.jsx(te,{children:ae})})},[se,te])}function Block({set:se}){return useIsomorphicLayoutEffect$2(()=>(se(new Promise(()=>null)),()=>se(!1)),[se]),null}const ErrorBoundary=(se=>(se=class extends reactExports.Component{constructor(...ae){super(...ae),this.state={error:!1}}componentDidCatch(ae){this.props.set(ae)}render(){return this.state.error?null:this.props.children}},se.getDerivedStateFromError=()=>({error:!0}),se))();function calculateDpr(se){var te;const ae=typeof window<"u"?(te=window.devicePixelRatio)!=null?te:2:1;return Array.isArray(se)?Math.min(Math.max(se[0],ae),se[1]):se}function getRootState(se){var te;return(te=se.__r3f)==null?void 0:te.root.getState()}const is={obj:se=>se===Object(se)&&!is.arr(se)&&typeof se!="function",fun:se=>typeof se=="function",str:se=>typeof se=="string",num:se=>typeof se=="number",boo:se=>typeof se=="boolean",und:se=>se===void 0,nul:se=>se===null,arr:se=>Array.isArray(se),equ(se,te,{arrays:ae="shallow",objects:oe="reference",strict:ce=!0}={}){if(typeof se!=typeof te||!!se!=!!te)return!1;if(is.str(se)||is.num(se)||is.boo(se))return se===te;const ue=is.obj(se);if(ue&&oe==="reference")return se===te;const fe=is.arr(se);if(fe&&ae==="reference")return se===te;if((fe||ue)&&se===te)return!0;let de;for(de in se)if(!(de in te))return!1;if(ue&&ae==="shallow"&&oe==="shallow"){for(de in ce?te:se)if(!is.equ(se[de],te[de],{strict:ce,objects:"reference"}))return!1}else for(de in ce?te:se)if(se[de]!==te[de])return!1;if(is.und(de)){if(fe&&se.length===0&&te.length===0||ue&&Object.keys(se).length===0&&Object.keys(te).length===0)return!0;if(se!==te)return!1}return!0}};function buildGraph(se){const te={nodes:{},materials:{},meshes:{}};return se&&se.traverse(ae=>{ae.name&&(te.nodes[ae.name]=ae),ae.material&&!te.materials[ae.material.name]&&(te.materials[ae.material.name]=ae.material),ae.isMesh&&!te.meshes[ae.name]&&(te.meshes[ae.name]=ae)}),te}function dispose(se){se.type!=="Scene"&&(se.dispose==null||se.dispose());for(const te in se){const ae=se[te];(ae==null?void 0:ae.type)!=="Scene"&&(ae==null||ae.dispose==null||ae.dispose())}}const REACT_INTERNAL_PROPS=["children","key","ref"];function getInstanceProps(se){const te={};for(const ae in se)REACT_INTERNAL_PROPS.includes(ae)||(te[ae]=se[ae]);return te}function prepare(se,te,ae,oe){const ce=se;let ue=ce==null?void 0:ce.__r3f;return ue||(ue={root:te,type:ae,parent:null,children:[],props:getInstanceProps(oe),object:ce,eventCount:0,handlers:{},isHidden:!1},ce&&(ce.__r3f=ue)),ue}function resolve(se,te){let ae=se[te];if(!te.includes("-"))return{root:se,key:te,target:ae};ae=se;for(const ce of te.split("-")){var oe;te=ce,se=ae,ae=(oe=ae)==null?void 0:oe[te]}return{root:se,key:te,target:ae}}const INDEX_REGEX=/-\d+$/;function attach(se,te){if(is.str(te.props.attach)){if(INDEX_REGEX.test(te.props.attach)){const ce=te.props.attach.replace(INDEX_REGEX,""),{root:ue,key:fe}=resolve(se.object,ce);Array.isArray(ue[fe])||(ue[fe]=[])}const{root:ae,key:oe}=resolve(se.object,te.props.attach);te.previousAttach=ae[oe],ae[oe]=te.object}else is.fun(te.props.attach)&&(te.previousAttach=te.props.attach(se.object,te.object))}function detach(se,te){if(is.str(te.props.attach)){const{root:ae,key:oe}=resolve(se.object,te.props.attach),ce=te.previousAttach;ce===void 0?delete ae[oe]:ae[oe]=ce}else te.previousAttach==null||te.previousAttach(se.object,te.object);delete te.previousAttach}const RESERVED_PROPS=[...REACT_INTERNAL_PROPS,"args","dispose","attach","object","onUpdate","dispose"],MEMOIZED_PROTOTYPES=new Map;function getMemoizedPrototype(se){let te=MEMOIZED_PROTOTYPES.get(se.constructor);try{te||(te=new se.constructor,MEMOIZED_PROTOTYPES.set(se.constructor,te))}catch{}return te}function diffProps(se,te){const ae={};for(const oe in te)if(!RESERVED_PROPS.includes(oe)&&!is.equ(te[oe],se.props[oe])){ae[oe]=te[oe];for(const ce in te)ce.startsWith(`${oe}-`)&&(ae[ce]=te[ce])}for(const oe in se.props){if(RESERVED_PROPS.includes(oe)||te.hasOwnProperty(oe))continue;const{root:ce,key:ue}=resolve(se.object,oe);if(ce.constructor&&ce.constructor.length===0){const fe=getMemoizedPrototype(ce);is.und(fe)||(ae[ue]=fe[ue])}else ae[ue]=0}return ae}const colorMaps=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],EVENT_REGEX=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function applyProps(se,te){var ae;const oe=se.__r3f,ce=oe&&findInitialRoot(oe).getState(),ue=oe==null?void 0:oe.eventCount;for(const de in te){let pe=te[de];if(RESERVED_PROPS.includes(de))continue;if(oe&&EVENT_REGEX.test(de)){typeof pe=="function"?oe.handlers[de]=pe:delete oe.handlers[de],oe.eventCount=Object.keys(oe.handlers).length;continue}if(pe===void 0)continue;let{root:me,key:_e,target:be}=resolve(se,de);if(be instanceof Layers&&pe instanceof Layers)be.mask=pe.mask;else if(be instanceof Color$1&&isColorRepresentation(pe))be.set(pe);else if(be!==null&&typeof be=="object"&&typeof be.set=="function"&&typeof be.copy=="function"&&pe!=null&&pe.constructor&&be.constructor===pe.constructor)be.copy(pe);else if(be!==null&&typeof be=="object"&&typeof be.set=="function"&&Array.isArray(pe))typeof be.fromArray=="function"?be.fromArray(pe):be.set(...pe);else if(be!==null&&typeof be=="object"&&typeof be.set=="function"&&typeof pe=="number")typeof be.setScalar=="function"?be.setScalar(pe):be.set(pe);else{var fe;me[_e]=pe,ce&&!ce.linear&&colorMaps.includes(_e)&&(fe=me[_e])!=null&&fe.isTexture&&me[_e].format===RGBAFormat&&me[_e].type===UnsignedByteType&&(me[_e].colorSpace=SRGBColorSpace$1)}}if(oe!=null&&oe.parent&&ce!=null&&ce.internal&&(ae=oe.object)!=null&&ae.isObject3D&&ue!==oe.eventCount){const de=oe.object,pe=ce.internal.interaction.indexOf(de);pe>-1&&ce.internal.interaction.splice(pe,1),oe.eventCount&&de.raycast!==null&&ce.internal.interaction.push(de)}return oe&&oe.props.attach===void 0&&(oe.object.isBufferGeometry?oe.props.attach="geometry":oe.object.isMaterial&&(oe.props.attach="material")),oe&&invalidateInstance(oe),se}function invalidateInstance(se){var te;if(!se.parent)return;se.props.onUpdate==null||se.props.onUpdate(se.object);const ae=(te=se.root)==null||te.getState==null?void 0:te.getState();ae&&ae.internal.frames===0&&ae.invalidate()}function updateCamera(se,te){se.manual||(isOrthographicCamera(se)?(se.left=te.width/-2,se.right=te.width/2,se.top=te.height/2,se.bottom=te.height/-2):se.aspect=te.width/te.height,se.updateProjectionMatrix())}const isObject3D=se=>se==null?void 0:se.isObject3D;function makeId(se){return(se.eventObject||se.object).uuid+"/"+se.index+se.instanceId}function releaseInternalPointerCapture(se,te,ae,oe){const ce=ae.get(te);ce&&(ae.delete(te),ae.size===0&&(se.delete(oe),ce.target.releasePointerCapture(oe)))}function removeInteractivity(se,te){const{internal:ae}=se.getState();ae.interaction=ae.interaction.filter(oe=>oe!==te),ae.initialHits=ae.initialHits.filter(oe=>oe!==te),ae.hovered.forEach((oe,ce)=>{(oe.eventObject===te||oe.object===te)&&ae.hovered.delete(ce)}),ae.capturedMap.forEach((oe,ce)=>{releaseInternalPointerCapture(ae.capturedMap,te,oe,ce)})}function createEvents(se){function te(pe){const{internal:me}=se.getState(),_e=pe.offsetX-me.initialClick[0],be=pe.offsetY-me.initialClick[1];return Math.round(Math.sqrt(_e*_e+be*be))}function ae(pe){return pe.filter(me=>["Move","Over","Enter","Out","Leave"].some(_e=>{var be;return(be=me.__r3f)==null?void 0:be.handlers["onPointer"+_e]}))}function oe(pe,me){const _e=se.getState(),be=new Set,Ee=[],Ae=me?me(_e.internal.interaction):_e.internal.interaction;for(let Oe=0;Oe<Ae.length;Oe++){const Pe=getRootState(Ae[Oe]);Pe&&(Pe.raycaster.camera=void 0)}_e.previousRoot||_e.events.compute==null||_e.events.compute(pe,_e);function Re(Oe){const Pe=getRootState(Oe);if(!Pe||!Pe.events.enabled||Pe.raycaster.camera===null)return[];if(Pe.raycaster.camera===void 0){var Ie;Pe.events.compute==null||Pe.events.compute(pe,Pe,(Ie=Pe.previousRoot)==null?void 0:Ie.getState()),Pe.raycaster.camera===void 0&&(Pe.raycaster.camera=null)}return Pe.raycaster.camera?Pe.raycaster.intersectObject(Oe,!0):[]}let Be=Ae.flatMap(Re).sort((Oe,Pe)=>{const Ie=getRootState(Oe.object),Fe=getRootState(Pe.object);return!Ie||!Fe?Oe.distance-Pe.distance:Fe.events.priority-Ie.events.priority||Oe.distance-Pe.distance}).filter(Oe=>{const Pe=makeId(Oe);return be.has(Pe)?!1:(be.add(Pe),!0)});_e.events.filter&&(Be=_e.events.filter(Be,_e));for(const Oe of Be){let Pe=Oe.object;for(;Pe;){var De;(De=Pe.__r3f)!=null&&De.eventCount&&Ee.push({...Oe,eventObject:Pe}),Pe=Pe.parent}}if("pointerId"in pe&&_e.internal.capturedMap.has(pe.pointerId))for(let Oe of _e.internal.capturedMap.get(pe.pointerId).values())be.has(makeId(Oe.intersection))||Ee.push(Oe.intersection);return Ee}function ce(pe,me,_e,be){if(pe.length){const Ee={stopped:!1};for(const Ae of pe){let Re=getRootState(Ae.object);if(Re||Ae.object.traverseAncestors(Be=>{const De=getRootState(Be);if(De)return Re=De,!1}),Re){const{raycaster:Be,pointer:De,camera:Oe,internal:Pe}=Re,Ie=new Vector3(De.x,De.y,0).unproject(Oe),Fe=je=>{var He,tt;return(He=(tt=Pe.capturedMap.get(je))==null?void 0:tt.has(Ae.eventObject))!=null?He:!1},$e=je=>{const He={intersection:Ae,target:me.target};Pe.capturedMap.has(je)?Pe.capturedMap.get(je).set(Ae.eventObject,He):Pe.capturedMap.set(je,new Map([[Ae.eventObject,He]])),me.target.setPointerCapture(je)},Ve=je=>{const He=Pe.capturedMap.get(je);He&&releaseInternalPointerCapture(Pe.capturedMap,Ae.eventObject,He,je)};let ke={};for(let je in me){let He=me[je];typeof He!="function"&&(ke[je]=He)}let We={...Ae,...ke,pointer:De,intersections:pe,stopped:Ee.stopped,delta:_e,unprojectedPoint:Ie,ray:Be.ray,camera:Oe,stopPropagation(){const je="pointerId"in me&&Pe.capturedMap.get(me.pointerId);if((!je||je.has(Ae.eventObject))&&(We.stopped=Ee.stopped=!0,Pe.hovered.size&&Array.from(Pe.hovered.values()).find(He=>He.eventObject===Ae.eventObject))){const He=pe.slice(0,pe.indexOf(Ae));ue([...He,Ae])}},target:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:Ve},currentTarget:{hasPointerCapture:Fe,setPointerCapture:$e,releasePointerCapture:Ve},nativeEvent:me};if(be(We),Ee.stopped===!0)break}}}return pe}function ue(pe){const{internal:me}=se.getState();for(const _e of me.hovered.values())if(!pe.length||!pe.find(be=>be.object===_e.object&&be.index===_e.index&&be.instanceId===_e.instanceId)){const Ee=_e.eventObject.__r3f;if(me.hovered.delete(makeId(_e)),Ee!=null&&Ee.eventCount){const Ae=Ee.handlers,Re={..._e,intersections:pe};Ae.onPointerOut==null||Ae.onPointerOut(Re),Ae.onPointerLeave==null||Ae.onPointerLeave(Re)}}}function fe(pe,me){for(let _e=0;_e<me.length;_e++){const be=me[_e].__r3f;be==null||be.handlers.onPointerMissed==null||be.handlers.onPointerMissed(pe)}}function de(pe){switch(pe){case"onPointerLeave":case"onPointerCancel":return()=>ue([]);case"onLostPointerCapture":return me=>{const{internal:_e}=se.getState();"pointerId"in me&&_e.capturedMap.has(me.pointerId)&&requestAnimationFrame(()=>{_e.capturedMap.has(me.pointerId)&&(_e.capturedMap.delete(me.pointerId),ue([]))})}}return function(_e){const{onPointerMissed:be,internal:Ee}=se.getState();Ee.lastEvent.current=_e;const Ae=pe==="onPointerMove",Re=pe==="onClick"||pe==="onContextMenu"||pe==="onDoubleClick",De=oe(_e,Ae?ae:void 0),Oe=Re?te(_e):0;pe==="onPointerDown"&&(Ee.initialClick=[_e.offsetX,_e.offsetY],Ee.initialHits=De.map(Ie=>Ie.eventObject)),Re&&!De.length&&Oe<=2&&(fe(_e,Ee.interaction),be&&be(_e)),Ae&&ue(De);function Pe(Ie){const Fe=Ie.eventObject,$e=Fe.__r3f;if(!($e!=null&&$e.eventCount))return;const Ve=$e.handlers;if(Ae){if(Ve.onPointerOver||Ve.onPointerEnter||Ve.onPointerOut||Ve.onPointerLeave){const ke=makeId(Ie),We=Ee.hovered.get(ke);We?We.stopped&&Ie.stopPropagation():(Ee.hovered.set(ke,Ie),Ve.onPointerOver==null||Ve.onPointerOver(Ie),Ve.onPointerEnter==null||Ve.onPointerEnter(Ie))}Ve.onPointerMove==null||Ve.onPointerMove(Ie)}else{const ke=Ve[pe];ke?(!Re||Ee.initialHits.includes(Fe))&&(fe(_e,Ee.interaction.filter(We=>!Ee.initialHits.includes(We))),ke(Ie)):Re&&Ee.initialHits.includes(Fe)&&fe(_e,Ee.interaction.filter(We=>!Ee.initialHits.includes(We)))}}ce(De,_e,Oe,Pe)}}return{handlePointer:de}}const isRenderer=se=>!!(se!=null&&se.render),context=reactExports.createContext(null),createStore$1=(se,te)=>{const ae=createWithEqualityFn((de,pe)=>{const me=new Vector3,_e=new Vector3,be=new Vector3;function Ee(Oe=pe().camera,Pe=_e,Ie=pe().size){const{width:Fe,height:$e,top:Ve,left:ke}=Ie,We=Fe/$e;Pe.isVector3?be.copy(Pe):be.set(...Pe);const je=Oe.getWorldPosition(me).distanceTo(be);if(isOrthographicCamera(Oe))return{width:Fe/Oe.zoom,height:$e/Oe.zoom,top:Ve,left:ke,factor:1,distance:je,aspect:We};{const He=Oe.fov*Math.PI/180,tt=2*Math.tan(He/2)*je,Ze=tt*(Fe/$e);return{width:Ze,height:tt,top:Ve,left:ke,factor:Fe/Ze,distance:je,aspect:We}}}let Ae;const Re=Oe=>de(Pe=>({performance:{...Pe.performance,current:Oe}})),Be=new Vector2;return{set:de,get:pe,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(Oe=1)=>se(pe(),Oe),advance:(Oe,Pe)=>te(Oe,Pe,pe()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:Be,mouse:Be,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Oe=pe();Ae&&clearTimeout(Ae),Oe.performance.current!==Oe.performance.min&&Re(Oe.performance.min),Ae=setTimeout(()=>Re(pe().performance.max),Oe.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:Ee},setEvents:Oe=>de(Pe=>({...Pe,events:{...Pe.events,...Oe}})),setSize:(Oe,Pe,Ie=0,Fe=0)=>{const $e=pe().camera,Ve={width:Oe,height:Pe,top:Ie,left:Fe};de(ke=>({size:Ve,viewport:{...ke.viewport,...Ee($e,_e,Ve)}}))},setDpr:Oe=>de(Pe=>{const Ie=calculateDpr(Oe);return{viewport:{...Pe.viewport,dpr:Ie,initialDpr:Pe.viewport.initialDpr||Ie}}}),setFrameloop:(Oe="always")=>{const Pe=pe().clock;Pe.stop(),Pe.elapsedTime=0,Oe!=="never"&&(Pe.start(),Pe.elapsedTime=0),de(()=>({frameloop:Oe}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:reactExports.createRef(),active:!1,frames:0,priority:0,subscribe:(Oe,Pe,Ie)=>{const Fe=pe().internal;return Fe.priority=Fe.priority+(Pe>0?1:0),Fe.subscribers.push({ref:Oe,priority:Pe,store:Ie}),Fe.subscribers=Fe.subscribers.sort(($e,Ve)=>$e.priority-Ve.priority),()=>{const $e=pe().internal;$e!=null&&$e.subscribers&&($e.priority=$e.priority-(Pe>0?1:0),$e.subscribers=$e.subscribers.filter(Ve=>Ve.ref!==Oe))}}}}}),oe=ae.getState();let ce=oe.size,ue=oe.viewport.dpr,fe=oe.camera;return ae.subscribe(()=>{const{camera:de,size:pe,viewport:me,gl:_e,set:be}=ae.getState();if(pe.width!==ce.width||pe.height!==ce.height||me.dpr!==ue){ce=pe,ue=me.dpr,updateCamera(de,pe),me.dpr>0&&_e.setPixelRatio(me.dpr);const Ee=typeof HTMLCanvasElement<"u"&&_e.domElement instanceof HTMLCanvasElement;_e.setSize(pe.width,pe.height,Ee)}de!==fe&&(fe=de,be(Ee=>({viewport:{...Ee.viewport,...Ee.viewport.getCurrentViewport(de)}})))}),ae.subscribe(de=>se(de)),ae};function useStore(){const se=reactExports.useContext(context);if(!se)throw new Error("R3F: Hooks can only be used within the Canvas component!");return se}function useThree(se=ae=>ae,te){return useStore()(se,te)}function useFrame(se,te=0){const ae=useStore(),oe=ae.getState().internal.subscribe,ce=useMutableCallback(se);return useIsomorphicLayoutEffect$2(()=>oe(ce,te,ae),[te,oe,ae]),null}function useGraph(se){return reactExports.useMemo(()=>buildGraph(se),[se])}const memoizedLoaders=new WeakMap,isConstructor$1=se=>{var te;return typeof se=="function"&&(se==null||(te=se.prototype)==null?void 0:te.constructor)===se};function loadingFn(se,te){return function(ae,...oe){let ce;return isConstructor$1(ae)?(ce=memoizedLoaders.get(ae),ce||(ce=new ae,memoizedLoaders.set(ae,ce))):ce=ae,se&&se(ce),Promise.all(oe.map(ue=>new Promise((fe,de)=>ce.load(ue,pe=>{isObject3D(pe==null?void 0:pe.scene)&&Object.assign(pe,buildGraph(pe.scene)),fe(pe)},te,pe=>de(new Error(`Could not load ${ue}: ${pe==null?void 0:pe.message}`))))))}}function useLoader(se,te,ae,oe){const ce=Array.isArray(te)?te:[te],ue=suspend(loadingFn(ae,oe),[se,...ce],{equal:is.equ});return Array.isArray(te)?ue:ue[0]}useLoader.preload=function(se,te,ae){const oe=Array.isArray(te)?te:[te];return preload(loadingFn(ae),[se,...oe])};useLoader.clear=function(se,te){const ae=Array.isArray(te)?te:[te];return clear([se,...ae])};function createReconciler(se){const te=Reconciler(se);return te.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version}),te}const NoEventPriority=0,catalogue={},PREFIX_REGEX=/^three(?=[A-Z])/,toPascalCase=se=>`${se[0].toUpperCase()}${se.slice(1)}`;let i$5=0;const isConstructor=se=>typeof se=="function";function extend(se){if(isConstructor(se)){const te=`${i$5++}`;return catalogue[te]=se,te}else Object.assign(catalogue,se)}function validateInstance(se,te){const ae=toPascalCase(se),oe=catalogue[ae];if(se!=="primitive"&&!oe)throw new Error(`R3F: ${ae} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(se==="primitive"&&!te.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(te.args!==void 0&&!Array.isArray(te.args))throw new Error("R3F: The args prop must be an array!")}function createInstance(se,te,ae){var oe;return se=toPascalCase(se)in catalogue?se:se.replace(PREFIX_REGEX,""),validateInstance(se,te),se==="primitive"&&(oe=te.object)!=null&&oe.__r3f&&delete te.object.__r3f,prepare(te.object,ae,se,te)}function hideInstance(se){if(!se.isHidden){var te;se.props.attach&&(te=se.parent)!=null&&te.object?detach(se.parent,se):isObject3D(se.object)&&(se.object.visible=!1),se.isHidden=!0,invalidateInstance(se)}}function unhideInstance(se){if(se.isHidden){var te;se.props.attach&&(te=se.parent)!=null&&te.object?attach(se.parent,se):isObject3D(se.object)&&se.props.visible!==!1&&(se.object.visible=!0),se.isHidden=!1,invalidateInstance(se)}}function handleContainerEffects(se,te,ae){const oe=te.root.getState();if(!(!se.parent&&se.object!==oe.scene)){if(!te.object){var ce,ue;const fe=catalogue[toPascalCase(te.type)];te.object=(ce=te.props.object)!=null?ce:new fe(...(ue=te.props.args)!=null?ue:[]),te.object.__r3f=te}if(applyProps(te.object,te.props),te.props.attach)attach(se,te);else if(isObject3D(te.object)&&isObject3D(se.object)){const fe=se.object.children.indexOf(ae==null?void 0:ae.object);if(ae&&fe!==-1){const de=se.object.children.indexOf(te.object);if(de!==-1){se.object.children.splice(de,1);const pe=de<fe?fe-1:fe;se.object.children.splice(pe,0,te.object)}else te.object.parent=se.object,se.object.children.splice(fe,0,te.object),te.object.dispatchEvent({type:"added"}),se.object.dispatchEvent({type:"childadded",child:te.object})}else se.object.add(te.object)}for(const fe of te.children)handleContainerEffects(te,fe);invalidateInstance(te)}}function appendChild(se,te){te&&(te.parent=se,se.children.push(te),handleContainerEffects(se,te))}function insertBefore(se,te,ae){if(!te||!ae)return;te.parent=se;const oe=se.children.indexOf(ae);oe!==-1?se.children.splice(oe,0,te):se.children.push(te),handleContainerEffects(se,te,ae)}function disposeOnIdle(se){if(typeof se.dispose=="function"){const te=()=>{try{se.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?te():schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,te)}}function removeChild(se,te,ae){if(!te)return;te.parent=null;const oe=se.children.indexOf(te);oe!==-1&&se.children.splice(oe,1),te.props.attach?detach(se,te):isObject3D(te.object)&&isObject3D(se.object)&&(se.object.remove(te.object),removeInteractivity(findInitialRoot(te),te.object));const ce=te.props.dispose!==null&&ae!==!1;for(let ue=te.children.length-1;ue>=0;ue--){const fe=te.children[ue];removeChild(te,fe,ce)}te.children.length=0,delete te.object.__r3f,ce&&te.type!=="primitive"&&te.object.type!=="Scene"&&disposeOnIdle(te.object),ae===void 0&&invalidateInstance(te)}function setFiberRef(se,te){for(const ae of[se,se.alternate])if(ae!==null)if(typeof ae.ref=="function"){ae.refCleanup==null||ae.refCleanup();const oe=ae.ref(te);typeof oe=="function"&&(ae.refCleanup=oe)}else ae.ref&&(ae.ref.current=te)}const reconstructed=[];function swapInstances(){for(const[ae]of reconstructed){const oe=ae.parent;if(oe){ae.props.attach?detach(oe,ae):isObject3D(ae.object)&&isObject3D(oe.object)&&oe.object.remove(ae.object);for(const ce of ae.children)ce.props.attach?detach(ae,ce):isObject3D(ce.object)&&isObject3D(ae.object)&&ae.object.remove(ce.object)}ae.isHidden&&unhideInstance(ae),ae.object.__r3f&&delete ae.object.__r3f,ae.type!=="primitive"&&disposeOnIdle(ae.object)}for(const[ae,oe,ce]of reconstructed){ae.props=oe;const ue=ae.parent;if(ue){var se,te;const fe=catalogue[toPascalCase(ae.type)];ae.object=(se=ae.props.object)!=null?se:new fe(...(te=ae.props.args)!=null?te:[]),ae.object.__r3f=ae,setFiberRef(ce,ae.object),applyProps(ae.object,ae.props),ae.props.attach?attach(ue,ae):isObject3D(ae.object)&&isObject3D(ue.object)&&ue.object.add(ae.object);for(const de of ae.children)de.props.attach?attach(ae,de):isObject3D(de.object)&&isObject3D(ae.object)&&ae.object.add(de.object);invalidateInstance(ae)}}reconstructed.length=0}const handleTextInstance=()=>{},NO_CONTEXT={};let currentUpdatePriority=NoEventPriority;const NoFlags=0,Update=4,reconciler=createReconciler({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance,removeChild,appendChild,appendInitialChild:appendChild,insertBefore,appendChildToContainer(se,te){const ae=se.getState().scene.__r3f;!te||!ae||appendChild(ae,te)},removeChildFromContainer(se,te){const ae=se.getState().scene.__r3f;!te||!ae||removeChild(ae,te)},insertInContainerBefore(se,te,ae){const oe=se.getState().scene.__r3f;!te||!ae||!oe||insertBefore(oe,te,ae)},getRootHostContext:()=>NO_CONTEXT,getChildHostContext:()=>NO_CONTEXT,commitUpdate(se,te,ae,oe,ce){var ue,fe,de;validateInstance(te,oe);let pe=!1;if((se.type==="primitive"&&ae.object!==oe.object||((ue=oe.args)==null?void 0:ue.length)!==((fe=ae.args)==null?void 0:fe.length)||(de=oe.args)!=null&&de.some((_e,be)=>{var Ee;return _e!==((Ee=ae.args)==null?void 0:Ee[be])}))&&(pe=!0),pe)reconstructed.push([se,{...oe},ce]);else{const _e=diffProps(se,oe);Object.keys(_e).length&&(Object.assign(se.props,_e),applyProps(se.object,_e))}(ce.sibling===null||(ce.flags&Update)===NoFlags)&&swapInstances()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:se=>se==null?void 0:se.object,prepareForCommit:()=>null,preparePortalMount:se=>prepare(se.getState().scene,se,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance,unhideInstance,createTextInstance:handleTextInstance,hideTextInstance:handleTextInstance,unhideTextInstance:handleTextInstance,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:reactExports.createContext(null),setCurrentUpdatePriority(se){currentUpdatePriority=se},getCurrentUpdatePriority(){return currentUpdatePriority},resolveUpdatePriority(){var se;if(currentUpdatePriority!==NoEventPriority)return currentUpdatePriority;switch(typeof window<"u"&&((se=window.event)==null?void 0:se.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}},resetFormInstance(){}}),_roots=new Map,shallowLoose={objects:"shallow",strict:!1};function computeInitialSize(se,te){if(!te&&typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement&&se.parentElement){const{width:ae,height:oe,top:ce,left:ue}=se.parentElement.getBoundingClientRect();return{width:ae,height:oe,top:ce,left:ue}}else if(!te&&typeof OffscreenCanvas<"u"&&se instanceof OffscreenCanvas)return{width:se.width,height:se.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...te}}function createRoot(se){const te=_roots.get(se),ae=te==null?void 0:te.fiber,oe=te==null?void 0:te.store;te&&console.warn("R3F.createRoot should only be called once!");const ce=typeof reportError=="function"?reportError:console.error,ue=oe||createStore$1(invalidate,advance),fe=ae||reconciler.createContainer(ue,constantsExports.ConcurrentRoot,null,!1,null,"",ce,ce,ce,null);te||_roots.set(se,{fiber:fe,store:ue});let de,pe,me=!1,_e=null;return{async configure(be={}){let Ee;_e=new Promise(et=>Ee=et);let{gl:Ae,size:Re,scene:Be,events:De,onCreated:Oe,shadows:Pe=!1,linear:Ie=!1,flat:Fe=!1,legacy:$e=!1,orthographic:Ve=!1,frameloop:ke="always",dpr:We=[1,2],performance:je,raycaster:He,camera:tt,onPointerMissed:Ze}=be,nt=ue.getState(),at=nt.gl;if(!nt.gl){const et={canvas:se,powerPreference:"high-performance",antialias:!0,alpha:!0},ft=typeof Ae=="function"?await Ae(et):Ae;isRenderer(ft)?at=ft:at=new WebGLRenderer({...et,...Ae}),nt.set({gl:at})}let mt=nt.raycaster;mt||nt.set({raycaster:mt=new Raycaster});const{params:Ye,...rt}=He||{};if(is.equ(rt,mt,shallowLoose)||applyProps(mt,{...rt}),is.equ(Ye,mt.params,shallowLoose)||applyProps(mt,{params:{...mt.params,...Ye}}),!nt.camera||nt.camera===pe&&!is.equ(pe,tt,shallowLoose)){pe=tt;const et=tt==null?void 0:tt.isCamera,ft=et?tt:Ve?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);et||(ft.position.z=5,tt&&(applyProps(ft,tt),ft.manual||("aspect"in tt||"left"in tt||"right"in tt||"bottom"in tt||"top"in tt)&&(ft.manual=!0,ft.updateProjectionMatrix())),!nt.camera&&!(tt!=null&&tt.rotation)&&ft.lookAt(0,0,0)),nt.set({camera:ft}),mt.camera=ft}if(!nt.scene){let et;Be!=null&&Be.isScene?(et=Be,prepare(et,ue,"",{})):(et=new Scene,prepare(et,ue,"",{}),Be&&applyProps(et,Be)),nt.set({scene:et})}De&&!nt.events.handlers&&nt.set({events:De(ue)});const lt=computeInitialSize(se,Re);if(is.equ(lt,nt.size,shallowLoose)||nt.setSize(lt.width,lt.height,lt.top,lt.left),We&&nt.viewport.dpr!==calculateDpr(We)&&nt.setDpr(We),nt.frameloop!==ke&&nt.setFrameloop(ke),nt.onPointerMissed||nt.set({onPointerMissed:Ze}),je&&!is.equ(je,nt.performance,shallowLoose)&&nt.set(et=>({performance:{...et.performance,...je}})),!nt.xr){var _t;const et=(st,gt)=>{const Et=ue.getState();Et.frameloop!=="never"&&advance(st,!0,Et,gt)},ft=()=>{const st=ue.getState();st.gl.xr.enabled=st.gl.xr.isPresenting,st.gl.xr.setAnimationLoop(st.gl.xr.isPresenting?et:null),st.gl.xr.isPresenting||invalidate(st)},yt={connect(){const st=ue.getState().gl;st.xr.addEventListener("sessionstart",ft),st.xr.addEventListener("sessionend",ft)},disconnect(){const st=ue.getState().gl;st.xr.removeEventListener("sessionstart",ft),st.xr.removeEventListener("sessionend",ft)}};typeof((_t=at.xr)==null?void 0:_t.addEventListener)=="function"&&yt.connect(),nt.set({xr:yt})}if(at.shadowMap){const et=at.shadowMap.enabled,ft=at.shadowMap.type;if(at.shadowMap.enabled=!!Pe,is.boo(Pe))at.shadowMap.type=PCFSoftShadowMap;else if(is.str(Pe)){var Xe;const yt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};at.shadowMap.type=(Xe=yt[Pe])!=null?Xe:PCFSoftShadowMap}else is.obj(Pe)&&Object.assign(at.shadowMap,Pe);(et!==at.shadowMap.enabled||ft!==at.shadowMap.type)&&(at.shadowMap.needsUpdate=!0)}return ColorManagement.enabled=!$e,me||(at.outputColorSpace=Ie?LinearSRGBColorSpace$1:SRGBColorSpace$1,at.toneMapping=Fe?NoToneMapping:ACESFilmicToneMapping),nt.legacy!==$e&&nt.set(()=>({legacy:$e})),nt.linear!==Ie&&nt.set(()=>({linear:Ie})),nt.flat!==Fe&&nt.set(()=>({flat:Fe})),Ae&&!is.fun(Ae)&&!isRenderer(Ae)&&!is.equ(Ae,at,shallowLoose)&&applyProps(at,Ae),de=Oe,me=!0,Ee(),this},render(be){return!me&&!_e&&this.configure(),_e.then(()=>{reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:ue,children:be,onCreated:de,rootElement:se}),fe,null,()=>{})}),ue},unmount(){unmountComponentAtNode(se)}}}function Provider({store:se,children:te,onCreated:ae,rootElement:oe}){return useIsomorphicLayoutEffect$2(()=>{const ce=se.getState();ce.set(ue=>({internal:{...ue.internal,active:!0}})),ae&&ae(ce),se.getState().events.connected||ce.events.connect==null||ce.events.connect(oe)},[]),jsxRuntimeExports.jsx(context.Provider,{value:se,children:te})}function unmountComponentAtNode(se,te){const ae=_roots.get(se),oe=ae==null?void 0:ae.fiber;if(oe){const ce=ae==null?void 0:ae.store.getState();ce&&(ce.internal.active=!1),reconciler.updateContainer(null,oe,null,()=>{ce&&setTimeout(()=>{try{var ue,fe,de,pe;ce.events.disconnect==null||ce.events.disconnect(),(ue=ce.gl)==null||(fe=ue.renderLists)==null||fe.dispose==null||fe.dispose(),(de=ce.gl)==null||de.forceContextLoss==null||de.forceContextLoss(),(pe=ce.gl)!=null&&pe.xr&&ce.xr.disconnect(),dispose(ce.scene),_roots.delete(se)}catch{}},500)})}}const globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(se,te){if(se.size)for(const{callback:ae}of se.values())ae(te)}function flushGlobalEffects(se,te){switch(se){case"before":return run(globalEffects,te);case"after":return run(globalAfterEffects,te);case"tail":return run(globalTailEffects,te)}}let subscribers,subscription;function update(se,te,ae){let oe=te.clock.getDelta();te.frameloop==="never"&&typeof se=="number"&&(oe=se-te.clock.elapsedTime,te.clock.oldTime=te.clock.elapsedTime,te.clock.elapsedTime=se),subscribers=te.internal.subscribers;for(let ce=0;ce<subscribers.length;ce++)subscription=subscribers[ce],subscription.ref.current(subscription.store.getState(),oe,ae);return!te.internal.priority&&te.gl.render&&te.gl.render(te.scene,te.camera),te.internal.frames=Math.max(0,te.internal.frames-1),te.frameloop==="always"?1:te.internal.frames}let running=!1,useFrameInProgress=!1,repeat$1,frame,state;function loop(se){frame=requestAnimationFrame(loop),running=!0,repeat$1=0,flushGlobalEffects("before",se),useFrameInProgress=!0;for(const ae of _roots.values()){var te;state=ae.store.getState(),state.internal.active&&(state.frameloop==="always"||state.internal.frames>0)&&!((te=state.gl.xr)!=null&&te.isPresenting)&&(repeat$1+=update(se,state))}if(useFrameInProgress=!1,flushGlobalEffects("after",se),repeat$1===0)return flushGlobalEffects("tail",se),running=!1,cancelAnimationFrame(frame)}function invalidate(se,te=1){var ae;if(!se)return _roots.forEach(oe=>invalidate(oe.store.getState(),te));(ae=se.gl.xr)!=null&&ae.isPresenting||!se.internal.active||se.frameloop==="never"||(te>1?se.internal.frames=Math.min(60,se.internal.frames+te):useFrameInProgress?se.internal.frames=2:se.internal.frames=1,running||(running=!0,requestAnimationFrame(loop)))}function advance(se,te=!0,ae,oe){if(te&&flushGlobalEffects("before",se),ae)update(se,ae,oe);else for(const ce of _roots.values())update(se,ce.store.getState());te&&flushGlobalEffects("after",se)}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(se){const{handlePointer:te}=createEvents(se);return{priority:1,enabled:!0,compute(ae,oe,ce){oe.pointer.set(ae.offsetX/oe.size.width*2-1,-(ae.offsetY/oe.size.height)*2+1),oe.raycaster.setFromCamera(oe.pointer,oe.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((ae,oe)=>({...ae,[oe]:te(oe)}),{}),update:()=>{var ae;const{events:oe,internal:ce}=se.getState();(ae=ce.lastEvent)!=null&&ae.current&&oe.handlers&&oe.handlers.onPointerMove(ce.lastEvent.current)},connect:ae=>{const{set:oe,events:ce}=se.getState();if(ce.disconnect==null||ce.disconnect(),oe(ue=>({events:{...ue.events,connected:ae}})),ce.handlers)for(const ue in ce.handlers){const fe=ce.handlers[ue],[de,pe]=DOM_EVENTS[ue];ae.addEventListener(de,fe,{passive:pe})}},disconnect:()=>{const{set:ae,events:oe}=se.getState();if(oe.connected){if(oe.handlers)for(const ce in oe.handlers){const ue=oe.handlers[ce],[fe]=DOM_EVENTS[ce];oe.connected.removeEventListener(fe,ue)}ae(ce=>({events:{...ce.events,connected:void 0}}))}}}}function g$5(se,te){let ae;return(...oe)=>{window.clearTimeout(ae),ae=window.setTimeout(()=>se(...oe),te)}}function j$2({debounce:se,scroll:te,polyfill:ae,offsetSize:oe}={debounce:0,scroll:!1,offsetSize:!1}){const ce=ae||(typeof window>"u"?class{}:window.ResizeObserver);if(!ce)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[ue,fe]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),de=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:ue,orientationHandler:null}),pe=se?typeof se=="number"?se:se.scroll:null,me=se?typeof se=="number"?se:se.resize:null,_e=reactExports.useRef(!1);reactExports.useEffect(()=>(_e.current=!0,()=>void(_e.current=!1)));const[be,Ee,Ae]=reactExports.useMemo(()=>{const Oe=()=>{if(!de.current.element)return;const{left:Pe,top:Ie,width:Fe,height:$e,bottom:Ve,right:ke,x:We,y:je}=de.current.element.getBoundingClientRect(),He={left:Pe,top:Ie,width:Fe,height:$e,bottom:Ve,right:ke,x:We,y:je};de.current.element instanceof HTMLElement&&oe&&(He.height=de.current.element.offsetHeight,He.width=de.current.element.offsetWidth),Object.freeze(He),_e.current&&!D$4(de.current.lastBounds,He)&&fe(de.current.lastBounds=He)};return[Oe,me?g$5(Oe,me):Oe,pe?g$5(Oe,pe):Oe]},[fe,oe,pe,me]);function Re(){de.current.scrollContainers&&(de.current.scrollContainers.forEach(Oe=>Oe.removeEventListener("scroll",Ae,!0)),de.current.scrollContainers=null),de.current.resizeObserver&&(de.current.resizeObserver.disconnect(),de.current.resizeObserver=null),de.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",de.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",de.current.orientationHandler))}function Be(){de.current.element&&(de.current.resizeObserver=new ce(Ae),de.current.resizeObserver.observe(de.current.element),te&&de.current.scrollContainers&&de.current.scrollContainers.forEach(Oe=>Oe.addEventListener("scroll",Ae,{capture:!0,passive:!0})),de.current.orientationHandler=()=>{Ae()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",de.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",de.current.orientationHandler))}const De=Oe=>{!Oe||Oe===de.current.element||(Re(),de.current.element=Oe,de.current.scrollContainers=E$3(Oe),Be())};return X$1(Ae,!!te),W$3(Ee),reactExports.useEffect(()=>{Re(),Be()},[te,Ae,Ee]),reactExports.useEffect(()=>Re,[]),[De,ue,be]}function W$3(se){reactExports.useEffect(()=>{const te=se;return window.addEventListener("resize",te),()=>void window.removeEventListener("resize",te)},[se])}function X$1(se,te){reactExports.useEffect(()=>{if(te){const ae=se;return window.addEventListener("scroll",ae,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",ae,!0)}},[se,te])}function E$3(se){const te=[];if(!se||se===document.body)return te;const{overflow:ae,overflowX:oe,overflowY:ce}=window.getComputedStyle(se);return[ae,oe,ce].some(ue=>ue==="auto"||ue==="scroll")&&te.push(se),[...te,...E$3(se.parentElement)]}const k$5=["x","y","top","bottom","left","right","width","height"],D$4=(se,te)=>k$5.every(ae=>se[ae]===te[ae]);function CanvasImpl({ref:se,children:te,fallback:ae,resize:oe,style:ce,gl:ue,events:fe=createPointerEvents,eventSource:de,eventPrefix:pe,shadows:me,linear:_e,flat:be,legacy:Ee,orthographic:Ae,frameloop:Re,dpr:Be,performance:De,raycaster:Oe,camera:Pe,scene:Ie,onPointerMissed:Fe,onCreated:$e,...Ve}){reactExports.useMemo(()=>extend(THREE),[]);const ke=useBridge(),[We,je]=j$2({scroll:!0,debounce:{scroll:50,resize:0},...oe}),He=reactExports.useRef(null),tt=reactExports.useRef(null);reactExports.useImperativeHandle(se,()=>He.current);const Ze=useMutableCallback(Fe),[nt,at]=reactExports.useState(!1),[mt,Ye]=reactExports.useState(!1);if(nt)throw nt;if(mt)throw mt;const rt=reactExports.useRef(null);useIsomorphicLayoutEffect$2(()=>{const _t=He.current;if(je.width>0&&je.height>0&&_t){rt.current||(rt.current=createRoot(_t));async function Xe(){await rt.current.configure({gl:ue,scene:Ie,events:fe,shadows:me,linear:_e,flat:be,legacy:Ee,orthographic:Ae,frameloop:Re,dpr:Be,performance:De,raycaster:Oe,camera:Pe,size:je,onPointerMissed:(...et)=>Ze.current==null?void 0:Ze.current(...et),onCreated:et=>{et.events.connect==null||et.events.connect(de?isRef(de)?de.current:de:tt.current),pe&&et.setEvents({compute:(ft,yt)=>{const st=ft[pe+"X"],gt=ft[pe+"Y"];yt.pointer.set(st/yt.size.width*2-1,-(gt/yt.size.height)*2+1),yt.raycaster.setFromCamera(yt.pointer,yt.camera)}}),$e==null||$e(et)}}),rt.current.render(jsxRuntimeExports.jsx(ke,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:Ye,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:at}),children:te??null})})}))}Xe()}}),reactExports.useEffect(()=>{const _t=He.current;if(_t)return()=>unmountComponentAtNode(_t)},[]);const lt=de?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:tt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:lt,...ce},...Ve,children:jsxRuntimeExports.jsx("div",{ref:We,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:He,style:{display:"block"},children:ae})})})}function Canvas$1(se){return jsxRuntimeExports.jsx(m$6,{children:jsxRuntimeExports.jsx(CanvasImpl,{...se})})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te];for(var oe in ae)({}).hasOwnProperty.call(ae,oe)&&(se[oe]=ae[oe])}return se},_extends$1.apply(null,arguments)}function useCursor(se,te="pointer",ae="auto",oe=document.body){reactExports.useEffect(()=>{if(se)return oe.style.cursor=te,()=>void(oe.style.cursor=ae)},[se])}function clamp$3(se,te,ae){return Math.max(te,Math.min(se,ae))}const V$3={toVector(se,te){return se===void 0&&(se=te),Array.isArray(se)?se:[se,se]},add(se,te){return[se[0]+te[0],se[1]+te[1]]},sub(se,te){return[se[0]-te[0],se[1]-te[1]]},addTo(se,te){se[0]+=te[0],se[1]+=te[1]},subTo(se,te){se[0]-=te[0],se[1]-=te[1]}};function rubberband(se,te,ae){return te===0||Math.abs(te)===1/0?Math.pow(se,ae*5):se*te*ae/(te+ae*se)}function rubberbandIfOutOfBounds(se,te,ae,oe=.15){return oe===0?clamp$3(se,te,ae):se<te?-rubberband(te-se,ae-te,oe)+te:se>ae?+rubberband(se-ae,ae-te,oe)+ae:se}function computeRubberband(se,[te,ae],[oe,ce]){const[[ue,fe],[de,pe]]=se;return[rubberbandIfOutOfBounds(te,ue,fe,oe),rubberbandIfOutOfBounds(ae,de,pe,ce)]}function _toPrimitive(se,te){if(typeof se!="object"||se===null)return se;var ae=se[Symbol.toPrimitive];if(ae!==void 0){var oe=ae.call(se,te);if(typeof oe!="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(se)}function _toPropertyKey(se){var te=_toPrimitive(se,"string");return typeof te=="symbol"?te:String(te)}function _defineProperty$4(se,te,ae){return te=_toPropertyKey(te),te in se?Object.defineProperty(se,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):se[te]=ae,se}function ownKeys$3(se,te){var ae=Object.keys(se);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(se);te&&(oe=oe.filter(function(ce){return Object.getOwnPropertyDescriptor(se,ce).enumerable})),ae.push.apply(ae,oe)}return ae}function _objectSpread2$1(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$3(Object(ae),!0).forEach(function(oe){_defineProperty$4(se,oe,ae[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ae)):ownKeys$3(Object(ae)).forEach(function(oe){Object.defineProperty(se,oe,Object.getOwnPropertyDescriptor(ae,oe))})}return se}const EVENT_TYPE_MAP={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function capitalize(se){return se?se[0].toUpperCase()+se.slice(1):""}const actionsWithoutCaptureSupported=["enter","leave"];function hasCapture(se=!1,te){return se&&!actionsWithoutCaptureSupported.includes(te)}function toHandlerProp(se,te="",ae=!1){const oe=EVENT_TYPE_MAP[se],ce=oe&&oe[te]||te;return"on"+capitalize(se)+capitalize(ce)+(hasCapture(ae,ce)?"Capture":"")}const pointerCaptureEvents=["gotpointercapture","lostpointercapture"];function parseProp(se){let te=se.substring(2).toLowerCase();const ae=!!~te.indexOf("passive");ae&&(te=te.replace("passive",""));const oe=pointerCaptureEvents.includes(te)?"capturecapture":"capture",ce=!!~te.indexOf(oe);return ce&&(te=te.replace("capture","")),{device:te,capture:ce,passive:ae}}function toDomEventType(se,te=""){const ae=EVENT_TYPE_MAP[se],oe=ae&&ae[te]||te;return se+oe}function isTouch(se){return"touches"in se}function getPointerType(se){return isTouch(se)?"touch":"pointerType"in se?se.pointerType:"mouse"}function getCurrentTargetTouchList(se){return Array.from(se.touches).filter(te=>{var ae,oe;return te.target===se.currentTarget||((ae=se.currentTarget)===null||ae===void 0||(oe=ae.contains)===null||oe===void 0?void 0:oe.call(ae,te.target))})}function getTouchList(se){return se.type==="touchend"||se.type==="touchcancel"?se.changedTouches:se.targetTouches}function getValueEvent(se){return isTouch(se)?getTouchList(se)[0]:se}function touchIds(se){return getCurrentTargetTouchList(se).map(te=>te.identifier)}function pointerId(se){const te=getValueEvent(se);return isTouch(se)?te.identifier:te.pointerId}function pointerValues(se){const te=getValueEvent(se);return[te.clientX,te.clientY]}function getEventDetails(se){const te={};if("buttons"in se&&(te.buttons=se.buttons),"shiftKey"in se){const{shiftKey:ae,altKey:oe,metaKey:ce,ctrlKey:ue}=se;Object.assign(te,{shiftKey:ae,altKey:oe,metaKey:ce,ctrlKey:ue})}return te}function call(se,...te){return typeof se=="function"?se(...te):se}function noop$1(){}function chain(...se){return se.length===0?noop$1:se.length===1?se[0]:function(){let te;for(const ae of se)te=ae.apply(this,arguments)||te;return te}}function assignDefault(se,te){return Object.assign({},te,se||{})}const BEFORE_LAST_KINEMATICS_DELAY=32;class Engine{constructor(te,ae,oe){this.ctrl=te,this.args=ae,this.key=oe,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(te){this.ctrl.state[this.key]=te}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:te,shared:ae,ingKey:oe,args:ce}=this;ae[oe]=te._active=te.active=te._blocked=te._force=!1,te._step=[!1,!1],te.intentional=!1,te._movement=[0,0],te._distance=[0,0],te._direction=[0,0],te._delta=[0,0],te._bounds=[[-1/0,1/0],[-1/0,1/0]],te.args=ce,te.axis=void 0,te.memo=void 0,te.elapsedTime=te.timeDelta=0,te.direction=[0,0],te.distance=[0,0],te.overflow=[0,0],te._movementBound=[!1,!1],te.velocity=[0,0],te.movement=[0,0],te.delta=[0,0],te.timeStamp=0}start(te){const ae=this.state,oe=this.config;ae._active||(this.reset(),this.computeInitial(),ae._active=!0,ae.target=te.target,ae.currentTarget=te.currentTarget,ae.lastOffset=oe.from?call(oe.from,ae):ae.offset,ae.offset=ae.lastOffset,ae.startTime=ae.timeStamp=te.timeStamp)}computeValues(te){const ae=this.state;ae._values=te,ae.values=this.config.transform(te)}computeInitial(){const te=this.state;te._initial=te._values,te.initial=te.values}compute(te){const{state:ae,config:oe,shared:ce}=this;ae.args=this.args;let ue=0;if(te&&(ae.event=te,oe.preventDefault&&te.cancelable&&ae.event.preventDefault(),ae.type=te.type,ce.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,ce.locked=!!document.pointerLockElement,Object.assign(ce,getEventDetails(te)),ce.down=ce.pressed=ce.buttons%2===1||ce.touches>0,ue=te.timeStamp-ae.timeStamp,ae.timeStamp=te.timeStamp,ae.elapsedTime=ae.timeStamp-ae.startTime),ae._active){const Ve=ae._delta.map(Math.abs);V$3.addTo(ae._distance,Ve)}this.axisIntent&&this.axisIntent(te);const[fe,de]=ae._movement,[pe,me]=oe.threshold,{_step:_e,values:be}=ae;if(oe.hasCustomTransform?(_e[0]===!1&&(_e[0]=Math.abs(fe)>=pe&&be[0]),_e[1]===!1&&(_e[1]=Math.abs(de)>=me&&be[1])):(_e[0]===!1&&(_e[0]=Math.abs(fe)>=pe&&Math.sign(fe)*pe),_e[1]===!1&&(_e[1]=Math.abs(de)>=me&&Math.sign(de)*me)),ae.intentional=_e[0]!==!1||_e[1]!==!1,!ae.intentional)return;const Ee=[0,0];if(oe.hasCustomTransform){const[Ve,ke]=be;Ee[0]=_e[0]!==!1?Ve-_e[0]:0,Ee[1]=_e[1]!==!1?ke-_e[1]:0}else Ee[0]=_e[0]!==!1?fe-_e[0]:0,Ee[1]=_e[1]!==!1?de-_e[1]:0;this.restrictToAxis&&!ae._blocked&&this.restrictToAxis(Ee);const Ae=ae.offset,Re=ae._active&&!ae._blocked||ae.active;Re&&(ae.first=ae._active&&!ae.active,ae.last=!ae._active&&ae.active,ae.active=ce[this.ingKey]=ae._active,te&&(ae.first&&("bounds"in oe&&(ae._bounds=call(oe.bounds,ae)),this.setup&&this.setup()),ae.movement=Ee,this.computeOffset()));const[Be,De]=ae.offset,[[Oe,Pe],[Ie,Fe]]=ae._bounds;ae.overflow=[Be<Oe?-1:Be>Pe?1:0,De<Ie?-1:De>Fe?1:0],ae._movementBound[0]=ae.overflow[0]?ae._movementBound[0]===!1?ae._movement[0]:ae._movementBound[0]:!1,ae._movementBound[1]=ae.overflow[1]?ae._movementBound[1]===!1?ae._movement[1]:ae._movementBound[1]:!1;const $e=ae._active?oe.rubberband||[0,0]:[0,0];if(ae.offset=computeRubberband(ae._bounds,ae.offset,$e),ae.delta=V$3.sub(ae.offset,Ae),this.computeMovement(),Re&&(!ae.last||ue>BEFORE_LAST_KINEMATICS_DELAY)){ae.delta=V$3.sub(ae.offset,Ae);const Ve=ae.delta.map(Math.abs);V$3.addTo(ae.distance,Ve),ae.direction=ae.delta.map(Math.sign),ae._direction=ae._delta.map(Math.sign),!ae.first&&ue>0&&(ae.velocity=[Ve[0]/ue,Ve[1]/ue],ae.timeDelta=ue)}}emit(){const te=this.state,ae=this.shared,oe=this.config;if(te._active||this.clean(),(te._blocked||!te.intentional)&&!te._force&&!oe.triggerAllEvents)return;const ce=this.handler(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ae),te),{},{[this.aliasKey]:te.values}));ce!==void 0&&(te.memo=ce)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function selectAxis([se,te],ae){const oe=Math.abs(se),ce=Math.abs(te);if(oe>ce&&oe>ae)return"x";if(ce>oe&&ce>ae)return"y"}class CoordinatesEngine extends Engine{constructor(...te){super(...te),_defineProperty$4(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=V$3.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=V$3.sub(this.state.offset,this.state.lastOffset)}axisIntent(te){const ae=this.state,oe=this.config;if(!ae.axis&&te){const ce=typeof oe.axisThreshold=="object"?oe.axisThreshold[getPointerType(te)]:oe.axisThreshold;ae.axis=selectAxis(ae._movement,ce)}ae._blocked=(oe.lockDirection||!!oe.axis)&&!ae.axis||!!oe.axis&&oe.axis!==ae.axis}restrictToAxis(te){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":te[1]=0;break;case"y":te[0]=0;break}}}const identity=se=>se,DEFAULT_RUBBERBAND=.15,commonConfigResolver={enabled(se=!0){return se},eventOptions(se,te,ae){return _objectSpread2$1(_objectSpread2$1({},ae.shared.eventOptions),se)},preventDefault(se=!1){return se},triggerAllEvents(se=!1){return se},rubberband(se=0){switch(se){case!0:return[DEFAULT_RUBBERBAND,DEFAULT_RUBBERBAND];case!1:return[0,0];default:return V$3.toVector(se)}},from(se){if(typeof se=="function")return se;if(se!=null)return V$3.toVector(se)},transform(se,te,ae){const oe=se||ae.shared.transform;return this.hasCustomTransform=!!oe,oe||identity},threshold(se){return V$3.toVector(se,0)}},DEFAULT_AXIS_THRESHOLD=0,coordinatesConfigResolver=_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{axis(se,te,{axis:ae}){if(this.lockDirection=ae==="lock",!this.lockDirection)return ae},axisThreshold(se=DEFAULT_AXIS_THRESHOLD){return se},bounds(se={}){if(typeof se=="function")return ue=>coordinatesConfigResolver.bounds(se(ue));if("current"in se)return()=>se.current;if(typeof HTMLElement=="function"&&se instanceof HTMLElement)return se;const{left:te=-1/0,right:ae=1/0,top:oe=-1/0,bottom:ce=1/0}=se;return[[te,ae],[oe,ce]]}}),KEYS_DELTA_MAP={ArrowRight:(se,te=1)=>[se*te,0],ArrowLeft:(se,te=1)=>[-1*se*te,0],ArrowUp:(se,te=1)=>[0,-1*se*te],ArrowDown:(se,te=1)=>[0,se*te]};class DragEngine extends CoordinatesEngine{constructor(...te){super(...te),_defineProperty$4(this,"ingKey","dragging")}reset(){super.reset();const te=this.state;te._pointerId=void 0,te._pointerActive=!1,te._keyboardActive=!1,te._preventScroll=!1,te._delayed=!1,te.swipe=[0,0],te.tap=!1,te.canceled=!1,te.cancel=this.cancel.bind(this)}setup(){const te=this.state;if(te._bounds instanceof HTMLElement){const ae=te._bounds.getBoundingClientRect(),oe=te.currentTarget.getBoundingClientRect(),ce={left:ae.left-oe.left+te.offset[0],right:ae.right-oe.right+te.offset[0],top:ae.top-oe.top+te.offset[1],bottom:ae.bottom-oe.bottom+te.offset[1]};te._bounds=coordinatesConfigResolver.bounds(ce)}}cancel(){const te=this.state;te.canceled||(te.canceled=!0,te._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(te){const ae=this.config,oe=this.state;if(te.buttons!=null&&(Array.isArray(ae.pointerButtons)?!ae.pointerButtons.includes(te.buttons):ae.pointerButtons!==-1&&ae.pointerButtons!==te.buttons))return;const ce=this.ctrl.setEventIds(te);ae.pointerCapture&&te.target.setPointerCapture(te.pointerId),!(ce&&ce.size>1&&oe._pointerActive)&&(this.start(te),this.setupPointer(te),oe._pointerId=pointerId(te),oe._pointerActive=!0,this.computeValues(pointerValues(te)),this.computeInitial(),ae.preventScrollAxis&&getPointerType(te)!=="mouse"?(oe._active=!1,this.setupScrollPrevention(te)):ae.delay>0?(this.setupDelayTrigger(te),ae.triggerAllEvents&&(this.compute(te),this.emit())):this.startPointerDrag(te))}startPointerDrag(te){const ae=this.state;ae._active=!0,ae._preventScroll=!0,ae._delayed=!1,this.compute(te),this.emit()}pointerMove(te){const ae=this.state,oe=this.config;if(!ae._pointerActive)return;const ce=pointerId(te);if(ae._pointerId!==void 0&&ce!==ae._pointerId)return;const ue=pointerValues(te);if(document.pointerLockElement===te.target?ae._delta=[te.movementX,te.movementY]:(ae._delta=V$3.sub(ue,ae._values),this.computeValues(ue)),V$3.addTo(ae._movement,ae._delta),this.compute(te),ae._delayed&&ae.intentional){this.timeoutStore.remove("dragDelay"),ae.active=!1,this.startPointerDrag(te);return}if(oe.preventScrollAxis&&!ae._preventScroll)if(ae.axis)if(ae.axis===oe.preventScrollAxis||oe.preventScrollAxis==="xy"){ae._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(te);return}else return;this.emit()}pointerUp(te){this.ctrl.setEventIds(te);try{this.config.pointerCapture&&te.target.hasPointerCapture(te.pointerId)&&te.target.releasePointerCapture(te.pointerId)}catch{}const ae=this.state,oe=this.config;if(!ae._active||!ae._pointerActive)return;const ce=pointerId(te);if(ae._pointerId!==void 0&&ce!==ae._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(te);const[ue,fe]=ae._distance;if(ae.tap=ue<=oe.tapsThreshold&&fe<=oe.tapsThreshold,ae.tap&&oe.filterTaps)ae._force=!0;else{const[de,pe]=ae._delta,[me,_e]=ae._movement,[be,Ee]=oe.swipe.velocity,[Ae,Re]=oe.swipe.distance,Be=oe.swipe.duration;if(ae.elapsedTime<Be){const De=Math.abs(de/ae.timeDelta),Oe=Math.abs(pe/ae.timeDelta);De>be&&Math.abs(me)>Ae&&(ae.swipe[0]=Math.sign(de)),Oe>Ee&&Math.abs(_e)>Re&&(ae.swipe[1]=Math.sign(pe))}}this.emit()}pointerClick(te){!this.state.tap&&te.detail>0&&(te.preventDefault(),te.stopPropagation())}setupPointer(te){const ae=this.config,oe=ae.device;ae.pointerLock&&te.currentTarget.requestPointerLock(),ae.pointerCapture||(this.eventStore.add(this.sharedConfig.window,oe,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,oe,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,oe,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(te){this.state._preventScroll&&te.cancelable&&te.preventDefault()}setupScrollPrevention(te){this.state._preventScroll=!1,persistEvent(te);const ae=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",ae),this.eventStore.add(this.sharedConfig.window,"touch","cancel",ae),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,te)}setupDelayTrigger(te){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(te)},this.config.delay)}keyDown(te){const ae=KEYS_DELTA_MAP[te.key];if(ae){const oe=this.state,ce=te.shiftKey?10:te.altKey?.1:1;this.start(te),oe._delta=ae(this.config.keyboardDisplacement,ce),oe._keyboardActive=!0,V$3.addTo(oe._movement,oe._delta),this.compute(te),this.emit()}}keyUp(te){te.key in KEYS_DELTA_MAP&&(this.state._keyboardActive=!1,this.setActive(),this.compute(te),this.emit())}bind(te){const ae=this.config.device;te(ae,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(te(ae,"change",this.pointerMove.bind(this)),te(ae,"end",this.pointerUp.bind(this)),te(ae,"cancel",this.pointerUp.bind(this)),te("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(te("key","down",this.keyDown.bind(this)),te("key","up",this.keyUp.bind(this))),this.config.filterTaps&&te("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function persistEvent(se){"persist"in se&&typeof se.persist=="function"&&se.persist()}const isBrowser=typeof window<"u"&&window.document&&window.document.createElement;function supportsTouchEvents(){return isBrowser&&"ontouchstart"in window}function isTouchScreen(){return supportsTouchEvents()||isBrowser&&window.navigator.maxTouchPoints>1}function supportsPointerEvents(){return isBrowser&&"onpointerdown"in window}function supportsPointerLock(){return isBrowser&&"exitPointerLock"in window.document}function supportsGestureEvents(){try{return"constructor"in GestureEvent}catch{return!1}}const SUPPORT={isBrowser,gesture:supportsGestureEvents(),touch:supportsTouchEvents(),touchscreen:isTouchScreen(),pointer:supportsPointerEvents(),pointerLock:supportsPointerLock()},DEFAULT_PREVENT_SCROLL_DELAY=250,DEFAULT_DRAG_DELAY=180,DEFAULT_SWIPE_VELOCITY=.5,DEFAULT_SWIPE_DISTANCE=50,DEFAULT_SWIPE_DURATION=250,DEFAULT_KEYBOARD_DISPLACEMENT=10,DEFAULT_DRAG_AXIS_THRESHOLD={mouse:0,touch:0,pen:8},dragConfigResolver=_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{device(se,te,{pointer:{touch:ae=!1,lock:oe=!1,mouse:ce=!1}={}}){return this.pointerLock=oe&&SUPPORT.pointerLock,SUPPORT.touch&&ae?"touch":this.pointerLock?"mouse":SUPPORT.pointer&&!ce?"pointer":SUPPORT.touch?"touch":"mouse"},preventScrollAxis(se,te,{preventScroll:ae}){if(this.preventScrollDelay=typeof ae=="number"?ae:ae||ae===void 0&&se?DEFAULT_PREVENT_SCROLL_DELAY:void 0,!(!SUPPORT.touchscreen||ae===!1))return se||(ae!==void 0?"y":void 0)},pointerCapture(se,te,{pointer:{capture:ae=!0,buttons:oe=1,keys:ce=!0}={}}){return this.pointerButtons=oe,this.keys=ce,!this.pointerLock&&this.device==="pointer"&&ae},threshold(se,te,{filterTaps:ae=!1,tapsThreshold:oe=3,axis:ce=void 0}){const ue=V$3.toVector(se,ae?oe:ce?1:0);return this.filterTaps=ae,this.tapsThreshold=oe,ue},swipe({velocity:se=DEFAULT_SWIPE_VELOCITY,distance:te=DEFAULT_SWIPE_DISTANCE,duration:ae=DEFAULT_SWIPE_DURATION}={}){return{velocity:this.transform(V$3.toVector(se)),distance:this.transform(V$3.toVector(te)),duration:ae}},delay(se=0){switch(se){case!0:return DEFAULT_DRAG_DELAY;case!1:return 0;default:return se}},axisThreshold(se){return se?_objectSpread2$1(_objectSpread2$1({},DEFAULT_DRAG_AXIS_THRESHOLD),se):DEFAULT_DRAG_AXIS_THRESHOLD},keyboardDisplacement(se=DEFAULT_KEYBOARD_DISPLACEMENT){return se}});_objectSpread2$1(_objectSpread2$1({},commonConfigResolver),{},{device(se,te,{shared:ae,pointer:{touch:oe=!1}={}}){if(ae.target&&!SUPPORT.touch&&SUPPORT.gesture)return"gesture";if(SUPPORT.touch&&oe)return"touch";if(SUPPORT.touchscreen){if(SUPPORT.pointer)return"pointer";if(SUPPORT.touch)return"touch"}},bounds(se,te,{scaleBounds:ae={},angleBounds:oe={}}){const ce=fe=>{const de=assignDefault(call(ae,fe),{min:-1/0,max:1/0});return[de.min,de.max]},ue=fe=>{const de=assignDefault(call(oe,fe),{min:-1/0,max:1/0});return[de.min,de.max]};return typeof ae!="function"&&typeof oe!="function"?[ce(),ue()]:fe=>[ce(fe),ue(fe)]},threshold(se,te,ae){return this.lockDirection=ae.axis==="lock",V$3.toVector(se,this.lockDirection?[.1,3]:0)},modifierKey(se){return se===void 0?"ctrlKey":se},pinchOnWheel(se=!0){return se}});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(se=!0)=>se});_objectSpread2$1(_objectSpread2$1({},coordinatesConfigResolver),{},{mouseOnly:(se=!0)=>se});const EngineMap=new Map,ConfigResolverMap=new Map;function registerAction(se){EngineMap.set(se.key,se.engine),ConfigResolverMap.set(se.key,se.resolver)}const dragAction={key:"drag",engine:DragEngine,resolver:dragConfigResolver};function _objectWithoutPropertiesLoose$2(se,te){if(se==null)return{};var ae={},oe=Object.keys(se),ce,ue;for(ue=0;ue<oe.length;ue++)ce=oe[ue],!(te.indexOf(ce)>=0)&&(ae[ce]=se[ce]);return ae}function _objectWithoutProperties$2(se,te){if(se==null)return{};var ae=_objectWithoutPropertiesLoose$2(se,te),oe,ce;if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(se);for(ce=0;ce<ue.length;ce++)oe=ue[ce],!(te.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(se,oe)&&(ae[oe]=se[oe])}return ae}const sharedConfigResolver={target(se){if(se)return()=>"current"in se?se.current:se},enabled(se=!0){return se},window(se=SUPPORT.isBrowser?window:void 0){return se},eventOptions({passive:se=!0,capture:te=!1}={}){return{passive:se,capture:te}},transform(se){return se}},_excluded$c=["target","eventOptions","window","enabled","transform"];function resolveWith(se={},te){const ae={};for(const[oe,ce]of Object.entries(te))switch(typeof ce){case"function":ae[oe]=ce.call(ae,se[oe],oe,se);break;case"object":ae[oe]=resolveWith(se[oe],ce);break;case"boolean":ce&&(ae[oe]=se[oe]);break}return ae}function parse$1(se,te,ae={}){const oe=se,{target:ce,eventOptions:ue,window:fe,enabled:de,transform:pe}=oe,me=_objectWithoutProperties$2(oe,_excluded$c);if(ae.shared=resolveWith({target:ce,eventOptions:ue,window:fe,enabled:de,transform:pe},sharedConfigResolver),te){const _e=ConfigResolverMap.get(te);ae[te]=resolveWith(_objectSpread2$1({shared:ae.shared},me),_e)}else for(const _e in me){const be=ConfigResolverMap.get(_e);be&&(ae[_e]=resolveWith(_objectSpread2$1({shared:ae.shared},me[_e]),be))}return ae}class EventStore{constructor(te,ae){_defineProperty$4(this,"_listeners",new Set),this._ctrl=te,this._gestureKey=ae}add(te,ae,oe,ce,ue){const fe=this._listeners,de=toDomEventType(ae,oe),pe=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},me=_objectSpread2$1(_objectSpread2$1({},pe),ue);te.addEventListener(de,ce,me);const _e=()=>{te.removeEventListener(de,ce,me),fe.delete(_e)};return fe.add(_e),_e}clean(){this._listeners.forEach(te=>te()),this._listeners.clear()}}class TimeoutStore{constructor(){_defineProperty$4(this,"_timeouts",new Map)}add(te,ae,oe=140,...ce){this.remove(te),this._timeouts.set(te,window.setTimeout(ae,oe,...ce))}remove(te){const ae=this._timeouts.get(te);ae&&window.clearTimeout(ae)}clean(){this._timeouts.forEach(te=>void window.clearTimeout(te)),this._timeouts.clear()}}class Controller{constructor(te){_defineProperty$4(this,"gestures",new Set),_defineProperty$4(this,"_targetEventStore",new EventStore(this)),_defineProperty$4(this,"gestureEventStores",{}),_defineProperty$4(this,"gestureTimeoutStores",{}),_defineProperty$4(this,"handlers",{}),_defineProperty$4(this,"config",{}),_defineProperty$4(this,"pointerIds",new Set),_defineProperty$4(this,"touchIds",new Set),_defineProperty$4(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),resolveGestures(this,te)}setEventIds(te){if(isTouch(te))return this.touchIds=new Set(touchIds(te)),this.touchIds;if("pointerId"in te)return te.type==="pointerup"||te.type==="pointercancel"?this.pointerIds.delete(te.pointerId):te.type==="pointerdown"&&this.pointerIds.add(te.pointerId),this.pointerIds}applyHandlers(te,ae){this.handlers=te,this.nativeHandlers=ae}applyConfig(te,ae){this.config=parse$1(te,ae,this.config)}clean(){this._targetEventStore.clean();for(const te of this.gestures)this.gestureEventStores[te].clean(),this.gestureTimeoutStores[te].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...te){const ae=this.config.shared,oe={};let ce;if(!(ae.target&&(ce=ae.target(),!ce))){if(ae.enabled){for(const fe of this.gestures){const de=this.config[fe],pe=bindToProps(oe,de.eventOptions,!!ce);if(de.enabled){const me=EngineMap.get(fe);new me(this,te,fe).bind(pe)}}const ue=bindToProps(oe,ae.eventOptions,!!ce);for(const fe in this.nativeHandlers)ue(fe,"",de=>this.nativeHandlers[fe](_objectSpread2$1(_objectSpread2$1({},this.state.shared),{},{event:de,args:te})),void 0,!0)}for(const ue in oe)oe[ue]=chain(...oe[ue]);if(!ce)return oe;for(const ue in oe){const{device:fe,capture:de,passive:pe}=parseProp(ue);this._targetEventStore.add(ce,fe,"",oe[ue],{capture:de,passive:pe})}}}}function setupGesture(se,te){se.gestures.add(te),se.gestureEventStores[te]=new EventStore(se,te),se.gestureTimeoutStores[te]=new TimeoutStore}function resolveGestures(se,te){te.drag&&setupGesture(se,"drag"),te.wheel&&setupGesture(se,"wheel"),te.scroll&&setupGesture(se,"scroll"),te.move&&setupGesture(se,"move"),te.pinch&&setupGesture(se,"pinch"),te.hover&&setupGesture(se,"hover")}const bindToProps=(se,te,ae)=>(oe,ce,ue,fe={},de=!1)=>{var pe,me;const _e=(pe=fe.capture)!==null&&pe!==void 0?pe:te.capture,be=(me=fe.passive)!==null&&me!==void 0?me:te.passive;let Ee=de?oe:toHandlerProp(oe,ce,_e);ae&&be&&(Ee+="Passive"),se[Ee]=se[Ee]||[],se[Ee].push(ue)};function useRecognizers(se,te={},ae,oe){const ce=React.useMemo(()=>new Controller(se),[]);if(ce.applyHandlers(se,oe),ce.applyConfig(te,ae),React.useEffect(ce.effect.bind(ce)),React.useEffect(()=>ce.clean.bind(ce),[]),te.target===void 0)return ce.bind.bind(ce)}function useDrag$1(se,te){return registerAction(dragAction),useRecognizers({drag:se},te||{},"drag")}const version$1=parseInt(REVISION.replace(/\D+/g,""));function toTrianglesDrawMode(se,te){if(te===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),se;if(te===TriangleFanDrawMode||te===TriangleStripDrawMode){let ae=se.getIndex();if(ae===null){const fe=[],de=se.getAttribute("position");if(de!==void 0){for(let pe=0;pe<de.count;pe++)fe.push(pe);se.setIndex(fe),ae=se.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),se}const oe=ae.count-2,ce=[];if(ae)if(te===TriangleFanDrawMode)for(let fe=1;fe<=oe;fe++)ce.push(ae.getX(0)),ce.push(ae.getX(fe)),ce.push(ae.getX(fe+1));else for(let fe=0;fe<oe;fe++)fe%2===0?(ce.push(ae.getX(fe)),ce.push(ae.getX(fe+1)),ce.push(ae.getX(fe+2))):(ce.push(ae.getX(fe+2)),ce.push(ae.getX(fe+1)),ce.push(ae.getX(fe)));ce.length/3!==oe&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const ue=se.clone();return ue.setIndex(ce),ue.clearGroups(),ue}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",te),se}function retarget(se,te,ae={}){const oe=new Vector3,ce=new Quaternion,ue=new Vector3,fe=new Matrix4,de=new Matrix4,pe=new Matrix4;ae.preserveMatrix=ae.preserveMatrix!==void 0?ae.preserveMatrix:!0,ae.preservePosition=ae.preservePosition!==void 0?ae.preservePosition:!0,ae.preserveHipPosition=ae.preserveHipPosition!==void 0?ae.preserveHipPosition:!1,ae.useTargetMatrix=ae.useTargetMatrix!==void 0?ae.useTargetMatrix:!1,ae.hip=ae.hip!==void 0?ae.hip:"hip",ae.names=ae.names||{};const me=te.isObject3D?te.skeleton.bones:getBones(te),_e=se.isObject3D?se.skeleton.bones:getBones(se);let be,Ee,Ae,Re,Be;if(se.isObject3D?se.skeleton.pose():(ae.useTargetMatrix=!0,ae.preserveMatrix=!1),ae.preservePosition){Be=[];for(let De=0;De<_e.length;De++)Be.push(_e[De].position.clone())}if(ae.preserveMatrix){se.updateMatrixWorld(),se.matrixWorld.identity();for(let De=0;De<se.children.length;++De)se.children[De].updateMatrixWorld(!0)}if(ae.offsets){be=[];for(let De=0;De<_e.length;++De)Ee=_e[De],Ae=ae.names[Ee.name]||Ee.name,ae.offsets[Ae]&&(Ee.matrix.multiply(ae.offsets[Ae]),Ee.matrix.decompose(Ee.position,Ee.quaternion,Ee.scale),Ee.updateMatrixWorld()),be.push(Ee.matrixWorld.clone())}for(let De=0;De<_e.length;++De){if(Ee=_e[De],Ae=ae.names[Ee.name]||Ee.name,Re=getBoneByName(Ae,me),pe.copy(Ee.matrixWorld),Re){if(Re.updateMatrixWorld(),ae.useTargetMatrix?de.copy(Re.matrixWorld):(de.copy(se.matrixWorld).invert(),de.multiply(Re.matrixWorld)),ue.setFromMatrixScale(de),de.scale(ue.set(1/ue.x,1/ue.y,1/ue.z)),pe.makeRotationFromQuaternion(ce.setFromRotationMatrix(de)),se.isObject3D){const Oe=_e.indexOf(Ee),Pe=be?be[Oe]:fe.copy(se.skeleton.boneInverses[Oe]).invert();pe.multiply(Pe)}pe.copyPosition(de)}Ee.parent&&Ee.parent.isBone?(Ee.matrix.copy(Ee.parent.matrixWorld).invert(),Ee.matrix.multiply(pe)):Ee.matrix.copy(pe),ae.preserveHipPosition&&Ae===ae.hip&&Ee.matrix.setPosition(oe.set(0,Ee.position.y,0)),Ee.matrix.decompose(Ee.position,Ee.quaternion,Ee.scale),Ee.updateMatrixWorld()}if(ae.preservePosition)for(let De=0;De<_e.length;++De)Ee=_e[De],Ae=ae.names[Ee.name]||Ee.name,Ae!==ae.hip&&Ee.position.copy(Be[De]);ae.preserveMatrix&&se.updateMatrixWorld(!0)}function retargetClip(se,te,ae,oe={}){oe.useFirstFramePosition=oe.useFirstFramePosition!==void 0?oe.useFirstFramePosition:!1,oe.fps=oe.fps!==void 0?oe.fps:30,oe.names=oe.names||[],te.isObject3D||(te=getHelperFromSkeleton(te));const ce=Math.round(ae.duration*(oe.fps/1e3)*1e3),ue=1/oe.fps,fe=[],de=new AnimationMixer(te),pe=getBones(se.skeleton),me=[];let _e,be,Ee,Ae,Re;de.clipAction(ae).play(),de.update(0),te.updateMatrixWorld();for(let Be=0;Be<ce;++Be){const De=Be*ue;retarget(se,te,oe);for(let Oe=0;Oe<pe.length;++Oe)Re=oe.names[pe[Oe].name]||pe[Oe].name,Ee=getBoneByName(Re,te.skeleton),Ee&&(be=pe[Oe],Ae=me[Oe]=me[Oe]||{bone:be},oe.hip===Re&&(Ae.pos||(Ae.pos={times:new Float32Array(ce),values:new Float32Array(ce*3)}),oe.useFirstFramePosition&&(Be===0&&(_e=be.position.clone()),be.position.sub(_e)),Ae.pos.times[Be]=De,be.position.toArray(Ae.pos.values,Be*3)),Ae.quat||(Ae.quat={times:new Float32Array(ce),values:new Float32Array(ce*4)}),Ae.quat.times[Be]=De,be.quaternion.toArray(Ae.quat.values,Be*4));de.update(ue),te.updateMatrixWorld()}for(let Be=0;Be<me.length;++Be)Ae=me[Be],Ae&&(Ae.pos&&fe.push(new VectorKeyframeTrack(".bones["+Ae.bone.name+"].position",Ae.pos.times,Ae.pos.values)),fe.push(new QuaternionKeyframeTrack(".bones["+Ae.bone.name+"].quaternion",Ae.quat.times,Ae.quat.values)));return de.uncacheAction(ae),new AnimationClip(ae.name,-1,fe)}function clone(se){const te=new Map,ae=new Map,oe=se.clone();return parallelTraverse(se,oe,function(ce,ue){te.set(ue,ce),ae.set(ce,ue)}),oe.traverse(function(ce){if(!ce.isSkinnedMesh)return;const ue=ce,fe=te.get(ce),de=fe.skeleton.bones;ue.skeleton=fe.skeleton.clone(),ue.bindMatrix.copy(fe.bindMatrix),ue.skeleton.bones=de.map(function(pe){return ae.get(pe)}),ue.bind(ue.skeleton,ue.bindMatrix)}),oe}function getBoneByName(se,te){for(let ae=0,oe=getBones(te);ae<oe.length;ae++)if(se===oe[ae].name)return oe[ae]}function getBones(se){return Array.isArray(se)?se:se.bones}function getHelperFromSkeleton(se){const te=new SkeletonHelper(se.bones[0]);return te.skeleton=se,te}function parallelTraverse(se,te,ae){ae(se,te);for(let oe=0;oe<se.children.length;oe++)parallelTraverse(se.children[oe],te.children[oe],ae)}const SkeletonUtils={retarget,retargetClip,clone};function decodeText(se){if(typeof TextDecoder<"u")return new TextDecoder().decode(se);let te="";for(let ae=0,oe=se.length;ae<oe;ae++)te+=String.fromCharCode(se[ae]);try{return decodeURIComponent(escape(te))}catch{return te}}const SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",sRGBEncoding=3001,LinearEncoding=3e3;class GLTFLoader extends Loader{constructor(te){super(te),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(ae){return new GLTFMaterialsClearcoatExtension(ae)}),this.register(function(ae){return new GLTFMaterialsDispersionExtension(ae)}),this.register(function(ae){return new GLTFTextureBasisUExtension(ae)}),this.register(function(ae){return new GLTFTextureWebPExtension(ae)}),this.register(function(ae){return new GLTFTextureAVIFExtension(ae)}),this.register(function(ae){return new GLTFMaterialsSheenExtension(ae)}),this.register(function(ae){return new GLTFMaterialsTransmissionExtension(ae)}),this.register(function(ae){return new GLTFMaterialsVolumeExtension(ae)}),this.register(function(ae){return new GLTFMaterialsIorExtension(ae)}),this.register(function(ae){return new GLTFMaterialsEmissiveStrengthExtension(ae)}),this.register(function(ae){return new GLTFMaterialsSpecularExtension(ae)}),this.register(function(ae){return new GLTFMaterialsIridescenceExtension(ae)}),this.register(function(ae){return new GLTFMaterialsAnisotropyExtension(ae)}),this.register(function(ae){return new GLTFMaterialsBumpExtension(ae)}),this.register(function(ae){return new GLTFLightsExtension(ae)}),this.register(function(ae){return new GLTFMeshoptCompression(ae)}),this.register(function(ae){return new GLTFMeshGpuInstancing(ae)})}load(te,ae,oe,ce){const ue=this;let fe;if(this.resourcePath!=="")fe=this.resourcePath;else if(this.path!==""){const me=LoaderUtils.extractUrlBase(te);fe=LoaderUtils.resolveURL(me,this.path)}else fe=LoaderUtils.extractUrlBase(te);this.manager.itemStart(te);const de=function(me){ce?ce(me):console.error(me),ue.manager.itemError(te),ue.manager.itemEnd(te)},pe=new FileLoader(this.manager);pe.setPath(this.path),pe.setResponseType("arraybuffer"),pe.setRequestHeader(this.requestHeader),pe.setWithCredentials(this.withCredentials),pe.load(te,function(me){try{ue.parse(me,fe,function(_e){ae(_e),ue.manager.itemEnd(te)},de)}catch(_e){de(_e)}},oe,de)}setDRACOLoader(te){return this.dracoLoader=te,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(te){return this.ktx2Loader=te,this}setMeshoptDecoder(te){return this.meshoptDecoder=te,this}register(te){return this.pluginCallbacks.indexOf(te)===-1&&this.pluginCallbacks.push(te),this}unregister(te){return this.pluginCallbacks.indexOf(te)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(te),1),this}parse(te,ae,oe,ce){let ue;const fe={},de={};if(typeof te=="string")ue=JSON.parse(te);else if(te instanceof ArrayBuffer)if(decodeText(new Uint8Array(te.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{fe[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(te)}catch(_e){ce&&ce(_e);return}ue=JSON.parse(fe[EXTENSIONS.KHR_BINARY_GLTF].content)}else ue=JSON.parse(decodeText(new Uint8Array(te)));else ue=te;if(ue.asset===void 0||ue.asset.version[0]<2){ce&&ce(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const pe=new GLTFParser(ue,{path:ae||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});pe.fileLoader.setRequestHeader(this.requestHeader);for(let me=0;me<this.pluginCallbacks.length;me++){const _e=this.pluginCallbacks[me](pe);_e.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),de[_e.name]=_e,fe[_e.name]=!0}if(ue.extensionsUsed)for(let me=0;me<ue.extensionsUsed.length;++me){const _e=ue.extensionsUsed[me],be=ue.extensionsRequired||[];switch(_e){case EXTENSIONS.KHR_MATERIALS_UNLIT:fe[_e]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:fe[_e]=new GLTFDracoMeshCompressionExtension(ue,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:fe[_e]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:fe[_e]=new GLTFMeshQuantizationExtension;break;default:be.indexOf(_e)>=0&&de[_e]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+_e+'".')}}pe.setExtensions(fe),pe.setPlugins(de),pe.parse(oe,ce)}parseAsync(te,ae){const oe=this;return new Promise(function(ce,ue){oe.parse(te,ae,ce,ue)})}}function GLTFRegistry(){let se={};return{get:function(te){return se[te]},add:function(te,ae){se[te]=ae},remove:function(te){delete se[te]},removeAll:function(){se={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const te=this.parser,ae=this.parser.json.nodes||[];for(let oe=0,ce=ae.length;oe<ce;oe++){const ue=ae[oe];ue.extensions&&ue.extensions[this.name]&&ue.extensions[this.name].light!==void 0&&te._addNodeRef(this.cache,ue.extensions[this.name].light)}}_loadLight(te){const ae=this.parser,oe="light:"+te;let ce=ae.cache.get(oe);if(ce)return ce;const ue=ae.json,pe=((ue.extensions&&ue.extensions[this.name]||{}).lights||[])[te];let me;const _e=new Color$1(16777215);pe.color!==void 0&&_e.setRGB(pe.color[0],pe.color[1],pe.color[2],LinearSRGBColorSpace);const be=pe.range!==void 0?pe.range:0;switch(pe.type){case"directional":me=new DirectionalLight(_e),me.target.position.set(0,0,-1),me.add(me.target);break;case"point":me=new PointLight(_e),me.distance=be;break;case"spot":me=new SpotLight(_e),me.distance=be,pe.spot=pe.spot||{},pe.spot.innerConeAngle=pe.spot.innerConeAngle!==void 0?pe.spot.innerConeAngle:0,pe.spot.outerConeAngle=pe.spot.outerConeAngle!==void 0?pe.spot.outerConeAngle:Math.PI/4,me.angle=pe.spot.outerConeAngle,me.penumbra=1-pe.spot.innerConeAngle/pe.spot.outerConeAngle,me.target.position.set(0,0,-1),me.add(me.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+pe.type)}return me.position.set(0,0,0),me.decay=2,assignExtrasToUserData(me,pe),pe.intensity!==void 0&&(me.intensity=pe.intensity),me.name=ae.createUniqueName(pe.name||"light_"+te),ce=Promise.resolve(me),ae.cache.add(oe,ce),ce}getDependency(te,ae){if(te==="light")return this._loadLight(ae)}createNodeAttachment(te){const ae=this,oe=this.parser,ue=oe.json.nodes[te],de=(ue.extensions&&ue.extensions[this.name]||{}).light;return de===void 0?null:this._loadLight(de).then(function(pe){return oe._getNodeRef(ae.cache,de,pe)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(te,ae,oe){const ce=[];te.color=new Color$1(1,1,1),te.opacity=1;const ue=ae.pbrMetallicRoughness;if(ue){if(Array.isArray(ue.baseColorFactor)){const fe=ue.baseColorFactor;te.color.setRGB(fe[0],fe[1],fe[2],LinearSRGBColorSpace),te.opacity=fe[3]}ue.baseColorTexture!==void 0&&ce.push(oe.assignTexture(te,"map",ue.baseColorTexture,SRGBColorSpace))}return Promise.all(ce)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(te,ae){const ce=this.parser.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=ce.extensions[this.name].emissiveStrength;return ue!==void 0&&(ae.emissiveIntensity=ue),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];if(fe.clearcoatFactor!==void 0&&(ae.clearcoat=fe.clearcoatFactor),fe.clearcoatTexture!==void 0&&ue.push(oe.assignTexture(ae,"clearcoatMap",fe.clearcoatTexture)),fe.clearcoatRoughnessFactor!==void 0&&(ae.clearcoatRoughness=fe.clearcoatRoughnessFactor),fe.clearcoatRoughnessTexture!==void 0&&ue.push(oe.assignTexture(ae,"clearcoatRoughnessMap",fe.clearcoatRoughnessTexture)),fe.clearcoatNormalTexture!==void 0&&(ue.push(oe.assignTexture(ae,"clearcoatNormalMap",fe.clearcoatNormalTexture)),fe.clearcoatNormalTexture.scale!==void 0)){const de=fe.clearcoatNormalTexture.scale;ae.clearcoatNormalScale=new Vector2(de,de)}return Promise.all(ue)}}class GLTFMaterialsDispersionExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const ce=this.parser.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=ce.extensions[this.name];return ae.dispersion=ue.dispersion!==void 0?ue.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];return fe.iridescenceFactor!==void 0&&(ae.iridescence=fe.iridescenceFactor),fe.iridescenceTexture!==void 0&&ue.push(oe.assignTexture(ae,"iridescenceMap",fe.iridescenceTexture)),fe.iridescenceIor!==void 0&&(ae.iridescenceIOR=fe.iridescenceIor),ae.iridescenceThicknessRange===void 0&&(ae.iridescenceThicknessRange=[100,400]),fe.iridescenceThicknessMinimum!==void 0&&(ae.iridescenceThicknessRange[0]=fe.iridescenceThicknessMinimum),fe.iridescenceThicknessMaximum!==void 0&&(ae.iridescenceThicknessRange[1]=fe.iridescenceThicknessMaximum),fe.iridescenceThicknessTexture!==void 0&&ue.push(oe.assignTexture(ae,"iridescenceThicknessMap",fe.iridescenceThicknessTexture)),Promise.all(ue)}}class GLTFMaterialsSheenExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[];ae.sheenColor=new Color$1(0,0,0),ae.sheenRoughness=0,ae.sheen=1;const fe=ce.extensions[this.name];if(fe.sheenColorFactor!==void 0){const de=fe.sheenColorFactor;ae.sheenColor.setRGB(de[0],de[1],de[2],LinearSRGBColorSpace)}return fe.sheenRoughnessFactor!==void 0&&(ae.sheenRoughness=fe.sheenRoughnessFactor),fe.sheenColorTexture!==void 0&&ue.push(oe.assignTexture(ae,"sheenColorMap",fe.sheenColorTexture,SRGBColorSpace)),fe.sheenRoughnessTexture!==void 0&&ue.push(oe.assignTexture(ae,"sheenRoughnessMap",fe.sheenRoughnessTexture)),Promise.all(ue)}}class GLTFMaterialsTransmissionExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];return fe.transmissionFactor!==void 0&&(ae.transmission=fe.transmissionFactor),fe.transmissionTexture!==void 0&&ue.push(oe.assignTexture(ae,"transmissionMap",fe.transmissionTexture)),Promise.all(ue)}}class GLTFMaterialsVolumeExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];ae.thickness=fe.thicknessFactor!==void 0?fe.thicknessFactor:0,fe.thicknessTexture!==void 0&&ue.push(oe.assignTexture(ae,"thicknessMap",fe.thicknessTexture)),ae.attenuationDistance=fe.attenuationDistance||1/0;const de=fe.attenuationColor||[1,1,1];return ae.attenuationColor=new Color$1().setRGB(de[0],de[1],de[2],LinearSRGBColorSpace),Promise.all(ue)}}class GLTFMaterialsIorExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const ce=this.parser.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=ce.extensions[this.name];return ae.ior=ue.ior!==void 0?ue.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];ae.specularIntensity=fe.specularFactor!==void 0?fe.specularFactor:1,fe.specularTexture!==void 0&&ue.push(oe.assignTexture(ae,"specularIntensityMap",fe.specularTexture));const de=fe.specularColorFactor||[1,1,1];return ae.specularColor=new Color$1().setRGB(de[0],de[1],de[2],LinearSRGBColorSpace),fe.specularColorTexture!==void 0&&ue.push(oe.assignTexture(ae,"specularColorMap",fe.specularColorTexture,SRGBColorSpace)),Promise.all(ue)}}class GLTFMaterialsBumpExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];return ae.bumpScale=fe.bumpFactor!==void 0?fe.bumpFactor:1,fe.bumpTexture!==void 0&&ue.push(oe.assignTexture(ae,"bumpMap",fe.bumpTexture)),Promise.all(ue)}}class GLTFMaterialsAnisotropyExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(te){const oe=this.parser.json.materials[te];return!oe.extensions||!oe.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(te,ae){const oe=this.parser,ce=oe.json.materials[te];if(!ce.extensions||!ce.extensions[this.name])return Promise.resolve();const ue=[],fe=ce.extensions[this.name];return fe.anisotropyStrength!==void 0&&(ae.anisotropy=fe.anisotropyStrength),fe.anisotropyRotation!==void 0&&(ae.anisotropyRotation=fe.anisotropyRotation),fe.anisotropyTexture!==void 0&&ue.push(oe.assignTexture(ae,"anisotropyMap",fe.anisotropyTexture)),Promise.all(ue)}}class GLTFTextureBasisUExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(te){const ae=this.parser,oe=ae.json,ce=oe.textures[te];if(!ce.extensions||!ce.extensions[this.name])return null;const ue=ce.extensions[this.name],fe=ae.options.ktx2Loader;if(!fe){if(oe.extensionsRequired&&oe.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return ae.loadTextureImage(te,ue.source,fe)}}class GLTFTextureWebPExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(te){const ae=this.name,oe=this.parser,ce=oe.json,ue=ce.textures[te];if(!ue.extensions||!ue.extensions[ae])return null;const fe=ue.extensions[ae],de=ce.images[fe.source];let pe=oe.textureLoader;if(de.uri){const me=oe.options.manager.getHandler(de.uri);me!==null&&(pe=me)}return this.detectSupport().then(function(me){if(me)return oe.loadTextureImage(te,fe.source,pe);if(ce.extensionsRequired&&ce.extensionsRequired.indexOf(ae)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return oe.loadTexture(te)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(te){const ae=new Image;ae.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",ae.onload=ae.onerror=function(){te(ae.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(te){this.parser=te,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(te){const ae=this.name,oe=this.parser,ce=oe.json,ue=ce.textures[te];if(!ue.extensions||!ue.extensions[ae])return null;const fe=ue.extensions[ae],de=ce.images[fe.source];let pe=oe.textureLoader;if(de.uri){const me=oe.options.manager.getHandler(de.uri);me!==null&&(pe=me)}return this.detectSupport().then(function(me){if(me)return oe.loadTextureImage(te,fe.source,pe);if(ce.extensionsRequired&&ce.extensionsRequired.indexOf(ae)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return oe.loadTexture(te)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(te){const ae=new Image;ae.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",ae.onload=ae.onerror=function(){te(ae.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(te){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=te}loadBufferView(te){const ae=this.parser.json,oe=ae.bufferViews[te];if(oe.extensions&&oe.extensions[this.name]){const ce=oe.extensions[this.name],ue=this.parser.getDependency("buffer",ce.buffer),fe=this.parser.options.meshoptDecoder;if(!fe||!fe.supported){if(ae.extensionsRequired&&ae.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return ue.then(function(de){const pe=ce.byteOffset||0,me=ce.byteLength||0,_e=ce.count,be=ce.byteStride,Ee=new Uint8Array(de,pe,me);return fe.decodeGltfBufferAsync?fe.decodeGltfBufferAsync(_e,be,Ee,ce.mode,ce.filter).then(function(Ae){return Ae.buffer}):fe.ready.then(function(){const Ae=new ArrayBuffer(_e*be);return fe.decodeGltfBuffer(new Uint8Array(Ae),_e,be,Ee,ce.mode,ce.filter),Ae})})}else return null}}class GLTFMeshGpuInstancing{constructor(te){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=te}createNodeMesh(te){const ae=this.parser.json,oe=ae.nodes[te];if(!oe.extensions||!oe.extensions[this.name]||oe.mesh===void 0)return null;const ce=ae.meshes[oe.mesh];for(const me of ce.primitives)if(me.mode!==WEBGL_CONSTANTS.TRIANGLES&&me.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&me.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&me.mode!==void 0)return null;const fe=oe.extensions[this.name].attributes,de=[],pe={};for(const me in fe)de.push(this.parser.getDependency("accessor",fe[me]).then(_e=>(pe[me]=_e,pe[me])));return de.length<1?null:(de.push(this.parser.createNodeMesh(te)),Promise.all(de).then(me=>{const _e=me.pop(),be=_e.isGroup?_e.children:[_e],Ee=me[0].count,Ae=[];for(const Re of be){const Be=new Matrix4,De=new Vector3,Oe=new Quaternion,Pe=new Vector3(1,1,1),Ie=new InstancedMesh(Re.geometry,Re.material,Ee);for(let Fe=0;Fe<Ee;Fe++)pe.TRANSLATION&&De.fromBufferAttribute(pe.TRANSLATION,Fe),pe.ROTATION&&Oe.fromBufferAttribute(pe.ROTATION,Fe),pe.SCALE&&Pe.fromBufferAttribute(pe.SCALE,Fe),Ie.setMatrixAt(Fe,Be.compose(De,Oe,Pe));for(const Fe in pe)if(Fe==="_COLOR_0"){const $e=pe[Fe];Ie.instanceColor=new InstancedBufferAttribute($e.array,$e.itemSize,$e.normalized)}else Fe!=="TRANSLATION"&&Fe!=="ROTATION"&&Fe!=="SCALE"&&Re.geometry.setAttribute(Fe,pe[Fe]);Object3D.prototype.copy.call(Ie,Re),this.parser.assignFinalMaterial(Ie),Ae.push(Ie)}return _e.isGroup?(_e.clear(),_e.add(...Ae),_e):Ae[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(te){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const ae=new DataView(te,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:decodeText(new Uint8Array(te.slice(0,4))),version:ae.getUint32(4,!0),length:ae.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const oe=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,ce=new DataView(te,BINARY_EXTENSION_HEADER_LENGTH);let ue=0;for(;ue<oe;){const fe=ce.getUint32(ue,!0);ue+=4;const de=ce.getUint32(ue,!0);if(ue+=4,de===BINARY_EXTENSION_CHUNK_TYPES.JSON){const pe=new Uint8Array(te,BINARY_EXTENSION_HEADER_LENGTH+ue,fe);this.content=decodeText(pe)}else if(de===BINARY_EXTENSION_CHUNK_TYPES.BIN){const pe=BINARY_EXTENSION_HEADER_LENGTH+ue;this.body=te.slice(pe,pe+fe)}ue+=fe}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(te,ae){if(!ae)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=te,this.dracoLoader=ae,this.dracoLoader.preload()}decodePrimitive(te,ae){const oe=this.json,ce=this.dracoLoader,ue=te.extensions[this.name].bufferView,fe=te.extensions[this.name].attributes,de={},pe={},me={};for(const _e in fe){const be=ATTRIBUTES[_e]||_e.toLowerCase();de[be]=fe[_e]}for(const _e in te.attributes){const be=ATTRIBUTES[_e]||_e.toLowerCase();if(fe[_e]!==void 0){const Ee=oe.accessors[te.attributes[_e]],Ae=WEBGL_COMPONENT_TYPES[Ee.componentType];me[be]=Ae.name,pe[be]=Ee.normalized===!0}}return ae.getDependency("bufferView",ue).then(function(_e){return new Promise(function(be,Ee){ce.decodeDracoFile(_e,function(Ae){for(const Re in Ae.attributes){const Be=Ae.attributes[Re],De=pe[Re];De!==void 0&&(Be.normalized=De)}be(Ae)},de,me,LinearSRGBColorSpace,Ee)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(te,ae){return(ae.texCoord===void 0||ae.texCoord===te.channel)&&ae.offset===void 0&&ae.rotation===void 0&&ae.scale===void 0||(te=te.clone(),ae.texCoord!==void 0&&(te.channel=ae.texCoord),ae.offset!==void 0&&te.offset.fromArray(ae.offset),ae.rotation!==void 0&&(te.rotation=ae.rotation),ae.scale!==void 0&&te.repeat.fromArray(ae.scale),te.needsUpdate=!0),te}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(te,ae,oe,ce){super(te,ae,oe,ce)}copySampleValue_(te){const ae=this.resultBuffer,oe=this.sampleValues,ce=this.valueSize,ue=te*ce*3+ce;for(let fe=0;fe!==ce;fe++)ae[fe]=oe[ue+fe];return ae}interpolate_(te,ae,oe,ce){const ue=this.resultBuffer,fe=this.sampleValues,de=this.valueSize,pe=de*2,me=de*3,_e=ce-ae,be=(oe-ae)/_e,Ee=be*be,Ae=Ee*be,Re=te*me,Be=Re-me,De=-2*Ae+3*Ee,Oe=Ae-Ee,Pe=1-De,Ie=Oe-Ee+be;for(let Fe=0;Fe!==de;Fe++){const $e=fe[Be+Fe+de],Ve=fe[Be+Fe+pe]*_e,ke=fe[Re+Fe+de],We=fe[Re+Fe]*_e;ue[Fe]=Pe*$e+Ie*Ve+De*ke+Oe*We}return ue}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(te,ae,oe,ce){const ue=super.interpolate_(te,ae,oe,ce);return _q.fromArray(ue).normalize().toArray(ue),ue}}const WEBGL_CONSTANTS={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...version$1>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(se){return se.DefaultMaterial===void 0&&(se.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),se.DefaultMaterial}function addUnknownExtensionsToUserData(se,te,ae){for(const oe in ae.extensions)se[oe]===void 0&&(te.userData.gltfExtensions=te.userData.gltfExtensions||{},te.userData.gltfExtensions[oe]=ae.extensions[oe])}function assignExtrasToUserData(se,te){te.extras!==void 0&&(typeof te.extras=="object"?Object.assign(se.userData,te.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+te.extras))}function addMorphTargets(se,te,ae){let oe=!1,ce=!1,ue=!1;for(let me=0,_e=te.length;me<_e;me++){const be=te[me];if(be.POSITION!==void 0&&(oe=!0),be.NORMAL!==void 0&&(ce=!0),be.COLOR_0!==void 0&&(ue=!0),oe&&ce&&ue)break}if(!oe&&!ce&&!ue)return Promise.resolve(se);const fe=[],de=[],pe=[];for(let me=0,_e=te.length;me<_e;me++){const be=te[me];if(oe){const Ee=be.POSITION!==void 0?ae.getDependency("accessor",be.POSITION):se.attributes.position;fe.push(Ee)}if(ce){const Ee=be.NORMAL!==void 0?ae.getDependency("accessor",be.NORMAL):se.attributes.normal;de.push(Ee)}if(ue){const Ee=be.COLOR_0!==void 0?ae.getDependency("accessor",be.COLOR_0):se.attributes.color;pe.push(Ee)}}return Promise.all([Promise.all(fe),Promise.all(de),Promise.all(pe)]).then(function(me){const _e=me[0],be=me[1],Ee=me[2];return oe&&(se.morphAttributes.position=_e),ce&&(se.morphAttributes.normal=be),ue&&(se.morphAttributes.color=Ee),se.morphTargetsRelative=!0,se})}function updateMorphTargets(se,te){if(se.updateMorphTargets(),te.weights!==void 0)for(let ae=0,oe=te.weights.length;ae<oe;ae++)se.morphTargetInfluences[ae]=te.weights[ae];if(te.extras&&Array.isArray(te.extras.targetNames)){const ae=te.extras.targetNames;if(se.morphTargetInfluences.length===ae.length){se.morphTargetDictionary={};for(let oe=0,ce=ae.length;oe<ce;oe++)se.morphTargetDictionary[ae[oe]]=oe}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(se){let te;const ae=se.extensions&&se.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(ae?te="draco:"+ae.bufferView+":"+ae.indices+":"+createAttributesKey(ae.attributes):te=se.indices+":"+createAttributesKey(se.attributes)+":"+se.mode,se.targets!==void 0)for(let oe=0,ce=se.targets.length;oe<ce;oe++)te+=":"+createAttributesKey(se.targets[oe]);return te}function createAttributesKey(se){let te="";const ae=Object.keys(se).sort();for(let oe=0,ce=ae.length;oe<ce;oe++)te+=ae[oe]+":"+se[ae[oe]]+";";return te}function getNormalizedComponentScale(se){switch(se){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(se){return se.search(/\.jpe?g($|\?)/i)>0||se.search(/^data\:image\/jpeg/)===0?"image/jpeg":se.search(/\.webp($|\?)/i)>0||se.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(te={},ae={}){this.json=te,this.extensions={},this.plugins={},this.options=ae,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let oe=!1,ce=!1,ue=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(oe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,ce=navigator.userAgent.indexOf("Firefox")>-1,ue=ce?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||oe||ce&&ue<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(te){this.extensions=te}setPlugins(te){this.plugins=te}parse(te,ae){const oe=this,ce=this.json,ue=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(fe){return fe._markDefs&&fe._markDefs()}),Promise.all(this._invokeAll(function(fe){return fe.beforeRoot&&fe.beforeRoot()})).then(function(){return Promise.all([oe.getDependencies("scene"),oe.getDependencies("animation"),oe.getDependencies("camera")])}).then(function(fe){const de={scene:fe[0][ce.scene||0],scenes:fe[0],animations:fe[1],cameras:fe[2],asset:ce.asset,parser:oe,userData:{}};return addUnknownExtensionsToUserData(ue,de,ce),assignExtrasToUserData(de,ce),Promise.all(oe._invokeAll(function(pe){return pe.afterRoot&&pe.afterRoot(de)})).then(function(){for(const pe of de.scenes)pe.updateMatrixWorld();te(de)})}).catch(ae)}_markDefs(){const te=this.json.nodes||[],ae=this.json.skins||[],oe=this.json.meshes||[];for(let ce=0,ue=ae.length;ce<ue;ce++){const fe=ae[ce].joints;for(let de=0,pe=fe.length;de<pe;de++)te[fe[de]].isBone=!0}for(let ce=0,ue=te.length;ce<ue;ce++){const fe=te[ce];fe.mesh!==void 0&&(this._addNodeRef(this.meshCache,fe.mesh),fe.skin!==void 0&&(oe[fe.mesh].isSkinnedMesh=!0)),fe.camera!==void 0&&this._addNodeRef(this.cameraCache,fe.camera)}}_addNodeRef(te,ae){ae!==void 0&&(te.refs[ae]===void 0&&(te.refs[ae]=te.uses[ae]=0),te.refs[ae]++)}_getNodeRef(te,ae,oe){if(te.refs[ae]<=1)return oe;const ce=oe.clone(),ue=(fe,de)=>{const pe=this.associations.get(fe);pe!=null&&this.associations.set(de,pe);for(const[me,_e]of fe.children.entries())ue(_e,de.children[me])};return ue(oe,ce),ce.name+="_instance_"+te.uses[ae]++,ce}_invokeOne(te){const ae=Object.values(this.plugins);ae.push(this);for(let oe=0;oe<ae.length;oe++){const ce=te(ae[oe]);if(ce)return ce}return null}_invokeAll(te){const ae=Object.values(this.plugins);ae.unshift(this);const oe=[];for(let ce=0;ce<ae.length;ce++){const ue=te(ae[ce]);ue&&oe.push(ue)}return oe}getDependency(te,ae){const oe=te+":"+ae;let ce=this.cache.get(oe);if(!ce){switch(te){case"scene":ce=this.loadScene(ae);break;case"node":ce=this._invokeOne(function(ue){return ue.loadNode&&ue.loadNode(ae)});break;case"mesh":ce=this._invokeOne(function(ue){return ue.loadMesh&&ue.loadMesh(ae)});break;case"accessor":ce=this.loadAccessor(ae);break;case"bufferView":ce=this._invokeOne(function(ue){return ue.loadBufferView&&ue.loadBufferView(ae)});break;case"buffer":ce=this.loadBuffer(ae);break;case"material":ce=this._invokeOne(function(ue){return ue.loadMaterial&&ue.loadMaterial(ae)});break;case"texture":ce=this._invokeOne(function(ue){return ue.loadTexture&&ue.loadTexture(ae)});break;case"skin":ce=this.loadSkin(ae);break;case"animation":ce=this._invokeOne(function(ue){return ue.loadAnimation&&ue.loadAnimation(ae)});break;case"camera":ce=this.loadCamera(ae);break;default:if(ce=this._invokeOne(function(ue){return ue!=this&&ue.getDependency&&ue.getDependency(te,ae)}),!ce)throw new Error("Unknown type: "+te);break}this.cache.add(oe,ce)}return ce}getDependencies(te){let ae=this.cache.get(te);if(!ae){const oe=this,ce=this.json[te+(te==="mesh"?"es":"s")]||[];ae=Promise.all(ce.map(function(ue,fe){return oe.getDependency(te,fe)})),this.cache.add(te,ae)}return ae}loadBuffer(te){const ae=this.json.buffers[te],oe=this.fileLoader;if(ae.type&&ae.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+ae.type+" buffer type is not supported.");if(ae.uri===void 0&&te===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const ce=this.options;return new Promise(function(ue,fe){oe.load(LoaderUtils.resolveURL(ae.uri,ce.path),ue,void 0,function(){fe(new Error('THREE.GLTFLoader: Failed to load buffer "'+ae.uri+'".'))})})}loadBufferView(te){const ae=this.json.bufferViews[te];return this.getDependency("buffer",ae.buffer).then(function(oe){const ce=ae.byteLength||0,ue=ae.byteOffset||0;return oe.slice(ue,ue+ce)})}loadAccessor(te){const ae=this,oe=this.json,ce=this.json.accessors[te];if(ce.bufferView===void 0&&ce.sparse===void 0){const fe=WEBGL_TYPE_SIZES[ce.type],de=WEBGL_COMPONENT_TYPES[ce.componentType],pe=ce.normalized===!0,me=new de(ce.count*fe);return Promise.resolve(new BufferAttribute(me,fe,pe))}const ue=[];return ce.bufferView!==void 0?ue.push(this.getDependency("bufferView",ce.bufferView)):ue.push(null),ce.sparse!==void 0&&(ue.push(this.getDependency("bufferView",ce.sparse.indices.bufferView)),ue.push(this.getDependency("bufferView",ce.sparse.values.bufferView))),Promise.all(ue).then(function(fe){const de=fe[0],pe=WEBGL_TYPE_SIZES[ce.type],me=WEBGL_COMPONENT_TYPES[ce.componentType],_e=me.BYTES_PER_ELEMENT,be=_e*pe,Ee=ce.byteOffset||0,Ae=ce.bufferView!==void 0?oe.bufferViews[ce.bufferView].byteStride:void 0,Re=ce.normalized===!0;let Be,De;if(Ae&&Ae!==be){const Oe=Math.floor(Ee/Ae),Pe="InterleavedBuffer:"+ce.bufferView+":"+ce.componentType+":"+Oe+":"+ce.count;let Ie=ae.cache.get(Pe);Ie||(Be=new me(de,Oe*Ae,ce.count*Ae/_e),Ie=new InterleavedBuffer(Be,Ae/_e),ae.cache.add(Pe,Ie)),De=new InterleavedBufferAttribute(Ie,pe,Ee%Ae/_e,Re)}else de===null?Be=new me(ce.count*pe):Be=new me(de,Ee,ce.count*pe),De=new BufferAttribute(Be,pe,Re);if(ce.sparse!==void 0){const Oe=WEBGL_TYPE_SIZES.SCALAR,Pe=WEBGL_COMPONENT_TYPES[ce.sparse.indices.componentType],Ie=ce.sparse.indices.byteOffset||0,Fe=ce.sparse.values.byteOffset||0,$e=new Pe(fe[1],Ie,ce.sparse.count*Oe),Ve=new me(fe[2],Fe,ce.sparse.count*pe);de!==null&&(De=new BufferAttribute(De.array.slice(),De.itemSize,De.normalized));for(let ke=0,We=$e.length;ke<We;ke++){const je=$e[ke];if(De.setX(je,Ve[ke*pe]),pe>=2&&De.setY(je,Ve[ke*pe+1]),pe>=3&&De.setZ(je,Ve[ke*pe+2]),pe>=4&&De.setW(je,Ve[ke*pe+3]),pe>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return De})}loadTexture(te){const ae=this.json,oe=this.options,ue=ae.textures[te].source,fe=ae.images[ue];let de=this.textureLoader;if(fe.uri){const pe=oe.manager.getHandler(fe.uri);pe!==null&&(de=pe)}return this.loadTextureImage(te,ue,de)}loadTextureImage(te,ae,oe){const ce=this,ue=this.json,fe=ue.textures[te],de=ue.images[ae],pe=(de.uri||de.bufferView)+":"+fe.sampler;if(this.textureCache[pe])return this.textureCache[pe];const me=this.loadImageSource(ae,oe).then(function(_e){_e.flipY=!1,_e.name=fe.name||de.name||"",_e.name===""&&typeof de.uri=="string"&&de.uri.startsWith("data:image/")===!1&&(_e.name=de.uri);const Ee=(ue.samplers||{})[fe.sampler]||{};return _e.magFilter=WEBGL_FILTERS[Ee.magFilter]||LinearFilter,_e.minFilter=WEBGL_FILTERS[Ee.minFilter]||LinearMipmapLinearFilter,_e.wrapS=WEBGL_WRAPPINGS[Ee.wrapS]||RepeatWrapping,_e.wrapT=WEBGL_WRAPPINGS[Ee.wrapT]||RepeatWrapping,ce.associations.set(_e,{textures:te}),_e}).catch(function(){return null});return this.textureCache[pe]=me,me}loadImageSource(te,ae){const oe=this,ce=this.json,ue=this.options;if(this.sourceCache[te]!==void 0)return this.sourceCache[te].then(be=>be.clone());const fe=ce.images[te],de=self.URL||self.webkitURL;let pe=fe.uri||"",me=!1;if(fe.bufferView!==void 0)pe=oe.getDependency("bufferView",fe.bufferView).then(function(be){me=!0;const Ee=new Blob([be],{type:fe.mimeType});return pe=de.createObjectURL(Ee),pe});else if(fe.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+te+" is missing URI and bufferView");const _e=Promise.resolve(pe).then(function(be){return new Promise(function(Ee,Ae){let Re=Ee;ae.isImageBitmapLoader===!0&&(Re=function(Be){const De=new Texture(Be);De.needsUpdate=!0,Ee(De)}),ae.load(LoaderUtils.resolveURL(be,ue.path),Re,void 0,Ae)})}).then(function(be){return me===!0&&de.revokeObjectURL(pe),assignExtrasToUserData(be,fe),be.userData.mimeType=fe.mimeType||getImageURIMimeType(fe.uri),be}).catch(function(be){throw console.error("THREE.GLTFLoader: Couldn't load texture",pe),be});return this.sourceCache[te]=_e,_e}assignTexture(te,ae,oe,ce){const ue=this;return this.getDependency("texture",oe.index).then(function(fe){if(!fe)return null;if(oe.texCoord!==void 0&&oe.texCoord>0&&(fe=fe.clone(),fe.channel=oe.texCoord),ue.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const de=oe.extensions!==void 0?oe.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(de){const pe=ue.associations.get(fe);fe=ue.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(fe,de),ue.associations.set(fe,pe)}}return ce!==void 0&&(typeof ce=="number"&&(ce=ce===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace),"colorSpace"in fe?fe.colorSpace=ce:fe.encoding=ce===SRGBColorSpace?sRGBEncoding:LinearEncoding),te[ae]=fe,fe})}assignFinalMaterial(te){const ae=te.geometry;let oe=te.material;const ce=ae.attributes.tangent===void 0,ue=ae.attributes.color!==void 0,fe=ae.attributes.normal===void 0;if(te.isPoints){const de="PointsMaterial:"+oe.uuid;let pe=this.cache.get(de);pe||(pe=new PointsMaterial,Material.prototype.copy.call(pe,oe),pe.color.copy(oe.color),pe.map=oe.map,pe.sizeAttenuation=!1,this.cache.add(de,pe)),oe=pe}else if(te.isLine){const de="LineBasicMaterial:"+oe.uuid;let pe=this.cache.get(de);pe||(pe=new LineBasicMaterial,Material.prototype.copy.call(pe,oe),pe.color.copy(oe.color),pe.map=oe.map,this.cache.add(de,pe)),oe=pe}if(ce||ue||fe){let de="ClonedMaterial:"+oe.uuid+":";ce&&(de+="derivative-tangents:"),ue&&(de+="vertex-colors:"),fe&&(de+="flat-shading:");let pe=this.cache.get(de);pe||(pe=oe.clone(),ue&&(pe.vertexColors=!0),fe&&(pe.flatShading=!0),ce&&(pe.normalScale&&(pe.normalScale.y*=-1),pe.clearcoatNormalScale&&(pe.clearcoatNormalScale.y*=-1)),this.cache.add(de,pe),this.associations.set(pe,this.associations.get(oe))),oe=pe}te.material=oe}getMaterialType(){return MeshStandardMaterial}loadMaterial(te){const ae=this,oe=this.json,ce=this.extensions,ue=oe.materials[te];let fe;const de={},pe=ue.extensions||{},me=[];if(pe[EXTENSIONS.KHR_MATERIALS_UNLIT]){const be=ce[EXTENSIONS.KHR_MATERIALS_UNLIT];fe=be.getMaterialType(),me.push(be.extendParams(de,ue,ae))}else{const be=ue.pbrMetallicRoughness||{};if(de.color=new Color$1(1,1,1),de.opacity=1,Array.isArray(be.baseColorFactor)){const Ee=be.baseColorFactor;de.color.setRGB(Ee[0],Ee[1],Ee[2],LinearSRGBColorSpace),de.opacity=Ee[3]}be.baseColorTexture!==void 0&&me.push(ae.assignTexture(de,"map",be.baseColorTexture,SRGBColorSpace)),de.metalness=be.metallicFactor!==void 0?be.metallicFactor:1,de.roughness=be.roughnessFactor!==void 0?be.roughnessFactor:1,be.metallicRoughnessTexture!==void 0&&(me.push(ae.assignTexture(de,"metalnessMap",be.metallicRoughnessTexture)),me.push(ae.assignTexture(de,"roughnessMap",be.metallicRoughnessTexture))),fe=this._invokeOne(function(Ee){return Ee.getMaterialType&&Ee.getMaterialType(te)}),me.push(Promise.all(this._invokeAll(function(Ee){return Ee.extendMaterialParams&&Ee.extendMaterialParams(te,de)})))}ue.doubleSided===!0&&(de.side=DoubleSide);const _e=ue.alphaMode||ALPHA_MODES.OPAQUE;if(_e===ALPHA_MODES.BLEND?(de.transparent=!0,de.depthWrite=!1):(de.transparent=!1,_e===ALPHA_MODES.MASK&&(de.alphaTest=ue.alphaCutoff!==void 0?ue.alphaCutoff:.5)),ue.normalTexture!==void 0&&fe!==MeshBasicMaterial&&(me.push(ae.assignTexture(de,"normalMap",ue.normalTexture)),de.normalScale=new Vector2(1,1),ue.normalTexture.scale!==void 0)){const be=ue.normalTexture.scale;de.normalScale.set(be,be)}if(ue.occlusionTexture!==void 0&&fe!==MeshBasicMaterial&&(me.push(ae.assignTexture(de,"aoMap",ue.occlusionTexture)),ue.occlusionTexture.strength!==void 0&&(de.aoMapIntensity=ue.occlusionTexture.strength)),ue.emissiveFactor!==void 0&&fe!==MeshBasicMaterial){const be=ue.emissiveFactor;de.emissive=new Color$1().setRGB(be[0],be[1],be[2],LinearSRGBColorSpace)}return ue.emissiveTexture!==void 0&&fe!==MeshBasicMaterial&&me.push(ae.assignTexture(de,"emissiveMap",ue.emissiveTexture,SRGBColorSpace)),Promise.all(me).then(function(){const be=new fe(de);return ue.name&&(be.name=ue.name),assignExtrasToUserData(be,ue),ae.associations.set(be,{materials:te}),ue.extensions&&addUnknownExtensionsToUserData(ce,be,ue),be})}createUniqueName(te){const ae=PropertyBinding.sanitizeNodeName(te||"");return ae in this.nodeNamesUsed?ae+"_"+ ++this.nodeNamesUsed[ae]:(this.nodeNamesUsed[ae]=0,ae)}loadGeometries(te){const ae=this,oe=this.extensions,ce=this.primitiveCache;function ue(de){return oe[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(de,ae).then(function(pe){return addPrimitiveAttributes(pe,de,ae)})}const fe=[];for(let de=0,pe=te.length;de<pe;de++){const me=te[de],_e=createPrimitiveKey(me),be=ce[_e];if(be)fe.push(be.promise);else{let Ee;me.extensions&&me.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?Ee=ue(me):Ee=addPrimitiveAttributes(new BufferGeometry,me,ae),ce[_e]={primitive:me,promise:Ee},fe.push(Ee)}}return Promise.all(fe)}loadMesh(te){const ae=this,oe=this.json,ce=this.extensions,ue=oe.meshes[te],fe=ue.primitives,de=[];for(let pe=0,me=fe.length;pe<me;pe++){const _e=fe[pe].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",fe[pe].material);de.push(_e)}return de.push(ae.loadGeometries(fe)),Promise.all(de).then(function(pe){const me=pe.slice(0,pe.length-1),_e=pe[pe.length-1],be=[];for(let Ae=0,Re=_e.length;Ae<Re;Ae++){const Be=_e[Ae],De=fe[Ae];let Oe;const Pe=me[Ae];if(De.mode===WEBGL_CONSTANTS.TRIANGLES||De.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||De.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||De.mode===void 0)Oe=ue.isSkinnedMesh===!0?new SkinnedMesh(Be,Pe):new Mesh(Be,Pe),Oe.isSkinnedMesh===!0&&Oe.normalizeSkinWeights(),De.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Oe.geometry=toTrianglesDrawMode(Oe.geometry,TriangleStripDrawMode):De.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Oe.geometry=toTrianglesDrawMode(Oe.geometry,TriangleFanDrawMode));else if(De.mode===WEBGL_CONSTANTS.LINES)Oe=new LineSegments(Be,Pe);else if(De.mode===WEBGL_CONSTANTS.LINE_STRIP)Oe=new Line(Be,Pe);else if(De.mode===WEBGL_CONSTANTS.LINE_LOOP)Oe=new LineLoop(Be,Pe);else if(De.mode===WEBGL_CONSTANTS.POINTS)Oe=new Points(Be,Pe);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+De.mode);Object.keys(Oe.geometry.morphAttributes).length>0&&updateMorphTargets(Oe,ue),Oe.name=ae.createUniqueName(ue.name||"mesh_"+te),assignExtrasToUserData(Oe,ue),De.extensions&&addUnknownExtensionsToUserData(ce,Oe,De),ae.assignFinalMaterial(Oe),be.push(Oe)}for(let Ae=0,Re=be.length;Ae<Re;Ae++)ae.associations.set(be[Ae],{meshes:te,primitives:Ae});if(be.length===1)return ue.extensions&&addUnknownExtensionsToUserData(ce,be[0],ue),be[0];const Ee=new Group;ue.extensions&&addUnknownExtensionsToUserData(ce,Ee,ue),ae.associations.set(Ee,{meshes:te});for(let Ae=0,Re=be.length;Ae<Re;Ae++)Ee.add(be[Ae]);return Ee})}loadCamera(te){let ae;const oe=this.json.cameras[te],ce=oe[oe.type];if(!ce){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return oe.type==="perspective"?ae=new PerspectiveCamera(MathUtils.radToDeg(ce.yfov),ce.aspectRatio||1,ce.znear||1,ce.zfar||2e6):oe.type==="orthographic"&&(ae=new OrthographicCamera(-ce.xmag,ce.xmag,ce.ymag,-ce.ymag,ce.znear,ce.zfar)),oe.name&&(ae.name=this.createUniqueName(oe.name)),assignExtrasToUserData(ae,oe),Promise.resolve(ae)}loadSkin(te){const ae=this.json.skins[te],oe=[];for(let ce=0,ue=ae.joints.length;ce<ue;ce++)oe.push(this._loadNodeShallow(ae.joints[ce]));return ae.inverseBindMatrices!==void 0?oe.push(this.getDependency("accessor",ae.inverseBindMatrices)):oe.push(null),Promise.all(oe).then(function(ce){const ue=ce.pop(),fe=ce,de=[],pe=[];for(let me=0,_e=fe.length;me<_e;me++){const be=fe[me];if(be){de.push(be);const Ee=new Matrix4;ue!==null&&Ee.fromArray(ue.array,me*16),pe.push(Ee)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',ae.joints[me])}return new Skeleton(de,pe)})}loadAnimation(te){const ae=this.json,oe=this,ce=ae.animations[te],ue=ce.name?ce.name:"animation_"+te,fe=[],de=[],pe=[],me=[],_e=[];for(let be=0,Ee=ce.channels.length;be<Ee;be++){const Ae=ce.channels[be],Re=ce.samplers[Ae.sampler],Be=Ae.target,De=Be.node,Oe=ce.parameters!==void 0?ce.parameters[Re.input]:Re.input,Pe=ce.parameters!==void 0?ce.parameters[Re.output]:Re.output;Be.node!==void 0&&(fe.push(this.getDependency("node",De)),de.push(this.getDependency("accessor",Oe)),pe.push(this.getDependency("accessor",Pe)),me.push(Re),_e.push(Be))}return Promise.all([Promise.all(fe),Promise.all(de),Promise.all(pe),Promise.all(me),Promise.all(_e)]).then(function(be){const Ee=be[0],Ae=be[1],Re=be[2],Be=be[3],De=be[4],Oe=[];for(let Pe=0,Ie=Ee.length;Pe<Ie;Pe++){const Fe=Ee[Pe],$e=Ae[Pe],Ve=Re[Pe],ke=Be[Pe],We=De[Pe];if(Fe===void 0)continue;Fe.updateMatrix&&Fe.updateMatrix();const je=oe._createAnimationTracks(Fe,$e,Ve,ke,We);if(je)for(let He=0;He<je.length;He++)Oe.push(je[He])}return new AnimationClip(ue,void 0,Oe)})}createNodeMesh(te){const ae=this.json,oe=this,ce=ae.nodes[te];return ce.mesh===void 0?null:oe.getDependency("mesh",ce.mesh).then(function(ue){const fe=oe._getNodeRef(oe.meshCache,ce.mesh,ue);return ce.weights!==void 0&&fe.traverse(function(de){if(de.isMesh)for(let pe=0,me=ce.weights.length;pe<me;pe++)de.morphTargetInfluences[pe]=ce.weights[pe]}),fe})}loadNode(te){const ae=this.json,oe=this,ce=ae.nodes[te],ue=oe._loadNodeShallow(te),fe=[],de=ce.children||[];for(let me=0,_e=de.length;me<_e;me++)fe.push(oe.getDependency("node",de[me]));const pe=ce.skin===void 0?Promise.resolve(null):oe.getDependency("skin",ce.skin);return Promise.all([ue,Promise.all(fe),pe]).then(function(me){const _e=me[0],be=me[1],Ee=me[2];Ee!==null&&_e.traverse(function(Ae){Ae.isSkinnedMesh&&Ae.bind(Ee,_identityMatrix)});for(let Ae=0,Re=be.length;Ae<Re;Ae++)_e.add(be[Ae]);return _e})}_loadNodeShallow(te){const ae=this.json,oe=this.extensions,ce=this;if(this.nodeCache[te]!==void 0)return this.nodeCache[te];const ue=ae.nodes[te],fe=ue.name?ce.createUniqueName(ue.name):"",de=[],pe=ce._invokeOne(function(me){return me.createNodeMesh&&me.createNodeMesh(te)});return pe&&de.push(pe),ue.camera!==void 0&&de.push(ce.getDependency("camera",ue.camera).then(function(me){return ce._getNodeRef(ce.cameraCache,ue.camera,me)})),ce._invokeAll(function(me){return me.createNodeAttachment&&me.createNodeAttachment(te)}).forEach(function(me){de.push(me)}),this.nodeCache[te]=Promise.all(de).then(function(me){let _e;if(ue.isBone===!0?_e=new Bone:me.length>1?_e=new Group:me.length===1?_e=me[0]:_e=new Object3D,_e!==me[0])for(let be=0,Ee=me.length;be<Ee;be++)_e.add(me[be]);if(ue.name&&(_e.userData.name=ue.name,_e.name=fe),assignExtrasToUserData(_e,ue),ue.extensions&&addUnknownExtensionsToUserData(oe,_e,ue),ue.matrix!==void 0){const be=new Matrix4;be.fromArray(ue.matrix),_e.applyMatrix4(be)}else ue.translation!==void 0&&_e.position.fromArray(ue.translation),ue.rotation!==void 0&&_e.quaternion.fromArray(ue.rotation),ue.scale!==void 0&&_e.scale.fromArray(ue.scale);return ce.associations.has(_e)||ce.associations.set(_e,{}),ce.associations.get(_e).nodes=te,_e}),this.nodeCache[te]}loadScene(te){const ae=this.extensions,oe=this.json.scenes[te],ce=this,ue=new Group;oe.name&&(ue.name=ce.createUniqueName(oe.name)),assignExtrasToUserData(ue,oe),oe.extensions&&addUnknownExtensionsToUserData(ae,ue,oe);const fe=oe.nodes||[],de=[];for(let pe=0,me=fe.length;pe<me;pe++)de.push(ce.getDependency("node",fe[pe]));return Promise.all(de).then(function(pe){for(let _e=0,be=pe.length;_e<be;_e++)ue.add(pe[_e]);const me=_e=>{const be=new Map;for(const[Ee,Ae]of ce.associations)(Ee instanceof Material||Ee instanceof Texture)&&be.set(Ee,Ae);return _e.traverse(Ee=>{const Ae=ce.associations.get(Ee);Ae!=null&&be.set(Ee,Ae)}),be};return ce.associations=me(ue),ue})}_createAnimationTracks(te,ae,oe,ce,ue){const fe=[],de=te.name?te.name:te.uuid,pe=[];PATH_PROPERTIES[ue.path]===PATH_PROPERTIES.weights?te.traverse(function(Ee){Ee.morphTargetInfluences&&pe.push(Ee.name?Ee.name:Ee.uuid)}):pe.push(de);let me;switch(PATH_PROPERTIES[ue.path]){case PATH_PROPERTIES.weights:me=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:me=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:me=VectorKeyframeTrack;break;default:switch(oe.itemSize){case 1:me=NumberKeyframeTrack;break;case 2:case 3:default:me=VectorKeyframeTrack;break}break}const _e=ce.interpolation!==void 0?INTERPOLATION[ce.interpolation]:InterpolateLinear,be=this._getArrayFromAccessor(oe);for(let Ee=0,Ae=pe.length;Ee<Ae;Ee++){const Re=new me(pe[Ee]+"."+PATH_PROPERTIES[ue.path],ae.array,be,_e);ce.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(Re),fe.push(Re)}return fe}_getArrayFromAccessor(te){let ae=te.array;if(te.normalized){const oe=getNormalizedComponentScale(ae.constructor),ce=new Float32Array(ae.length);for(let ue=0,fe=ae.length;ue<fe;ue++)ce[ue]=ae[ue]*oe;ae=ce}return ae}_createCubicSplineTrackInterpolant(te){te.createInterpolant=function(oe){const ce=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new ce(this.times,this.values,this.getValueSize()/3,oe)},te.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(se,te,ae){const oe=te.attributes,ce=new Box3;if(oe.POSITION!==void 0){const de=ae.json.accessors[oe.POSITION],pe=de.min,me=de.max;if(pe!==void 0&&me!==void 0){if(ce.set(new Vector3(pe[0],pe[1],pe[2]),new Vector3(me[0],me[1],me[2])),de.normalized){const _e=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[de.componentType]);ce.min.multiplyScalar(_e),ce.max.multiplyScalar(_e)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const ue=te.targets;if(ue!==void 0){const de=new Vector3,pe=new Vector3;for(let me=0,_e=ue.length;me<_e;me++){const be=ue[me];if(be.POSITION!==void 0){const Ee=ae.json.accessors[be.POSITION],Ae=Ee.min,Re=Ee.max;if(Ae!==void 0&&Re!==void 0){if(pe.setX(Math.max(Math.abs(Ae[0]),Math.abs(Re[0]))),pe.setY(Math.max(Math.abs(Ae[1]),Math.abs(Re[1]))),pe.setZ(Math.max(Math.abs(Ae[2]),Math.abs(Re[2]))),Ee.normalized){const Be=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[Ee.componentType]);pe.multiplyScalar(Be)}de.max(pe)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}ce.expandByVector(de)}se.boundingBox=ce;const fe=new Sphere;ce.getCenter(fe.center),fe.radius=ce.min.distanceTo(ce.max)/2,se.boundingSphere=fe}function addPrimitiveAttributes(se,te,ae){const oe=te.attributes,ce=[];function ue(fe,de){return ae.getDependency("accessor",fe).then(function(pe){se.setAttribute(de,pe)})}for(const fe in oe){const de=ATTRIBUTES[fe]||fe.toLowerCase();de in se.attributes||ce.push(ue(oe[fe],de))}if(te.indices!==void 0&&!se.index){const fe=ae.getDependency("accessor",te.indices).then(function(de){se.setIndex(de)});ce.push(fe)}return assignExtrasToUserData(se,te),computeBounds(se,te,ae),Promise.all(ce).then(function(){return te.targets!==void 0?addMorphTargets(se,te.targets,ae):se})}const HorizontalBlurShader={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},VerticalBlurShader={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `},_taskCache=new WeakMap;class DRACOLoader extends Loader{constructor(te){super(te),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(te){return this.decoderPath=te,this}setDecoderConfig(te){return this.decoderConfig=te,this}setWorkerLimit(te){return this.workerLimit=te,this}load(te,ae,oe,ce){const ue=new FileLoader(this.manager);ue.setPath(this.path),ue.setResponseType("arraybuffer"),ue.setRequestHeader(this.requestHeader),ue.setWithCredentials(this.withCredentials),ue.load(te,fe=>{const de={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(fe,de).then(ae).catch(ce)},oe,ce)}decodeDracoFile(te,ae,oe,ce){const ue={attributeIDs:oe||this.defaultAttributeIDs,attributeTypes:ce||this.defaultAttributeTypes,useUniqueIDs:!!oe};this.decodeGeometry(te,ue).then(ae)}decodeGeometry(te,ae){for(const pe in ae.attributeTypes){const me=ae.attributeTypes[pe];me.BYTES_PER_ELEMENT!==void 0&&(ae.attributeTypes[pe]=me.name)}const oe=JSON.stringify(ae);if(_taskCache.has(te)){const pe=_taskCache.get(te);if(pe.key===oe)return pe.promise;if(te.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let ce;const ue=this.workerNextTaskID++,fe=te.byteLength,de=this._getWorker(ue,fe).then(pe=>(ce=pe,new Promise((me,_e)=>{ce._callbacks[ue]={resolve:me,reject:_e},ce.postMessage({type:"decode",id:ue,taskConfig:ae,buffer:te},[te])}))).then(pe=>this._createGeometry(pe.geometry));return de.catch(()=>!0).then(()=>{ce&&ue&&this._releaseTask(ce,ue)}),_taskCache.set(te,{key:oe,promise:de}),de}_createGeometry(te){const ae=new BufferGeometry;te.index&&ae.setIndex(new BufferAttribute(te.index.array,1));for(let oe=0;oe<te.attributes.length;oe++){const ce=te.attributes[oe],ue=ce.name,fe=ce.array,de=ce.itemSize;ae.setAttribute(ue,new BufferAttribute(fe,de))}return ae}_loadLibrary(te,ae){const oe=new FileLoader(this.manager);return oe.setPath(this.decoderPath),oe.setResponseType(ae),oe.setWithCredentials(this.withCredentials),new Promise((ce,ue)=>{oe.load(te,ce,void 0,ue)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const te=typeof WebAssembly!="object"||this.decoderConfig.type==="js",ae=[];return te?ae.push(this._loadLibrary("draco_decoder.js","text")):(ae.push(this._loadLibrary("draco_wasm_wrapper.js","text")),ae.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(ae).then(oe=>{const ce=oe[0];te||(this.decoderConfig.wasmBinary=oe[1]);const ue=DRACOWorker.toString(),fe=["/* draco decoder */",ce,"","/* worker */",ue.substring(ue.indexOf("{")+1,ue.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([fe]))}),this.decoderPending}_getWorker(te,ae){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const ce=new Worker(this.workerSourceURL);ce._callbacks={},ce._taskCosts={},ce._taskLoad=0,ce.postMessage({type:"init",decoderConfig:this.decoderConfig}),ce.onmessage=function(ue){const fe=ue.data;switch(fe.type){case"decode":ce._callbacks[fe.id].resolve(fe);break;case"error":ce._callbacks[fe.id].reject(fe);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+fe.type+'"')}},this.workerPool.push(ce)}else this.workerPool.sort(function(ce,ue){return ce._taskLoad>ue._taskLoad?-1:1});const oe=this.workerPool[this.workerPool.length-1];return oe._taskCosts[te]=ae,oe._taskLoad+=ae,oe})}_releaseTask(te,ae){te._taskLoad-=te._taskCosts[ae],delete te._callbacks[ae],delete te._taskCosts[ae]}debug(){console.log("Task load: ",this.workerPool.map(te=>te._taskLoad))}dispose(){for(let te=0;te<this.workerPool.length;++te)this.workerPool[te].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let se,te;onmessage=function(fe){const de=fe.data;switch(de.type){case"init":se=de.decoderConfig,te=new Promise(function(_e){se.onModuleLoaded=function(be){_e({draco:be})},DracoDecoderModule(se)});break;case"decode":const pe=de.buffer,me=de.taskConfig;te.then(_e=>{const be=_e.draco,Ee=new be.Decoder,Ae=new be.DecoderBuffer;Ae.Init(new Int8Array(pe),pe.byteLength);try{const Re=ae(be,Ee,Ae,me),Be=Re.attributes.map(De=>De.array.buffer);Re.index&&Be.push(Re.index.array.buffer),self.postMessage({type:"decode",id:de.id,geometry:Re},Be)}catch(Re){console.error(Re),self.postMessage({type:"error",id:de.id,error:Re.message})}finally{be.destroy(Ae),be.destroy(Ee)}});break}};function ae(fe,de,pe,me){const _e=me.attributeIDs,be=me.attributeTypes;let Ee,Ae;const Re=de.GetEncodedGeometryType(pe);if(Re===fe.TRIANGULAR_MESH)Ee=new fe.Mesh,Ae=de.DecodeBufferToMesh(pe,Ee);else if(Re===fe.POINT_CLOUD)Ee=new fe.PointCloud,Ae=de.DecodeBufferToPointCloud(pe,Ee);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!Ae.ok()||Ee.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+Ae.error_msg());const Be={index:null,attributes:[]};for(const De in _e){const Oe=self[be[De]];let Pe,Ie;if(me.useUniqueIDs)Ie=_e[De],Pe=de.GetAttributeByUniqueId(Ee,Ie);else{if(Ie=de.GetAttributeId(Ee,fe[_e[De]]),Ie===-1)continue;Pe=de.GetAttribute(Ee,Ie)}Be.attributes.push(ce(fe,de,Ee,De,Oe,Pe))}return Re===fe.TRIANGULAR_MESH&&(Be.index=oe(fe,de,Ee)),fe.destroy(Ee),Be}function oe(fe,de,pe){const _e=pe.num_faces()*3,be=_e*4,Ee=fe._malloc(be);de.GetTrianglesUInt32Array(pe,be,Ee);const Ae=new Uint32Array(fe.HEAPF32.buffer,Ee,_e).slice();return fe._free(Ee),{array:Ae,itemSize:1}}function ce(fe,de,pe,me,_e,be){const Ee=be.num_components(),Re=pe.num_points()*Ee,Be=Re*_e.BYTES_PER_ELEMENT,De=ue(fe,_e),Oe=fe._malloc(Be);de.GetAttributeDataArrayForAllPoints(pe,be,De,Be,Oe);const Pe=new _e(fe.HEAPF32.buffer,Oe,Re).slice();return fe._free(Oe),{name:me,array:Pe,itemSize:Ee}}function ue(fe,de){switch(de){case Float32Array:return fe.DT_FLOAT32;case Int8Array:return fe.DT_INT8;case Int16Array:return fe.DT_INT16;case Int32Array:return fe.DT_INT32;case Uint8Array:return fe.DT_UINT8;case Uint16Array:return fe.DT_UINT16;case Uint32Array:return fe.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const se="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",te="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",ae=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),oe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let ce=se;WebAssembly.validate(ae)&&(ce=te);let ue;const fe=WebAssembly.instantiate(de(ce),{}).then(be=>{ue=be.instance,ue.exports.__wasm_call_ctors()});function de(be){const Ee=new Uint8Array(be.length);for(let Re=0;Re<be.length;++Re){const Be=be.charCodeAt(Re);Ee[Re]=Be>96?Be-71:Be>64?Be-65:Be>47?Be+4:Be>46?63:62}let Ae=0;for(let Re=0;Re<be.length;++Re)Ee[Ae++]=Ee[Re]<60?oe[Ee[Re]]:(Ee[Re]-60)*64+Ee[++Re];return Ee.buffer.slice(0,Ae)}function pe(be,Ee,Ae,Re,Be,De){const Oe=ue.exports.sbrk,Pe=Ae+3&-4,Ie=Oe(Pe*Re),Fe=Oe(Be.length),$e=new Uint8Array(ue.exports.memory.buffer);$e.set(Be,Fe);const Ve=be(Ie,Ae,Re,Fe,Be.length);if(Ve===0&&De&&De(Ie,Pe,Re),Ee.set($e.subarray(Ie,Ie+Ae*Re)),Oe(Ie-Oe(0)),Ve!==0)throw new Error(`Malformed buffer data: ${Ve}`)}const me={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},_e={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:fe,supported:!0,decodeVertexBuffer(be,Ee,Ae,Re,Be){pe(ue.exports.meshopt_decodeVertexBuffer,be,Ee,Ae,Re,ue.exports[me[Be]])},decodeIndexBuffer(be,Ee,Ae,Re){pe(ue.exports.meshopt_decodeIndexBuffer,be,Ee,Ae,Re)},decodeIndexSequence(be,Ee,Ae,Re){pe(ue.exports.meshopt_decodeIndexSequence,be,Ee,Ae,Re)},decodeGltfBuffer(be,Ee,Ae,Re,Be,De){pe(ue.exports[_e[Be]],be,Ee,Ae,Re,ue.exports[me[De]])}},generated};function workerBootstrap(){var se=Object.create(null);function te(ce,ue){var fe=ce.id,de=ce.name,pe=ce.dependencies;pe===void 0&&(pe=[]);var me=ce.init;me===void 0&&(me=function(){});var _e=ce.getTransferables;if(_e===void 0&&(_e=null),!se[fe])try{pe=pe.map(function(Ee){return Ee&&Ee.isWorkerModule&&(te(Ee,function(Ae){if(Ae instanceof Error)throw Ae}),Ee=se[Ee.id].value),Ee}),me=oe("<"+de+">.init",me),_e&&(_e=oe("<"+de+">.getTransferables",_e));var be=null;typeof me=="function"?be=me.apply(void 0,pe):console.error("worker module init function failed to rehydrate"),se[fe]={id:fe,value:be,getTransferables:_e},ue(be)}catch(Ee){Ee&&Ee.noLog||console.error(Ee),ue(Ee)}}function ae(ce,ue){var fe,de=ce.id,pe=ce.args;(!se[de]||typeof se[de].value!="function")&&ue(new Error("Worker module "+de+": not found or its 'init' did not return a function"));try{var me=(fe=se[de]).value.apply(fe,pe);me&&typeof me.then=="function"?me.then(_e,function(be){return ue(be instanceof Error?be:new Error(""+be))}):_e(me)}catch(be){ue(be)}function _e(be){try{var Ee=se[de].getTransferables&&se[de].getTransferables(be);(!Ee||!Array.isArray(Ee)||!Ee.length)&&(Ee=void 0),ue(be,Ee)}catch(Ae){console.error(Ae),ue(Ae)}}}function oe(ce,ue){var fe=void 0;self.troikaDefine=function(pe){return fe=pe};var de=URL.createObjectURL(new Blob(["/** "+ce.replace(/\*/g,"")+` **/

troikaDefine(
`+ue+`
)`],{type:"application/javascript"}));try{importScripts(de)}catch(pe){console.error(pe)}return URL.revokeObjectURL(de),delete self.troikaDefine,fe}self.addEventListener("message",function(ce){var ue=ce.data,fe=ue.messageId,de=ue.action,pe=ue.data;try{de==="registerModule"&&te(pe,function(me){me instanceof Error?postMessage({messageId:fe,success:!1,error:me.message}):postMessage({messageId:fe,success:!0,result:{isCallable:typeof me=="function"}})}),de==="callModule"&&ae(pe,function(me,_e){me instanceof Error?postMessage({messageId:fe,success:!1,error:me.message}):postMessage({messageId:fe,success:!0,result:me},_e||void 0)})}catch(me){postMessage({messageId:fe,success:!1,error:me.stack})}})}function defineMainThreadModule(se){var te=function(){for(var ae=[],oe=arguments.length;oe--;)ae[oe]=arguments[oe];return te._getInitResult().then(function(ce){if(typeof ce=="function")return ce.apply(void 0,ae);throw new Error("Worker module function was called but `init` did not return a callable function")})};return te._getInitResult=function(){var ae=se.dependencies,oe=se.init;ae=Array.isArray(ae)?ae.map(function(ue){return ue&&(ue=ue.onMainThread||ue,ue._getInitResult&&(ue=ue._getInitResult())),ue}):[];var ce=Promise.all(ae).then(function(ue){return oe.apply(null,ue)});return te._getInitResult=function(){return ce},ce},te}var supportsWorkers=function(){var se=!1;if(typeof window<"u"&&typeof window.document<"u")try{var te=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));te.terminate(),se=!0}catch(ae){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+ae.message+"]")}return supportsWorkers=function(){return se},se},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(se){if((!se||typeof se.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var te=se.dependencies,ae=se.init,oe=se.getTransferables,ce=se.workerId,ue=defineMainThreadModule(se);ce==null&&(ce="#default");var fe="workerModule"+ ++_workerModuleId,de=se.name||fe,pe=null;te=te&&te.map(function(_e){return typeof _e=="function"&&!_e.workerModuleData&&(_allowInitAsString=!0,_e=defineWorkerModule({workerId:ce,name:"<"+de+"> function dependency: "+_e.name,init:`function(){return (
`+stringifyFunction(_e)+`
)}`}),_allowInitAsString=!1),_e&&_e.workerModuleData&&(_e=_e.workerModuleData),_e});function me(){for(var _e=[],be=arguments.length;be--;)_e[be]=arguments[be];if(!supportsWorkers())return ue.apply(void 0,_e);if(!pe){pe=callWorker(ce,"registerModule",me.workerModuleData);var Ee=function(){pe=null,registeredModules[ce].delete(Ee)};(registeredModules[ce]||(registeredModules[ce]=new Set)).add(Ee)}return pe.then(function(Ae){var Re=Ae.isCallable;if(Re)return callWorker(ce,"callModule",{id:fe,args:_e});throw new Error("Worker module function was called but `init` did not return a callable function")})}return me.workerModuleData={isWorkerModule:!0,id:fe,name:de,dependencies:te,init:stringifyFunction(ae),getTransferables:oe&&stringifyFunction(oe)},me.onMainThread=ue,me}function terminateWorker(se){registeredModules[se]&&registeredModules[se].forEach(function(te){te()}),workers[se]&&(workers[se].terminate(),delete workers[se])}function stringifyFunction(se){var te=se.toString();return!/^function/.test(te)&&/^\w+\s*\(/.test(te)&&(te="function "+te),te}function getWorker(se){var te=workers[se];if(!te){var ae=stringifyFunction(workerBootstrap);te=workers[se]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+se.replace(/\*/g,"")+` **/

;(`+ae+")()"],{type:"application/javascript"}))),te.onmessage=function(oe){var ce=oe.data,ue=ce.messageId,fe=openRequests[ue];if(!fe)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[ue],fe(ce)}}return te}function callWorker(se,te,ae){return new Promise(function(oe,ce){var ue=++_messageId;openRequests[ue]=function(fe){fe.success?oe(fe.result):ce(new Error("Error in worker "+te+" call: "+fe.error))},getWorker(se).postMessage({messageId:ue,action:te,data:ae})})}function SDFGenerator(){var se=function(te){function ae(_t,Xe,et,ft,yt,st,gt,Et){var bt=1-gt;Et.x=bt*bt*_t+2*bt*gt*et+gt*gt*yt,Et.y=bt*bt*Xe+2*bt*gt*ft+gt*gt*st}function oe(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt){var nn=1-bt;Dt.x=nn*nn*nn*_t+3*nn*nn*bt*et+3*nn*bt*bt*yt+bt*bt*bt*gt,Dt.y=nn*nn*nn*Xe+3*nn*nn*bt*ft+3*nn*bt*bt*st+bt*bt*bt*Et}function ce(_t,Xe){for(var et=/([MLQCZ])([^MLQCZ]*)/g,ft,yt,st,gt,Et;ft=et.exec(_t);){var bt=ft[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Dt){return parseFloat(Dt)});switch(ft[1]){case"M":gt=yt=bt[0],Et=st=bt[1];break;case"L":(bt[0]!==gt||bt[1]!==Et)&&Xe("L",gt,Et,gt=bt[0],Et=bt[1]);break;case"Q":{Xe("Q",gt,Et,gt=bt[2],Et=bt[3],bt[0],bt[1]);break}case"C":{Xe("C",gt,Et,gt=bt[4],Et=bt[5],bt[0],bt[1],bt[2],bt[3]);break}case"Z":(gt!==yt||Et!==st)&&Xe("L",gt,Et,yt,st);break}}}function ue(_t,Xe,et){et===void 0&&(et=16);var ft={x:0,y:0};ce(_t,function(yt,st,gt,Et,bt,Dt,nn,ln,tn){switch(yt){case"L":Xe(st,gt,Et,bt);break;case"Q":{for(var Wt=st,on=gt,pt=1;pt<et;pt++)ae(st,gt,Dt,nn,Et,bt,pt/(et-1),ft),Xe(Wt,on,ft.x,ft.y),Wt=ft.x,on=ft.y;break}case"C":{for(var Sn=st,Nt=gt,ht=1;ht<et;ht++)oe(st,gt,Dt,nn,ln,tn,Et,bt,ht/(et-1),ft),Xe(Sn,Nt,ft.x,ft.y),Sn=ft.x,Nt=ft.y;break}}})}var fe="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",de="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",pe=new WeakMap,me={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function _e(_t,Xe){var et=_t.getContext?_t.getContext("webgl",me):_t,ft=pe.get(et);if(!ft){let Sn=function(Qe){var Ke=st[Qe];if(!Ke&&(Ke=st[Qe]=et.getExtension(Qe),!Ke))throw new Error(Qe+" not supported");return Ke},Nt=function(Qe,Ke){var ct=et.createShader(Ke);return et.shaderSource(ct,Qe),et.compileShader(ct),ct},ht=function(Qe,Ke,ct,St){if(!gt[Qe]){var Mt={},Ft={},zt=et.createProgram();et.attachShader(zt,Nt(Ke,et.VERTEX_SHADER)),et.attachShader(zt,Nt(ct,et.FRAGMENT_SHADER)),et.linkProgram(zt),gt[Qe]={program:zt,transaction:function(Jt){et.useProgram(zt),Jt({setUniform:function(rn,cn){for(var vn=[],hn=arguments.length-2;hn-- >0;)vn[hn]=arguments[hn+2];var Qt=Ft[cn]||(Ft[cn]=et.getUniformLocation(zt,cn));et["uniform"+rn].apply(et,[Qt].concat(vn))},setAttribute:function(rn,cn,vn,hn,Qt){var Cn=Mt[rn];Cn||(Cn=Mt[rn]={buf:et.createBuffer(),loc:et.getAttribLocation(zt,rn),data:null}),et.bindBuffer(et.ARRAY_BUFFER,Cn.buf),et.vertexAttribPointer(Cn.loc,cn,et.FLOAT,!1,0,0),et.enableVertexAttribArray(Cn.loc),yt?et.vertexAttribDivisor(Cn.loc,hn):Sn("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Cn.loc,hn),Qt!==Cn.data&&(et.bufferData(et.ARRAY_BUFFER,Qt,vn),Cn.data=Qt)}})}}}gt[Qe].transaction(St)},Rt=function(Qe,Ke){bt++;try{et.activeTexture(et.TEXTURE0+bt);var ct=Et[Qe];ct||(ct=Et[Qe]=et.createTexture(),et.bindTexture(et.TEXTURE_2D,ct),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MIN_FILTER,et.NEAREST),et.texParameteri(et.TEXTURE_2D,et.TEXTURE_MAG_FILTER,et.NEAREST)),et.bindTexture(et.TEXTURE_2D,ct),Ke(ct,bt)}finally{bt--}},kt=function(Qe,Ke,ct){var St=et.createFramebuffer();Dt.push(St),et.bindFramebuffer(et.FRAMEBUFFER,St),et.activeTexture(et.TEXTURE0+Ke),et.bindTexture(et.TEXTURE_2D,Qe),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Qe,0);try{ct(St)}finally{et.deleteFramebuffer(St),et.bindFramebuffer(et.FRAMEBUFFER,Dt[--Dt.length-1]||null)}},Bt=function(){st={},gt={},Et={},bt=-1,Dt.length=0};var nn=Sn,ln=Nt,tn=ht,Wt=Rt,on=kt,pt=Bt,yt=typeof WebGL2RenderingContext<"u"&&et instanceof WebGL2RenderingContext,st={},gt={},Et={},bt=-1,Dt=[];et.canvas.addEventListener("webglcontextlost",function(Qe){Bt(),Qe.preventDefault()},!1),pe.set(et,ft={gl:et,isWebGL2:yt,getExtension:Sn,withProgram:ht,withTexture:Rt,withTextureFramebuffer:kt,handleContextLoss:Bt})}Xe(ft)}function be(_t,Xe,et,ft,yt,st,gt,Et){gt===void 0&&(gt=15),Et===void 0&&(Et=null),_e(_t,function(bt){var Dt=bt.gl,nn=bt.withProgram,ln=bt.withTexture;ln("copy",function(tn,Wt){Dt.texImage2D(Dt.TEXTURE_2D,0,Dt.RGBA,yt,st,0,Dt.RGBA,Dt.UNSIGNED_BYTE,Xe),nn("copy",fe,de,function(on){var pt=on.setUniform,Sn=on.setAttribute;Sn("aUV",2,Dt.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),pt("1i","image",Wt),Dt.bindFramebuffer(Dt.FRAMEBUFFER,Et||null),Dt.disable(Dt.BLEND),Dt.colorMask(gt&8,gt&4,gt&2,gt&1),Dt.viewport(et,ft,yt,st),Dt.scissor(et,ft,yt,st),Dt.drawArrays(Dt.TRIANGLES,0,3)})})})}function Ee(_t,Xe,et){var ft=_t.width,yt=_t.height;_e(_t,function(st){var gt=st.gl,Et=new Uint8Array(ft*yt*4);gt.readPixels(0,0,ft,yt,gt.RGBA,gt.UNSIGNED_BYTE,Et),_t.width=Xe,_t.height=et,be(gt,Et,0,0,ft,yt)})}var Ae=Object.freeze({__proto__:null,withWebGLContext:_e,renderImageData:be,resizeWebGLCanvasWithoutClearing:Ee});function Re(_t,Xe,et,ft,yt,st){st===void 0&&(st=1);var gt=new Uint8Array(_t*Xe),Et=ft[2]-ft[0],bt=ft[3]-ft[1],Dt=[];ue(et,function(Sn,Nt,ht,Rt){Dt.push({x1:Sn,y1:Nt,x2:ht,y2:Rt,minX:Math.min(Sn,ht),minY:Math.min(Nt,Rt),maxX:Math.max(Sn,ht),maxY:Math.max(Nt,Rt)})}),Dt.sort(function(Sn,Nt){return Sn.maxX-Nt.maxX});for(var nn=0;nn<_t;nn++)for(var ln=0;ln<Xe;ln++){var tn=on(ft[0]+Et*(nn+.5)/_t,ft[1]+bt*(ln+.5)/Xe),Wt=Math.pow(1-Math.abs(tn)/yt,st)/2;tn<0&&(Wt=1-Wt),Wt=Math.max(0,Math.min(255,Math.round(Wt*255))),gt[ln*_t+nn]=Wt}return gt;function on(Sn,Nt){for(var ht=1/0,Rt=1/0,kt=Dt.length;kt--;){var Bt=Dt[kt];if(Bt.maxX+Rt<=Sn)break;if(Sn+Rt>Bt.minX&&Nt-Rt<Bt.maxY&&Nt+Rt>Bt.minY){var Qe=Oe(Sn,Nt,Bt.x1,Bt.y1,Bt.x2,Bt.y2);Qe<ht&&(ht=Qe,Rt=Math.sqrt(ht))}}return pt(Sn,Nt)&&(Rt=-Rt),Rt}function pt(Sn,Nt){for(var ht=0,Rt=Dt.length;Rt--;){var kt=Dt[Rt];if(kt.maxX<=Sn)break;var Bt=kt.y1>Nt!=kt.y2>Nt&&Sn<(kt.x2-kt.x1)*(Nt-kt.y1)/(kt.y2-kt.y1)+kt.x1;Bt&&(ht+=kt.y1<kt.y2?1:-1)}return ht!==0}}function Be(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt){st===void 0&&(st=1),Et===void 0&&(Et=0),bt===void 0&&(bt=0),Dt===void 0&&(Dt=0),De(_t,Xe,et,ft,yt,st,gt,null,Et,bt,Dt)}function De(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt,nn){st===void 0&&(st=1),bt===void 0&&(bt=0),Dt===void 0&&(Dt=0),nn===void 0&&(nn=0);for(var ln=Re(_t,Xe,et,ft,yt,st),tn=new Uint8Array(ln.length*4),Wt=0;Wt<ln.length;Wt++)tn[Wt*4+nn]=ln[Wt];be(gt,tn,bt,Dt,_t,Xe,1<<3-nn,Et)}function Oe(_t,Xe,et,ft,yt,st){var gt=yt-et,Et=st-ft,bt=gt*gt+Et*Et,Dt=bt?Math.max(0,Math.min(1,((_t-et)*gt+(Xe-ft)*Et)/bt)):0,nn=_t-(et+Dt*gt),ln=Xe-(ft+Dt*Et);return nn*nn+ln*ln}var Pe=Object.freeze({__proto__:null,generate:Re,generateIntoCanvas:Be,generateIntoFramebuffer:De}),Ie="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Fe="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",$e="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Ve=new Float32Array([0,0,2,0,0,2]),ke=null,We=!1,je={},He=new WeakMap;function tt(_t){if(!We&&!mt(_t))throw new Error("WebGL generation not supported")}function Ze(_t,Xe,et,ft,yt,st,gt){if(st===void 0&&(st=1),gt===void 0&&(gt=null),!gt&&(gt=ke,!gt)){var Et=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Et)throw new Error("OffscreenCanvas or DOM canvas not supported");gt=ke=Et.getContext("webgl",{depth:!1})}tt(gt);var bt=new Uint8Array(_t*Xe*4);_e(gt,function(tn){var Wt=tn.gl,on=tn.withTexture,pt=tn.withTextureFramebuffer;on("readable",function(Sn,Nt){Wt.texImage2D(Wt.TEXTURE_2D,0,Wt.RGBA,_t,Xe,0,Wt.RGBA,Wt.UNSIGNED_BYTE,null),pt(Sn,Nt,function(ht){at(_t,Xe,et,ft,yt,st,Wt,ht,0,0,0),Wt.readPixels(0,0,_t,Xe,Wt.RGBA,Wt.UNSIGNED_BYTE,bt)})})});for(var Dt=new Uint8Array(_t*Xe),nn=0,ln=0;nn<bt.length;nn+=4)Dt[ln++]=bt[nn];return Dt}function nt(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt){st===void 0&&(st=1),Et===void 0&&(Et=0),bt===void 0&&(bt=0),Dt===void 0&&(Dt=0),at(_t,Xe,et,ft,yt,st,gt,null,Et,bt,Dt)}function at(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt,nn){st===void 0&&(st=1),bt===void 0&&(bt=0),Dt===void 0&&(Dt=0),nn===void 0&&(nn=0),tt(gt);var ln=[];ue(et,function(tn,Wt,on,pt){ln.push(tn,Wt,on,pt)}),ln=new Float32Array(ln),_e(gt,function(tn){var Wt=tn.gl,on=tn.isWebGL2,pt=tn.getExtension,Sn=tn.withProgram,Nt=tn.withTexture,ht=tn.withTextureFramebuffer,Rt=tn.handleContextLoss;if(Nt("rawDistances",function(kt,Bt){(_t!==kt._lastWidth||Xe!==kt._lastHeight)&&Wt.texImage2D(Wt.TEXTURE_2D,0,Wt.RGBA,kt._lastWidth=_t,kt._lastHeight=Xe,0,Wt.RGBA,Wt.UNSIGNED_BYTE,null),Sn("main",Ie,Fe,function(Qe){var Ke=Qe.setAttribute,ct=Qe.setUniform,St=!on&&pt("ANGLE_instanced_arrays"),Mt=!on&&pt("EXT_blend_minmax");Ke("aUV",2,Wt.STATIC_DRAW,0,Ve),Ke("aLineSegment",4,Wt.DYNAMIC_DRAW,1,ln),ct.apply(void 0,["4f","uGlyphBounds"].concat(ft)),ct("1f","uMaxDistance",yt),ct("1f","uExponent",st),ht(kt,Bt,function(Ft){Wt.enable(Wt.BLEND),Wt.colorMask(!0,!0,!0,!0),Wt.viewport(0,0,_t,Xe),Wt.scissor(0,0,_t,Xe),Wt.blendFunc(Wt.ONE,Wt.ONE),Wt.blendEquationSeparate(Wt.FUNC_ADD,on?Wt.MAX:Mt.MAX_EXT),Wt.clear(Wt.COLOR_BUFFER_BIT),on?Wt.drawArraysInstanced(Wt.TRIANGLES,0,3,ln.length/4):St.drawArraysInstancedANGLE(Wt.TRIANGLES,0,3,ln.length/4)})}),Sn("post",fe,$e,function(Qe){Qe.setAttribute("aUV",2,Wt.STATIC_DRAW,0,Ve),Qe.setUniform("1i","tex",Bt),Wt.bindFramebuffer(Wt.FRAMEBUFFER,Et),Wt.disable(Wt.BLEND),Wt.colorMask(nn===0,nn===1,nn===2,nn===3),Wt.viewport(bt,Dt,_t,Xe),Wt.scissor(bt,Dt,_t,Xe),Wt.drawArrays(Wt.TRIANGLES,0,3)})}),Wt.isContextLost())throw Rt(),new Error("webgl context lost")})}function mt(_t){var Xe=!_t||_t===ke?je:_t.canvas||_t,et=He.get(Xe);if(et===void 0){We=!0;var ft=null;try{var yt=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],st=Ze(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,_t);et=st&&yt.length===st.length&&st.every(function(gt,Et){return gt===yt[Et]}),et||(ft="bad trial run results",console.info(yt,st))}catch(gt){et=!1,ft=gt.message}ft&&console.warn("WebGL SDF generation not supported:",ft),We=!1,He.set(Xe,et)}return et}var Ye=Object.freeze({__proto__:null,generate:Ze,generateIntoCanvas:nt,generateIntoFramebuffer:at,isSupported:mt});function rt(_t,Xe,et,ft,yt,st){yt===void 0&&(yt=Math.max(ft[2]-ft[0],ft[3]-ft[1])/2),st===void 0&&(st=1);try{return Ze.apply(Ye,arguments)}catch(gt){return console.info("WebGL SDF generation failed, falling back to JS",gt),Re.apply(Pe,arguments)}}function lt(_t,Xe,et,ft,yt,st,gt,Et,bt,Dt){yt===void 0&&(yt=Math.max(ft[2]-ft[0],ft[3]-ft[1])/2),st===void 0&&(st=1),Et===void 0&&(Et=0),bt===void 0&&(bt=0),Dt===void 0&&(Dt=0);try{return nt.apply(Ye,arguments)}catch(nn){return console.info("WebGL SDF generation failed, falling back to JS",nn),Be.apply(Pe,arguments)}}return te.forEachPathCommand=ce,te.generate=rt,te.generateIntoCanvas=lt,te.javascript=Pe,te.pathToLineSegments=ue,te.webgl=Ye,te.webglUtils=Ae,Object.defineProperty(te,"__esModule",{value:!0}),te}({});return se}function bidiFactory(){var se=function(te){var ae={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},oe={},ce={};oe.L=1,ce[1]="L",Object.keys(ae).forEach(function(Rt,kt){oe[Rt]=1<<kt+1,ce[oe[Rt]]=Rt}),Object.freeze(oe);var ue=oe.LRI|oe.RLI|oe.FSI,fe=oe.L|oe.R|oe.AL,de=oe.B|oe.S|oe.WS|oe.ON|oe.FSI|oe.LRI|oe.RLI|oe.PDI,pe=oe.BN|oe.RLE|oe.LRE|oe.RLO|oe.LRO|oe.PDF,me=oe.S|oe.WS|oe.B|ue|oe.PDI|pe,_e=null;function be(){if(!_e){_e=new Map;var Rt=function(Bt){if(ae.hasOwnProperty(Bt)){var Qe=0;ae[Bt].split(",").forEach(function(Ke){var ct=Ke.split("+"),St=ct[0],Mt=ct[1];St=parseInt(St,36),Mt=Mt?parseInt(Mt,36):0,_e.set(Qe+=St,oe[Bt]);for(var Ft=0;Ft<Mt;Ft++)_e.set(++Qe,oe[Bt])})}};for(var kt in ae)Rt(kt)}}function Ee(Rt){return be(),_e.get(Rt.codePointAt(0))||oe.L}function Ae(Rt){return ce[Ee(Rt)]}var Re={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function Be(Rt,kt){var Bt=36,Qe=0,Ke=new Map,ct=kt&&new Map,St;return Rt.split(",").forEach(function Mt(Ft){if(Ft.indexOf("+")!==-1)for(var zt=+Ft;zt--;)Mt(St);else{St=Ft;var $t=Ft.split(">"),Jt=$t[0],Mn=$t[1];Jt=String.fromCodePoint(Qe+=parseInt(Jt,Bt)),Mn=String.fromCodePoint(Qe+=parseInt(Mn,Bt)),Ke.set(Jt,Mn),kt&&ct.set(Mn,Jt)}}),{map:Ke,reverseMap:ct}}var De,Oe,Pe;function Ie(){if(!De){var Rt=Be(Re.pairs,!0),kt=Rt.map,Bt=Rt.reverseMap;De=kt,Oe=Bt,Pe=Be(Re.canonical,!1).map}}function Fe(Rt){return Ie(),De.get(Rt)||null}function $e(Rt){return Ie(),Oe.get(Rt)||null}function Ve(Rt){return Ie(),Pe.get(Rt)||null}var ke=oe.L,We=oe.R,je=oe.EN,He=oe.ES,tt=oe.ET,Ze=oe.AN,nt=oe.CS,at=oe.B,mt=oe.S,Ye=oe.ON,rt=oe.BN,lt=oe.NSM,_t=oe.AL,Xe=oe.LRO,et=oe.RLO,ft=oe.LRE,yt=oe.RLE,st=oe.PDF,gt=oe.LRI,Et=oe.RLI,bt=oe.FSI,Dt=oe.PDI;function nn(Rt,kt){for(var Bt=125,Qe=new Uint32Array(Rt.length),Ke=0;Ke<Rt.length;Ke++)Qe[Ke]=Ee(Rt[Ke]);var ct=new Map;function St(Gr,ha){var Mr=Qe[Gr];Qe[Gr]=ha,ct.set(Mr,ct.get(Mr)-1),Mr&de&&ct.set(de,ct.get(de)-1),ct.set(ha,(ct.get(ha)||0)+1),ha&de&&ct.set(de,(ct.get(de)||0)+1)}for(var Mt=new Uint8Array(Rt.length),Ft=new Map,zt=[],$t=null,Jt=0;Jt<Rt.length;Jt++)$t||zt.push($t={start:Jt,end:Rt.length-1,level:kt==="rtl"?1:kt==="ltr"?0:lc(Jt,!1)}),Qe[Jt]&at&&($t.end=Jt,$t=null);for(var Mn=yt|ft|et|Xe|ue|Dt|st|at,rn=function(Gr){return Gr+(Gr&1?1:2)},cn=function(Gr){return Gr+(Gr&1?2:1)},vn=0;vn<zt.length;vn++){$t=zt[vn];var hn=[{_level:$t.level,_override:0,_isolate:0}],Qt=void 0,Cn=0,Tn=0,Xn=0;ct.clear();for(var xt=$t.start;xt<=$t.end;xt++){var sn=Qe[xt];if(Qt=hn[hn.length-1],ct.set(sn,(ct.get(sn)||0)+1),sn&de&&ct.set(de,(ct.get(de)||0)+1),sn&Mn)if(sn&(yt|ft)){Mt[xt]=Qt._level;var Gt=(sn===yt?cn:rn)(Qt._level);Gt<=Bt&&!Cn&&!Tn?hn.push({_level:Gt,_override:0,_isolate:0}):Cn||Tn++}else if(sn&(et|Xe)){Mt[xt]=Qt._level;var an=(sn===et?cn:rn)(Qt._level);an<=Bt&&!Cn&&!Tn?hn.push({_level:an,_override:sn&et?We:ke,_isolate:0}):Cn||Tn++}else if(sn&ue){sn&bt&&(sn=lc(xt+1,!0)===1?Et:gt),Mt[xt]=Qt._level,Qt._override&&St(xt,Qt._override);var mn=(sn===Et?cn:rn)(Qt._level);mn<=Bt&&Cn===0&&Tn===0?(Xn++,hn.push({_level:mn,_override:0,_isolate:1,_isolInitIndex:xt})):Cn++}else if(sn&Dt){if(Cn>0)Cn--;else if(Xn>0){for(Tn=0;!hn[hn.length-1]._isolate;)hn.pop();var un=hn[hn.length-1]._isolInitIndex;un!=null&&(Ft.set(un,xt),Ft.set(xt,un)),hn.pop(),Xn--}Qt=hn[hn.length-1],Mt[xt]=Qt._level,Qt._override&&St(xt,Qt._override)}else sn&st?(Cn===0&&(Tn>0?Tn--:!Qt._isolate&&hn.length>1&&(hn.pop(),Qt=hn[hn.length-1])),Mt[xt]=Qt._level):sn&at&&(Mt[xt]=$t.level);else Mt[xt]=Qt._level,Qt._override&&sn!==rt&&St(xt,Qt._override)}for(var Un=[],Hn=null,Pn=$t.start;Pn<=$t.end;Pn++){var xn=Qe[Pn];if(!(xn&pe)){var wn=Mt[Pn],Fn=xn&ue,_n=xn===Dt;Hn&&wn===Hn._level?(Hn._end=Pn,Hn._endsWithIsolInit=Fn):Un.push(Hn={_start:Pn,_end:Pn,_level:wn,_startsWithPDI:_n,_endsWithIsolInit:Fn})}}for(var On=[],Bn=0;Bn<Un.length;Bn++){var In=Un[Bn];if(!In._startsWithPDI||In._startsWithPDI&&!Ft.has(In._start)){for(var Ri=[Hn=In],qn=void 0;Hn&&Hn._endsWithIsolInit&&(qn=Ft.get(Hn._end))!=null;)for(var ti=Bn+1;ti<Un.length;ti++)if(Un[ti]._start===qn){Ri.push(Hn=Un[ti]);break}for(var si=[],$n=0;$n<Ri.length;$n++)for(var gi=Ri[$n],oi=gi._start;oi<=gi._end;oi++)si.push(oi);for(var or=Mt[si[0]],Ei=$t.level,vi=si[0]-1;vi>=0;vi--)if(!(Qe[vi]&pe)){Ei=Mt[vi];break}var pr=si[si.length-1],qi=Mt[pr],Di=$t.level;if(!(Qe[pr]&ue)){for(var it=pr+1;it<=$t.end;it++)if(!(Qe[it]&pe)){Di=Mt[it];break}}On.push({_seqIndices:si,_sosType:Math.max(Ei,or)%2?We:ke,_eosType:Math.max(Di,qi)%2?We:ke})}}for(var Ot=0;Ot<On.length;Ot++){var jt=On[Ot],Ct=jt._seqIndices,Lt=jt._sosType,pn=jt._eosType,En=Mt[Ct[0]]&1?We:ke;if(ct.get(lt))for(var Rn=0;Rn<Ct.length;Rn++){var Dn=Ct[Rn];if(Qe[Dn]&lt){for(var Vn=Lt,zn=Rn-1;zn>=0;zn--)if(!(Qe[Ct[zn]]&pe)){Vn=Qe[Ct[zn]];break}St(Dn,Vn&(ue|Dt)?Ye:Vn)}}if(ct.get(je))for(var Gn=0;Gn<Ct.length;Gn++){var ni=Ct[Gn];if(Qe[ni]&je)for(var xi=Gn-1;xi>=-1;xi--){var Vi=xi===-1?Lt:Qe[Ct[xi]];if(Vi&fe){Vi===_t&&St(ni,Ze);break}}}if(ct.get(_t))for(var di=0;di<Ct.length;di++){var yi=Ct[di];Qe[yi]&_t&&St(yi,We)}if(ct.get(He)||ct.get(nt))for(var jn=1;jn<Ct.length-1;jn++){var ki=Ct[jn];if(Qe[ki]&(He|nt)){for(var hi=0,mr=0,ca=jn-1;ca>=0&&(hi=Qe[Ct[ca]],!!(hi&pe));ca--);for(var Ui=jn+1;Ui<Ct.length&&(mr=Qe[Ct[Ui]],!!(mr&pe));Ui++);hi===mr&&(Qe[ki]===He?hi===je:hi&(je|Ze))&&St(ki,hi)}}if(ct.get(je))for(var gr=0;gr<Ct.length;gr++){var Pi=Ct[gr];if(Qe[Pi]&je){for(var lr=gr-1;lr>=0&&Qe[Ct[lr]]&(tt|pe);lr--)St(Ct[lr],je);for(gr++;gr<Ct.length&&Qe[Ct[gr]]&(tt|pe|je);gr++)Qe[Ct[gr]]!==je&&St(Ct[gr],je)}}if(ct.get(tt)||ct.get(He)||ct.get(nt))for(var Yi=0;Yi<Ct.length;Yi++){var vr=Ct[Yi];if(Qe[vr]&(tt|He|nt)){St(vr,Ye);for(var rr=Yi-1;rr>=0&&Qe[Ct[rr]]&pe;rr--)St(Ct[rr],Ye);for(var Tr=Yi+1;Tr<Ct.length&&Qe[Ct[Tr]]&pe;Tr++)St(Ct[Tr],Ye)}}if(ct.get(je))for(var ua=0,mo=Lt;ua<Ct.length;ua++){var go=Ct[ua],vo=Qe[go];vo&je?mo===ke&&St(go,ke):vo&fe&&(mo=vo)}if(ct.get(de)){var Ns=We|je|Ze,oc=Ns|ke,vs=[];{for(var ns=[],rs=0;rs<Ct.length;rs++)if(Qe[Ct[rs]]&de){var fa=Rt[Ct[rs]],_s=void 0;if(Fe(fa)!==null)if(ns.length<63)ns.push({char:fa,seqIndex:rs});else break;else if((_s=$e(fa))!==null)for(var Fs=ns.length-1;Fs>=0;Fs--){var Is=ns[Fs].char;if(Is===_s||Is===$e(Ve(fa))||Fe(Ve(Is))===fa){vs.push([ns[Fs].seqIndex,rs]),ns.length=Fs;break}}}vs.sort(function(Gr,ha){return Gr[0]-ha[0]})}for(var Ko=0;Ko<vs.length;Ko++){for(var Gs=vs[Ko],Zr=Gs[0],zs=Gs[1],Hs=!1,_r=0,Jo=Zr+1;Jo<zs;Jo++){var Qo=Ct[Jo];if(Qe[Qo]&oc){Hs=!0;var bl=Qe[Qo]&Ns?We:ke;if(bl===En){_r=bl;break}}}if(Hs&&!_r){_r=Lt;for(var Ga=Zr-1;Ga>=0;Ga--){var Vs=Ct[Ga];if(Qe[Vs]&oc){var _o=Qe[Vs]&Ns?We:ke;_o!==En?_r=_o:_r=En;break}}}if(_r){if(Qe[Ct[Zr]]=Qe[Ct[zs]]=_r,_r!==En){for(var yr=Zr+1;yr<Ct.length;yr++)if(!(Qe[Ct[yr]]&pe)){Ee(Rt[Ct[yr]])&lt&&(Qe[Ct[yr]]=_r);break}}if(_r!==En){for(var da=zs+1;da<Ct.length;da++)if(!(Qe[Ct[da]]&pe)){Ee(Rt[Ct[da]])&lt&&(Qe[Ct[da]]=_r);break}}}}for(var ea=0;ea<Ct.length;ea++)if(Qe[Ct[ea]]&de){for(var ks=ea,El=ea,ba=Lt,za=ea-1;za>=0;za--)if(Qe[Ct[za]]&pe)ks=za;else{ba=Qe[Ct[za]]&Ns?We:ke;break}for(var $s=pn,Ha=ea+1;Ha<Ct.length;Ha++)if(Qe[Ct[Ha]]&(de|pe))El=Ha;else{$s=Qe[Ct[Ha]]&Ns?We:ke;break}for(var Zo=ks;Zo<=El;Zo++)Qe[Ct[Zo]]=ba===$s?ba:En;ea=El}}}for(var Wr=$t.start;Wr<=$t.end;Wr++){var $u=Mt[Wr],cr=Qe[Wr];if($u&1?cr&(ke|je|Ze)&&Mt[Wr]++:cr&We?Mt[Wr]++:cr&(Ze|je)&&(Mt[Wr]+=2),cr&pe&&(Mt[Wr]=Wr===0?$t.level:Mt[Wr-1]),Wr===$t.end||Ee(Rt[Wr])&(mt|at))for(var js=Wr;js>=0&&Ee(Rt[js])&me;js--)Mt[js]=$t.level}}return{levels:Mt,paragraphs:zt};function lc(Gr,ha){for(var Mr=Gr;Mr<Rt.length;Mr++){var Ea=Qe[Mr];if(Ea&(We|_t))return 1;if(Ea&(at|ke)||ha&&Ea===Dt)return 0;if(Ea&ue){var cc=qc(Mr);Mr=cc===-1?Rt.length:cc}}return 0}function qc(Gr){for(var ha=1,Mr=Gr+1;Mr<Rt.length;Mr++){var Ea=Qe[Mr];if(Ea&at)break;if(Ea&Dt){if(--ha===0)return Mr}else Ea&ue&&ha++}return-1}}var ln="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",tn;function Wt(){if(!tn){var Rt=Be(ln,!0),kt=Rt.map,Bt=Rt.reverseMap;Bt.forEach(function(Qe,Ke){kt.set(Ke,Qe)}),tn=kt}}function on(Rt){return Wt(),tn.get(Rt)||null}function pt(Rt,kt,Bt,Qe){var Ke=Rt.length;Bt=Math.max(0,Bt==null?0:+Bt),Qe=Math.min(Ke-1,Qe==null?Ke-1:+Qe);for(var ct=new Map,St=Bt;St<=Qe;St++)if(kt[St]&1){var Mt=on(Rt[St]);Mt!==null&&ct.set(St,Mt)}return ct}function Sn(Rt,kt,Bt,Qe){var Ke=Rt.length;Bt=Math.max(0,Bt==null?0:+Bt),Qe=Math.min(Ke-1,Qe==null?Ke-1:+Qe);var ct=[];return kt.paragraphs.forEach(function(St){var Mt=Math.max(Bt,St.start),Ft=Math.min(Qe,St.end);if(Mt<Ft){for(var zt=kt.levels.slice(Mt,Ft+1),$t=Ft;$t>=Mt&&Ee(Rt[$t])&me;$t--)zt[$t]=St.level;for(var Jt=St.level,Mn=1/0,rn=0;rn<zt.length;rn++){var cn=zt[rn];cn>Jt&&(Jt=cn),cn<Mn&&(Mn=cn|1)}for(var vn=Jt;vn>=Mn;vn--)for(var hn=0;hn<zt.length;hn++)if(zt[hn]>=vn){for(var Qt=hn;hn+1<zt.length&&zt[hn+1]>=vn;)hn++;hn>Qt&&ct.push([Qt+Mt,hn+Mt])}}}),ct}function Nt(Rt,kt,Bt,Qe){var Ke=ht(Rt,kt,Bt,Qe),ct=[].concat(Rt);return Ke.forEach(function(St,Mt){ct[Mt]=(kt.levels[St]&1?on(Rt[St]):null)||Rt[St]}),ct.join("")}function ht(Rt,kt,Bt,Qe){for(var Ke=Sn(Rt,kt,Bt,Qe),ct=[],St=0;St<Rt.length;St++)ct[St]=St;return Ke.forEach(function(Mt){for(var Ft=Mt[0],zt=Mt[1],$t=ct.slice(Ft,zt+1),Jt=$t.length;Jt--;)ct[zt-Jt]=$t[Jt]}),ct}return te.closingToOpeningBracket=$e,te.getBidiCharType=Ee,te.getBidiCharTypeName=Ae,te.getCanonicalBracket=Ve,te.getEmbeddingLevels=nn,te.getMirroredCharacter=on,te.getMirroredCharactersMap=pt,te.getReorderSegments=Sn,te.getReorderedIndices=ht,te.getReorderedString=Nt,te.openingToClosingBracket=Fe,Object.defineProperty(te,"__esModule",{value:!0}),te}({});return se}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(se){const te=/^[ \t]*#include +<([\w\d./]+)>/gm;function ae(oe,ce){let ue=ShaderChunk[ce];return ue?expandShaderIncludes(ue):oe}return se.replace(te,ae)}const _lut=[];for(let se=0;se<256;se++)_lut[se]=(se<16?"0":"")+se.toString(16);function generateUUID(){const se=Math.random()*4294967295|0,te=Math.random()*4294967295|0,ae=Math.random()*4294967295|0,oe=Math.random()*4294967295|0;return(_lut[se&255]+_lut[se>>8&255]+_lut[se>>16&255]+_lut[se>>24&255]+"-"+_lut[te&255]+_lut[te>>8&255]+"-"+_lut[te>>16&15|64]+_lut[te>>24&255]+"-"+_lut[ae&63|128]+_lut[ae>>8&255]+"-"+_lut[ae>>16&255]+_lut[ae>>24&255]+_lut[oe&255]+_lut[oe>>8&255]+_lut[oe>>16&255]+_lut[oe>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let se=arguments[0];for(let te=1,ae=arguments.length;te<ae;te++){let oe=arguments[te];if(oe)for(let ce in oe)Object.prototype.hasOwnProperty.call(oe,ce)&&(se[ce]=oe[ce])}return se},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(se,te){const ae=getKeyForOptions(te);let oe=CONSTRUCTOR_CACHE.get(se);if(oe||CONSTRUCTOR_CACHE.set(se,oe=Object.create(null)),oe[ae])return new oe[ae];const ce=`_onBeforeCompile${ae}`,ue=function(me,_e){se.onBeforeCompile.call(this,me,_e);const be=this.customProgramCacheKey()+"|"+me.vertexShader+"|"+me.fragmentShader;let Ee=SHADER_UPGRADE_CACHE[be];if(!Ee){const Ae=upgradeShaders(this,me,te,ae);Ee=SHADER_UPGRADE_CACHE[be]=Ae}me.vertexShader=Ee.vertexShader,me.fragmentShader=Ee.fragmentShader,assign$1(me.uniforms,this.uniforms),te.timeUniform&&(me.uniforms[te.timeUniform]={get value(){return Date.now()-epoch}}),this[ce]&&this[ce](me)},fe=function(){return de(te.chained?se:se.clone())},de=function(me){const _e=Object.create(me,pe);return Object.defineProperty(_e,"baseMaterial",{value:se}),Object.defineProperty(_e,"id",{value:materialInstanceId++}),_e.uuid=generateUUID(),_e.uniforms=assign$1({},me.uniforms,te.uniforms),_e.defines=assign$1({},me.defines,te.defines),_e.defines[`TROIKA_DERIVED_MATERIAL_${ae}`]="",_e.extensions=assign$1({},me.extensions,te.extensions),_e._listeners=void 0,_e},pe={constructor:{value:fe},isDerivedMaterial:{value:!0},type:{get:()=>se.type,set:me=>{se.type=me}},isDerivedFrom:{writable:!0,configurable:!0,value:function(me){const _e=this.baseMaterial;return me===_e||_e.isDerivedMaterial&&_e.isDerivedFrom(me)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return se.customProgramCacheKey()+"|"+ae}},onBeforeCompile:{get(){return ue},set(me){this[ce]=me}},copy:{writable:!0,configurable:!0,value:function(me){return se.copy.call(this,me),!se.isShaderMaterial&&!se.isDerivedMaterial&&(assign$1(this.extensions,me.extensions),assign$1(this.defines,me.defines),assign$1(this.uniforms,UniformsUtils.clone(me.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const me=new se.constructor;return de(me).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let me=this._depthMaterial;return me||(me=this._depthMaterial=createDerivedMaterial(se.isDerivedMaterial?se.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),te),me.defines.IS_DEPTH_MATERIAL="",me.uniforms=this.uniforms),me}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let me=this._distanceMaterial;return me||(me=this._distanceMaterial=createDerivedMaterial(se.isDerivedMaterial?se.getDistanceMaterial():new MeshDistanceMaterial,te),me.defines.IS_DISTANCE_MATERIAL="",me.uniforms=this.uniforms),me}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:me,_distanceMaterial:_e}=this;me&&me.dispose(),_e&&_e.dispose(),se.dispose.call(this)}}};return oe[ae]=fe,new fe}function upgradeShaders(se,{vertexShader:te,fragmentShader:ae},oe,ce){let{vertexDefs:ue,vertexMainIntro:fe,vertexMainOutro:de,vertexTransform:pe,fragmentDefs:me,fragmentMainIntro:_e,fragmentMainOutro:be,fragmentColorTransform:Ee,customRewriter:Ae,timeUniform:Re}=oe;if(ue=ue||"",fe=fe||"",de=de||"",me=me||"",_e=_e||"",be=be||"",(pe||Ae)&&(te=expandShaderIncludes(te)),(Ee||Ae)&&(ae=ae.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),ae=expandShaderIncludes(ae)),Ae){let Be=Ae({vertexShader:te,fragmentShader:ae});te=Be.vertexShader,ae=Be.fragmentShader}if(Ee){let Be=[];ae=ae.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,De=>(Be.push(De),"")),be=`${Ee}
${Be.join(`
`)}
${be}`}if(Re){const Be=`
uniform float ${Re};
`;ue=Be+ue,me=Be+me}return pe&&(te=`vec3 troika_position_${ce};
vec3 troika_normal_${ce};
vec2 troika_uv_${ce};
${te}
`,ue=`${ue}
void troikaVertexTransform${ce}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${pe}
}
`,fe=`
troika_position_${ce} = vec3(position);
troika_normal_${ce} = vec3(normal);
troika_uv_${ce} = vec2(uv);
troikaVertexTransform${ce}(troika_position_${ce}, troika_normal_${ce}, troika_uv_${ce});
${fe}
`,te=te.replace(/\b(position|normal|uv)\b/g,(Be,De,Oe,Pe)=>/\battribute\s+vec[23]\s+$/.test(Pe.substr(0,Oe))?De:`troika_${De}_${ce}`),se.map&&se.map.channel>0||(te=te.replace(/\bMAP_UV\b/g,`troika_uv_${ce}`))),te=injectIntoShaderCode(te,ce,ue,fe,de),ae=injectIntoShaderCode(ae,ce,me,_e,be),{vertexShader:te,fragmentShader:ae}}function injectIntoShaderCode(se,te,ae,oe,ce){return(oe||ce||ae)&&(se=se.replace(voidMainRegExp,`
${ae}
void troikaOrigMain${te}() {`),se+=`
void main() {
  ${oe}
  troikaOrigMain${te}();
  ${ce}
}`),se}function optionsJsonReplacer(se,te){return se==="uniforms"?void 0:typeof te=="function"?te.toString():te}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(se){const te=JSON.stringify(se,optionsJsonReplacer);let ae=optionsHashesToIds.get(te);return ae==null&&optionsHashesToIds.set(te,ae=++_idCtr),ae}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(se){var te={parse:function(ce){var ue=te._bin,fe=new Uint8Array(ce);if(ue.readASCII(fe,0,4)=="ttcf"){var de=4;ue.readUshort(fe,de),de+=2,ue.readUshort(fe,de),de+=2;var pe=ue.readUint(fe,de);de+=4;for(var me=[],_e=0;_e<pe;_e++){var be=ue.readUint(fe,de);de+=4,me.push(te._readFont(fe,be))}return me}return[te._readFont(fe,0)]},_readFont:function(ce,ue){var fe=te._bin,de=ue;fe.readFixed(ce,ue),ue+=4;var pe=fe.readUshort(ce,ue);ue+=2,fe.readUshort(ce,ue),ue+=2,fe.readUshort(ce,ue),ue+=2,fe.readUshort(ce,ue),ue+=2;for(var me=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],_e={_data:ce,_offset:de},be={},Ee=0;Ee<pe;Ee++){var Ae=fe.readASCII(ce,ue,4);ue+=4,fe.readUint(ce,ue),ue+=4;var Re=fe.readUint(ce,ue);ue+=4;var Be=fe.readUint(ce,ue);ue+=4,be[Ae]={offset:Re,length:Be}}for(Ee=0;Ee<me.length;Ee++){var De=me[Ee];be[De]&&(_e[De.trim()]=te[De.trim()].parse(ce,be[De].offset,be[De].length,_e))}return _e},_tabOffset:function(ce,ue,fe){for(var de=te._bin,pe=de.readUshort(ce,fe+4),me=fe+12,_e=0;_e<pe;_e++){var be=de.readASCII(ce,me,4);me+=4,de.readUint(ce,me),me+=4;var Ee=de.readUint(ce,me);if(me+=4,de.readUint(ce,me),me+=4,be==ue)return Ee}return 0}};te._bin={readFixed:function(ce,ue){return(ce[ue]<<8|ce[ue+1])+(ce[ue+2]<<8|ce[ue+3])/65540},readF2dot14:function(ce,ue){return te._bin.readShort(ce,ue)/16384},readInt:function(ce,ue){return te._bin._view(ce).getInt32(ue)},readInt8:function(ce,ue){return te._bin._view(ce).getInt8(ue)},readShort:function(ce,ue){return te._bin._view(ce).getInt16(ue)},readUshort:function(ce,ue){return te._bin._view(ce).getUint16(ue)},readUshorts:function(ce,ue,fe){for(var de=[],pe=0;pe<fe;pe++)de.push(te._bin.readUshort(ce,ue+2*pe));return de},readUint:function(ce,ue){return te._bin._view(ce).getUint32(ue)},readUint64:function(ce,ue){return 4294967296*te._bin.readUint(ce,ue)+te._bin.readUint(ce,ue+4)},readASCII:function(ce,ue,fe){for(var de="",pe=0;pe<fe;pe++)de+=String.fromCharCode(ce[ue+pe]);return de},readUnicode:function(ce,ue,fe){for(var de="",pe=0;pe<fe;pe++){var me=ce[ue++]<<8|ce[ue++];de+=String.fromCharCode(me)}return de},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(ce,ue,fe){var de=te._bin._tdec;return de&&ue==0&&fe==ce.length?de.decode(ce):te._bin.readASCII(ce,ue,fe)},readBytes:function(ce,ue,fe){for(var de=[],pe=0;pe<fe;pe++)de.push(ce[ue+pe]);return de},readASCIIArray:function(ce,ue,fe){for(var de=[],pe=0;pe<fe;pe++)de.push(String.fromCharCode(ce[ue+pe]));return de},_view:function(ce){return ce._dataView||(ce._dataView=ce.buffer?new DataView(ce.buffer,ce.byteOffset,ce.byteLength):new DataView(new Uint8Array(ce).buffer))}},te._lctf={},te._lctf.parse=function(ce,ue,fe,de,pe){var me=te._bin,_e={},be=ue;me.readFixed(ce,ue),ue+=4;var Ee=me.readUshort(ce,ue);ue+=2;var Ae=me.readUshort(ce,ue);ue+=2;var Re=me.readUshort(ce,ue);return ue+=2,_e.scriptList=te._lctf.readScriptList(ce,be+Ee),_e.featureList=te._lctf.readFeatureList(ce,be+Ae),_e.lookupList=te._lctf.readLookupList(ce,be+Re,pe),_e},te._lctf.readLookupList=function(ce,ue,fe){var de=te._bin,pe=ue,me=[],_e=de.readUshort(ce,ue);ue+=2;for(var be=0;be<_e;be++){var Ee=de.readUshort(ce,ue);ue+=2;var Ae=te._lctf.readLookupTable(ce,pe+Ee,fe);me.push(Ae)}return me},te._lctf.readLookupTable=function(ce,ue,fe){var de=te._bin,pe=ue,me={tabs:[]};me.ltype=de.readUshort(ce,ue),ue+=2,me.flag=de.readUshort(ce,ue),ue+=2;var _e=de.readUshort(ce,ue);ue+=2;for(var be=me.ltype,Ee=0;Ee<_e;Ee++){var Ae=de.readUshort(ce,ue);ue+=2;var Re=fe(ce,be,pe+Ae,me);me.tabs.push(Re)}return me},te._lctf.numOfOnes=function(ce){for(var ue=0,fe=0;fe<32;fe++)(ce>>>fe&1)!=0&&ue++;return ue},te._lctf.readClassDef=function(ce,ue){var fe=te._bin,de=[],pe=fe.readUshort(ce,ue);if(ue+=2,pe==1){var me=fe.readUshort(ce,ue);ue+=2;var _e=fe.readUshort(ce,ue);ue+=2;for(var be=0;be<_e;be++)de.push(me+be),de.push(me+be),de.push(fe.readUshort(ce,ue)),ue+=2}if(pe==2){var Ee=fe.readUshort(ce,ue);for(ue+=2,be=0;be<Ee;be++)de.push(fe.readUshort(ce,ue)),ue+=2,de.push(fe.readUshort(ce,ue)),ue+=2,de.push(fe.readUshort(ce,ue)),ue+=2}return de},te._lctf.getInterval=function(ce,ue){for(var fe=0;fe<ce.length;fe+=3){var de=ce[fe],pe=ce[fe+1];if(ce[fe+2],de<=ue&&ue<=pe)return fe}return-1},te._lctf.readCoverage=function(ce,ue){var fe=te._bin,de={};de.fmt=fe.readUshort(ce,ue),ue+=2;var pe=fe.readUshort(ce,ue);return ue+=2,de.fmt==1&&(de.tab=fe.readUshorts(ce,ue,pe)),de.fmt==2&&(de.tab=fe.readUshorts(ce,ue,3*pe)),de},te._lctf.coverageIndex=function(ce,ue){var fe=ce.tab;if(ce.fmt==1)return fe.indexOf(ue);if(ce.fmt==2){var de=te._lctf.getInterval(fe,ue);if(de!=-1)return fe[de+2]+(ue-fe[de])}return-1},te._lctf.readFeatureList=function(ce,ue){var fe=te._bin,de=ue,pe=[],me=fe.readUshort(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=fe.readASCII(ce,ue,4);ue+=4;var Ee=fe.readUshort(ce,ue);ue+=2;var Ae=te._lctf.readFeatureTable(ce,de+Ee);Ae.tag=be.trim(),pe.push(Ae)}return pe},te._lctf.readFeatureTable=function(ce,ue){var fe=te._bin,de=ue,pe={},me=fe.readUshort(ce,ue);ue+=2,me>0&&(pe.featureParams=de+me);var _e=fe.readUshort(ce,ue);ue+=2,pe.tab=[];for(var be=0;be<_e;be++)pe.tab.push(fe.readUshort(ce,ue+2*be));return pe},te._lctf.readScriptList=function(ce,ue){var fe=te._bin,de=ue,pe={},me=fe.readUshort(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=fe.readASCII(ce,ue,4);ue+=4;var Ee=fe.readUshort(ce,ue);ue+=2,pe[be.trim()]=te._lctf.readScriptTable(ce,de+Ee)}return pe},te._lctf.readScriptTable=function(ce,ue){var fe=te._bin,de=ue,pe={},me=fe.readUshort(ce,ue);ue+=2,me>0&&(pe.default=te._lctf.readLangSysTable(ce,de+me));var _e=fe.readUshort(ce,ue);ue+=2;for(var be=0;be<_e;be++){var Ee=fe.readASCII(ce,ue,4);ue+=4;var Ae=fe.readUshort(ce,ue);ue+=2,pe[Ee.trim()]=te._lctf.readLangSysTable(ce,de+Ae)}return pe},te._lctf.readLangSysTable=function(ce,ue){var fe=te._bin,de={};fe.readUshort(ce,ue),ue+=2,de.reqFeature=fe.readUshort(ce,ue),ue+=2;var pe=fe.readUshort(ce,ue);return ue+=2,de.features=fe.readUshorts(ce,ue,pe),de},te.CFF={},te.CFF.parse=function(ce,ue,fe){var de=te._bin;(ce=new Uint8Array(ce.buffer,ue,fe))[ue=0],ce[++ue],ce[++ue],ce[++ue],ue++;var pe=[];ue=te.CFF.readIndex(ce,ue,pe);for(var me=[],_e=0;_e<pe.length-1;_e++)me.push(de.readASCII(ce,ue+pe[_e],pe[_e+1]-pe[_e]));ue+=pe[pe.length-1];var be=[];ue=te.CFF.readIndex(ce,ue,be);var Ee=[];for(_e=0;_e<be.length-1;_e++)Ee.push(te.CFF.readDict(ce,ue+be[_e],ue+be[_e+1]));ue+=be[be.length-1];var Ae=Ee[0],Re=[];ue=te.CFF.readIndex(ce,ue,Re);var Be=[];for(_e=0;_e<Re.length-1;_e++)Be.push(de.readASCII(ce,ue+Re[_e],Re[_e+1]-Re[_e]));if(ue+=Re[Re.length-1],te.CFF.readSubrs(ce,ue,Ae),Ae.CharStrings){ue=Ae.CharStrings,Re=[],ue=te.CFF.readIndex(ce,ue,Re);var De=[];for(_e=0;_e<Re.length-1;_e++)De.push(de.readBytes(ce,ue+Re[_e],Re[_e+1]-Re[_e]));Ae.CharStrings=De}if(Ae.ROS){ue=Ae.FDArray;var Oe=[];for(ue=te.CFF.readIndex(ce,ue,Oe),Ae.FDArray=[],_e=0;_e<Oe.length-1;_e++){var Pe=te.CFF.readDict(ce,ue+Oe[_e],ue+Oe[_e+1]);te.CFF._readFDict(ce,Pe,Be),Ae.FDArray.push(Pe)}ue+=Oe[Oe.length-1],ue=Ae.FDSelect,Ae.FDSelect=[];var Ie=ce[ue];if(ue++,Ie!=3)throw Ie;var Fe=de.readUshort(ce,ue);for(ue+=2,_e=0;_e<Fe+1;_e++)Ae.FDSelect.push(de.readUshort(ce,ue),ce[ue+2]),ue+=3}return Ae.Encoding&&(Ae.Encoding=te.CFF.readEncoding(ce,Ae.Encoding,Ae.CharStrings.length)),Ae.charset&&(Ae.charset=te.CFF.readCharset(ce,Ae.charset,Ae.CharStrings.length)),te.CFF._readFDict(ce,Ae,Be),Ae},te.CFF._readFDict=function(ce,ue,fe){var de;for(var pe in ue.Private&&(de=ue.Private[1],ue.Private=te.CFF.readDict(ce,de,de+ue.Private[0]),ue.Private.Subrs&&te.CFF.readSubrs(ce,de+ue.Private.Subrs,ue.Private)),ue)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(pe)!=-1&&(ue[pe]=fe[ue[pe]-426+35])},te.CFF.readSubrs=function(ce,ue,fe){var de=te._bin,pe=[];ue=te.CFF.readIndex(ce,ue,pe);var me,_e=pe.length;me=_e<1240?107:_e<33900?1131:32768,fe.Bias=me,fe.Subrs=[];for(var be=0;be<pe.length-1;be++)fe.Subrs.push(de.readBytes(ce,ue+pe[be],pe[be+1]-pe[be]))},te.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],te.CFF.glyphByUnicode=function(ce,ue){for(var fe=0;fe<ce.charset.length;fe++)if(ce.charset[fe]==ue)return fe;return-1},te.CFF.glyphBySE=function(ce,ue){return ue<0||ue>255?-1:te.CFF.glyphByUnicode(ce,te.CFF.tableSE[ue])},te.CFF.readEncoding=function(ce,ue,fe){te._bin;var de=[".notdef"],pe=ce[ue];if(ue++,pe!=0)throw"error: unknown encoding format: "+pe;var me=ce[ue];ue++;for(var _e=0;_e<me;_e++)de.push(ce[ue+_e]);return de},te.CFF.readCharset=function(ce,ue,fe){var de=te._bin,pe=[".notdef"],me=ce[ue];if(ue++,me==0)for(var _e=0;_e<fe;_e++){var be=de.readUshort(ce,ue);ue+=2,pe.push(be)}else{if(me!=1&&me!=2)throw"error: format: "+me;for(;pe.length<fe;){be=de.readUshort(ce,ue),ue+=2;var Ee=0;for(me==1?(Ee=ce[ue],ue++):(Ee=de.readUshort(ce,ue),ue+=2),_e=0;_e<=Ee;_e++)pe.push(be),be++}}return pe},te.CFF.readIndex=function(ce,ue,fe){var de=te._bin,pe=de.readUshort(ce,ue)+1,me=ce[ue+=2];if(ue++,me==1)for(var _e=0;_e<pe;_e++)fe.push(ce[ue+_e]);else if(me==2)for(_e=0;_e<pe;_e++)fe.push(de.readUshort(ce,ue+2*_e));else if(me==3)for(_e=0;_e<pe;_e++)fe.push(16777215&de.readUint(ce,ue+3*_e-1));else if(pe!=1)throw"unsupported offset size: "+me+", count: "+pe;return(ue+=pe*me)-1},te.CFF.getCharString=function(ce,ue,fe){var de=te._bin,pe=ce[ue],me=ce[ue+1];ce[ue+2],ce[ue+3],ce[ue+4];var _e=1,be=null,Ee=null;pe<=20&&(be=pe,_e=1),pe==12&&(be=100*pe+me,_e=2),21<=pe&&pe<=27&&(be=pe,_e=1),pe==28&&(Ee=de.readShort(ce,ue+1),_e=3),29<=pe&&pe<=31&&(be=pe,_e=1),32<=pe&&pe<=246&&(Ee=pe-139,_e=1),247<=pe&&pe<=250&&(Ee=256*(pe-247)+me+108,_e=2),251<=pe&&pe<=254&&(Ee=256*-(pe-251)-me-108,_e=2),pe==255&&(Ee=de.readInt(ce,ue+1)/65535,_e=5),fe.val=Ee??"o"+be,fe.size=_e},te.CFF.readCharString=function(ce,ue,fe){for(var de=ue+fe,pe=te._bin,me=[];ue<de;){var _e=ce[ue],be=ce[ue+1];ce[ue+2],ce[ue+3],ce[ue+4];var Ee=1,Ae=null,Re=null;_e<=20&&(Ae=_e,Ee=1),_e==12&&(Ae=100*_e+be,Ee=2),_e!=19&&_e!=20||(Ae=_e,Ee=2),21<=_e&&_e<=27&&(Ae=_e,Ee=1),_e==28&&(Re=pe.readShort(ce,ue+1),Ee=3),29<=_e&&_e<=31&&(Ae=_e,Ee=1),32<=_e&&_e<=246&&(Re=_e-139,Ee=1),247<=_e&&_e<=250&&(Re=256*(_e-247)+be+108,Ee=2),251<=_e&&_e<=254&&(Re=256*-(_e-251)-be-108,Ee=2),_e==255&&(Re=pe.readInt(ce,ue+1)/65535,Ee=5),me.push(Re??"o"+Ae),ue+=Ee}return me},te.CFF.readDict=function(ce,ue,fe){for(var de=te._bin,pe={},me=[];ue<fe;){var _e=ce[ue],be=ce[ue+1];ce[ue+2],ce[ue+3],ce[ue+4];var Ee=1,Ae=null,Re=null;if(_e==28&&(Re=de.readShort(ce,ue+1),Ee=3),_e==29&&(Re=de.readInt(ce,ue+1),Ee=5),32<=_e&&_e<=246&&(Re=_e-139,Ee=1),247<=_e&&_e<=250&&(Re=256*(_e-247)+be+108,Ee=2),251<=_e&&_e<=254&&(Re=256*-(_e-251)-be-108,Ee=2),_e==255)throw Re=de.readInt(ce,ue+1)/65535,Ee=5,"unknown number";if(_e==30){var Be=[];for(Ee=1;;){var De=ce[ue+Ee];Ee++;var Oe=De>>4,Pe=15&De;if(Oe!=15&&Be.push(Oe),Pe!=15&&Be.push(Pe),Pe==15)break}for(var Ie="",Fe=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],$e=0;$e<Be.length;$e++)Ie+=Fe[Be[$e]];Re=parseFloat(Ie)}_e<=21&&(Ae=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][_e],Ee=1,_e==12&&(Ae=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][be],Ee=2)),Ae!=null?(pe[Ae]=me.length==1?me[0]:me,me=[]):me.push(Re),ue+=Ee}return pe},te.cmap={},te.cmap.parse=function(ce,ue,fe){ce=new Uint8Array(ce.buffer,ue,fe),ue=0;var de=te._bin,pe={};de.readUshort(ce,ue),ue+=2;var me=de.readUshort(ce,ue);ue+=2;var _e=[];pe.tables=[];for(var be=0;be<me;be++){var Ee=de.readUshort(ce,ue);ue+=2;var Ae=de.readUshort(ce,ue);ue+=2;var Re=de.readUint(ce,ue);ue+=4;var Be="p"+Ee+"e"+Ae,De=_e.indexOf(Re);if(De==-1){var Oe;De=pe.tables.length,_e.push(Re);var Pe=de.readUshort(ce,Re);Pe==0?Oe=te.cmap.parse0(ce,Re):Pe==4?Oe=te.cmap.parse4(ce,Re):Pe==6?Oe=te.cmap.parse6(ce,Re):Pe==12?Oe=te.cmap.parse12(ce,Re):console.debug("unknown format: "+Pe,Ee,Ae,Re),pe.tables.push(Oe)}if(pe[Be]!=null)throw"multiple tables for one platform+encoding";pe[Be]=De}return pe},te.cmap.parse0=function(ce,ue){var fe=te._bin,de={};de.format=fe.readUshort(ce,ue),ue+=2;var pe=fe.readUshort(ce,ue);ue+=2,fe.readUshort(ce,ue),ue+=2,de.map=[];for(var me=0;me<pe-6;me++)de.map.push(ce[ue+me]);return de},te.cmap.parse4=function(ce,ue){var fe=te._bin,de=ue,pe={};pe.format=fe.readUshort(ce,ue),ue+=2;var me=fe.readUshort(ce,ue);ue+=2,fe.readUshort(ce,ue),ue+=2;var _e=fe.readUshort(ce,ue);ue+=2;var be=_e/2;pe.searchRange=fe.readUshort(ce,ue),ue+=2,pe.entrySelector=fe.readUshort(ce,ue),ue+=2,pe.rangeShift=fe.readUshort(ce,ue),ue+=2,pe.endCount=fe.readUshorts(ce,ue,be),ue+=2*be,ue+=2,pe.startCount=fe.readUshorts(ce,ue,be),ue+=2*be,pe.idDelta=[];for(var Ee=0;Ee<be;Ee++)pe.idDelta.push(fe.readShort(ce,ue)),ue+=2;for(pe.idRangeOffset=fe.readUshorts(ce,ue,be),ue+=2*be,pe.glyphIdArray=[];ue<de+me;)pe.glyphIdArray.push(fe.readUshort(ce,ue)),ue+=2;return pe},te.cmap.parse6=function(ce,ue){var fe=te._bin,de={};de.format=fe.readUshort(ce,ue),ue+=2,fe.readUshort(ce,ue),ue+=2,fe.readUshort(ce,ue),ue+=2,de.firstCode=fe.readUshort(ce,ue),ue+=2;var pe=fe.readUshort(ce,ue);ue+=2,de.glyphIdArray=[];for(var me=0;me<pe;me++)de.glyphIdArray.push(fe.readUshort(ce,ue)),ue+=2;return de},te.cmap.parse12=function(ce,ue){var fe=te._bin,de={};de.format=fe.readUshort(ce,ue),ue+=2,ue+=2,fe.readUint(ce,ue),ue+=4,fe.readUint(ce,ue),ue+=4;var pe=fe.readUint(ce,ue);ue+=4,de.groups=[];for(var me=0;me<pe;me++){var _e=ue+12*me,be=fe.readUint(ce,_e+0),Ee=fe.readUint(ce,_e+4),Ae=fe.readUint(ce,_e+8);de.groups.push([be,Ee,Ae])}return de},te.glyf={},te.glyf.parse=function(ce,ue,fe,de){for(var pe=[],me=0;me<de.maxp.numGlyphs;me++)pe.push(null);return pe},te.glyf._parseGlyf=function(ce,ue){var fe=te._bin,de=ce._data,pe=te._tabOffset(de,"glyf",ce._offset)+ce.loca[ue];if(ce.loca[ue]==ce.loca[ue+1])return null;var me={};if(me.noc=fe.readShort(de,pe),pe+=2,me.xMin=fe.readShort(de,pe),pe+=2,me.yMin=fe.readShort(de,pe),pe+=2,me.xMax=fe.readShort(de,pe),pe+=2,me.yMax=fe.readShort(de,pe),pe+=2,me.xMin>=me.xMax||me.yMin>=me.yMax)return null;if(me.noc>0){me.endPts=[];for(var _e=0;_e<me.noc;_e++)me.endPts.push(fe.readUshort(de,pe)),pe+=2;var be=fe.readUshort(de,pe);if(pe+=2,de.length-pe<be)return null;me.instructions=fe.readBytes(de,pe,be),pe+=be;var Ee=me.endPts[me.noc-1]+1;for(me.flags=[],_e=0;_e<Ee;_e++){var Ae=de[pe];if(pe++,me.flags.push(Ae),(8&Ae)!=0){var Re=de[pe];pe++;for(var Be=0;Be<Re;Be++)me.flags.push(Ae),_e++}}for(me.xs=[],_e=0;_e<Ee;_e++){var De=(2&me.flags[_e])!=0,Oe=(16&me.flags[_e])!=0;De?(me.xs.push(Oe?de[pe]:-de[pe]),pe++):Oe?me.xs.push(0):(me.xs.push(fe.readShort(de,pe)),pe+=2)}for(me.ys=[],_e=0;_e<Ee;_e++)De=(4&me.flags[_e])!=0,Oe=(32&me.flags[_e])!=0,De?(me.ys.push(Oe?de[pe]:-de[pe]),pe++):Oe?me.ys.push(0):(me.ys.push(fe.readShort(de,pe)),pe+=2);var Pe=0,Ie=0;for(_e=0;_e<Ee;_e++)Pe+=me.xs[_e],Ie+=me.ys[_e],me.xs[_e]=Pe,me.ys[_e]=Ie}else{var Fe;me.parts=[];do{Fe=fe.readUshort(de,pe),pe+=2;var $e={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(me.parts.push($e),$e.glyphIndex=fe.readUshort(de,pe),pe+=2,1&Fe){var Ve=fe.readShort(de,pe);pe+=2;var ke=fe.readShort(de,pe);pe+=2}else Ve=fe.readInt8(de,pe),pe++,ke=fe.readInt8(de,pe),pe++;2&Fe?($e.m.tx=Ve,$e.m.ty=ke):($e.p1=Ve,$e.p2=ke),8&Fe?($e.m.a=$e.m.d=fe.readF2dot14(de,pe),pe+=2):64&Fe?($e.m.a=fe.readF2dot14(de,pe),pe+=2,$e.m.d=fe.readF2dot14(de,pe),pe+=2):128&Fe&&($e.m.a=fe.readF2dot14(de,pe),pe+=2,$e.m.b=fe.readF2dot14(de,pe),pe+=2,$e.m.c=fe.readF2dot14(de,pe),pe+=2,$e.m.d=fe.readF2dot14(de,pe),pe+=2)}while(32&Fe);if(256&Fe){var We=fe.readUshort(de,pe);for(pe+=2,me.instr=[],_e=0;_e<We;_e++)me.instr.push(de[pe]),pe++}}return me},te.GDEF={},te.GDEF.parse=function(ce,ue,fe,de){var pe=ue;ue+=4;var me=te._bin.readUshort(ce,ue);return{glyphClassDef:me===0?null:te._lctf.readClassDef(ce,pe+me)}},te.GPOS={},te.GPOS.parse=function(ce,ue,fe,de){return te._lctf.parse(ce,ue,fe,de,te.GPOS.subt)},te.GPOS.subt=function(ce,ue,fe,de){var pe=te._bin,me=fe,_e={};if(_e.fmt=pe.readUshort(ce,fe),fe+=2,ue==1||ue==2||ue==3||ue==7||ue==8&&_e.fmt<=2){var be=pe.readUshort(ce,fe);fe+=2,_e.coverage=te._lctf.readCoverage(ce,be+me)}if(ue==1&&_e.fmt==1){var Ee=pe.readUshort(ce,fe);fe+=2,Ee!=0&&(_e.pos=te.GPOS.readValueRecord(ce,fe,Ee))}else if(ue==2&&_e.fmt>=1&&_e.fmt<=2){Ee=pe.readUshort(ce,fe),fe+=2;var Ae=pe.readUshort(ce,fe);fe+=2;var Re=te._lctf.numOfOnes(Ee),Be=te._lctf.numOfOnes(Ae);if(_e.fmt==1){_e.pairsets=[];var De=pe.readUshort(ce,fe);fe+=2;for(var Oe=0;Oe<De;Oe++){var Pe=me+pe.readUshort(ce,fe);fe+=2;var Ie=pe.readUshort(ce,Pe);Pe+=2;for(var Fe=[],$e=0;$e<Ie;$e++){var Ve=pe.readUshort(ce,Pe);Pe+=2,Ee!=0&&(Ze=te.GPOS.readValueRecord(ce,Pe,Ee),Pe+=2*Re),Ae!=0&&(nt=te.GPOS.readValueRecord(ce,Pe,Ae),Pe+=2*Be),Fe.push({gid2:Ve,val1:Ze,val2:nt})}_e.pairsets.push(Fe)}}if(_e.fmt==2){var ke=pe.readUshort(ce,fe);fe+=2;var We=pe.readUshort(ce,fe);fe+=2;var je=pe.readUshort(ce,fe);fe+=2;var He=pe.readUshort(ce,fe);for(fe+=2,_e.classDef1=te._lctf.readClassDef(ce,me+ke),_e.classDef2=te._lctf.readClassDef(ce,me+We),_e.matrix=[],Oe=0;Oe<je;Oe++){var tt=[];for($e=0;$e<He;$e++){var Ze=null,nt=null;Ee!=0&&(Ze=te.GPOS.readValueRecord(ce,fe,Ee),fe+=2*Re),Ae!=0&&(nt=te.GPOS.readValueRecord(ce,fe,Ae),fe+=2*Be),tt.push({val1:Ze,val2:nt})}_e.matrix.push(tt)}}}else if(ue==4&&_e.fmt==1)_e.markCoverage=te._lctf.readCoverage(ce,pe.readUshort(ce,fe)+me),_e.baseCoverage=te._lctf.readCoverage(ce,pe.readUshort(ce,fe+2)+me),_e.markClassCount=pe.readUshort(ce,fe+4),_e.markArray=te.GPOS.readMarkArray(ce,pe.readUshort(ce,fe+6)+me),_e.baseArray=te.GPOS.readBaseArray(ce,pe.readUshort(ce,fe+8)+me,_e.markClassCount);else if(ue==6&&_e.fmt==1)_e.mark1Coverage=te._lctf.readCoverage(ce,pe.readUshort(ce,fe)+me),_e.mark2Coverage=te._lctf.readCoverage(ce,pe.readUshort(ce,fe+2)+me),_e.markClassCount=pe.readUshort(ce,fe+4),_e.mark1Array=te.GPOS.readMarkArray(ce,pe.readUshort(ce,fe+6)+me),_e.mark2Array=te.GPOS.readBaseArray(ce,pe.readUshort(ce,fe+8)+me,_e.markClassCount);else{if(ue==9&&_e.fmt==1){var at=pe.readUshort(ce,fe);fe+=2;var mt=pe.readUint(ce,fe);if(fe+=4,de.ltype==9)de.ltype=at;else if(de.ltype!=at)throw"invalid extension substitution";return te.GPOS.subt(ce,de.ltype,me+mt)}console.debug("unsupported GPOS table LookupType",ue,"format",_e.fmt)}return _e},te.GPOS.readValueRecord=function(ce,ue,fe){var de=te._bin,pe=[];return pe.push(1&fe?de.readShort(ce,ue):0),ue+=1&fe?2:0,pe.push(2&fe?de.readShort(ce,ue):0),ue+=2&fe?2:0,pe.push(4&fe?de.readShort(ce,ue):0),ue+=4&fe?2:0,pe.push(8&fe?de.readShort(ce,ue):0),ue+=8&fe?2:0,pe},te.GPOS.readBaseArray=function(ce,ue,fe){var de=te._bin,pe=[],me=ue,_e=de.readUshort(ce,ue);ue+=2;for(var be=0;be<_e;be++){for(var Ee=[],Ae=0;Ae<fe;Ae++)Ee.push(te.GPOS.readAnchorRecord(ce,me+de.readUshort(ce,ue))),ue+=2;pe.push(Ee)}return pe},te.GPOS.readMarkArray=function(ce,ue){var fe=te._bin,de=[],pe=ue,me=fe.readUshort(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=te.GPOS.readAnchorRecord(ce,fe.readUshort(ce,ue+2)+pe);be.markClass=fe.readUshort(ce,ue),de.push(be),ue+=4}return de},te.GPOS.readAnchorRecord=function(ce,ue){var fe=te._bin,de={};return de.fmt=fe.readUshort(ce,ue),de.x=fe.readShort(ce,ue+2),de.y=fe.readShort(ce,ue+4),de},te.GSUB={},te.GSUB.parse=function(ce,ue,fe,de){return te._lctf.parse(ce,ue,fe,de,te.GSUB.subt)},te.GSUB.subt=function(ce,ue,fe,de){var pe=te._bin,me=fe,_e={};if(_e.fmt=pe.readUshort(ce,fe),fe+=2,ue!=1&&ue!=2&&ue!=4&&ue!=5&&ue!=6)return null;if(ue==1||ue==2||ue==4||ue==5&&_e.fmt<=2||ue==6&&_e.fmt<=2){var be=pe.readUshort(ce,fe);fe+=2,_e.coverage=te._lctf.readCoverage(ce,me+be)}if(ue==1&&_e.fmt>=1&&_e.fmt<=2){if(_e.fmt==1)_e.delta=pe.readShort(ce,fe),fe+=2;else if(_e.fmt==2){var Ee=pe.readUshort(ce,fe);fe+=2,_e.newg=pe.readUshorts(ce,fe,Ee),fe+=2*_e.newg.length}}else if(ue==2&&_e.fmt==1){Ee=pe.readUshort(ce,fe),fe+=2,_e.seqs=[];for(var Ae=0;Ae<Ee;Ae++){var Re=pe.readUshort(ce,fe)+me;fe+=2;var Be=pe.readUshort(ce,Re);_e.seqs.push(pe.readUshorts(ce,Re+2,Be))}}else if(ue==4)for(_e.vals=[],Ee=pe.readUshort(ce,fe),fe+=2,Ae=0;Ae<Ee;Ae++){var De=pe.readUshort(ce,fe);fe+=2,_e.vals.push(te.GSUB.readLigatureSet(ce,me+De))}else if(ue==5&&_e.fmt==2){if(_e.fmt==2){var Oe=pe.readUshort(ce,fe);fe+=2,_e.cDef=te._lctf.readClassDef(ce,me+Oe),_e.scset=[];var Pe=pe.readUshort(ce,fe);for(fe+=2,Ae=0;Ae<Pe;Ae++){var Ie=pe.readUshort(ce,fe);fe+=2,_e.scset.push(Ie==0?null:te.GSUB.readSubClassSet(ce,me+Ie))}}}else if(ue==6&&_e.fmt==3){if(_e.fmt==3){for(Ae=0;Ae<3;Ae++){Ee=pe.readUshort(ce,fe),fe+=2;for(var Fe=[],$e=0;$e<Ee;$e++)Fe.push(te._lctf.readCoverage(ce,me+pe.readUshort(ce,fe+2*$e)));fe+=2*Ee,Ae==0&&(_e.backCvg=Fe),Ae==1&&(_e.inptCvg=Fe),Ae==2&&(_e.ahedCvg=Fe)}Ee=pe.readUshort(ce,fe),fe+=2,_e.lookupRec=te.GSUB.readSubstLookupRecords(ce,fe,Ee)}}else{if(ue==7&&_e.fmt==1){var Ve=pe.readUshort(ce,fe);fe+=2;var ke=pe.readUint(ce,fe);if(fe+=4,de.ltype==9)de.ltype=Ve;else if(de.ltype!=Ve)throw"invalid extension substitution";return te.GSUB.subt(ce,de.ltype,me+ke)}console.debug("unsupported GSUB table LookupType",ue,"format",_e.fmt)}return _e},te.GSUB.readSubClassSet=function(ce,ue){var fe=te._bin.readUshort,de=ue,pe=[],me=fe(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=fe(ce,ue);ue+=2,pe.push(te.GSUB.readSubClassRule(ce,de+be))}return pe},te.GSUB.readSubClassRule=function(ce,ue){var fe=te._bin.readUshort,de={},pe=fe(ce,ue),me=fe(ce,ue+=2);ue+=2,de.input=[];for(var _e=0;_e<pe-1;_e++)de.input.push(fe(ce,ue)),ue+=2;return de.substLookupRecords=te.GSUB.readSubstLookupRecords(ce,ue,me),de},te.GSUB.readSubstLookupRecords=function(ce,ue,fe){for(var de=te._bin.readUshort,pe=[],me=0;me<fe;me++)pe.push(de(ce,ue),de(ce,ue+2)),ue+=4;return pe},te.GSUB.readChainSubClassSet=function(ce,ue){var fe=te._bin,de=ue,pe=[],me=fe.readUshort(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=fe.readUshort(ce,ue);ue+=2,pe.push(te.GSUB.readChainSubClassRule(ce,de+be))}return pe},te.GSUB.readChainSubClassRule=function(ce,ue){for(var fe=te._bin,de={},pe=["backtrack","input","lookahead"],me=0;me<pe.length;me++){var _e=fe.readUshort(ce,ue);ue+=2,me==1&&_e--,de[pe[me]]=fe.readUshorts(ce,ue,_e),ue+=2*de[pe[me]].length}return _e=fe.readUshort(ce,ue),ue+=2,de.subst=fe.readUshorts(ce,ue,2*_e),ue+=2*de.subst.length,de},te.GSUB.readLigatureSet=function(ce,ue){var fe=te._bin,de=ue,pe=[],me=fe.readUshort(ce,ue);ue+=2;for(var _e=0;_e<me;_e++){var be=fe.readUshort(ce,ue);ue+=2,pe.push(te.GSUB.readLigature(ce,de+be))}return pe},te.GSUB.readLigature=function(ce,ue){var fe=te._bin,de={chain:[]};de.nglyph=fe.readUshort(ce,ue),ue+=2;var pe=fe.readUshort(ce,ue);ue+=2;for(var me=0;me<pe-1;me++)de.chain.push(fe.readUshort(ce,ue)),ue+=2;return de},te.head={},te.head.parse=function(ce,ue,fe){var de=te._bin,pe={};return de.readFixed(ce,ue),ue+=4,pe.fontRevision=de.readFixed(ce,ue),ue+=4,de.readUint(ce,ue),ue+=4,de.readUint(ce,ue),ue+=4,pe.flags=de.readUshort(ce,ue),ue+=2,pe.unitsPerEm=de.readUshort(ce,ue),ue+=2,pe.created=de.readUint64(ce,ue),ue+=8,pe.modified=de.readUint64(ce,ue),ue+=8,pe.xMin=de.readShort(ce,ue),ue+=2,pe.yMin=de.readShort(ce,ue),ue+=2,pe.xMax=de.readShort(ce,ue),ue+=2,pe.yMax=de.readShort(ce,ue),ue+=2,pe.macStyle=de.readUshort(ce,ue),ue+=2,pe.lowestRecPPEM=de.readUshort(ce,ue),ue+=2,pe.fontDirectionHint=de.readShort(ce,ue),ue+=2,pe.indexToLocFormat=de.readShort(ce,ue),ue+=2,pe.glyphDataFormat=de.readShort(ce,ue),ue+=2,pe},te.hhea={},te.hhea.parse=function(ce,ue,fe){var de=te._bin,pe={};return de.readFixed(ce,ue),ue+=4,pe.ascender=de.readShort(ce,ue),ue+=2,pe.descender=de.readShort(ce,ue),ue+=2,pe.lineGap=de.readShort(ce,ue),ue+=2,pe.advanceWidthMax=de.readUshort(ce,ue),ue+=2,pe.minLeftSideBearing=de.readShort(ce,ue),ue+=2,pe.minRightSideBearing=de.readShort(ce,ue),ue+=2,pe.xMaxExtent=de.readShort(ce,ue),ue+=2,pe.caretSlopeRise=de.readShort(ce,ue),ue+=2,pe.caretSlopeRun=de.readShort(ce,ue),ue+=2,pe.caretOffset=de.readShort(ce,ue),ue+=2,ue+=8,pe.metricDataFormat=de.readShort(ce,ue),ue+=2,pe.numberOfHMetrics=de.readUshort(ce,ue),ue+=2,pe},te.hmtx={},te.hmtx.parse=function(ce,ue,fe,de){for(var pe=te._bin,me={aWidth:[],lsBearing:[]},_e=0,be=0,Ee=0;Ee<de.maxp.numGlyphs;Ee++)Ee<de.hhea.numberOfHMetrics&&(_e=pe.readUshort(ce,ue),ue+=2,be=pe.readShort(ce,ue),ue+=2),me.aWidth.push(_e),me.lsBearing.push(be);return me},te.kern={},te.kern.parse=function(ce,ue,fe,de){var pe=te._bin,me=pe.readUshort(ce,ue);if(ue+=2,me==1)return te.kern.parseV1(ce,ue-2,fe,de);var _e=pe.readUshort(ce,ue);ue+=2;for(var be={glyph1:[],rval:[]},Ee=0;Ee<_e;Ee++){ue+=2,fe=pe.readUshort(ce,ue),ue+=2;var Ae=pe.readUshort(ce,ue);ue+=2;var Re=Ae>>>8;if((Re&=15)!=0)throw"unknown kern table format: "+Re;ue=te.kern.readFormat0(ce,ue,be)}return be},te.kern.parseV1=function(ce,ue,fe,de){var pe=te._bin;pe.readFixed(ce,ue),ue+=4;var me=pe.readUint(ce,ue);ue+=4;for(var _e={glyph1:[],rval:[]},be=0;be<me;be++){pe.readUint(ce,ue),ue+=4;var Ee=pe.readUshort(ce,ue);ue+=2,pe.readUshort(ce,ue),ue+=2;var Ae=Ee>>>8;if((Ae&=15)!=0)throw"unknown kern table format: "+Ae;ue=te.kern.readFormat0(ce,ue,_e)}return _e},te.kern.readFormat0=function(ce,ue,fe){var de=te._bin,pe=-1,me=de.readUshort(ce,ue);ue+=2,de.readUshort(ce,ue),ue+=2,de.readUshort(ce,ue),ue+=2,de.readUshort(ce,ue),ue+=2;for(var _e=0;_e<me;_e++){var be=de.readUshort(ce,ue);ue+=2;var Ee=de.readUshort(ce,ue);ue+=2;var Ae=de.readShort(ce,ue);ue+=2,be!=pe&&(fe.glyph1.push(be),fe.rval.push({glyph2:[],vals:[]}));var Re=fe.rval[fe.rval.length-1];Re.glyph2.push(Ee),Re.vals.push(Ae),pe=be}return ue},te.loca={},te.loca.parse=function(ce,ue,fe,de){var pe=te._bin,me=[],_e=de.head.indexToLocFormat,be=de.maxp.numGlyphs+1;if(_e==0)for(var Ee=0;Ee<be;Ee++)me.push(pe.readUshort(ce,ue+(Ee<<1))<<1);if(_e==1)for(Ee=0;Ee<be;Ee++)me.push(pe.readUint(ce,ue+(Ee<<2)));return me},te.maxp={},te.maxp.parse=function(ce,ue,fe){var de=te._bin,pe={},me=de.readUint(ce,ue);return ue+=4,pe.numGlyphs=de.readUshort(ce,ue),ue+=2,me==65536&&(pe.maxPoints=de.readUshort(ce,ue),ue+=2,pe.maxContours=de.readUshort(ce,ue),ue+=2,pe.maxCompositePoints=de.readUshort(ce,ue),ue+=2,pe.maxCompositeContours=de.readUshort(ce,ue),ue+=2,pe.maxZones=de.readUshort(ce,ue),ue+=2,pe.maxTwilightPoints=de.readUshort(ce,ue),ue+=2,pe.maxStorage=de.readUshort(ce,ue),ue+=2,pe.maxFunctionDefs=de.readUshort(ce,ue),ue+=2,pe.maxInstructionDefs=de.readUshort(ce,ue),ue+=2,pe.maxStackElements=de.readUshort(ce,ue),ue+=2,pe.maxSizeOfInstructions=de.readUshort(ce,ue),ue+=2,pe.maxComponentElements=de.readUshort(ce,ue),ue+=2,pe.maxComponentDepth=de.readUshort(ce,ue),ue+=2),pe},te.name={},te.name.parse=function(ce,ue,fe){var de=te._bin,pe={};de.readUshort(ce,ue),ue+=2;var me=de.readUshort(ce,ue);ue+=2,de.readUshort(ce,ue);for(var _e,be=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],Ee=ue+=2,Ae=0;Ae<me;Ae++){var Re=de.readUshort(ce,ue);ue+=2;var Be=de.readUshort(ce,ue);ue+=2;var De=de.readUshort(ce,ue);ue+=2;var Oe=de.readUshort(ce,ue);ue+=2;var Pe=de.readUshort(ce,ue);ue+=2;var Ie=de.readUshort(ce,ue);ue+=2;var Fe,$e=be[Oe],Ve=Ee+12*me+Ie;if(Re==0)Fe=de.readUnicode(ce,Ve,Pe/2);else if(Re==3&&Be==0)Fe=de.readUnicode(ce,Ve,Pe/2);else if(Be==0)Fe=de.readASCII(ce,Ve,Pe);else if(Be==1)Fe=de.readUnicode(ce,Ve,Pe/2);else if(Be==3)Fe=de.readUnicode(ce,Ve,Pe/2);else{if(Re!=1)throw"unknown encoding "+Be+", platformID: "+Re;Fe=de.readASCII(ce,Ve,Pe),console.debug("reading unknown MAC encoding "+Be+" as ASCII")}var ke="p"+Re+","+De.toString(16);pe[ke]==null&&(pe[ke]={}),pe[ke][$e!==void 0?$e:Oe]=Fe,pe[ke]._lang=De}for(var We in pe)if(pe[We].postScriptName!=null&&pe[We]._lang==1033)return pe[We];for(var We in pe)if(pe[We].postScriptName!=null&&pe[We]._lang==0)return pe[We];for(var We in pe)if(pe[We].postScriptName!=null&&pe[We]._lang==3084)return pe[We];for(var We in pe)if(pe[We].postScriptName!=null)return pe[We];for(var We in pe){_e=We;break}return console.debug("returning name table with languageID "+pe[_e]._lang),pe[_e]},te["OS/2"]={},te["OS/2"].parse=function(ce,ue,fe){var de=te._bin.readUshort(ce,ue);ue+=2;var pe={};if(de==0)te["OS/2"].version0(ce,ue,pe);else if(de==1)te["OS/2"].version1(ce,ue,pe);else if(de==2||de==3||de==4)te["OS/2"].version2(ce,ue,pe);else{if(de!=5)throw"unknown OS/2 table version: "+de;te["OS/2"].version5(ce,ue,pe)}return pe},te["OS/2"].version0=function(ce,ue,fe){var de=te._bin;return fe.xAvgCharWidth=de.readShort(ce,ue),ue+=2,fe.usWeightClass=de.readUshort(ce,ue),ue+=2,fe.usWidthClass=de.readUshort(ce,ue),ue+=2,fe.fsType=de.readUshort(ce,ue),ue+=2,fe.ySubscriptXSize=de.readShort(ce,ue),ue+=2,fe.ySubscriptYSize=de.readShort(ce,ue),ue+=2,fe.ySubscriptXOffset=de.readShort(ce,ue),ue+=2,fe.ySubscriptYOffset=de.readShort(ce,ue),ue+=2,fe.ySuperscriptXSize=de.readShort(ce,ue),ue+=2,fe.ySuperscriptYSize=de.readShort(ce,ue),ue+=2,fe.ySuperscriptXOffset=de.readShort(ce,ue),ue+=2,fe.ySuperscriptYOffset=de.readShort(ce,ue),ue+=2,fe.yStrikeoutSize=de.readShort(ce,ue),ue+=2,fe.yStrikeoutPosition=de.readShort(ce,ue),ue+=2,fe.sFamilyClass=de.readShort(ce,ue),ue+=2,fe.panose=de.readBytes(ce,ue,10),ue+=10,fe.ulUnicodeRange1=de.readUint(ce,ue),ue+=4,fe.ulUnicodeRange2=de.readUint(ce,ue),ue+=4,fe.ulUnicodeRange3=de.readUint(ce,ue),ue+=4,fe.ulUnicodeRange4=de.readUint(ce,ue),ue+=4,fe.achVendID=[de.readInt8(ce,ue),de.readInt8(ce,ue+1),de.readInt8(ce,ue+2),de.readInt8(ce,ue+3)],ue+=4,fe.fsSelection=de.readUshort(ce,ue),ue+=2,fe.usFirstCharIndex=de.readUshort(ce,ue),ue+=2,fe.usLastCharIndex=de.readUshort(ce,ue),ue+=2,fe.sTypoAscender=de.readShort(ce,ue),ue+=2,fe.sTypoDescender=de.readShort(ce,ue),ue+=2,fe.sTypoLineGap=de.readShort(ce,ue),ue+=2,fe.usWinAscent=de.readUshort(ce,ue),ue+=2,fe.usWinDescent=de.readUshort(ce,ue),ue+=2},te["OS/2"].version1=function(ce,ue,fe){var de=te._bin;return ue=te["OS/2"].version0(ce,ue,fe),fe.ulCodePageRange1=de.readUint(ce,ue),ue+=4,fe.ulCodePageRange2=de.readUint(ce,ue),ue+=4},te["OS/2"].version2=function(ce,ue,fe){var de=te._bin;return ue=te["OS/2"].version1(ce,ue,fe),fe.sxHeight=de.readShort(ce,ue),ue+=2,fe.sCapHeight=de.readShort(ce,ue),ue+=2,fe.usDefault=de.readUshort(ce,ue),ue+=2,fe.usBreak=de.readUshort(ce,ue),ue+=2,fe.usMaxContext=de.readUshort(ce,ue),ue+=2},te["OS/2"].version5=function(ce,ue,fe){var de=te._bin;return ue=te["OS/2"].version2(ce,ue,fe),fe.usLowerOpticalPointSize=de.readUshort(ce,ue),ue+=2,fe.usUpperOpticalPointSize=de.readUshort(ce,ue),ue+=2},te.post={},te.post.parse=function(ce,ue,fe){var de=te._bin,pe={};return pe.version=de.readFixed(ce,ue),ue+=4,pe.italicAngle=de.readFixed(ce,ue),ue+=4,pe.underlinePosition=de.readShort(ce,ue),ue+=2,pe.underlineThickness=de.readShort(ce,ue),ue+=2,pe},te==null&&(te={}),te.U==null&&(te.U={}),te.U.codeToGlyph=function(ce,ue){var fe=ce.cmap,de=-1;if(fe.p0e4!=null?de=fe.p0e4:fe.p3e1!=null?de=fe.p3e1:fe.p1e0!=null?de=fe.p1e0:fe.p0e3!=null&&(de=fe.p0e3),de==-1)throw"no familiar platform and encoding!";var pe=fe.tables[de];if(pe.format==0)return ue>=pe.map.length?0:pe.map[ue];if(pe.format==4){for(var me=-1,_e=0;_e<pe.endCount.length;_e++)if(ue<=pe.endCount[_e]){me=_e;break}return me==-1||pe.startCount[me]>ue?0:65535&(pe.idRangeOffset[me]!=0?pe.glyphIdArray[ue-pe.startCount[me]+(pe.idRangeOffset[me]>>1)-(pe.idRangeOffset.length-me)]:ue+pe.idDelta[me])}if(pe.format==12){if(ue>pe.groups[pe.groups.length-1][1])return 0;for(_e=0;_e<pe.groups.length;_e++){var be=pe.groups[_e];if(be[0]<=ue&&ue<=be[1])return be[2]+(ue-be[0])}return 0}throw"unknown cmap table format "+pe.format},te.U.glyphToPath=function(ce,ue){var fe={cmds:[],crds:[]};if(ce.SVG&&ce.SVG.entries[ue]){var de=ce.SVG.entries[ue];return de==null?fe:(typeof de=="string"&&(de=te.SVG.toPath(de),ce.SVG.entries[ue]=de),de)}if(ce.CFF){var pe={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:ce.CFF.Private?ce.CFF.Private.defaultWidthX:0,open:!1},me=ce.CFF,_e=ce.CFF.Private;if(me.ROS){for(var be=0;me.FDSelect[be+2]<=ue;)be+=2;_e=me.FDArray[me.FDSelect[be+1]].Private}te.U._drawCFF(ce.CFF.CharStrings[ue],pe,me,_e,fe)}else ce.glyf&&te.U._drawGlyf(ue,ce,fe);return fe},te.U._drawGlyf=function(ce,ue,fe){var de=ue.glyf[ce];de==null&&(de=ue.glyf[ce]=te.glyf._parseGlyf(ue,ce)),de!=null&&(de.noc>-1?te.U._simpleGlyph(de,fe):te.U._compoGlyph(de,ue,fe))},te.U._simpleGlyph=function(ce,ue){for(var fe=0;fe<ce.noc;fe++){for(var de=fe==0?0:ce.endPts[fe-1]+1,pe=ce.endPts[fe],me=de;me<=pe;me++){var _e=me==de?pe:me-1,be=me==pe?de:me+1,Ee=1&ce.flags[me],Ae=1&ce.flags[_e],Re=1&ce.flags[be],Be=ce.xs[me],De=ce.ys[me];if(me==de)if(Ee){if(!Ae){te.U.P.moveTo(ue,Be,De);continue}te.U.P.moveTo(ue,ce.xs[_e],ce.ys[_e])}else Ae?te.U.P.moveTo(ue,ce.xs[_e],ce.ys[_e]):te.U.P.moveTo(ue,(ce.xs[_e]+Be)/2,(ce.ys[_e]+De)/2);Ee?Ae&&te.U.P.lineTo(ue,Be,De):Re?te.U.P.qcurveTo(ue,Be,De,ce.xs[be],ce.ys[be]):te.U.P.qcurveTo(ue,Be,De,(Be+ce.xs[be])/2,(De+ce.ys[be])/2)}te.U.P.closePath(ue)}},te.U._compoGlyph=function(ce,ue,fe){for(var de=0;de<ce.parts.length;de++){var pe={cmds:[],crds:[]},me=ce.parts[de];te.U._drawGlyf(me.glyphIndex,ue,pe);for(var _e=me.m,be=0;be<pe.crds.length;be+=2){var Ee=pe.crds[be],Ae=pe.crds[be+1];fe.crds.push(Ee*_e.a+Ae*_e.b+_e.tx),fe.crds.push(Ee*_e.c+Ae*_e.d+_e.ty)}for(be=0;be<pe.cmds.length;be++)fe.cmds.push(pe.cmds[be])}},te.U._getGlyphClass=function(ce,ue){var fe=te._lctf.getInterval(ue,ce);return fe==-1?0:ue[fe+2]},te.U._applySubs=function(ce,ue,fe,de){for(var pe=ce.length-ue-1,me=0;me<fe.tabs.length;me++)if(fe.tabs[me]!=null){var _e,be=fe.tabs[me];if(!be.coverage||(_e=te._lctf.coverageIndex(be.coverage,ce[ue]))!=-1){if(fe.ltype==1)ce[ue],be.fmt==1?ce[ue]=ce[ue]+be.delta:ce[ue]=be.newg[_e];else if(fe.ltype==4)for(var Ee=be.vals[_e],Ae=0;Ae<Ee.length;Ae++){var Re=Ee[Ae],Be=Re.chain.length;if(!(Be>pe)){for(var De=!0,Oe=0,Pe=0;Pe<Be;Pe++){for(;ce[ue+Oe+(1+Pe)]==-1;)Oe++;Re.chain[Pe]!=ce[ue+Oe+(1+Pe)]&&(De=!1)}if(De){for(ce[ue]=Re.nglyph,Pe=0;Pe<Be+Oe;Pe++)ce[ue+Pe+1]=-1;break}}}else if(fe.ltype==5&&be.fmt==2)for(var Ie=te._lctf.getInterval(be.cDef,ce[ue]),Fe=be.cDef[Ie+2],$e=be.scset[Fe],Ve=0;Ve<$e.length;Ve++){var ke=$e[Ve],We=ke.input;if(!(We.length>pe)){for(De=!0,Pe=0;Pe<We.length;Pe++){var je=te._lctf.getInterval(be.cDef,ce[ue+1+Pe]);if(Ie==-1&&be.cDef[je+2]!=We[Pe]){De=!1;break}}if(De){var He=ke.substLookupRecords;for(Ae=0;Ae<He.length;Ae+=2)He[Ae],He[Ae+1]}}}else if(fe.ltype==6&&be.fmt==3){if(!te.U._glsCovered(ce,be.backCvg,ue-be.backCvg.length)||!te.U._glsCovered(ce,be.inptCvg,ue)||!te.U._glsCovered(ce,be.ahedCvg,ue+be.inptCvg.length))continue;var tt=be.lookupRec;for(Ve=0;Ve<tt.length;Ve+=2){Ie=tt[Ve];var Ze=de[tt[Ve+1]];te.U._applySubs(ce,ue+Ie,Ze,de)}}}}},te.U._glsCovered=function(ce,ue,fe){for(var de=0;de<ue.length;de++)if(te._lctf.coverageIndex(ue[de],ce[fe+de])==-1)return!1;return!0},te.U.glyphsToPath=function(ce,ue,fe){for(var de={cmds:[],crds:[]},pe=0,me=0;me<ue.length;me++){var _e=ue[me];if(_e!=-1){for(var be=me<ue.length-1&&ue[me+1]!=-1?ue[me+1]:0,Ee=te.U.glyphToPath(ce,_e),Ae=0;Ae<Ee.crds.length;Ae+=2)de.crds.push(Ee.crds[Ae]+pe),de.crds.push(Ee.crds[Ae+1]);for(fe&&de.cmds.push(fe),Ae=0;Ae<Ee.cmds.length;Ae++)de.cmds.push(Ee.cmds[Ae]);fe&&de.cmds.push("X"),pe+=ce.hmtx.aWidth[_e],me<ue.length-1&&(pe+=te.U.getPairAdjustment(ce,_e,be))}}return de},te.U.P={},te.U.P.moveTo=function(ce,ue,fe){ce.cmds.push("M"),ce.crds.push(ue,fe)},te.U.P.lineTo=function(ce,ue,fe){ce.cmds.push("L"),ce.crds.push(ue,fe)},te.U.P.curveTo=function(ce,ue,fe,de,pe,me,_e){ce.cmds.push("C"),ce.crds.push(ue,fe,de,pe,me,_e)},te.U.P.qcurveTo=function(ce,ue,fe,de,pe){ce.cmds.push("Q"),ce.crds.push(ue,fe,de,pe)},te.U.P.closePath=function(ce){ce.cmds.push("Z")},te.U._drawCFF=function(ce,ue,fe,de,pe){for(var me=ue.stack,_e=ue.nStems,be=ue.haveWidth,Ee=ue.width,Ae=ue.open,Re=0,Be=ue.x,De=ue.y,Oe=0,Pe=0,Ie=0,Fe=0,$e=0,Ve=0,ke=0,We=0,je=0,He=0,tt={val:0,size:0};Re<ce.length;){te.CFF.getCharString(ce,Re,tt);var Ze=tt.val;if(Re+=tt.size,Ze=="o1"||Ze=="o18")me.length%2!=0&&!be&&(Ee=me.shift()+de.nominalWidthX),_e+=me.length>>1,me.length=0,be=!0;else if(Ze=="o3"||Ze=="o23")me.length%2!=0&&!be&&(Ee=me.shift()+de.nominalWidthX),_e+=me.length>>1,me.length=0,be=!0;else if(Ze=="o4")me.length>1&&!be&&(Ee=me.shift()+de.nominalWidthX,be=!0),Ae&&te.U.P.closePath(pe),De+=me.pop(),te.U.P.moveTo(pe,Be,De),Ae=!0;else if(Ze=="o5")for(;me.length>0;)Be+=me.shift(),De+=me.shift(),te.U.P.lineTo(pe,Be,De);else if(Ze=="o6"||Ze=="o7")for(var nt=me.length,at=Ze=="o6",mt=0;mt<nt;mt++){var Ye=me.shift();at?Be+=Ye:De+=Ye,at=!at,te.U.P.lineTo(pe,Be,De)}else if(Ze=="o8"||Ze=="o24"){nt=me.length;for(var rt=0;rt+6<=nt;)Oe=Be+me.shift(),Pe=De+me.shift(),Ie=Oe+me.shift(),Fe=Pe+me.shift(),Be=Ie+me.shift(),De=Fe+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,Be,De),rt+=6;Ze=="o24"&&(Be+=me.shift(),De+=me.shift(),te.U.P.lineTo(pe,Be,De))}else{if(Ze=="o11")break;if(Ze=="o1234"||Ze=="o1235"||Ze=="o1236"||Ze=="o1237")Ze=="o1234"&&(Pe=De,Ie=(Oe=Be+me.shift())+me.shift(),He=Fe=Pe+me.shift(),Ve=Fe,We=De,Be=(ke=($e=(je=Ie+me.shift())+me.shift())+me.shift())+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,je,He),te.U.P.curveTo(pe,$e,Ve,ke,We,Be,De)),Ze=="o1235"&&(Oe=Be+me.shift(),Pe=De+me.shift(),Ie=Oe+me.shift(),Fe=Pe+me.shift(),je=Ie+me.shift(),He=Fe+me.shift(),$e=je+me.shift(),Ve=He+me.shift(),ke=$e+me.shift(),We=Ve+me.shift(),Be=ke+me.shift(),De=We+me.shift(),me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,je,He),te.U.P.curveTo(pe,$e,Ve,ke,We,Be,De)),Ze=="o1236"&&(Oe=Be+me.shift(),Pe=De+me.shift(),Ie=Oe+me.shift(),He=Fe=Pe+me.shift(),Ve=Fe,ke=($e=(je=Ie+me.shift())+me.shift())+me.shift(),We=Ve+me.shift(),Be=ke+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,je,He),te.U.P.curveTo(pe,$e,Ve,ke,We,Be,De)),Ze=="o1237"&&(Oe=Be+me.shift(),Pe=De+me.shift(),Ie=Oe+me.shift(),Fe=Pe+me.shift(),je=Ie+me.shift(),He=Fe+me.shift(),$e=je+me.shift(),Ve=He+me.shift(),ke=$e+me.shift(),We=Ve+me.shift(),Math.abs(ke-Be)>Math.abs(We-De)?Be=ke+me.shift():De=We+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,je,He),te.U.P.curveTo(pe,$e,Ve,ke,We,Be,De));else if(Ze=="o14"){if(me.length>0&&!be&&(Ee=me.shift()+fe.nominalWidthX,be=!0),me.length==4){var lt=me.shift(),_t=me.shift(),Xe=me.shift(),et=me.shift(),ft=te.CFF.glyphBySE(fe,Xe),yt=te.CFF.glyphBySE(fe,et);te.U._drawCFF(fe.CharStrings[ft],ue,fe,de,pe),ue.x=lt,ue.y=_t,te.U._drawCFF(fe.CharStrings[yt],ue,fe,de,pe)}Ae&&(te.U.P.closePath(pe),Ae=!1)}else if(Ze=="o19"||Ze=="o20")me.length%2!=0&&!be&&(Ee=me.shift()+de.nominalWidthX),_e+=me.length>>1,me.length=0,be=!0,Re+=_e+7>>3;else if(Ze=="o21")me.length>2&&!be&&(Ee=me.shift()+de.nominalWidthX,be=!0),De+=me.pop(),Be+=me.pop(),Ae&&te.U.P.closePath(pe),te.U.P.moveTo(pe,Be,De),Ae=!0;else if(Ze=="o22")me.length>1&&!be&&(Ee=me.shift()+de.nominalWidthX,be=!0),Be+=me.pop(),Ae&&te.U.P.closePath(pe),te.U.P.moveTo(pe,Be,De),Ae=!0;else if(Ze=="o25"){for(;me.length>6;)Be+=me.shift(),De+=me.shift(),te.U.P.lineTo(pe,Be,De);Oe=Be+me.shift(),Pe=De+me.shift(),Ie=Oe+me.shift(),Fe=Pe+me.shift(),Be=Ie+me.shift(),De=Fe+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,Be,De)}else if(Ze=="o26")for(me.length%2&&(Be+=me.shift());me.length>0;)Oe=Be,Pe=De+me.shift(),Be=Ie=Oe+me.shift(),De=(Fe=Pe+me.shift())+me.shift(),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,Be,De);else if(Ze=="o27")for(me.length%2&&(De+=me.shift());me.length>0;)Pe=De,Ie=(Oe=Be+me.shift())+me.shift(),Fe=Pe+me.shift(),Be=Ie+me.shift(),De=Fe,te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,Be,De);else if(Ze=="o10"||Ze=="o29"){var st=Ze=="o10"?de:fe;if(me.length==0)console.debug("error: empty stack");else{var gt=me.pop(),Et=st.Subrs[gt+st.Bias];ue.x=Be,ue.y=De,ue.nStems=_e,ue.haveWidth=be,ue.width=Ee,ue.open=Ae,te.U._drawCFF(Et,ue,fe,de,pe),Be=ue.x,De=ue.y,_e=ue.nStems,be=ue.haveWidth,Ee=ue.width,Ae=ue.open}}else if(Ze=="o30"||Ze=="o31"){var bt=me.length,Dt=(rt=0,Ze=="o31");for(rt+=bt-(nt=-3&bt);rt<nt;)Dt?(Pe=De,Ie=(Oe=Be+me.shift())+me.shift(),De=(Fe=Pe+me.shift())+me.shift(),nt-rt==5?(Be=Ie+me.shift(),rt++):Be=Ie,Dt=!1):(Oe=Be,Pe=De+me.shift(),Ie=Oe+me.shift(),Fe=Pe+me.shift(),Be=Ie+me.shift(),nt-rt==5?(De=Fe+me.shift(),rt++):De=Fe,Dt=!0),te.U.P.curveTo(pe,Oe,Pe,Ie,Fe,Be,De),rt+=4}else{if((Ze+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Ze,ce),Ze;me.push(Ze)}}}ue.x=Be,ue.y=De,ue.nStems=_e,ue.haveWidth=be,ue.width=Ee,ue.open=Ae};var ae=te,oe={Typr:ae};return se.Typr=ae,se.default=oe,Object.defineProperty(se,"__esModule",{value:!0}),se}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(se){var te=Uint8Array,ae=Uint16Array,oe=Uint32Array,ce=new te([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ue=new te([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fe=new te([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),de=function(Ze,nt){for(var at=new ae(31),mt=0;mt<31;++mt)at[mt]=nt+=1<<Ze[mt-1];var Ye=new oe(at[30]);for(mt=1;mt<30;++mt)for(var rt=at[mt];rt<at[mt+1];++rt)Ye[rt]=rt-at[mt]<<5|mt;return[at,Ye]},pe=de(ce,2),me=pe[0],_e=pe[1];me[28]=258,_e[258]=28;for(var be=de(ue,0)[0],Ee=new ae(32768),Ae=0;Ae<32768;++Ae){var Re=(43690&Ae)>>>1|(21845&Ae)<<1;Re=(61680&(Re=(52428&Re)>>>2|(13107&Re)<<2))>>>4|(3855&Re)<<4,Ee[Ae]=((65280&Re)>>>8|(255&Re)<<8)>>>1}var Be=function(Ze,nt,at){for(var mt=Ze.length,Ye=0,rt=new ae(nt);Ye<mt;++Ye)++rt[Ze[Ye]-1];var lt,_t=new ae(nt);for(Ye=0;Ye<nt;++Ye)_t[Ye]=_t[Ye-1]+rt[Ye-1]<<1;{lt=new ae(1<<nt);var Xe=15-nt;for(Ye=0;Ye<mt;++Ye)if(Ze[Ye])for(var et=Ye<<4|Ze[Ye],ft=nt-Ze[Ye],yt=_t[Ze[Ye]-1]++<<ft,st=yt|(1<<ft)-1;yt<=st;++yt)lt[Ee[yt]>>>Xe]=et}return lt},De=new te(288);for(Ae=0;Ae<144;++Ae)De[Ae]=8;for(Ae=144;Ae<256;++Ae)De[Ae]=9;for(Ae=256;Ae<280;++Ae)De[Ae]=7;for(Ae=280;Ae<288;++Ae)De[Ae]=8;var Oe=new te(32);for(Ae=0;Ae<32;++Ae)Oe[Ae]=5;var Pe=Be(De,9),Ie=Be(Oe,5),Fe=function(Ze){for(var nt=Ze[0],at=1;at<Ze.length;++at)Ze[at]>nt&&(nt=Ze[at]);return nt},$e=function(Ze,nt,at){var mt=nt/8|0;return(Ze[mt]|Ze[mt+1]<<8)>>(7&nt)&at},Ve=function(Ze,nt){var at=nt/8|0;return(Ze[at]|Ze[at+1]<<8|Ze[at+2]<<16)>>(7&nt)},ke=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],We=function(Ze,nt,at){var mt=new Error(nt||ke[Ze]);if(mt.code=Ze,Error.captureStackTrace&&Error.captureStackTrace(mt,We),!at)throw mt;return mt},je=function(Ze,nt,at){var mt=Ze.length;if(!mt||at&&!at.l&&mt<5)return nt||new te(0);var Ye=!nt||at,rt=!at||at.i;at||(at={}),nt||(nt=new te(3*mt));var lt,_t=function(Qt){var Cn=nt.length;if(Qt>Cn){var Tn=new te(Math.max(2*Cn,Qt));Tn.set(nt),nt=Tn}},Xe=at.f||0,et=at.p||0,ft=at.b||0,yt=at.l,st=at.d,gt=at.m,Et=at.n,bt=8*mt;do{if(!yt){at.f=Xe=$e(Ze,et,1);var Dt=$e(Ze,et+1,3);if(et+=3,!Dt){var nn=Ze[(Bt=((lt=et)/8|0)+(7&lt&&1)+4)-4]|Ze[Bt-3]<<8,ln=Bt+nn;if(ln>mt){rt&&We(0);break}Ye&&_t(ft+nn),nt.set(Ze.subarray(Bt,ln),ft),at.b=ft+=nn,at.p=et=8*ln;continue}if(Dt==1)yt=Pe,st=Ie,gt=9,Et=5;else if(Dt==2){var tn=$e(Ze,et,31)+257,Wt=$e(Ze,et+10,15)+4,on=tn+$e(Ze,et+5,31)+1;et+=14;for(var pt=new te(on),Sn=new te(19),Nt=0;Nt<Wt;++Nt)Sn[fe[Nt]]=$e(Ze,et+3*Nt,7);et+=3*Wt;var ht=Fe(Sn),Rt=(1<<ht)-1,kt=Be(Sn,ht);for(Nt=0;Nt<on;){var Bt,Qe=kt[$e(Ze,et,Rt)];if(et+=15&Qe,(Bt=Qe>>>4)<16)pt[Nt++]=Bt;else{var Ke=0,ct=0;for(Bt==16?(ct=3+$e(Ze,et,3),et+=2,Ke=pt[Nt-1]):Bt==17?(ct=3+$e(Ze,et,7),et+=3):Bt==18&&(ct=11+$e(Ze,et,127),et+=7);ct--;)pt[Nt++]=Ke}}var St=pt.subarray(0,tn),Mt=pt.subarray(tn);gt=Fe(St),Et=Fe(Mt),yt=Be(St,gt),st=Be(Mt,Et)}else We(1);if(et>bt){rt&&We(0);break}}Ye&&_t(ft+131072);for(var Ft=(1<<gt)-1,zt=(1<<Et)-1,$t=et;;$t=et){var Jt=(Ke=yt[Ve(Ze,et)&Ft])>>>4;if((et+=15&Ke)>bt){rt&&We(0);break}if(Ke||We(2),Jt<256)nt[ft++]=Jt;else{if(Jt==256){$t=et,yt=null;break}var Mn=Jt-254;if(Jt>264){var rn=ce[Nt=Jt-257];Mn=$e(Ze,et,(1<<rn)-1)+me[Nt],et+=rn}var cn=st[Ve(Ze,et)&zt],vn=cn>>>4;if(cn||We(3),et+=15&cn,Mt=be[vn],vn>3&&(rn=ue[vn],Mt+=Ve(Ze,et)&(1<<rn)-1,et+=rn),et>bt){rt&&We(0);break}Ye&&_t(ft+131072);for(var hn=ft+Mn;ft<hn;ft+=4)nt[ft]=nt[ft-Mt],nt[ft+1]=nt[ft+1-Mt],nt[ft+2]=nt[ft+2-Mt],nt[ft+3]=nt[ft+3-Mt];ft=hn}}at.l=yt,at.p=$t,at.b=ft,yt&&(Xe=1,at.m=gt,at.d=st,at.n=Et)}while(!Xe);return ft==nt.length?nt:function(Qt,Cn,Tn){(Tn==null||Tn>Qt.length)&&(Tn=Qt.length);var Xn=new(Qt instanceof ae?ae:Qt instanceof oe?oe:te)(Tn-Cn);return Xn.set(Qt.subarray(Cn,Tn)),Xn}(nt,0,ft)},He=new te(0),tt=typeof TextDecoder<"u"&&new TextDecoder;try{tt.decode(He,{stream:!0})}catch{}return se.convert_streams=function(Ze){var nt=new DataView(Ze),at=0;function mt(){var tn=nt.getUint16(at);return at+=2,tn}function Ye(){var tn=nt.getUint32(at);return at+=4,tn}function rt(tn){nn.setUint16(ln,tn),ln+=2}function lt(tn){nn.setUint32(ln,tn),ln+=4}for(var _t={signature:Ye(),flavor:Ye(),length:Ye(),numTables:mt(),reserved:mt(),totalSfntSize:Ye(),majorVersion:mt(),minorVersion:mt(),metaOffset:Ye(),metaLength:Ye(),metaOrigLength:Ye(),privOffset:Ye(),privLength:Ye()},Xe=0;Math.pow(2,Xe)<=_t.numTables;)Xe++;Xe--;for(var et=16*Math.pow(2,Xe),ft=16*_t.numTables-et,yt=12,st=[],gt=0;gt<_t.numTables;gt++)st.push({tag:Ye(),offset:Ye(),compLength:Ye(),origLength:Ye(),origChecksum:Ye()}),yt+=16;var Et,bt=new Uint8Array(12+16*st.length+st.reduce(function(tn,Wt){return tn+Wt.origLength+4},0)),Dt=bt.buffer,nn=new DataView(Dt),ln=0;return lt(_t.flavor),rt(_t.numTables),rt(et),rt(Xe),rt(ft),st.forEach(function(tn){lt(tn.tag),lt(tn.origChecksum),lt(yt),lt(tn.origLength),tn.outOffset=yt,(yt+=tn.origLength)%4!=0&&(yt+=4-yt%4)}),st.forEach(function(tn){var Wt,on=Ze.slice(tn.offset,tn.offset+tn.compLength);if(tn.compLength!=tn.origLength){var pt=new Uint8Array(tn.origLength);Wt=new Uint8Array(on,2),je(Wt,pt)}else pt=new Uint8Array(on);bt.set(pt,tn.outOffset);var Sn=0;(yt=tn.outOffset+tn.origLength)%4!=0&&(Sn=4-yt%4),bt.set(new Uint8Array(Sn).buffer,tn.outOffset+tn.origLength),Et=yt+Sn}),Dt.slice(0,Et)},Object.defineProperty(se,"__esModule",{value:!0}),se}({}).convert_streams}function parserFactory(se,te){const ae={M:2,L:2,Q:4,C:6,Z:0},oe={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},ce=1,ue=2,fe=4,de=8,pe=16,me=32;let _e;function be(ke){if(!_e){const We={R:ue,L:ce,D:fe,C:pe,U:me,T:de};_e=new Map;for(let je in oe){let He=0;oe[je].split(",").forEach(tt=>{let[Ze,nt]=tt.split("+");Ze=parseInt(Ze,36),nt=nt?parseInt(nt,36):0,_e.set(He+=Ze,We[je]);for(let at=nt;at--;)_e.set(++He,We[je])})}}return _e.get(ke)||me}const Ee=1,Ae=2,Re=3,Be=4,De=[null,"isol","init","fina","medi"];function Oe(ke){const We=new Uint8Array(ke.length);let je=me,He=Ee,tt=-1;for(let Ze=0;Ze<ke.length;Ze++){const nt=ke.codePointAt(Ze);let at=be(nt)|0,mt=Ee;at&de||(je&(ce|fe|pe)?at&(ue|fe|pe)?(mt=Re,(He===Ee||He===Re)&&We[tt]++):at&(ce|me)&&(He===Ae||He===Be)&&We[tt]--:je&(ue|me)&&(He===Ae||He===Be)&&We[tt]--,He=We[Ze]=mt,je=at,tt=Ze,nt>65535&&Ze++)}return We}function Pe(ke,We){const je=[];for(let tt=0;tt<We.length;tt++){const Ze=We.codePointAt(tt);Ze>65535&&tt++,je.push(se.U.codeToGlyph(ke,Ze))}const He=ke.GSUB;if(He){const{lookupList:tt,featureList:Ze}=He;let nt;const at=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,mt=[];Ze.forEach(Ye=>{if(at.test(Ye.tag))for(let rt=0;rt<Ye.tab.length;rt++){if(mt[Ye.tab[rt]])continue;mt[Ye.tab[rt]]=!0;const lt=tt[Ye.tab[rt]],_t=/^(isol|init|fina|medi)$/.test(Ye.tag);_t&&!nt&&(nt=Oe(We));for(let Xe=0;Xe<je.length;Xe++)(!nt||!_t||De[nt[Xe]]===Ye.tag)&&se.U._applySubs(je,Xe,lt,tt)}})}return je}function Ie(ke,We){const je=new Int16Array(We.length*3);let He=0;for(;He<We.length;He++){const at=We[He];if(at===-1)continue;je[He*3+2]=ke.hmtx.aWidth[at];const mt=ke.GPOS;if(mt){const Ye=mt.lookupList;for(let rt=0;rt<Ye.length;rt++){const lt=Ye[rt];for(let _t=0;_t<lt.tabs.length;_t++){const Xe=lt.tabs[_t];if(lt.ltype===1){if(se._lctf.coverageIndex(Xe.coverage,at)!==-1&&Xe.pos){nt(Xe.pos,He);break}}else if(lt.ltype===2){let et=null,ft=tt();if(ft!==-1){const yt=se._lctf.coverageIndex(Xe.coverage,We[ft]);if(yt!==-1){if(Xe.fmt===1){const st=Xe.pairsets[yt];for(let gt=0;gt<st.length;gt++)st[gt].gid2===at&&(et=st[gt])}else if(Xe.fmt===2){const st=se.U._getGlyphClass(We[ft],Xe.classDef1),gt=se.U._getGlyphClass(at,Xe.classDef2);et=Xe.matrix[st][gt]}if(et){et.val1&&nt(et.val1,ft),et.val2&&nt(et.val2,He);break}}}}else if(lt.ltype===4){const et=se._lctf.coverageIndex(Xe.markCoverage,at);if(et!==-1){const ft=tt(Ze),yt=ft===-1?-1:se._lctf.coverageIndex(Xe.baseCoverage,We[ft]);if(yt!==-1){const st=Xe.markArray[et],gt=Xe.baseArray[yt][st.markClass];je[He*3]=gt.x-st.x+je[ft*3]-je[ft*3+2],je[He*3+1]=gt.y-st.y+je[ft*3+1];break}}}else if(lt.ltype===6){const et=se._lctf.coverageIndex(Xe.mark1Coverage,at);if(et!==-1){const ft=tt();if(ft!==-1){const yt=We[ft];if(Fe(ke,yt)===3){const st=se._lctf.coverageIndex(Xe.mark2Coverage,yt);if(st!==-1){const gt=Xe.mark1Array[et],Et=Xe.mark2Array[st][gt.markClass];je[He*3]=Et.x-gt.x+je[ft*3]-je[ft*3+2],je[He*3+1]=Et.y-gt.y+je[ft*3+1];break}}}}}}}}else if(ke.kern&&!ke.cff){const Ye=tt();if(Ye!==-1){const rt=ke.kern.glyph1.indexOf(We[Ye]);if(rt!==-1){const lt=ke.kern.rval[rt].glyph2.indexOf(at);lt!==-1&&(je[Ye*3+2]+=ke.kern.rval[rt].vals[lt])}}}}return je;function tt(at){for(let mt=He-1;mt>=0;mt--)if(We[mt]!==-1&&(!at||at(We[mt])))return mt;return-1}function Ze(at){return Fe(ke,at)===1}function nt(at,mt){for(let Ye=0;Ye<3;Ye++)je[mt*3+Ye]+=at[Ye]||0}}function Fe(ke,We){const je=ke.GDEF&&ke.GDEF.glyphClassDef;return je?se.U._getGlyphClass(We,je):0}function $e(...ke){for(let We=0;We<ke.length;We++)if(typeof ke[We]=="number")return ke[We]}function Ve(ke){const We=Object.create(null),je=ke["OS/2"],He=ke.hhea,tt=ke.head.unitsPerEm,Ze=$e(je&&je.sTypoAscender,He&&He.ascender,tt),nt={unitsPerEm:tt,ascender:Ze,descender:$e(je&&je.sTypoDescender,He&&He.descender,0),capHeight:$e(je&&je.sCapHeight,Ze),xHeight:$e(je&&je.sxHeight,Ze),lineGap:$e(je&&je.sTypoLineGap,He&&He.lineGap),supportsCodePoint(at){return se.U.codeToGlyph(ke,at)>0},forEachGlyph(at,mt,Ye,rt){let lt=0;const _t=1/nt.unitsPerEm*mt,Xe=Pe(ke,at);let et=0;const ft=Ie(ke,Xe);return Xe.forEach((yt,st)=>{if(yt!==-1){let gt=We[yt];if(!gt){const{cmds:Et,crds:bt}=se.U.glyphToPath(ke,yt);let Dt="",nn=0;for(let pt=0,Sn=Et.length;pt<Sn;pt++){const Nt=ae[Et[pt]];Dt+=Et[pt];for(let ht=1;ht<=Nt;ht++)Dt+=(ht>1?",":"")+bt[nn++]}let ln,tn,Wt,on;if(bt.length){ln=tn=1/0,Wt=on=-1/0;for(let pt=0,Sn=bt.length;pt<Sn;pt+=2){let Nt=bt[pt],ht=bt[pt+1];Nt<ln&&(ln=Nt),ht<tn&&(tn=ht),Nt>Wt&&(Wt=Nt),ht>on&&(on=ht)}}else ln=Wt=tn=on=0;gt=We[yt]={index:yt,advanceWidth:ke.hmtx.aWidth[yt],xMin:ln,yMin:tn,xMax:Wt,yMax:on,path:Dt}}rt.call(null,gt,lt+ft[st*3]*_t,ft[st*3+1]*_t,et),lt+=ft[st*3+2]*_t,Ye&&(lt+=Ye*mt)}et+=at.codePointAt(et)>65535?2:1}),lt}};return nt}return function(We){const je=new Uint8Array(We,0,4),He=se._bin.readASCII(je,0,4);if(He==="wOFF")We=te(We);else if(He==="wOF2")throw new Error("woff2 fonts not supported");return Ve(se.parse(We)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(se,te,ae){const oe=se(),ce=te();return ae(oe,ce)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function unicodeFontResolverClientFactory(){return function(se){var te=function(){this.buckets=new Map};te.prototype.add=function(Ie){var Fe=Ie>>5;this.buckets.set(Fe,(this.buckets.get(Fe)||0)|1<<(31&Ie))},te.prototype.has=function(Ie){var Fe=this.buckets.get(Ie>>5);return Fe!==void 0&&(Fe&1<<(31&Ie))!=0},te.prototype.serialize=function(){var Ie=[];return this.buckets.forEach(function(Fe,$e){Ie.push((+$e).toString(36)+":"+Fe.toString(36))}),Ie.join(",")},te.prototype.deserialize=function(Ie){var Fe=this;this.buckets.clear(),Ie.split(",").forEach(function($e){var Ve=$e.split(":");Fe.buckets.set(parseInt(Ve[0],36),parseInt(Ve[1],36))})};var ae=Math.pow(2,8),oe=ae-1,ce=~oe;function ue(Ie){var Fe=function(Ve){return Ve&ce}(Ie).toString(16),$e=function(Ve){return(Ve&ce)+ae-1}(Ie).toString(16);return"codepoint-index/plane"+(Ie>>16)+"/"+Fe+"-"+$e+".json"}function fe(Ie,Fe){var $e=Ie&oe,Ve=Fe.codePointAt($e/6|0);return((Ve=(Ve||48)-48)&1<<$e%6)!=0}function de(Ie,Fe){var $e;($e=Ie,$e.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(Ve){return Ve.split("-").map(function(ke){return parseInt(ke.trim(),16)})})).forEach(function(Ve){var ke=Ve[0],We=Ve[1];We===void 0&&(We=ke),Fe(ke,We)})}function pe(Ie,Fe){de(Ie,function($e,Ve){for(var ke=$e;ke<=Ve;ke++)Fe(ke)})}var me={},_e={},be=new WeakMap,Ee="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function Ae(Ie){var Fe=be.get(Ie);return Fe||(Fe=new te,pe(Ie.ranges,function($e){return Fe.add($e)}),be.set(Ie,Fe)),Fe}var Re,Be=new Map;function De(Ie,Fe,$e){return Ie[Fe]?Fe:Ie[$e]?$e:function(Ve){for(var ke in Ve)return ke}(Ie)}function Oe(Ie,Fe){var $e=Fe;if(!Ie.includes($e)){$e=1/0;for(var Ve=0;Ve<Ie.length;Ve++)Math.abs(Ie[Ve]-Fe)<Math.abs($e-Fe)&&($e=Ie[Ve])}return $e}function Pe(Ie){return Re||(Re=new Set,pe("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(Fe){Re.add(Fe)})),Re.has(Ie)}return se.CodePointSet=te,se.clearCache=function(){me={},_e={}},se.getFontsForString=function(Ie,Fe){Fe===void 0&&(Fe={});var $e,Ve=Fe.lang;Ve===void 0&&(Ve=new RegExp("\\p{Script=Hangul}","u").test($e=Ie)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test($e)?"ja":"en");var ke=Fe.category;ke===void 0&&(ke="sans-serif");var We=Fe.style;We===void 0&&(We="normal");var je=Fe.weight;je===void 0&&(je=400);var He=(Fe.dataUrl||Ee).replace(/\/$/g,""),tt=new Map,Ze=new Uint8Array(Ie.length),nt={},at={},mt=new Array(Ie.length),Ye=new Map,rt=!1;function lt(et){var ft=Be.get(et);return ft||(ft=fetch(He+"/"+et).then(function(yt){if(!yt.ok)throw new Error(yt.statusText);return yt.json().then(function(st){if(!Array.isArray(st)||st[0]!==1)throw new Error("Incorrect schema version; need 1, got "+st[0]);return st[1]})}).catch(function(yt){if(He!==Ee)return rt||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+He+'", trying default CDN. '+yt.message),rt=!0),He=Ee,Be.delete(et),lt(et);throw yt}),Be.set(et,ft)),ft}for(var _t=function(et){var ft=Ie.codePointAt(et),yt=ue(ft);mt[et]=yt,me[yt]||Ye.has(yt)||Ye.set(yt,lt(yt).then(function(st){me[yt]=st})),ft>65535&&(et++,Xe=et)},Xe=0;Xe<Ie.length;Xe++)_t(Xe);return Promise.all(Ye.values()).then(function(){Ye.clear();for(var et=function(yt){var st=Ie.codePointAt(yt),gt=null,Et=me[mt[yt]],bt=void 0;for(var Dt in Et){var nn=at[Dt];if(nn===void 0&&(nn=at[Dt]=new RegExp(Dt).test(Ve||"en")),nn){for(var ln in bt=Dt,Et[Dt])if(fe(st,Et[Dt][ln])){gt=ln;break}break}}if(!gt){e:for(var tn in Et)if(tn!==bt){for(var Wt in Et[tn])if(fe(st,Et[tn][Wt])){gt=Wt;break e}}}gt||(console.debug("No font coverage for U+"+st.toString(16)),gt="latin"),mt[yt]=gt,_e[gt]||Ye.has(gt)||Ye.set(gt,lt("font-meta/"+gt+".json").then(function(on){_e[gt]=on})),st>65535&&(yt++,ft=yt)},ft=0;ft<Ie.length;ft++)et(ft);return Promise.all(Ye.values())}).then(function(){for(var et,ft=null,yt=0;yt<Ie.length;yt++){var st=Ie.codePointAt(yt);if(ft&&(Pe(st)||Ae(ft).has(st)))Ze[yt]=Ze[yt-1];else{ft=_e[mt[yt]];var gt=nt[ft.id];if(!gt){var Et=ft.typeforms,bt=De(Et,ke,"sans-serif"),Dt=De(Et[bt],We,"normal"),nn=Oe((et=Et[bt])===null||et===void 0?void 0:et[Dt],je);gt=nt[ft.id]=He+"/font-files/"+ft.id+"/"+bt+"."+Dt+"."+nn+".woff"}var ln=tt.get(gt);ln==null&&(ln=tt.size,tt.set(gt,ln)),Ze[yt]=ln}st>65535&&(yt++,Ze[yt]=Ze[yt-1])}return{fontUrls:Array.from(tt.keys()),chars:Ze}})},Object.defineProperty(se,"__esModule",{value:!0}),se}({})}function createFontResolver(se,te){const ae=Object.create(null),oe=Object.create(null);function ce(fe,de){const pe=me=>{console.error(`Failure loading font ${fe}`,me)};try{const me=new XMLHttpRequest;me.open("get",fe,!0),me.responseType="arraybuffer",me.onload=function(){if(me.status>=400)pe(new Error(me.statusText));else if(me.status>0)try{const _e=se(me.response);_e.src=fe,de(_e)}catch(_e){pe(_e)}},me.onerror=pe,me.send()}catch(me){pe(me)}}function ue(fe,de){let pe=ae[fe];pe?de(pe):oe[fe]?oe[fe].push(de):(oe[fe]=[de],ce(fe,me=>{me.src=fe,ae[fe]=me,oe[fe].forEach(_e=>_e(me)),delete oe[fe]}))}return function(fe,de,{lang:pe,fonts:me=[],style:_e="normal",weight:be="normal",unicodeFontsURL:Ee}={}){const Ae=new Uint8Array(fe.length),Re=[];fe.length||Pe();const Be=new Map,De=[];if(_e!=="italic"&&(_e="normal"),typeof be!="number"&&(be=be==="bold"?700:400),me&&!Array.isArray(me)&&(me=[me]),me=me.slice().filter(Fe=>!Fe.lang||Fe.lang.test(pe)).reverse(),me.length){let ke=0;(function We(je=0){for(let He=je,tt=fe.length;He<tt;He++){const Ze=fe.codePointAt(He);if(ke===1&&Re[Ae[He-1]].supportsCodePoint(Ze)||He>0&&/\s/.test(fe[He]))Ae[He]=Ae[He-1],ke===2&&(De[De.length-1][1]=He);else for(let nt=Ae[He],at=me.length;nt<=at;nt++)if(nt===at){const mt=ke===2?De[De.length-1]:De[De.length]=[He,He];mt[1]=He,ke=2}else{Ae[He]=nt;const{src:mt,unicodeRange:Ye}=me[nt];if(!Ye||Ie(Ze,Ye)){const rt=ae[mt];if(!rt){ue(mt,()=>{We(He)});return}if(rt.supportsCodePoint(Ze)){let lt=Be.get(rt);typeof lt!="number"&&(lt=Re.length,Re.push(rt),Be.set(rt,lt)),Ae[He]=lt,ke=1;break}}}Ze>65535&&He+1<tt&&(Ae[He+1]=Ae[He],He++,ke===2&&(De[De.length-1][1]=He))}Oe()})()}else De.push([0,fe.length-1]),Oe();function Oe(){if(De.length){const Fe=De.map($e=>fe.substring($e[0],$e[1]+1)).join(`
`);te.getFontsForString(Fe,{lang:pe||void 0,style:_e,weight:be,dataUrl:Ee}).then(({fontUrls:$e,chars:Ve})=>{const ke=Re.length;let We=0;De.forEach(He=>{for(let tt=0,Ze=He[1]-He[0];tt<=Ze;tt++)Ae[He[0]+tt]=Ve[We++]+ke;We++});let je=0;$e.forEach((He,tt)=>{ue(He,Ze=>{Re[tt+ke]=Ze,++je===$e.length&&Pe()})})})}else Pe()}function Pe(){de({chars:Ae,fonts:Re})}function Ie(Fe,$e){for(let Ve=0;Ve<$e.length;Ve++){const[ke,We=ke]=$e[Ve];if(ke<=Fe&&Fe<=We)return!0}return!1}}}const fontResolverWorkerModule=defineWorkerModule({name:"FontResolver",dependencies:[createFontResolver,workerModule,unicodeFontResolverClientFactory],init(se,te,ae){return se(te,ae())}});function createTypesetter(se,te){const oe=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,ce="[^\\S\\u00A0]",ue=new RegExp(`${ce}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function fe({text:Re,lang:Be,fonts:De,style:Oe,weight:Pe,preResolvedFonts:Ie,unicodeFontsURL:Fe},$e){const Ve=({chars:ke,fonts:We})=>{let je,He;const tt=[];for(let Ze=0;Ze<ke.length;Ze++)ke[Ze]!==He?(He=ke[Ze],tt.push(je={start:Ze,end:Ze,fontObj:We[ke[Ze]]})):je.end=Ze;$e(tt)};Ie?Ve(Ie):se(Re,Ve,{lang:Be,fonts:De,style:Oe,weight:Pe,unicodeFontsURL:Fe})}function de({text:Re="",font:Be,lang:De,sdfGlyphSize:Oe=64,fontSize:Pe=400,fontWeight:Ie=1,fontStyle:Fe="normal",letterSpacing:$e=0,lineHeight:Ve="normal",maxWidth:ke=1/0,direction:We,textAlign:je="left",textIndent:He=0,whiteSpace:tt="normal",overflowWrap:Ze="normal",anchorX:nt=0,anchorY:at=0,metricsOnly:mt=!1,unicodeFontsURL:Ye,preResolvedFonts:rt=null,includeCaretPositions:lt=!1,chunkedBoundsSize:_t=8192,colorRanges:Xe=null},et){const ft=be(),yt={fontLoad:0,typesetting:0};Re.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),Re=Re.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),Pe=+Pe,$e=+$e,ke=+ke,Ve=Ve||"normal",He=+He,fe({text:Re,lang:De,style:Fe,weight:Ie,fonts:typeof Be=="string"?[{src:Be}]:Be,unicodeFontsURL:Ye,preResolvedFonts:rt},st=>{yt.fontLoad=be()-ft;const gt=isFinite(ke);let Et=null,bt=null,Dt=null,nn=null,ln=null,tn=null,Wt=null,on=null,pt=0,Sn=0,Nt=tt!=="nowrap";const ht=new Map,Rt=be();let kt=He,Bt=0,Qe=new Ee;const Ke=[Qe];st.forEach(zt=>{const{fontObj:$t}=zt,{ascender:Jt,descender:Mn,unitsPerEm:rn,lineGap:cn,capHeight:vn,xHeight:hn}=$t;let Qt=ht.get($t);if(!Qt){const sn=Pe/rn,Gt=Ve==="normal"?(Jt-Mn+cn)*sn:Ve*Pe,an=(Gt-(Jt-Mn)*sn)/2,mn=Math.min(Gt,(Jt-Mn)*sn),un=(Jt+Mn)/2*sn+mn/2;Qt={index:ht.size,src:$t.src,fontObj:$t,fontSizeMult:sn,unitsPerEm:rn,ascender:Jt*sn,descender:Mn*sn,capHeight:vn*sn,xHeight:hn*sn,lineHeight:Gt,baseline:-an-Jt*sn,caretTop:un,caretBottom:un-mn},ht.set($t,Qt)}const{fontSizeMult:Cn}=Qt,Tn=Re.slice(zt.start,zt.end+1);let Xn,xt;$t.forEachGlyph(Tn,Pe,$e,(sn,Gt,an,mn)=>{Gt+=Bt,mn+=zt.start,Xn=Gt,xt=sn;const un=Re.charAt(mn),Un=sn.advanceWidth*Cn,Hn=Qe.count;let Pn;if("isEmpty"in sn||(sn.isWhitespace=!!un&&new RegExp(ce).test(un),sn.canBreakAfter=!!un&&ue.test(un),sn.isEmpty=sn.xMin===sn.xMax||sn.yMin===sn.yMax||oe.test(un)),!sn.isWhitespace&&!sn.isEmpty&&Sn++,Nt&&gt&&!sn.isWhitespace&&Gt+Un+kt>ke&&Hn){if(Qe.glyphAt(Hn-1).glyphObj.canBreakAfter)Pn=new Ee,kt=-Gt;else for(let wn=Hn;wn--;)if(wn===0&&Ze==="break-word"){Pn=new Ee,kt=-Gt;break}else if(Qe.glyphAt(wn).glyphObj.canBreakAfter){Pn=Qe.splitAt(wn+1);const Fn=Pn.glyphAt(0).x;kt-=Fn;for(let _n=Pn.count;_n--;)Pn.glyphAt(_n).x-=Fn;break}Pn&&(Qe.isSoftWrapped=!0,Qe=Pn,Ke.push(Qe),pt=ke)}let xn=Qe.glyphAt(Qe.count);xn.glyphObj=sn,xn.x=Gt+kt,xn.y=an,xn.width=Un,xn.charIndex=mn,xn.fontData=Qt,un===`
`&&(Qe=new Ee,Ke.push(Qe),kt=-(Gt+Un+$e*Pe)+He)}),Bt=Xn+xt.advanceWidth*Cn+$e*Pe});let ct=0;Ke.forEach(zt=>{let $t=!0;for(let Jt=zt.count;Jt--;){const Mn=zt.glyphAt(Jt);$t&&!Mn.glyphObj.isWhitespace&&(zt.width=Mn.x+Mn.width,zt.width>pt&&(pt=zt.width),$t=!1);let{lineHeight:rn,capHeight:cn,xHeight:vn,baseline:hn}=Mn.fontData;rn>zt.lineHeight&&(zt.lineHeight=rn);const Qt=hn-zt.baseline;Qt<0&&(zt.baseline+=Qt,zt.cap+=Qt,zt.ex+=Qt),zt.cap=Math.max(zt.cap,zt.baseline+cn),zt.ex=Math.max(zt.ex,zt.baseline+vn)}zt.baseline-=ct,zt.cap-=ct,zt.ex-=ct,ct+=zt.lineHeight});let St=0,Mt=0;if(nt&&(typeof nt=="number"?St=-nt:typeof nt=="string"&&(St=-pt*(nt==="left"?0:nt==="center"?.5:nt==="right"?1:me(nt)))),at&&(typeof at=="number"?Mt=-at:typeof at=="string"&&(Mt=at==="top"?0:at==="top-baseline"?-Ke[0].baseline:at==="top-cap"?-Ke[0].cap:at==="top-ex"?-Ke[0].ex:at==="middle"?ct/2:at==="bottom"?ct:at==="bottom-baseline"?-Ke[Ke.length-1].baseline:me(at)*ct)),!mt){const zt=te.getEmbeddingLevels(Re,We);Et=new Uint16Array(Sn),bt=new Uint8Array(Sn),Dt=new Float32Array(Sn*2),nn={},Wt=[1/0,1/0,-1/0,-1/0],on=[],lt&&(tn=new Float32Array(Re.length*4)),Xe&&(ln=new Uint8Array(Sn*3));let $t=0,Jt=-1,Mn=-1,rn,cn;if(Ke.forEach((vn,hn)=>{let{count:Qt,width:Cn}=vn;if(Qt>0){let Tn=0;for(let mn=Qt;mn--&&vn.glyphAt(mn).glyphObj.isWhitespace;)Tn++;let Xn=0,xt=0;if(je==="center")Xn=(pt-Cn)/2;else if(je==="right")Xn=pt-Cn;else if(je==="justify"&&vn.isSoftWrapped){let mn=0;for(let un=Qt-Tn;un--;)vn.glyphAt(un).glyphObj.isWhitespace&&mn++;xt=(pt-Cn)/mn}if(xt||Xn){let mn=0;for(let un=0;un<Qt;un++){let Un=vn.glyphAt(un);const Hn=Un.glyphObj;Un.x+=Xn+mn,xt!==0&&Hn.isWhitespace&&un<Qt-Tn&&(mn+=xt,Un.width+=xt)}}const sn=te.getReorderSegments(Re,zt,vn.glyphAt(0).charIndex,vn.glyphAt(vn.count-1).charIndex);for(let mn=0;mn<sn.length;mn++){const[un,Un]=sn[mn];let Hn=1/0,Pn=-1/0;for(let xn=0;xn<Qt;xn++)if(vn.glyphAt(xn).charIndex>=un){let wn=xn,Fn=xn;for(;Fn<Qt;Fn++){let _n=vn.glyphAt(Fn);if(_n.charIndex>Un)break;Fn<Qt-Tn&&(Hn=Math.min(Hn,_n.x),Pn=Math.max(Pn,_n.x+_n.width))}for(let _n=wn;_n<Fn;_n++){const On=vn.glyphAt(_n);On.x=Pn-(On.x+On.width-Hn)}break}}let Gt;const an=mn=>Gt=mn;for(let mn=0;mn<Qt;mn++){const un=vn.glyphAt(mn);Gt=un.glyphObj;const Un=Gt.index,Hn=zt.levels[un.charIndex]&1;if(Hn){const Pn=te.getMirroredCharacter(Re[un.charIndex]);Pn&&un.fontData.fontObj.forEachGlyph(Pn,0,0,an)}if(lt){const{charIndex:Pn,fontData:xn}=un,wn=un.x+St,Fn=un.x+un.width+St;tn[Pn*4]=Hn?Fn:wn,tn[Pn*4+1]=Hn?wn:Fn,tn[Pn*4+2]=vn.baseline+xn.caretBottom+Mt,tn[Pn*4+3]=vn.baseline+xn.caretTop+Mt;const _n=Pn-Jt;_n>1&&_e(tn,Jt,_n),Jt=Pn}if(Xe){const{charIndex:Pn}=un;for(;Pn>Mn;)Mn++,Xe.hasOwnProperty(Mn)&&(cn=Xe[Mn])}if(!Gt.isWhitespace&&!Gt.isEmpty){const Pn=$t++,{fontSizeMult:xn,src:wn,index:Fn}=un.fontData,_n=nn[wn]||(nn[wn]={});_n[Un]||(_n[Un]={path:Gt.path,pathBounds:[Gt.xMin,Gt.yMin,Gt.xMax,Gt.yMax]});const On=un.x+St,Bn=un.y+vn.baseline+Mt;Dt[Pn*2]=On,Dt[Pn*2+1]=Bn;const In=On+Gt.xMin*xn,Ri=Bn+Gt.yMin*xn,qn=On+Gt.xMax*xn,ti=Bn+Gt.yMax*xn;In<Wt[0]&&(Wt[0]=In),Ri<Wt[1]&&(Wt[1]=Ri),qn>Wt[2]&&(Wt[2]=qn),ti>Wt[3]&&(Wt[3]=ti),Pn%_t===0&&(rn={start:Pn,end:Pn,rect:[1/0,1/0,-1/0,-1/0]},on.push(rn)),rn.end++;const si=rn.rect;if(In<si[0]&&(si[0]=In),Ri<si[1]&&(si[1]=Ri),qn>si[2]&&(si[2]=qn),ti>si[3]&&(si[3]=ti),Et[Pn]=Un,bt[Pn]=Fn,Xe){const $n=Pn*3;ln[$n]=cn>>16&255,ln[$n+1]=cn>>8&255,ln[$n+2]=cn&255}}}}}),tn){const vn=Re.length-Jt;vn>1&&_e(tn,Jt,vn)}}const Ft=[];ht.forEach(({index:zt,src:$t,unitsPerEm:Jt,ascender:Mn,descender:rn,lineHeight:cn,capHeight:vn,xHeight:hn})=>{Ft[zt]={src:$t,unitsPerEm:Jt,ascender:Mn,descender:rn,lineHeight:cn,capHeight:vn,xHeight:hn}}),yt.typesetting=be()-Rt,et({glyphIds:Et,glyphFontIndices:bt,glyphPositions:Dt,glyphData:nn,fontData:Ft,caretPositions:tn,glyphColors:ln,chunkedBounds:on,fontSize:Pe,topBaseline:Mt+Ke[0].baseline,blockBounds:[St,Mt-ct,St+pt,Mt],visibleBounds:Wt,timings:yt})})}function pe(Re,Be){de({...Re,metricsOnly:!0},De=>{const[Oe,Pe,Ie,Fe]=De.blockBounds;Be({width:Ie-Oe,height:Fe-Pe})})}function me(Re){let Be=Re.match(/^([\d.]+)%$/),De=Be?parseFloat(Be[1]):NaN;return isNaN(De)?0:De/100}function _e(Re,Be,De){const Oe=Re[Be*4],Pe=Re[Be*4+1],Ie=Re[Be*4+2],Fe=Re[Be*4+3],$e=(Pe-Oe)/De;for(let Ve=0;Ve<De;Ve++){const ke=(Be+Ve)*4;Re[ke]=Oe+$e*Ve,Re[ke+1]=Oe+$e*(Ve+1),Re[ke+2]=Ie,Re[ke+3]=Fe}}function be(){return(self.performance||Date).now()}function Ee(){this.data=[]}const Ae=["glyphObj","x","y","width","charIndex","fontData"];return Ee.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Ae.length)},glyphAt(Re){let Be=Ee.flyweight;return Be.data=this.data,Be.index=Re,Be},splitAt(Re){let Be=new Ee;return Be.data=this.data.splice(Re*Ae.length),Be}},Ee.flyweight=Ae.reduce((Re,Be,De,Oe)=>(Object.defineProperty(Re,Be,{get(){return this.data[this.index*Ae.length+De]},set(Pe){this.data[this.index*Ae.length+De]=Pe}}),Re),{data:null,index:0}),{typeset:de,measure:pe}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(se,te,ae,oe,ce,ue,fe,de,pe,me,_e=!0){return _e?generateSDF_GL(se,te,ae,oe,ce,ue,fe,de,pe,me).then(null,be=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",be),warned=!0),generateSDF_JS_Worker(se,te,ae,oe,ce,ue,fe,de,pe,me))):generateSDF_JS_Worker(se,te,ae,oe,ce,ue,fe,de,pe,me)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const se=now();for(;queue.length&&now()-se<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...se)=>new Promise((te,ae)=>{queue.push(()=>{const oe=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...se),te({timing:now()-oe})}catch(ce){ae(ce)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(se,te,ae,oe,ce,ue,fe,de,pe,me){const _e="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let be=threads[_e];return be||(be=threads[_e]={workerModule:defineWorkerModule({name:_e,workerId:_e,dependencies:[SDFGenerator,now],init(Ee,Ae){const Re=Ee().javascript.generate;return function(...Be){const De=Ae();return{textureData:Re(...Be),timing:Ae()-De}}},getTransferables(Ee){return[Ee.textureData.buffer]}}),requests:0,idleTimer:null}),be.requests++,clearTimeout(be.idleTimer),be.workerModule(se,te,ae,oe,ce,ue).then(({textureData:Ee,timing:Ae})=>{const Re=now(),Be=new Uint8Array(Ee.length*4);for(let De=0;De<Ee.length;De++)Be[De*4+me]=Ee[De];return mainThreadGenerator.webglUtils.renderImageData(fe,Be,de,pe,se,te,1<<3-me),Ae+=now()-Re,--be.requests===0&&(be.idleTimer=setTimeout(()=>{terminateWorker(_e)},idleTimeout)),{timing:Ae}})}function warmUpSDFCanvas(se){se._warm||(mainThreadGenerator.webgl.isSupported(se),se._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing,CONFIG={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color$1;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(se,te){se=assign({},se);const ae=now$1(),oe=[];if(se.font&&oe.push({label:"user",src:toAbsoluteURL(se.font)}),se.font=oe,se.text=""+se.text,se.sdfGlyphSize=se.sdfGlyphSize||CONFIG.sdfGlyphSize,se.unicodeFontsURL=se.unicodeFontsURL||CONFIG.unicodeFontsURL,se.colorRanges!=null){let Ee={};for(let Ae in se.colorRanges)if(se.colorRanges.hasOwnProperty(Ae)){let Re=se.colorRanges[Ae];typeof Re!="number"&&(Re=tempColor.set(Re).getHex()),Ee[Ae]=Re}se.colorRanges=Ee}Object.freeze(se);const{textureWidth:ce,sdfExponent:ue}=CONFIG,{sdfGlyphSize:fe}=se,de=ce/fe*4;let pe=atlases[fe];if(!pe){const Ee=document.createElement("canvas");Ee.width=ce,Ee.height=fe*256/de,pe=atlases[fe]={glyphCount:0,sdfGlyphSize:fe,sdfCanvas:Ee,sdfTexture:new Texture(Ee,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},pe.sdfTexture.generateMipmaps=!1,initContextLossHandling(pe)}const{sdfTexture:me,sdfCanvas:_e}=pe;typesetInWorker(se).then(Ee=>{const{glyphIds:Ae,glyphFontIndices:Re,fontData:Be,glyphPositions:De,fontSize:Oe,timings:Pe}=Ee,Ie=[],Fe=new Float32Array(Ae.length*4);let $e=0,Ve=0;const ke=now$1(),We=Be.map(nt=>{let at=pe.glyphsByFont.get(nt.src);return at||pe.glyphsByFont.set(nt.src,at=new Map),at});Ae.forEach((nt,at)=>{const mt=Re[at],{src:Ye,unitsPerEm:rt}=Be[mt];let lt=We[mt].get(nt);if(!lt){const{path:yt,pathBounds:st}=Ee.glyphData[Ye][nt],gt=Math.max(st[2]-st[0],st[3]-st[1])/fe*(CONFIG.sdfMargin*fe+.5),Et=pe.glyphCount++,bt=[st[0]-gt,st[1]-gt,st[2]+gt,st[3]+gt];We[mt].set(nt,lt={path:yt,atlasIndex:Et,sdfViewBox:bt}),Ie.push(lt)}const{sdfViewBox:_t}=lt,Xe=De[Ve++],et=De[Ve++],ft=Oe/rt;Fe[$e++]=Xe+_t[0]*ft,Fe[$e++]=et+_t[1]*ft,Fe[$e++]=Xe+_t[2]*ft,Fe[$e++]=et+_t[3]*ft,Ae[at]=lt.atlasIndex}),Pe.quads=(Pe.quads||0)+(now$1()-ke);const je=now$1();Pe.sdf={};const He=_e.height,tt=Math.ceil(pe.glyphCount/de),Ze=Math.pow(2,Math.ceil(Math.log2(tt*fe)));Ze>He&&(console.info(`Increasing SDF texture size ${He}->${Ze}`),resizeWebGLCanvasWithoutClearing(_e,ce,Ze),me.dispose()),Promise.all(Ie.map(nt=>generateGlyphSDF(nt,pe,se.gpuAccelerateSDF).then(({timing:at})=>{Pe.sdf[nt.atlasIndex]=at}))).then(()=>{Ie.length&&!pe.contextLost&&(safariPre15Workaround(pe),me.needsUpdate=!0),Pe.sdfTotal=now$1()-je,Pe.total=now$1()-ae,te(Object.freeze({parameters:se,sdfTexture:me,sdfGlyphSize:fe,sdfExponent:ue,glyphBounds:Fe,glyphAtlasIndices:Ae,glyphColors:Ee.glyphColors,caretPositions:Ee.caretPositions,chunkedBounds:Ee.chunkedBounds,ascender:Ee.ascender,descender:Ee.descender,lineHeight:Ee.lineHeight,capHeight:Ee.capHeight,xHeight:Ee.xHeight,topBaseline:Ee.topBaseline,blockBounds:Ee.blockBounds,visibleBounds:Ee.visibleBounds,timings:Ee.timings}))})}),Promise.resolve().then(()=>{pe.contextLost||warmUpSDFCanvas(_e)})}function generateGlyphSDF({path:se,atlasIndex:te,sdfViewBox:ae},{sdfGlyphSize:oe,sdfCanvas:ce,contextLost:ue},fe){if(ue)return Promise.resolve({timing:-1});const{textureWidth:de,sdfExponent:pe}=CONFIG,me=Math.max(ae[2]-ae[0],ae[3]-ae[1]),_e=Math.floor(te/4),be=_e%(de/oe)*oe,Ee=Math.floor(_e/(de/oe))*oe,Ae=te%4;return generateSDF(oe,oe,se,ae,me,pe,ce,be,Ee,Ae,fe)}function initContextLossHandling(se){const te=se.sdfCanvas;te.addEventListener("webglcontextlost",ae=>{console.log("Context Lost",ae),ae.preventDefault(),se.contextLost=!0}),te.addEventListener("webglcontextrestored",ae=>{console.log("Context Restored",ae),se.contextLost=!1;const oe=[];se.glyphsByFont.forEach(ce=>{ce.forEach(ue=>{oe.push(generateGlyphSDF(ue,se,!0))})}),Promise.all(oe).then(()=>{safariPre15Workaround(se),se.sdfTexture.needsUpdate=!0})})}function preloadFont({font:se,characters:te,sdfGlyphSize:ae},oe){let ce=Array.isArray(te)?te.join(`
`):""+te;getTextRenderInfo({font:se,sdfGlyphSize:ae,text:ce},oe)}function assign(se,te){for(let ae in te)te.hasOwnProperty(ae)&&(se[ae]=te[ae]);return se}let linkEl;function toAbsoluteURL(se){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=se,linkEl.href}function safariPre15Workaround(se){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:te,sdfTexture:ae}=se,{width:oe,height:ce}=te,ue=se.sdfCanvas.getContext("webgl");let fe=ae.image.data;(!fe||fe.length!==oe*ce*4)&&(fe=new Uint8Array(oe*ce*4),ae.image={width:oe,height:ce,data:fe},ae.flipY=!1,ae.isDataTexture=!0),ue.readPixels(0,0,oe,ce,ue.RGBA,ue.UNSIGNED_BYTE,fe)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[createTypesetter,fontResolverWorkerModule,bidiFactory],init(se,te,ae){return se(te,ae())}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(se){return function(te){return new Promise(ae=>{se.typeset(te,ae)})}},getTransferables(se){const te=[];for(let ae in se)se[ae]&&se[ae].buffer&&te.push(se[ae].buffer);return te}});typesetInWorker.onMainThread;const templateGeometries={};function getTemplateGeometry(se){let te=templateGeometries[se];return te||(te=templateGeometries[se]=new PlaneGeometry(1,1,se,se).translate(.5,.5,0)),te}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(te){if(te!==this._detail){this._detail=te,(typeof te!="number"||te<1)&&(te=1);let ae=getTemplateGeometry(te);["position","normal","uv"].forEach(oe=>{this.attributes[oe]=ae.attributes[oe].clone()}),this.setIndex(ae.getIndex().clone())}}get detail(){return this._detail}set curveRadius(te){te!==this._curveRadius&&(this._curveRadius=te,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(te,ae,oe,ce,ue){this.updateAttributeData(glyphBoundsAttrName,te,4),this.updateAttributeData(glyphIndexAttrName,ae,1),this.updateAttributeData(glyphColorAttrName,ue,3),this._blockBounds=oe,this._chunkedBounds=ce,this.instanceCount=ae.length,this._updateBounds()}_updateBounds(){const te=this._blockBounds;if(te){const{curveRadius:ae,boundingBox:oe}=this;if(ae){const{PI:ce,floor:ue,min:fe,max:de,sin:pe,cos:me}=Math,_e=ce/2,be=ce*2,Ee=Math.abs(ae),Ae=te[0]/Ee,Re=te[2]/Ee,Be=ue((Ae+_e)/be)!==ue((Re+_e)/be)?-Ee:fe(pe(Ae)*Ee,pe(Re)*Ee),De=ue((Ae-_e)/be)!==ue((Re-_e)/be)?Ee:de(pe(Ae)*Ee,pe(Re)*Ee),Oe=ue((Ae+ce)/be)!==ue((Re+ce)/be)?Ee*2:de(Ee-me(Ae)*Ee,Ee-me(Re)*Ee);oe.min.set(Be,te[1],ae<0?-Oe:0),oe.max.set(De,te[3],ae<0?0:Oe)}else oe.min.set(te[0],te[1],0),oe.max.set(te[2],te[3],0);oe.getBoundingSphere(this.boundingSphere)}}applyClipRect(te){let ae=this.getAttribute(glyphIndexAttrName).count,oe=this._chunkedBounds;if(oe)for(let ce=oe.length;ce--;){ae=oe[ce].end;let ue=oe[ce].rect;if(ue[1]<te.w&&ue[3]>te.y&&ue[0]<te.z&&ue[2]>te.x)break}this.instanceCount=ae}updateAttributeData(te,ae,oe){const ce=this.getAttribute(te);ae?ce&&ce.array.length===ae.length?(ce.array.set(ae),ce.needsUpdate=!0):(this.setAttribute(te,new InstancedBufferAttribute(ae,oe)),delete this._maxInstanceCount,this.dispose()):ce&&this.deleteAttribute(te)}}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(se){const te=createDerivedMaterial(se,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color$1},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:ae,fragmentShader:oe}){let ce=/\buniform\s+vec3\s+diffuse\b/;return ce.test(oe)&&(oe=oe.replace(ce,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),ce.test(ae)||(ae=ae.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:ae,fragmentShader:oe}}});return te.transparent=!0,te.forceSinglePass=!0,Object.defineProperties(te,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),te}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(se){return Array.isArray(se)?se[0]:se}let getFlatRaycastMesh=()=>{const se=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>se,se},getCurvedRaycastMesh=()=>{const se=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>se,se};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const te=new GlyphsGeometry;super(te,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(te){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(te):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},ae=>{this._isSyncing=!1,this._textRenderInfo=ae,this.geometry.updateGlyphs(ae.glyphBounds,ae.glyphAtlasIndices,ae.blockBounds,ae.chunkedBounds,ae.glyphColors);const oe=this._queuedSyncs;oe&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{oe.forEach(ce=>ce&&ce())})),this.dispatchEvent(syncCompleteEvent),te&&te()})))}onBeforeRender(te,ae,oe,ce,ue,fe){this.sync(),ue.isTroikaTextMaterial&&this._prepareForRender(ue)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(te){return createTextDerivedMaterial(te)}get material(){let te=this._derivedMaterial;const ae=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!te||!te.isDerivedFrom(ae))&&(te=this._derivedMaterial=this.createDerivedMaterial(ae),ae.addEventListener("dispose",function oe(){ae.removeEventListener("dispose",oe),te.dispose()})),this.hasOutline()){let oe=te._outlineMtl;return oe||(oe=te._outlineMtl=Object.create(te,{id:{value:te.id+.1}}),oe.isTextOutlineMaterial=!0,oe.depthWrite=!1,oe.map=null,te.addEventListener("dispose",function ce(){te.removeEventListener("dispose",ce),oe.dispose()})),[oe,te]}else return te}set material(te){te&&te.isTroikaTextMaterial?(this._derivedMaterial=te,this._baseMaterial=te.baseMaterial):this._baseMaterial=te}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(te){this.geometry.detail=te}get curveRadius(){return this.geometry.curveRadius}set curveRadius(te){this.geometry.curveRadius=te}get customDepthMaterial(){return first(this.material).getDepthMaterial()}set customDepthMaterial(te){}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}set customDistanceMaterial(te){}_prepareForRender(te){const ae=te.isTextOutlineMaterial,oe=te.uniforms,ce=this.textRenderInfo;if(ce){const{sdfTexture:de,blockBounds:pe}=ce;oe.uTroikaSDFTexture.value=de,oe.uTroikaSDFTextureSize.value.set(de.image.width,de.image.height),oe.uTroikaSDFGlyphSize.value=ce.sdfGlyphSize,oe.uTroikaSDFExponent.value=ce.sdfExponent,oe.uTroikaTotalBounds.value.fromArray(pe),oe.uTroikaUseGlyphColors.value=!ae&&!!ce.glyphColors;let me=0,_e=0,be=0,Ee,Ae,Re,Be=0,De=0;if(ae){let{outlineWidth:Pe,outlineOffsetX:Ie,outlineOffsetY:Fe,outlineBlur:$e,outlineOpacity:Ve}=this;me=this._parsePercent(Pe)||0,_e=Math.max(0,this._parsePercent($e)||0),Ee=Ve,Be=this._parsePercent(Ie)||0,De=this._parsePercent(Fe)||0}else be=Math.max(0,this._parsePercent(this.strokeWidth)||0),be&&(Re=this.strokeColor,oe.uTroikaStrokeColor.value.set(Re??defaultStrokeColor),Ae=this.strokeOpacity,Ae==null&&(Ae=1)),Ee=this.fillOpacity;oe.uTroikaEdgeOffset.value=me,oe.uTroikaPositionOffset.value.set(Be,De),oe.uTroikaBlurRadius.value=_e,oe.uTroikaStrokeWidth.value=be,oe.uTroikaStrokeOpacity.value=Ae,oe.uTroikaFillOpacity.value=Ee??1,oe.uTroikaCurveRadius.value=this.curveRadius||0;let Oe=this.clipRect;if(Oe&&Array.isArray(Oe)&&Oe.length===4)oe.uTroikaClipRect.value.fromArray(Oe);else{const Pe=(this.fontSize||.1)*100;oe.uTroikaClipRect.value.set(pe[0]-Pe,pe[1]-Pe,pe[2]+Pe,pe[3]+Pe)}this.geometry.applyClipRect(oe.uTroikaClipRect.value)}oe.uTroikaSDFDebug.value=!!this.debugSDF,te.polygonOffset=!!this.depthOffset,te.polygonOffsetFactor=te.polygonOffsetUnits=this.depthOffset||0;const ue=ae?this.outlineColor||0:this.color;if(ue==null)delete te.color;else{const de=te.hasOwnProperty("color")?te.color:te.color=new Color$1;(ue!==de._input||typeof ue=="object")&&de.set(de._input=ue)}let fe=this.orientation||defaultOrient;if(fe!==te._orientation){let de=oe.uTroikaOrient.value;fe=fe.replace(/[^-+xyz]/g,"");let pe=fe!==defaultOrient&&fe.match(/^([-+])([xyz])([-+])([xyz])$/);if(pe){let[,me,_e,be,Ee]=pe;tempVec3a.set(0,0,0)[_e]=me==="-"?1:-1,tempVec3b.set(0,0,0)[Ee]=be==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),de.setFromMatrix4(tempMat4)}else de.identity();te._orientation=fe}}_parsePercent(te){if(typeof te=="string"){let ae=te.match(/^(-?[\d.]+)%$/),oe=ae?parseFloat(ae[1]):NaN;te=(isNaN(oe)?0:oe/100)*this.fontSize}return te}localPositionToTextCoords(te,ae=new Vector2){ae.copy(te);const oe=this.curveRadius;return oe&&(ae.x=Math.atan2(te.x,Math.abs(oe)-Math.abs(te.z))*Math.abs(oe)),ae}worldPositionToTextCoords(te,ae=new Vector2){return tempVec3a.copy(te),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),ae)}raycast(te,ae){const{textRenderInfo:oe,curveRadius:ce}=this;if(oe){const ue=oe.blockBounds,fe=ce?getCurvedRaycastMesh():getFlatRaycastMesh(),de=fe.geometry,{position:pe,uv:me}=de.attributes;for(let _e=0;_e<me.count;_e++){let be=ue[0]+me.getX(_e)*(ue[2]-ue[0]);const Ee=ue[1]+me.getY(_e)*(ue[3]-ue[1]);let Ae=0;ce&&(Ae=ce-Math.cos(be/ce)*ce,be=Math.sin(be/ce)*ce),pe.setXYZ(_e,be,Ee,Ae)}de.boundingSphere=this.geometry.boundingSphere,de.boundingBox=this.geometry.boundingBox,fe.matrixWorld=this.matrixWorld,fe.material.side=this.material.side,tempArray.length=0,fe.raycast(te,tempArray);for(let _e=0;_e<tempArray.length;_e++)tempArray[_e].object=this,ae.push(tempArray[_e])}}copy(te){const ae=this.geometry;return super.copy(te),this.geometry=ae,COPYABLE_PROPS.forEach(oe=>{this[oe]=te[oe]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(se=>{const te="_private_"+se;Object.defineProperty(Text$1.prototype,se,{get(){return this[te]},set(ae){ae!==this[te]&&(this[te]=ae,this._needsSync=!0)}})});new Box3;new Color$1;const Text=reactExports.forwardRef(({sdfGlyphSize:se=64,anchorX:te="center",anchorY:ae="middle",font:oe,fontSize:ce=1,children:ue,characters:fe,onSync:de,...pe},me)=>{const _e=useThree(({invalidate:Re})=>Re),[be]=reactExports.useState(()=>new Text$1),[Ee,Ae]=reactExports.useMemo(()=>{const Re=[];let Be="";return reactExports.Children.forEach(ue,De=>{typeof De=="string"||typeof De=="number"?Be+=De:Re.push(De)}),[Re,Be]},[ue]);return suspend(()=>new Promise(Re=>preloadFont({font:oe,characters:fe},Re)),["troika-text",oe,fe]),reactExports.useLayoutEffect(()=>void be.sync(()=>{_e(),de&&de(be)})),reactExports.useEffect(()=>()=>be.dispose(),[be]),reactExports.createElement("primitive",_extends$1({object:be,ref:me,font:oe,text:Ae,anchorX:te,anchorY:ae,fontSize:ce,sdfGlyphSize:se},pe),Ee)});function shaderMaterial(se,te,ae,oe){var ce;return ce=class extends ShaderMaterial{constructor(ue){super({vertexShader:te,fragmentShader:ae,...ue});for(const fe in se)this.uniforms[fe]=new Uniform(se[fe]),Object.defineProperty(this,fe,{get(){return this.uniforms[fe].value},set(de){this.uniforms[fe].value=de}});this.uniforms=UniformsUtils.clone(this.uniforms)}},ce.key=MathUtils.generateUUID(),ce}const IsObject=se=>se===Object(se)&&!Array.isArray(se)&&typeof se!="function";function useTexture(se,te){const ae=useThree(ue=>ue.gl),oe=useLoader(TextureLoader,IsObject(se)?Object.values(se):se);return reactExports.useLayoutEffect(()=>{te==null||te(oe)},[te]),reactExports.useEffect(()=>{if("initTexture"in ae){let ue=[];Array.isArray(oe)?ue=oe:oe instanceof Texture?ue=[oe]:IsObject(oe)&&(ue=Object.values(oe)),ue.forEach(fe=>{fe instanceof Texture&&ae.initTexture(fe)})}},[ae,oe]),reactExports.useMemo(()=>{if(IsObject(se)){const ue={};let fe=0;for(const de in se)ue[de]=oe[fe++];return ue}else return oe},[se,oe])}useTexture.preload=se=>useLoader.preload(TextureLoader,se);useTexture.clear=se=>useLoader.clear(TextureLoader,se);const getVersion=()=>parseInt(REVISION.replace(/\D+/g,"")),version=getVersion(),ImageMaterialImpl=shaderMaterial({color:new Color$1("white"),scale:new Vector2(1,1),imageBounds:new Vector2(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${version>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),ImageBase=reactExports.forwardRef(({children:se,color:te,segments:ae=1,scale:oe=1,zoom:ce=1,grayscale:ue=0,opacity:fe=1,radius:de=0,texture:pe,toneMapped:me,transparent:_e,side:be,...Ee},Ae)=>{extend({ImageMaterial:ImageMaterialImpl});const Re=reactExports.useRef(null),Be=useThree(Ie=>Ie.size),De=Array.isArray(oe)?[oe[0],oe[1]]:[oe,oe],Oe=[pe.image.width,pe.image.height],Pe=Math.max(Be.width,Be.height);return reactExports.useImperativeHandle(Ae,()=>Re.current,[]),reactExports.useLayoutEffect(()=>{Re.current.geometry.parameters&&Re.current.material.scale.set(De[0]*Re.current.geometry.parameters.width,De[1]*Re.current.geometry.parameters.height)},[De[0],De[1]]),reactExports.createElement("mesh",_extends$1({ref:Re,scale:Array.isArray(oe)?[...oe,1]:oe},Ee),reactExports.createElement("planeGeometry",{args:[1,1,ae,ae]}),reactExports.createElement("imageMaterial",{color:te,map:pe,zoom:ce,grayscale:ue,opacity:fe,scale:De,imageBounds:Oe,resolution:Pe,radius:de,toneMapped:me,transparent:_e,side:be,key:ImageMaterialImpl.key}),se)}),ImageWithUrl=reactExports.forwardRef(({url:se,...te},ae)=>{const oe=useTexture(se);return reactExports.createElement(ImageBase,_extends$1({},te,{texture:oe,ref:ae}))}),ImageWithTexture=reactExports.forwardRef(({url:se,...te},ae)=>reactExports.createElement(ImageBase,_extends$1({},te,{ref:ae}))),Image$1=reactExports.forwardRef((se,te)=>{if(se.url)return reactExports.createElement(ImageWithUrl,_extends$1({},se,{ref:te}));if(se.texture)return reactExports.createElement(ImageWithTexture,_extends$1({},se,{ref:te}));throw new Error("<Image /> requires a url or texture")});let dracoLoader=null,decoderPath="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function extensions(se=!0,te=!0,ae){return oe=>{ae&&ae(oe),se&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof se=="string"?se:decoderPath),oe.setDRACOLoader(dracoLoader)),te&&oe.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}const useGLTF=(se,te,ae,oe)=>useLoader(GLTFLoader,se,extensions(te,ae,oe));useGLTF.preload=(se,te,ae,oe)=>useLoader.preload(GLTFLoader,se,extensions(te,ae,oe));useGLTF.clear=se=>useLoader.clear(GLTFLoader,se);useGLTF.setDecoderPath=se=>{decoderPath=se};function useAnimations(se,te){const ae=reactExports.useRef(null),[oe]=reactExports.useState(()=>te?te instanceof Object3D?{current:te}:te:ae),[ce]=reactExports.useState(()=>new AnimationMixer(void 0));reactExports.useLayoutEffect(()=>{te&&(oe.current=te instanceof Object3D?te:te.current),ce._root=oe.current});const ue=reactExports.useRef({}),fe=reactExports.useMemo(()=>{const de={};return se.forEach(pe=>Object.defineProperty(de,pe.name,{enumerable:!0,get(){if(oe.current)return ue.current[pe.name]||(ue.current[pe.name]=ce.clipAction(pe,oe.current))},configurable:!0})),{ref:oe,clips:se,actions:de,names:se.map(pe=>pe.name),mixer:ce}},[se]);return useFrame((de,pe)=>ce.update(pe)),reactExports.useEffect(()=>{const de=oe.current;return()=>{ue.current={},ce.stopAllAction(),Object.values(fe.actions).forEach(pe=>{de&&ce.uncacheAction(pe,de)})}},[se]),fe}const ContactShadows=reactExports.forwardRef(({scale:se=10,frames:te=1/0,opacity:ae=1,width:oe=1,height:ce=1,blur:ue=1,near:fe=0,far:de=10,resolution:pe=512,smooth:me=!0,color:_e="#000000",depthWrite:be=!1,renderOrder:Ee,...Ae},Re)=>{const Be=reactExports.useRef(null),De=useThree(at=>at.scene),Oe=useThree(at=>at.gl),Pe=reactExports.useRef(null);oe=oe*(Array.isArray(se)?se[0]:se||1),ce=ce*(Array.isArray(se)?se[1]:se||1);const[Ie,Fe,$e,Ve,ke,We,je]=reactExports.useMemo(()=>{const at=new WebGLRenderTarget(pe,pe),mt=new WebGLRenderTarget(pe,pe);mt.texture.generateMipmaps=at.texture.generateMipmaps=!1;const Ye=new PlaneGeometry(oe,ce).rotateX(Math.PI/2),rt=new Mesh(Ye),lt=new MeshDepthMaterial;lt.depthTest=lt.depthWrite=!1,lt.onBeforeCompile=et=>{et.uniforms={...et.uniforms,ucolor:{value:new Color$1(_e)}},et.fragmentShader=et.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),et.fragmentShader=et.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const _t=new ShaderMaterial(HorizontalBlurShader),Xe=new ShaderMaterial(VerticalBlurShader);return Xe.depthTest=_t.depthTest=!1,[at,Ye,lt,rt,_t,Xe,mt]},[pe,oe,ce,se,_e]),He=at=>{Ve.visible=!0,Ve.material=ke,ke.uniforms.tDiffuse.value=Ie.texture,ke.uniforms.h.value=at*1/256,Oe.setRenderTarget(je),Oe.render(Ve,Pe.current),Ve.material=We,We.uniforms.tDiffuse.value=je.texture,We.uniforms.v.value=at*1/256,Oe.setRenderTarget(Ie),Oe.render(Ve,Pe.current),Ve.visible=!1};let tt=0,Ze,nt;return useFrame(()=>{Pe.current&&(te===1/0||tt<te)&&(tt++,Ze=De.background,nt=De.overrideMaterial,Be.current.visible=!1,De.background=null,De.overrideMaterial=$e,Oe.setRenderTarget(Ie),Oe.render(De,Pe.current),He(ue),me&&He(ue*.4),Oe.setRenderTarget(null),Be.current.visible=!0,De.overrideMaterial=nt,De.background=Ze)}),reactExports.useImperativeHandle(Re,()=>Be.current,[]),reactExports.createElement("group",_extends$1({"rotation-x":Math.PI/2},Ae,{ref:Be}),reactExports.createElement("mesh",{renderOrder:Ee,geometry:Fe,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},reactExports.createElement("meshBasicMaterial",{transparent:!0,map:Ie.texture,opacity:ae,depthWrite:be})),reactExports.createElement("orthographicCamera",{ref:Pe,args:[-oe/2,oe/2,ce/2,-ce/2,fe,de]}))});class StarfieldMaterial extends ShaderMaterial{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${version>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const genStar=se=>new Vector3().setFromSpherical(new Spherical(se,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Stars=reactExports.forwardRef(({radius:se=100,depth:te=50,count:ae=5e3,saturation:oe=0,factor:ce=4,fade:ue=!1,speed:fe=1},de)=>{const pe=reactExports.useRef(null),[me,_e,be]=reactExports.useMemo(()=>{const Ae=[],Re=[],Be=Array.from({length:ae},()=>(.5+.5*Math.random())*ce),De=new Color$1;let Oe=se+te;const Pe=te/ae;for(let Ie=0;Ie<ae;Ie++)Oe-=Pe*Math.random(),Ae.push(...genStar(Oe).toArray()),De.setHSL(Ie/ae,oe,.9),Re.push(De.r,De.g,De.b);return[new Float32Array(Ae),new Float32Array(Re),new Float32Array(Be)]},[ae,te,ce,se,oe]);useFrame(Ae=>pe.current&&(pe.current.uniforms.time.value=Ae.clock.elapsedTime*fe));const[Ee]=reactExports.useState(()=>new StarfieldMaterial);return reactExports.createElement("points",{ref:de},reactExports.createElement("bufferGeometry",null,reactExports.createElement("bufferAttribute",{attach:"attributes-position",args:[me,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-color",args:[_e,3]}),reactExports.createElement("bufferAttribute",{attach:"attributes-size",args:[be,1]})),reactExports.createElement("primitive",{ref:pe,object:Ee,attach:"material",blending:AdditiveBlending,"uniforms-fade-value":ue,depthWrite:!1,transparent:!0,vertexColors:!0}))});/**
 * postprocessing v6.37.2 build Fri Mar 28 2025
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2025 Raoul van Rüschen
 * @license Zlib
 */var MILLISECONDS_TO_SECONDS=1/1e3,SECONDS_TO_MILLISECONDS=1e3,Timer=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(se){typeof document<"u"&&document.hidden!==void 0&&(se?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=se)}get delta(){return this._delta*MILLISECONDS_TO_SECONDS}get fixedDelta(){return this._fixedDelta*MILLISECONDS_TO_SECONDS}set fixedDelta(se){this._fixedDelta=se*SECONDS_TO_MILLISECONDS}get elapsed(){return this._elapsed*MILLISECONDS_TO_SECONDS}update(se){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(se!==void 0?se:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(se){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},fullscreenGeometry=(()=>{const se=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),te=new Float32Array([0,0,2,0,0,2]),ae=new BufferGeometry;return ae.setAttribute("position",new BufferAttribute(se,3)),ae.setAttribute("uv",new BufferAttribute(te,2)),ae})(),Pass=class Zh{static get fullscreenGeometry(){return fullscreenGeometry}constructor(te="Pass",ae=new Scene,oe=new Camera){this.name=te,this.renderer=null,this.scene=ae,this.camera=oe,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(te){if(this.rtt===te){const ae=this.fullscreenMaterial;ae!==null&&(ae.needsUpdate=!0),this.rtt=!te}}set mainScene(te){}set mainCamera(te){}setRenderer(te){this.renderer=te}isEnabled(){return this.enabled}setEnabled(te){this.enabled=te}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(te){let ae=this.screen;ae!==null?ae.material=te:(ae=new Mesh(Zh.fullscreenGeometry,te),ae.frustumCulled=!1,this.scene===null&&(this.scene=new Scene),this.scene.add(ae),this.screen=ae)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(te){this.fullscreenMaterial=te}getDepthTexture(){return null}setDepthTexture(te,ae=BasicDepthPacking){}render(te,ae,oe,ce,ue){throw new Error("Render method not implemented!")}setSize(te,ae){}initialize(te,ae,oe){}dispose(){for(const te of Object.keys(this)){const ae=this[te];(ae instanceof WebGLRenderTarget||ae instanceof Material||ae instanceof Texture||ae instanceof Zh)&&this[te].dispose()}this.fullscreenMaterial!==null&&this.fullscreenMaterial.dispose()}},ClearMaskPass=class extends Pass{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(se,te,ae,oe,ce){const ue=se.state.buffers.stencil;ue.setLocked(!1),ue.setTest(!1)}},copy_default=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,common_default="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",CopyMaterial=class extends ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Uniform(null),opacity:new Uniform(1)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:copy_default,vertexShader:common_default})}set inputBuffer(se){this.uniforms.inputBuffer.value=se}setInputBuffer(se){this.uniforms.inputBuffer.value=se}getOpacity(se){return this.uniforms.opacity.value}setOpacity(se){this.uniforms.opacity.value=se}},CopyPass=class extends Pass{constructor(se,te=!0){super("CopyPass"),this.fullscreenMaterial=new CopyMaterial,this.needsSwap=!1,this.renderTarget=se,se===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=te}get resize(){return this.autoResize}set resize(se){this.autoResize=se}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(se){this.autoResize=se}render(se,te,ae,oe,ce){this.fullscreenMaterial.inputBuffer=te.texture,se.setRenderTarget(this.renderToScreen?null:this.renderTarget),se.render(this.scene,this.camera)}setSize(se,te){this.autoResize&&this.renderTarget.setSize(se,te)}initialize(se,te,ae){ae!==void 0&&(this.renderTarget.texture.type=ae,ae!==UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":se!==null&&se.outputColorSpace===SRGBColorSpace$1&&(this.renderTarget.texture.colorSpace=SRGBColorSpace$1))}},color$1=new Color$1,ClearPass=class extends Pass{constructor(se=!0,te=!0,ae=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=se,this.depth=te,this.stencil=ae,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(se,te,ae){this.color=se,this.depth=te,this.stencil=ae}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(se){this.overrideClearColor=se}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(se){this.overrideClearAlpha=se}render(se,te,ae,oe,ce){const ue=this.overrideClearColor,fe=this.overrideClearAlpha,de=se.getClearAlpha(),pe=ue!==null,me=fe>=0;pe?(se.getClearColor(color$1),se.setClearColor(ue,me?fe:de)):me&&se.setClearAlpha(fe),se.setRenderTarget(this.renderToScreen?null:te),se.clear(this.color,this.depth,this.stencil),pe?se.setClearColor(color$1,de):me&&se.setClearAlpha(de)}},MaskPass=class extends Pass{constructor(se,te){super("MaskPass",se,te),this.needsSwap=!1,this.clearPass=new ClearPass(!1,!1,!0),this.inverse=!1}set mainScene(se){this.scene=se}set mainCamera(se){this.camera=se}get inverted(){return this.inverse}set inverted(se){this.inverse=se}get clear(){return this.clearPass.enabled}set clear(se){this.clearPass.enabled=se}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(se){this.inverted=se}render(se,te,ae,oe,ce){const ue=se.getContext(),fe=se.state.buffers,de=this.scene,pe=this.camera,me=this.clearPass,_e=this.inverted?0:1,be=1-_e;fe.color.setMask(!1),fe.depth.setMask(!1),fe.color.setLocked(!0),fe.depth.setLocked(!0),fe.stencil.setTest(!0),fe.stencil.setOp(ue.REPLACE,ue.REPLACE,ue.REPLACE),fe.stencil.setFunc(ue.ALWAYS,_e,4294967295),fe.stencil.setClear(be),fe.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?me.render(se,null):(me.render(se,te),me.render(se,ae))),this.renderToScreen?(se.setRenderTarget(null),se.render(de,pe)):(se.setRenderTarget(te),se.render(de,pe),se.setRenderTarget(ae),se.render(de,pe)),fe.color.setLocked(!1),fe.depth.setLocked(!1),fe.stencil.setLocked(!1),fe.stencil.setFunc(ue.EQUAL,1,4294967295),fe.stencil.setOp(ue.KEEP,ue.KEEP,ue.KEEP),fe.stencil.setLocked(!0)}},EffectComposer=class{constructor(se=null,{depthBuffer:te=!0,stencilBuffer:ae=!1,multisampling:oe=0,frameBufferType:ce}={}){this.renderer=null,this.inputBuffer=this.createBuffer(te,ae,ce,oe),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new CopyPass,this.depthTexture=null,this.passes=[],this.timer=new Timer,this.autoRenderToScreen=!0,this.setRenderer(se)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(se){const te=this.inputBuffer,ae=this.multisampling;ae>0&&se>0?(this.inputBuffer.samples=se,this.outputBuffer.samples=se,this.inputBuffer.dispose(),this.outputBuffer.dispose()):ae!==se&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(te.depthBuffer,te.stencilBuffer,te.texture.type,se),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(se){if(this.renderer=se,se!==null){const te=se.getSize(new Vector2),ae=se.getContext().getContextAttributes().alpha,oe=this.inputBuffer.texture.type;oe===UnsignedByteType&&se.outputColorSpace===SRGBColorSpace$1&&(this.inputBuffer.texture.colorSpace=SRGBColorSpace$1,this.outputBuffer.texture.colorSpace=SRGBColorSpace$1,this.inputBuffer.dispose(),this.outputBuffer.dispose()),se.autoClear=!1,this.setSize(te.width,te.height);for(const ce of this.passes)ce.initialize(se,ae,oe)}}replaceRenderer(se,te=!0){const ae=this.renderer,oe=ae.domElement.parentNode;return this.setRenderer(se),te&&oe!==null&&(oe.removeChild(ae.domElement),oe.appendChild(se.domElement)),ae}createDepthTexture(){const se=this.depthTexture=new DepthTexture;return this.inputBuffer.depthTexture=se,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(se.format=DepthStencilFormat,se.type=UnsignedInt248Type):se.type=UnsignedIntType,se}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const se of this.passes)se.setDepthTexture(null)}}createBuffer(se,te,ae,oe){const ce=this.renderer,ue=ce===null?new Vector2:ce.getDrawingBufferSize(new Vector2),fe={minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:te,depthBuffer:se,type:ae},de=new WebGLRenderTarget(ue.width,ue.height,fe);return oe>0&&(de.ignoreDepthForMultisampleCopy=!1,de.samples=oe),ae===UnsignedByteType&&ce!==null&&ce.outputColorSpace===SRGBColorSpace$1&&(de.texture.colorSpace=SRGBColorSpace$1),de.texture.name="EffectComposer.Buffer",de.texture.generateMipmaps=!1,de}setMainScene(se){for(const te of this.passes)te.mainScene=se}setMainCamera(se){for(const te of this.passes)te.mainCamera=se}addPass(se,te){const ae=this.passes,oe=this.renderer,ce=oe.getDrawingBufferSize(new Vector2),ue=oe.getContext().getContextAttributes().alpha,fe=this.inputBuffer.texture.type;if(se.setRenderer(oe),se.setSize(ce.width,ce.height),se.initialize(oe,ue,fe),this.autoRenderToScreen&&(ae.length>0&&(ae[ae.length-1].renderToScreen=!1),se.renderToScreen&&(this.autoRenderToScreen=!1)),te!==void 0?ae.splice(te,0,se):ae.push(se),this.autoRenderToScreen&&(ae[ae.length-1].renderToScreen=!0),se.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const de=this.createDepthTexture();for(se of ae)se.setDepthTexture(de)}else se.setDepthTexture(this.depthTexture)}removePass(se){const te=this.passes,ae=te.indexOf(se);if(ae!==-1&&te.splice(ae,1).length>0){if(this.depthTexture!==null){const ue=(de,pe)=>de||pe.needsDepthTexture;te.reduce(ue,!1)||(se.getDepthTexture()===this.depthTexture&&se.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&ae===te.length&&(se.renderToScreen=!1,te.length>0&&(te[te.length-1].renderToScreen=!0))}}removeAllPasses(){const se=this.passes;this.deleteDepthTexture(),se.length>0&&(this.autoRenderToScreen&&(se[se.length-1].renderToScreen=!1),this.passes=[])}render(se){const te=this.renderer,ae=this.copyPass;let oe=this.inputBuffer,ce=this.outputBuffer,ue=!1,fe,de,pe;se===void 0&&(this.timer.update(),se=this.timer.getDelta());for(const me of this.passes)me.enabled&&(me.render(te,oe,ce,se,ue),me.needsSwap&&(ue&&(ae.renderToScreen=me.renderToScreen,fe=te.getContext(),de=te.state.buffers.stencil,de.setFunc(fe.NOTEQUAL,1,4294967295),ae.render(te,oe,ce,se,ue),de.setFunc(fe.EQUAL,1,4294967295)),pe=oe,oe=ce,ce=pe),me instanceof MaskPass?ue=!0:me instanceof ClearMaskPass&&(ue=!1))}setSize(se,te,ae){const oe=this.renderer,ce=oe.getSize(new Vector2);(se===void 0||te===void 0)&&(se=ce.width,te=ce.height),(ce.width!==se||ce.height!==te)&&oe.setSize(se,te,ae);const ue=oe.getDrawingBufferSize(new Vector2);this.inputBuffer.setSize(ue.width,ue.height),this.outputBuffer.setSize(ue.width,ue.height);for(const fe of this.passes)fe.setSize(ue.width,ue.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const se of this.passes)se.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose(),Pass.fullscreenGeometry.dispose()}},EffectAttribute={NONE:0,DEPTH:1,CONVOLUTION:2},EffectShaderSection={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},EffectShaderData=class{constructor(){this.shaderParts=new Map([[EffectShaderSection.FRAGMENT_HEAD,null],[EffectShaderSection.FRAGMENT_MAIN_UV,null],[EffectShaderSection.FRAGMENT_MAIN_IMAGE,null],[EffectShaderSection.VERTEX_HEAD,null],[EffectShaderSection.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=EffectAttribute.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=LinearSRGBColorSpace$1}},workaroundEnabled=!1,OverrideMaterialManager=class{constructor(se=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(se),this.meshCount=0,this.replaceMaterial=te=>{if(te.isMesh){let ae;if(te.material.flatShading)switch(te.material.side){case DoubleSide:ae=this.materialsFlatShadedDoubleSide;break;case BackSide:ae=this.materialsFlatShadedBackSide;break;default:ae=this.materialsFlatShaded;break}else switch(te.material.side){case DoubleSide:ae=this.materialsDoubleSide;break;case BackSide:ae=this.materialsBackSide;break;default:ae=this.materials;break}this.originalMaterials.set(te,te.material),te.isSkinnedMesh?te.material=ae[2]:te.isInstancedMesh?te.material=ae[1]:te.material=ae[0],++this.meshCount}}}cloneMaterial(se){if(!(se instanceof ShaderMaterial))return se.clone();const te=se.uniforms,ae=new Map;for(const ce in te){const ue=te[ce].value;ue.isRenderTargetTexture&&(te[ce].value=null,ae.set(ce,ue))}const oe=se.clone();for(const ce of ae)te[ce[0]].value=ce[1],oe.uniforms[ce[0]].value=ce[1];return oe}setMaterial(se){if(this.disposeMaterials(),this.material=se,se!==null){const te=this.materials=[this.cloneMaterial(se),this.cloneMaterial(se),this.cloneMaterial(se)];for(const ae of te)ae.uniforms=Object.assign({},se.uniforms),ae.side=FrontSide;te[2].skinning=!0,this.materialsBackSide=te.map(ae=>{const oe=this.cloneMaterial(ae);return oe.uniforms=Object.assign({},se.uniforms),oe.side=BackSide,oe}),this.materialsDoubleSide=te.map(ae=>{const oe=this.cloneMaterial(ae);return oe.uniforms=Object.assign({},se.uniforms),oe.side=DoubleSide,oe}),this.materialsFlatShaded=te.map(ae=>{const oe=this.cloneMaterial(ae);return oe.uniforms=Object.assign({},se.uniforms),oe.flatShading=!0,oe}),this.materialsFlatShadedBackSide=te.map(ae=>{const oe=this.cloneMaterial(ae);return oe.uniforms=Object.assign({},se.uniforms),oe.flatShading=!0,oe.side=BackSide,oe}),this.materialsFlatShadedDoubleSide=te.map(ae=>{const oe=this.cloneMaterial(ae);return oe.uniforms=Object.assign({},se.uniforms),oe.flatShading=!0,oe.side=DoubleSide,oe})}}render(se,te,ae){const oe=se.shadowMap.enabled;if(se.shadowMap.enabled=!1,workaroundEnabled){const ce=this.originalMaterials;this.meshCount=0,te.traverse(this.replaceMaterial),se.render(te,ae);for(const ue of ce)ue[0].material=ue[1];this.meshCount!==ce.size&&ce.clear()}else{const ce=te.overrideMaterial;te.overrideMaterial=this.material,se.render(te,ae),te.overrideMaterial=ce}se.shadowMap.enabled=oe}disposeMaterials(){if(this.material!==null){const se=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const te of se)te.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return workaroundEnabled}static set workaroundEnabled(se){workaroundEnabled=se}},AUTO_SIZE=-1,Resolution=class extends EventDispatcher{constructor(se,te=AUTO_SIZE,ae=AUTO_SIZE,oe=1){super(),this.resizable=se,this.baseSize=new Vector2(1,1),this.preferredSize=new Vector2(te,ae),this.target=this.preferredSize,this.s=oe,this.effectiveSize=new Vector2,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const se=this.baseSize,te=this.preferredSize,ae=this.effectiveSize,oe=this.scale;te.width!==AUTO_SIZE?ae.width=te.width:te.height!==AUTO_SIZE?ae.width=Math.round(te.height*(se.width/Math.max(se.height,1))):ae.width=Math.round(se.width*oe),te.height!==AUTO_SIZE?ae.height=te.height:te.width!==AUTO_SIZE?ae.height=Math.round(te.width/Math.max(se.width/Math.max(se.height,1),1)):ae.height=Math.round(se.height*oe)}get width(){return this.effectiveSize.width}set width(se){this.preferredWidth=se}get height(){return this.effectiveSize.height}set height(se){this.preferredHeight=se}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(se){this.s!==se&&(this.s=se,this.preferredSize.setScalar(AUTO_SIZE),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(se){this.scale=se}get baseWidth(){return this.baseSize.width}set baseWidth(se){this.baseSize.width!==se&&(this.baseSize.width=se,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(se){this.baseWidth=se}get baseHeight(){return this.baseSize.height}set baseHeight(se){this.baseSize.height!==se&&(this.baseSize.height=se,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(se){this.baseHeight=se}setBaseSize(se,te){(this.baseSize.width!==se||this.baseSize.height!==te)&&(this.baseSize.set(se,te),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(se){this.preferredSize.width!==se&&(this.preferredSize.width=se,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(se){this.preferredWidth=se}get preferredHeight(){return this.preferredSize.height}set preferredHeight(se){this.preferredSize.height!==se&&(this.preferredSize.height=se,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(se){this.preferredHeight=se}setPreferredSize(se,te){(this.preferredSize.width!==se||this.preferredSize.height!==te)&&(this.preferredSize.set(se,te),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(se){this.s=se.scale,this.baseSize.set(se.baseWidth,se.baseHeight),this.preferredSize.set(se.preferredWidth,se.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return AUTO_SIZE}},BlendFunction={ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},add_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",alpha_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",average_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",color_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",color_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",color_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",darken_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",difference_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",divide_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",exclusion_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",hard_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",hard_mix_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",hue_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",invert_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",invert_rgb_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",lighten_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",linear_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",linear_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",linear_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",luminosity_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",multiply_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",negation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",normal_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",overlay_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",pin_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",reflect_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",saturation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",screen_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",soft_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",src_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",subtract_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",vivid_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",blendFunctions=new Map([[BlendFunction.ADD,add_default],[BlendFunction.ALPHA,alpha_default],[BlendFunction.AVERAGE,average_default],[BlendFunction.COLOR,color_default],[BlendFunction.COLOR_BURN,color_burn_default],[BlendFunction.COLOR_DODGE,color_dodge_default],[BlendFunction.DARKEN,darken_default],[BlendFunction.DIFFERENCE,difference_default],[BlendFunction.DIVIDE,divide_default],[BlendFunction.DST,null],[BlendFunction.EXCLUSION,exclusion_default],[BlendFunction.HARD_LIGHT,hard_light_default],[BlendFunction.HARD_MIX,hard_mix_default],[BlendFunction.HUE,hue_default],[BlendFunction.INVERT,invert_default],[BlendFunction.INVERT_RGB,invert_rgb_default],[BlendFunction.LIGHTEN,lighten_default],[BlendFunction.LINEAR_BURN,linear_burn_default],[BlendFunction.LINEAR_DODGE,linear_dodge_default],[BlendFunction.LINEAR_LIGHT,linear_light_default],[BlendFunction.LUMINOSITY,luminosity_default],[BlendFunction.MULTIPLY,multiply_default],[BlendFunction.NEGATION,negation_default],[BlendFunction.NORMAL,normal_default],[BlendFunction.OVERLAY,overlay_default],[BlendFunction.PIN_LIGHT,pin_light_default],[BlendFunction.REFLECT,reflect_default],[BlendFunction.SATURATION,saturation_default],[BlendFunction.SCREEN,screen_default],[BlendFunction.SOFT_LIGHT,soft_light_default],[BlendFunction.SRC,src_default],[BlendFunction.SUBTRACT,subtract_default],[BlendFunction.VIVID_LIGHT,vivid_light_default]]),BlendMode=class extends EventDispatcher{constructor(se,te=1){super(),this._blendFunction=se,this.opacity=new Uniform(te)}getOpacity(){return this.opacity.value}setOpacity(se){this.opacity.value=se}get blendFunction(){return this._blendFunction}set blendFunction(se){this._blendFunction=se,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(se){this.blendFunction=se}getShaderCode(){return blendFunctions.get(this.blendFunction)}},Effect=class extends EventDispatcher{constructor(se,te,{attributes:ae=EffectAttribute.NONE,blendFunction:oe=BlendFunction.NORMAL,defines:ce=new Map,uniforms:ue=new Map,extensions:fe=null,vertexShader:de=null}={}){super(),this.name=se,this.renderer=null,this.attributes=ae,this.fragmentShader=te,this.vertexShader=de,this.defines=ce,this.uniforms=ue,this.extensions=fe,this.blendMode=new BlendMode(oe),this.blendMode.addEventListener("change",pe=>this.setChanged()),this._inputColorSpace=LinearSRGBColorSpace$1,this._outputColorSpace=NoColorSpace}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(se){this._inputColorSpace=se,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(se){this._outputColorSpace=se,this.setChanged()}set mainScene(se){}set mainCamera(se){}getName(){return this.name}setRenderer(se){this.renderer=se}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(se){this.attributes=se,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(se){this.fragmentShader=se,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(se){this.vertexShader=se,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(se,te=BasicDepthPacking){}update(se,te,ae){}setSize(se,te){}initialize(se,te,ae){}dispose(){for(const se of Object.keys(this)){const te=this[se];(te instanceof WebGLRenderTarget||te instanceof Material||te instanceof Texture||te instanceof Pass)&&this[se].dispose()}}},KernelSize={MEDIUM:2,LARGE:3},convolution_kawase_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,convolution_kawase_default2="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",kernelPresets=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],KawaseBlurMaterial=class extends ShaderMaterial{constructor(se=new Vector4){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector4),scale:new Uniform(1),kernel:new Uniform(0)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_kawase_default,vertexShader:convolution_kawase_default2}),this.setTexelSize(se.x,se.y),this.kernelSize=KernelSize.MEDIUM}set inputBuffer(se){this.uniforms.inputBuffer.value=se}setInputBuffer(se){this.inputBuffer=se}get kernelSequence(){return kernelPresets[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(se){this.uniforms.scale.value=se}getScale(){return this.uniforms.scale.value}setScale(se){this.uniforms.scale.value=se}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(se){this.uniforms.kernel.value=se}setKernel(se){this.kernel=se}setTexelSize(se,te){this.uniforms.texelSize.value.set(se,te,se*.5,te*.5)}setSize(se,te){const ae=1/se,oe=1/te;this.uniforms.texelSize.value.set(ae,oe,ae*.5,oe*.5)}},KawaseBlurPass=class extends Pass{constructor({kernelSize:se=KernelSize.MEDIUM,resolutionScale:te=.5,width:ae=Resolution.AUTO_SIZE,height:oe=Resolution.AUTO_SIZE,resolutionX:ce=ae,resolutionY:ue=oe}={}){super("KawaseBlurPass"),this.renderTargetA=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const fe=this.resolution=new Resolution(this,ce,ue,te);fe.addEventListener("change",de=>this.setSize(fe.baseWidth,fe.baseHeight)),this._blurMaterial=new KawaseBlurMaterial,this._blurMaterial.kernelSize=se,this.copyMaterial=new CopyMaterial}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(se){this._blurMaterial=se}get dithering(){return this.copyMaterial.dithering}set dithering(se){this.copyMaterial.dithering=se}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(se){this.blurMaterial.kernelSize=se}get width(){return this.resolution.width}set width(se){this.resolution.preferredWidth=se}get height(){return this.resolution.height}set height(se){this.resolution.preferredHeight=se}get scale(){return this.blurMaterial.scale}set scale(se){this.blurMaterial.scale=se}getScale(){return this.blurMaterial.scale}setScale(se){this.blurMaterial.scale=se}getKernelSize(){return this.kernelSize}setKernelSize(se){this.kernelSize=se}getResolutionScale(){return this.resolution.scale}setResolutionScale(se){this.resolution.scale=se}render(se,te,ae,oe,ce){const ue=this.scene,fe=this.camera,de=this.renderTargetA,pe=this.renderTargetB,me=this.blurMaterial,_e=me.kernelSequence;let be=te;this.fullscreenMaterial=me;for(let Ee=0,Ae=_e.length;Ee<Ae;++Ee){const Re=(Ee&1)===0?de:pe;me.kernel=_e[Ee],me.inputBuffer=be.texture,se.setRenderTarget(Re),se.render(ue,fe),be=Re}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=be.texture,se.setRenderTarget(this.renderToScreen?null:ae),se.render(ue,fe)}setSize(se,te){const ae=this.resolution;ae.setBaseSize(se,te);const oe=ae.width,ce=ae.height;this.renderTargetA.setSize(oe,ce),this.renderTargetB.setSize(oe,ce),this.blurMaterial.setSize(se,te)}initialize(se,te,ae){ae!==void 0&&(this.renderTargetA.texture.type=ae,this.renderTargetB.texture.type=ae,ae!==UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):se!==null&&se.outputColorSpace===SRGBColorSpace$1&&(this.renderTargetA.texture.colorSpace=SRGBColorSpace$1,this.renderTargetB.texture.colorSpace=SRGBColorSpace$1))}static get AUTO_SIZE(){return Resolution.AUTO_SIZE}},luminance_default=`#include <common>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l)*l;
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*clamp(l,0.0,1.0),l);
#else
gl_FragColor=vec4(l);
#endif
}`,LuminanceMaterial=class extends ShaderMaterial{constructor(se=!1,te=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,"")},uniforms:{inputBuffer:new Uniform(null),threshold:new Uniform(0),smoothing:new Uniform(1),range:new Uniform(null)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:luminance_default,vertexShader:common_default}),this.colorOutput=se,this.luminanceRange=te}set inputBuffer(se){this.uniforms.inputBuffer.value=se}setInputBuffer(se){this.uniforms.inputBuffer.value=se}get threshold(){return this.uniforms.threshold.value}set threshold(se){this.smoothing>0||se>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=se}getThreshold(){return this.threshold}setThreshold(se){this.threshold=se}get smoothing(){return this.uniforms.smoothing.value}set smoothing(se){this.threshold>0||se>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=se}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(se){this.smoothing=se}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(se){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(se){se?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(se){return this.colorOutput}setColorOutputEnabled(se){this.colorOutput=se}get useRange(){return this.luminanceRange!==null}set useRange(se){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(se){se!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=se,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(se){this.luminanceRange=se}},LuminancePass=class extends Pass{constructor({renderTarget:se,luminanceRange:te,colorOutput:ae,resolutionScale:oe=1,width:ce=Resolution.AUTO_SIZE,height:ue=Resolution.AUTO_SIZE,resolutionX:fe=ce,resolutionY:de=ue}={}){super("LuminancePass"),this.fullscreenMaterial=new LuminanceMaterial(ae,te),this.needsSwap=!1,this.renderTarget=se,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const pe=this.resolution=new Resolution(this,fe,de,oe);pe.addEventListener("change",me=>this.setSize(pe.baseWidth,pe.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(se,te,ae,oe,ce){const ue=this.fullscreenMaterial;ue.inputBuffer=te.texture,se.setRenderTarget(this.renderToScreen?null:this.renderTarget),se.render(this.scene,this.camera)}setSize(se,te){const ae=this.resolution;ae.setBaseSize(se,te),this.renderTarget.setSize(ae.width,ae.height)}initialize(se,te,ae){ae!==void 0&&ae!==UnsignedByteType&&(this.renderTarget.texture.type=ae,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},convolution_downsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <colorspace_fragment>
}`,convolution_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",DownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_downsampling_default,vertexShader:convolution_downsampling_default2})}set inputBuffer(se){this.uniforms.inputBuffer.value=se}setSize(se,te){this.uniforms.texelSize.value.set(1/se,1/te)}},convolution_upsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <colorspace_fragment>
}`,convolution_upsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",UpsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),supportBuffer:new Uniform(null),texelSize:new Uniform(new Vector2),radius:new Uniform(.85)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:convolution_upsampling_default,vertexShader:convolution_upsampling_default2})}set inputBuffer(se){this.uniforms.inputBuffer.value=se}set supportBuffer(se){this.uniforms.supportBuffer.value=se}get radius(){return this.uniforms.radius.value}set radius(se){this.uniforms.radius.value=se}setSize(se,te){this.uniforms.texelSize.value.set(1/se,1/te)}},MipmapBlurPass=class extends Pass{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new DownsamplingMaterial,this.upsamplingMaterial=new UpsamplingMaterial,this.resolution=new Vector2}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(se){if(this.levels!==se){const te=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let ae=0;ae<se;++ae){const oe=te.clone();oe.texture.name="Downsampling.Mipmap"+ae,this.downsamplingMipmaps.push(oe)}this.upsamplingMipmaps.push(te);for(let ae=1,oe=se-1;ae<oe;++ae){const ce=te.clone();ce.texture.name="Upsampling.Mipmap"+ae,this.upsamplingMipmaps.push(ce)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(se){this.upsamplingMaterial.radius=se}render(se,te,ae,oe,ce){const{scene:ue,camera:fe}=this,{downsamplingMaterial:de,upsamplingMaterial:pe}=this,{downsamplingMipmaps:me,upsamplingMipmaps:_e}=this;let be=te;this.fullscreenMaterial=de;for(let Ee=0,Ae=me.length;Ee<Ae;++Ee){const Re=me[Ee];de.setSize(be.width,be.height),de.inputBuffer=be.texture,se.setRenderTarget(Re),se.render(ue,fe),be=Re}this.fullscreenMaterial=pe;for(let Ee=_e.length-1;Ee>=0;--Ee){const Ae=_e[Ee];pe.setSize(be.width,be.height),pe.inputBuffer=be.texture,pe.supportBuffer=me[Ee].texture,se.setRenderTarget(Ae),se.render(ue,fe),be=Ae}}setSize(se,te){const ae=this.resolution;ae.set(se,te);let oe=ae.width,ce=ae.height;for(let ue=0,fe=this.downsamplingMipmaps.length;ue<fe;++ue)oe=Math.round(oe*.5),ce=Math.round(ce*.5),this.downsamplingMipmaps[ue].setSize(oe,ce),ue<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[ue].setSize(oe,ce)}initialize(se,te,ae){if(ae!==void 0){const oe=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const ce of oe)ce.texture.type=ae;if(ae!==UnsignedByteType)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(se!==null&&se.outputColorSpace===SRGBColorSpace$1)for(const ce of oe)ce.texture.colorSpace=SRGBColorSpace$1}}dispose(){super.dispose();for(const se of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))se.dispose()}},bloom_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 texel=texture2D(map,uv);outputColor=vec4(texel.rgb*intensity,texel.a);}`,BloomEffect=class extends Effect{constructor({blendFunction:se=BlendFunction.SCREEN,luminanceThreshold:te=.9,luminanceSmoothing:ae=.025,mipmapBlur:oe=!1,intensity:ce=1,radius:ue=.85,levels:fe=8,kernelSize:de=KernelSize.LARGE,resolutionScale:pe=.5,width:me=Resolution.AUTO_SIZE,height:_e=Resolution.AUTO_SIZE,resolutionX:be=me,resolutionY:Ee=_e}={}){super("BloomEffect",bloom_default,{blendFunction:se,uniforms:new Map([["map",new Uniform(null)],["intensity",new Uniform(ce)]])}),this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new KawaseBlurPass({kernelSize:de}),this.luminancePass=new LuminancePass({colorOutput:!0}),this.luminanceMaterial.threshold=te,this.luminanceMaterial.smoothing=ae,this.mipmapBlurPass=new MipmapBlurPass,this.mipmapBlurPass.enabled=oe,this.mipmapBlurPass.radius=ue,this.mipmapBlurPass.levels=fe,this.uniforms.get("map").value=oe?this.mipmapBlurPass.texture:this.renderTarget.texture;const Ae=this.resolution=new Resolution(this,be,Ee,pe);Ae.addEventListener("change",Re=>this.setSize(Ae.baseWidth,Ae.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(se){this.resolution.preferredWidth=se}get height(){return this.resolution.height}set height(se){this.resolution.preferredHeight=se}get dithering(){return this.blurPass.dithering}set dithering(se){this.blurPass.dithering=se}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(se){this.blurPass.kernelSize=se}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(se){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(se){this.uniforms.get("intensity").value=se}getIntensity(){return this.intensity}setIntensity(se){this.intensity=se}getResolutionScale(){return this.resolution.scale}setResolutionScale(se){this.resolution.scale=se}update(se,te,ae){const oe=this.renderTarget,ce=this.luminancePass;ce.enabled?(ce.render(se,te),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(se,ce.renderTarget):this.blurPass.render(se,ce.renderTarget,oe)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(se,te):this.blurPass.render(se,te,oe)}setSize(se,te){const ae=this.resolution;ae.setBaseSize(se,te),this.renderTarget.setSize(ae.width,ae.height),this.blurPass.resolution.copy(ae),this.luminancePass.setSize(se,te),this.mipmapBlurPass.setSize(se,te)}initialize(se,te,ae){this.blurPass.initialize(se,te,ae),this.luminancePass.initialize(se,te,ae),this.mipmapBlurPass.initialize(se,te,ae),ae!==void 0&&(this.renderTarget.texture.type=ae,se!==null&&se.outputColorSpace===SRGBColorSpace$1&&(this.renderTarget.texture.colorSpace=SRGBColorSpace$1))}},RenderPass=class extends Pass{constructor(se,te,ae=null){super("RenderPass",se,te),this.needsSwap=!1,this.clearPass=new ClearPass,this.overrideMaterialManager=ae===null?null:new OverrideMaterialManager(ae),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(se){this.scene=se}set mainCamera(se){this.camera=se}get renderToScreen(){return super.renderToScreen}set renderToScreen(se){super.renderToScreen=se,this.clearPass.renderToScreen=se}get overrideMaterial(){const se=this.overrideMaterialManager;return se!==null?se.material:null}set overrideMaterial(se){const te=this.overrideMaterialManager;se!==null?te!==null?te.setMaterial(se):this.overrideMaterialManager=new OverrideMaterialManager(se):te!==null&&(te.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(se){this.overrideMaterial=se}get clear(){return this.clearPass.enabled}set clear(se){this.clearPass.enabled=se}getSelection(){return this.selection}setSelection(se){this.selection=se}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(se){this.ignoreBackground=se}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(se){this.skipShadowMapUpdate=se}getClearPass(){return this.clearPass}render(se,te,ae,oe,ce){const ue=this.scene,fe=this.camera,de=this.selection,pe=fe.layers.mask,me=ue.background,_e=se.shadowMap.autoUpdate,be=this.renderToScreen?null:te;de!==null&&fe.layers.set(de.getLayer()),this.skipShadowMapUpdate&&(se.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(ue.background=null),this.clearPass.enabled&&this.clearPass.render(se,te),se.setRenderTarget(be),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(se,ue,fe):se.render(ue,fe),fe.layers.mask=pe,ue.background=me,se.shadowMap.autoUpdate=_e}},VignetteTechnique={DEFAULT:0,ESKIL:1},depth_downsampling_default=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[4];distances[0]=abs(c-samples[0]);distances[1]=abs(c-samples[1]);distances[2]=abs(c-samples[2]);distances[3]=abs(c-samples[3]);float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[4];d[0]=readDepth(vUv0);d[1]=readDepth(vUv1);d[2]=readDepth(vUv2);d[3]=readDepth(vUv3);int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[4];n[0]=texture2D(normalBuffer,vUv0).rgb;n[1]=texture2D(normalBuffer,vUv1).rgb;n[2]=texture2D(normalBuffer,vUv2).rgb;n[3]=texture2D(normalBuffer,vUv3).rgb;
#else
vec3 n[4];n[0]=vec3(0.0);n[1]=vec3(0.0);n[2]=vec3(0.0);n[3]=vec3(0.0);
#endif
gl_FragColor=vec4(n[index],d[index]);}`,depth_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",DepthDownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),normalBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:depth_downsampling_default,vertexShader:depth_downsampling_default2})}set depthBuffer(se){this.uniforms.depthBuffer.value=se}set depthPacking(se){this.defines.DEPTH_PACKING=se.toFixed(0),this.needsUpdate=!0}setDepthBuffer(se,te=BasicDepthPacking){this.depthBuffer=se,this.depthPacking=te}set normalBuffer(se){this.uniforms.normalBuffer.value=se,se!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(se){this.normalBuffer=se}setTexelSize(se,te){this.uniforms.texelSize.value.set(se,te)}setSize(se,te){this.uniforms.texelSize.value.set(1/se,1/te)}},DepthDownsamplingPass=class extends Pass{constructor({normalBuffer:se=null,resolutionScale:te=.5,width:ae=Resolution.AUTO_SIZE,height:oe=Resolution.AUTO_SIZE,resolutionX:ce=ae,resolutionY:ue=oe}={}){super("DepthDownsamplingPass");const fe=new DepthDownsamplingMaterial;fe.normalBuffer=se,this.fullscreenMaterial=fe,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1,type:FloatType}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const de=this.resolution=new Resolution(this,ce,ue,te);de.addEventListener("change",pe=>this.setSize(de.baseWidth,de.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(se,te=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=se,this.fullscreenMaterial.depthPacking=te}render(se,te,ae,oe,ce){se.setRenderTarget(this.renderToScreen?null:this.renderTarget),se.render(this.scene,this.camera)}setSize(se,te){const ae=this.resolution;ae.setBaseSize(se,te),this.renderTarget.setSize(ae.width,ae.height),this.fullscreenMaterial.setSize(se,te)}initialize(se,te,ae){const oe=se.getContext();if(!(oe.getExtension("EXT_color_buffer_float")||oe.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}},vignette_default=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,VignetteEffect=class extends Effect{constructor({blendFunction:se,eskil:te=!1,technique:ae=te?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT,offset:oe=.5,darkness:ce=.5}={}){super("VignetteEffect",vignette_default,{blendFunction:se,defines:new Map([["VIGNETTE_TECHNIQUE",ae.toFixed(0)]]),uniforms:new Map([["offset",new Uniform(oe)],["darkness",new Uniform(ce)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(se){this.technique!==se&&(this.defines.set("VIGNETTE_TECHNIQUE",se.toFixed(0)),this.setChanged())}get eskil(){return this.technique===VignetteTechnique.ESKIL}set eskil(se){this.technique=se?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT}getTechnique(){return this.technique}setTechnique(se){this.technique=se}get offset(){return this.uniforms.get("offset").value}set offset(se){this.uniforms.get("offset").value=se}getOffset(){return this.offset}setOffset(se){this.offset=se}get darkness(){return this.uniforms.get("darkness").value}set darkness(se){this.uniforms.get("darkness").value=se}getDarkness(){return this.darkness}setDarkness(se){this.darkness=se}},effect_default=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,effect_default2="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",EffectMaterial=class extends ShaderMaterial{constructor(se,te,ae,oe,ce=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3),aspect:new Uniform(1),time:new Uniform(0)},blending:NoBlending,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:ce}),se&&this.setShaderParts(se),te&&this.setDefines(te),ae&&this.setUniforms(ae),this.copyCameraSettings(oe)}set inputBuffer(se){this.uniforms.inputBuffer.value=se}setInputBuffer(se){this.uniforms.inputBuffer.value=se}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(se){this.uniforms.depthBuffer.value=se}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(se){this.defines.DEPTH_PACKING=se.toFixed(0),this.needsUpdate=!0}setDepthBuffer(se,te=BasicDepthPacking){this.depthBuffer=se,this.depthPacking=te}setShaderData(se){this.setShaderParts(se.shaderParts),this.setDefines(se.defines),this.setUniforms(se.uniforms),this.setExtensions(se.extensions)}setShaderParts(se){return this.fragmentShader=effect_default.replace(EffectShaderSection.FRAGMENT_HEAD,se.get(EffectShaderSection.FRAGMENT_HEAD)||"").replace(EffectShaderSection.FRAGMENT_MAIN_UV,se.get(EffectShaderSection.FRAGMENT_MAIN_UV)||"").replace(EffectShaderSection.FRAGMENT_MAIN_IMAGE,se.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=effect_default2.replace(EffectShaderSection.VERTEX_HEAD,se.get(EffectShaderSection.VERTEX_HEAD)||"").replace(EffectShaderSection.VERTEX_MAIN_SUPPORT,se.get(EffectShaderSection.VERTEX_MAIN_SUPPORT)||""),this.needsUpdate=!0,this}setDefines(se){for(const te of se.entries())this.defines[te[0]]=te[1];return this.needsUpdate=!0,this}setUniforms(se){for(const te of se.entries())this.uniforms[te[0]]=te[1];return this}setExtensions(se){this.extensions={};for(const te of se)this.extensions[te]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(se){this.encodeOutput!==se&&(se?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(se){return this.encodeOutput}setOutputEncodingEnabled(se){this.encodeOutput=se}get time(){return this.uniforms.time.value}set time(se){this.uniforms.time.value=se}setDeltaTime(se){this.uniforms.time.value+=se}adoptCameraSettings(se){this.copyCameraSettings(se)}copyCameraSettings(se){se&&(this.uniforms.cameraNear.value=se.near,this.uniforms.cameraFar.value=se.far,se instanceof PerspectiveCamera?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(se,te){const ae=this.uniforms;ae.resolution.value.set(se,te),ae.texelSize.value.set(1/se,1/te),ae.aspect.value=se/te}static get Section(){return EffectShaderSection}};function prefixSubstrings(se,te,ae){for(const oe of te){const ce="$1"+se+oe.charAt(0).toUpperCase()+oe.slice(1),ue=new RegExp("([^\\.])(\\b"+oe+"\\b)","g");for(const fe of ae.entries())fe[1]!==null&&ae.set(fe[0],fe[1].replace(ue,ce))}}function integrateEffect(se,te,ae){let oe=te.getFragmentShader(),ce=te.getVertexShader();const ue=oe!==void 0&&/mainImage/.test(oe),fe=oe!==void 0&&/mainUv/.test(oe);if(ae.attributes|=te.getAttributes(),oe===void 0)throw new Error(`Missing fragment shader (${te.name})`);if(fe&&(ae.attributes&EffectAttribute.CONVOLUTION)!==0)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${te.name})`);if(!ue&&!fe)throw new Error(`Could not find mainImage or mainUv function (${te.name})`);{const de=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,pe=ae.shaderParts;let me=pe.get(EffectShaderSection.FRAGMENT_HEAD)||"",_e=pe.get(EffectShaderSection.FRAGMENT_MAIN_UV)||"",be=pe.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE)||"",Ee=pe.get(EffectShaderSection.VERTEX_HEAD)||"",Ae=pe.get(EffectShaderSection.VERTEX_MAIN_SUPPORT)||"";const Re=new Set,Be=new Set;if(fe&&(_e+=`	${se}MainUv(UV);
`,ae.uvTransformation=!0),ce!==null&&/mainSupport/.test(ce)){const Pe=/mainSupport *\([\w\s]*?uv\s*?\)/.test(ce);Ae+=`	${se}MainSupport(`,Ae+=Pe?`vUv);
`:`);
`;for(const Ie of ce.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const Fe of Ie[1].split(/\s*,\s*/))ae.varyings.add(Fe),Re.add(Fe),Be.add(Fe);for(const Ie of ce.matchAll(de))Be.add(Ie[1])}for(const Pe of oe.matchAll(de))Be.add(Pe[1]);for(const Pe of te.defines.keys())Be.add(Pe.replace(/\([\w\s,]*\)/g,""));for(const Pe of te.uniforms.keys())Be.add(Pe);Be.delete("while"),Be.delete("for"),Be.delete("if"),te.uniforms.forEach((Pe,Ie)=>ae.uniforms.set(se+Ie.charAt(0).toUpperCase()+Ie.slice(1),Pe)),te.defines.forEach((Pe,Ie)=>ae.defines.set(se+Ie.charAt(0).toUpperCase()+Ie.slice(1),Pe));const De=new Map([["fragment",oe],["vertex",ce]]);prefixSubstrings(se,Be,ae.defines),prefixSubstrings(se,Be,De),oe=De.get("fragment"),ce=De.get("vertex");const Oe=te.blendMode;if(ae.blendModes.set(Oe.blendFunction,Oe),ue){te.inputColorSpace!==null&&te.inputColorSpace!==ae.colorSpace&&(be+=te.inputColorSpace===SRGBColorSpace$1?`color0 = sRGBTransferOETF(color0);
	`:`color0 = sRGBToLinear(color0);
	`),te.outputColorSpace!==NoColorSpace?ae.colorSpace=te.outputColorSpace:te.inputColorSpace!==null&&(ae.colorSpace=te.inputColorSpace);const Pe=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;be+=`${se}MainImage(color0, UV, `,(ae.attributes&EffectAttribute.DEPTH)!==0&&Pe.test(oe)&&(be+="depth, ",ae.readDepth=!0),be+=`color1);
	`;const Ie=se+"BlendOpacity";ae.uniforms.set(Ie,Oe.opacity),be+=`color0 = blend${Oe.blendFunction}(color0, color1, ${Ie});

	`,me+=`uniform float ${Ie};

`}if(me+=oe+`
`,ce!==null&&(Ee+=ce+`
`),pe.set(EffectShaderSection.FRAGMENT_HEAD,me),pe.set(EffectShaderSection.FRAGMENT_MAIN_UV,_e),pe.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,be),pe.set(EffectShaderSection.VERTEX_HEAD,Ee),pe.set(EffectShaderSection.VERTEX_MAIN_SUPPORT,Ae),te.extensions!==null)for(const Pe of te.extensions)ae.extensions.add(Pe)}}var EffectPass=class extends Pass{constructor(se,...te){super("EffectPass"),this.fullscreenMaterial=new EffectMaterial(null,null,null,se),this.listener=ae=>this.handleEvent(ae),this.effects=[],this.setEffects(te),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(se){for(const te of this.effects)te.mainScene=se}set mainCamera(se){this.fullscreenMaterial.copyCameraSettings(se);for(const te of this.effects)te.mainCamera=se}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(se){this.fullscreenMaterial.encodeOutput=se}get dithering(){return this.fullscreenMaterial.dithering}set dithering(se){const te=this.fullscreenMaterial;te.dithering=se,te.needsUpdate=!0}setEffects(se){for(const te of this.effects)te.removeEventListener("change",this.listener);this.effects=se.sort((te,ae)=>ae.attributes-te.attributes);for(const te of this.effects)te.addEventListener("change",this.listener)}updateMaterial(){const se=new EffectShaderData;let te=0;for(const fe of this.effects)if(fe.blendMode.blendFunction===BlendFunction.DST)se.attributes|=fe.getAttributes()&EffectAttribute.DEPTH;else{if((se.attributes&fe.getAttributes()&EffectAttribute.CONVOLUTION)!==0)throw new Error(`Convolution effects cannot be merged (${fe.name})`);integrateEffect("e"+te++,fe,se)}let ae=se.shaderParts.get(EffectShaderSection.FRAGMENT_HEAD),oe=se.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE),ce=se.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV);const ue=/\bblend\b/g;for(const fe of se.blendModes.values())ae+=fe.getShaderCode().replace(ue,`blend${fe.blendFunction}`)+`
`;(se.attributes&EffectAttribute.DEPTH)!==0?(se.readDepth&&(oe=`float depth = readDepth(UV);

	`+oe),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,se.colorSpace===SRGBColorSpace$1&&(oe+=`color0 = sRGBToLinear(color0);
	`),se.uvTransformation?(ce=`vec2 transformedUv = vUv;
`+ce,se.defines.set("UV","transformedUv")):se.defines.set("UV","vUv"),se.shaderParts.set(EffectShaderSection.FRAGMENT_HEAD,ae),se.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,oe),se.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV,ce);for(const[fe,de]of se.shaderParts)de!==null&&se.shaderParts.set(fe,de.trim().replace(/^#/,`
#`));this.skipRendering=te===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(se)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(se,te=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=se,this.fullscreenMaterial.depthPacking=te;for(const ae of this.effects)ae.setDepthTexture(se,te)}render(se,te,ae,oe,ce){for(const ue of this.effects)ue.update(se,te,oe);if(!this.skipRendering||this.renderToScreen){const ue=this.fullscreenMaterial;ue.inputBuffer=te.texture,ue.time+=oe*this.timeScale,se.setRenderTarget(this.renderToScreen?null:ae),se.render(this.scene,this.camera)}}setSize(se,te){this.fullscreenMaterial.setSize(se,te);for(const ae of this.effects)ae.setSize(se,te)}initialize(se,te,ae){this.renderer=se;for(const oe of this.effects)oe.initialize(se,te,ae);this.updateMaterial(),ae!==void 0&&ae!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const se of this.effects)se.removeEventListener("change",this.listener),se.dispose()}handleEvent(se){switch(se.type){case"change":this.recompile();break}}},NormalPass=class extends Pass{constructor(se,te,{renderTarget:ae,resolutionScale:oe=1,width:ce=Resolution.AUTO_SIZE,height:ue=Resolution.AUTO_SIZE,resolutionX:fe=ce,resolutionY:de=ue}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new RenderPass(se,te,new MeshNormalMaterial);const pe=this.renderPass;pe.ignoreBackground=!0,pe.skipShadowMapUpdate=!0;const me=pe.getClearPass();me.overrideClearColor=new Color$1(7829503),me.overrideClearAlpha=1,this.renderTarget=ae,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter}),this.renderTarget.texture.name="NormalPass.Target");const _e=this.resolution=new Resolution(this,fe,de,oe);_e.addEventListener("change",be=>this.setSize(_e.baseWidth,_e.baseHeight))}set mainScene(se){this.renderPass.mainScene=se}set mainCamera(se){this.renderPass.mainCamera=se}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(se){this.resolution.scale=se}render(se,te,ae,oe,ce){const ue=this.renderToScreen?null:this.renderTarget;this.renderPass.render(se,ue,ue)}setSize(se,te){const ae=this.resolution;ae.setBaseSize(se,te),this.renderTarget.setSize(ae.width,ae.height)}};function _defineProperty$3(se,te,ae){return te in se?Object.defineProperty(se,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):se[te]=ae,se}function _arrayLikeToArray$2(se,te){(te==null||te>se.length)&&(te=se.length);for(var ae=0,oe=new Array(te);ae<te;ae++)oe[ae]=se[ae];return oe}function _unsupportedIterableToArray$2(se,te){if(se){if(typeof se=="string")return _arrayLikeToArray$2(se,te);var ae=Object.prototype.toString.call(se).slice(8,-1);if(ae==="Object"&&se.constructor&&(ae=se.constructor.name),ae==="Map"||ae==="Set")return Array.from(se);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return _arrayLikeToArray$2(se,te)}}function _arrayWithoutHoles$1(se){if(Array.isArray(se))return _arrayLikeToArray$2(se)}function _iterableToArray$1(se){if(typeof Symbol<"u"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray$1(se){return _arrayWithoutHoles$1(se)||_iterableToArray$1(se)||_unsupportedIterableToArray$2(se)||_nonIterableSpread$1()}new Vector2;new Vector2;function clamp$2(se,te,ae){return Math.max(te,Math.min(ae,se))}function repeat(se,te){return clamp$2(se-Math.floor(se/te)*te,0,te)}function deltaAngle(se,te){var ae=repeat(te-se,Math.PI*2);return ae>Math.PI&&(ae-=Math.PI*2),ae}function _classCallCheck(se,te){if(!(se instanceof te))throw new TypeError("Cannot call a class as a function")}var Grad=function se(te,ae,oe){var ce=this;_classCallCheck(this,se),_defineProperty$3(this,"dot2",function(ue,fe){return ce.x*ue+ce.y*fe}),_defineProperty$3(this,"dot3",function(ue,fe,de){return ce.x*ue+ce.y*fe+ce.z*de}),this.x=te,this.y=ae,this.z=oe},grad3=[new Grad(1,1,0),new Grad(-1,1,0),new Grad(1,-1,0),new Grad(-1,-1,0),new Grad(1,0,1),new Grad(-1,0,1),new Grad(1,0,-1),new Grad(-1,0,-1),new Grad(0,1,1),new Grad(0,-1,1),new Grad(0,1,-1),new Grad(0,-1,-1)],p$5=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],perm=new Array(512),gradP=new Array(512),seed=function(te){te>0&&te<1&&(te*=65536),te=Math.floor(te),te<256&&(te|=te<<8);for(var ae=0;ae<256;ae++){var oe;ae&1?oe=p$5[ae]^te&255:oe=p$5[ae]^te>>8&255,perm[ae]=perm[ae+256]=oe,gradP[ae]=gradP[ae+256]=grad3[oe%12]}};seed(0);function normalizeSeed(se){if(typeof se=="number")se=Math.abs(se);else if(typeof se=="string"){var te=se;se=0;for(var ae=0;ae<te.length;ae++)se=(se+(ae+1)*(te.charCodeAt(ae)%96))%2147483647}return se===0&&(se=311),se}function lcgRandom(se){var te=normalizeSeed(se);return function(){var ae=te*48271%2147483647;return te=ae,ae/2147483647}}var Generator=function se(te){var ae=this;_classCallCheck(this,se),_defineProperty$3(this,"seed",0),_defineProperty$3(this,"init",function(oe){ae.seed=oe,ae.value=lcgRandom(oe)}),_defineProperty$3(this,"value",lcgRandom(this.seed)),this.init(te)};new Generator(Math.random());var rsqw=function(te){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return oe/Math.atan(1/ae)*Math.atan(Math.sin(2*Math.PI*te*ce)/ae)},exp$1=function(te){return 1/(1+te+.48*te*te+.235*te*te*te)};function damp(se,te,ae){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,ce=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,ue=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,fe=arguments.length>6&&arguments[6]!==void 0?arguments[6]:exp$1,de=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,pe="velocity_"+te;if(se.__damp===void 0&&(se.__damp={}),se.__damp[pe]===void 0&&(se.__damp[pe]=0),Math.abs(se[te]-ae)<=de)return se[te]=ae,!1;oe=Math.max(1e-4,oe);var me=2/oe,_e=fe(me*ce),be=se[te]-ae,Ee=ae,Ae=ue*oe;be=Math.min(Math.max(be,-Ae),Ae),ae=se[te]-be;var Re=(se.__damp[pe]+me*be)*ce;se.__damp[pe]=(se.__damp[pe]-me*Re)*_e;var Be=ae+(be+Re)*_e;return Ee-se[te]>0==Be>Ee&&(Be=Ee,se.__damp[pe]=(Be-Ee)/ce),se[te]=Be,!0}function dampAngle(se,te,ae,oe,ce,ue,fe,de){return damp(se,te,se[te]+deltaAngle(se[te],ae),oe,ce,ue,fe,de)}var v2d=new Vector2,a2,b2;function damp2(se,te,ae,oe,ce,ue,fe){return typeof te=="number"?v2d.setScalar(te):Array.isArray(te)?v2d.set(te[0],te[1]):v2d.copy(te),a2=damp(se,"x",v2d.x,ae,oe,ce,ue,fe),b2=damp(se,"y",v2d.y,ae,oe,ce,ue,fe),a2||b2}var v3d=new Vector3,a3,b3,c3;function damp3(se,te,ae,oe,ce,ue,fe){return typeof te=="number"?v3d.setScalar(te):Array.isArray(te)?v3d.set(te[0],te[1],te[2]):v3d.copy(te),a3=damp(se,"x",v3d.x,ae,oe,ce,ue,fe),b3=damp(se,"y",v3d.y,ae,oe,ce,ue,fe),c3=damp(se,"z",v3d.z,ae,oe,ce,ue,fe),a3||b3||c3}var v4d=new Vector4,a4,b4,c4,d4;function damp4(se,te,ae,oe,ce,ue,fe){return typeof te=="number"?v4d.setScalar(te):Array.isArray(te)?v4d.set(te[0],te[1],te[2],te[3]):v4d.copy(te),a4=damp(se,"x",v4d.x,ae,oe,ce,ue,fe),b4=damp(se,"y",v4d.y,ae,oe,ce,ue,fe),c4=damp(se,"z",v4d.z,ae,oe,ce,ue,fe),d4=damp(se,"w",v4d.w,ae,oe,ce,ue,fe),a4||b4||c4||d4}var rot=new Euler,aE,bE,cE;function dampE(se,te,ae,oe,ce,ue,fe){return Array.isArray(te)?rot.set(te[0],te[1],te[2],te[3]):rot.copy(te),aE=dampAngle(se,"x",rot.x,ae,oe,ce,ue,fe),bE=dampAngle(se,"y",rot.y,ae,oe,ce,ue,fe),cE=dampAngle(se,"z",rot.z,ae,oe,ce,ue,fe),aE||bE||cE}var col=new Color$1,aC,bC,cC;function dampC(se,te,ae,oe,ce,ue,fe){return te instanceof Color$1?col.copy(te):Array.isArray(te)?col.setRGB(te[0],te[1],te[2]):col.set(te),aC=damp(se,"r",col.r,ae,oe,ce,ue,fe),bC=damp(se,"g",col.g,ae,oe,ce,ue,fe),cC=damp(se,"b",col.b,ae,oe,ce,ue,fe),aC||bC||cC}var qt$1=new Quaternion,v4result=new Vector4,v4velocity=new Vector4,v4error=new Vector4,aQ,bQ,cQ,dQ;function dampQ(se,te,ae,oe,ce,ue,fe){var de=se;Array.isArray(te)?qt$1.set(te[0],te[1],te[2],te[3]):qt$1.copy(te);var pe=se.dot(qt$1)>0?1:-1;return qt$1.x*=pe,qt$1.y*=pe,qt$1.z*=pe,qt$1.w*=pe,aQ=damp(se,"x",qt$1.x,ae,oe,ce,ue,fe),bQ=damp(se,"y",qt$1.y,ae,oe,ce,ue,fe),cQ=damp(se,"z",qt$1.z,ae,oe,ce,ue,fe),dQ=damp(se,"w",qt$1.w,ae,oe,ce,ue,fe),v4result.set(se.x,se.y,se.z,se.w).normalize(),v4velocity.set(de.__damp.velocity_x,de.__damp.velocity_y,de.__damp.velocity_z,de.__damp.velocity_w),v4error.copy(v4result).multiplyScalar(v4velocity.dot(v4result)/v4result.dot(v4result)),de.__damp.velocity_x-=v4error.x,de.__damp.velocity_y-=v4error.y,de.__damp.velocity_z-=v4error.z,de.__damp.velocity_w-=v4error.w,se.set(v4result.x,v4result.y,v4result.z,v4result.w),aQ||bQ||cQ||dQ}var spherical=new Spherical,aS,bS,cS;function dampS(se,te,ae,oe,ce,ue,fe){return Array.isArray(te)?spherical.set(te[0],te[1],te[2]):spherical.copy(te),aS=damp(se,"radius",spherical.radius,ae,oe,ce,ue,fe),bS=dampAngle(se,"phi",spherical.phi,ae,oe,ce,ue,fe),cS=dampAngle(se,"theta",spherical.theta,ae,oe,ce,ue,fe),aS||bS||cS}var mat=new Matrix4,mPos=new Vector3,mRot=new Quaternion,mSca=new Vector3,aM,bM,cM;function dampM(se,te,ae,oe,ce,ue,fe){var de=se;return de.__damp===void 0&&(de.__damp={position:new Vector3,rotation:new Quaternion,scale:new Vector3},se.decompose(de.__damp.position,de.__damp.rotation,de.__damp.scale)),Array.isArray(te)?mat.set.apply(mat,_toConsumableArray$1(te)):mat.copy(te),mat.decompose(mPos,mRot,mSca),aM=damp3(de.__damp.position,mPos,ae,oe,ce,ue,fe),bM=dampQ(de.__damp.rotation,mRot,ae,oe,ce,ue,fe),cM=damp3(de.__damp.scale,mSca,ae,oe,ce,ue,fe),se.compose(de.__damp.position,de.__damp.rotation,de.__damp.scale),aM||bM||cM}var easing=Object.freeze({__proto__:null,rsqw,exp:exp$1,damp,dampAngle,damp2,damp3,damp4,dampE,dampC,dampQ,dampS,dampM});const $e4ca8dcb0218f846$var$_geometry=new BufferGeometry;$e4ca8dcb0218f846$var$_geometry.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,3,-1,-1,3]),2));$e4ca8dcb0218f846$var$_geometry.setAttribute("uv",new BufferAttribute(new Float32Array([0,0,2,0,0,2]),2));$e4ca8dcb0218f846$var$_geometry.boundingSphere=new Sphere;$e4ca8dcb0218f846$var$_geometry.computeBoundingSphere=function(){};new OrthographicCamera;new Matrix4,new Matrix4,new Matrix4,new Matrix4,new Matrix4,new Vector3,new Vector2,new Vector2;new Matrix4,new Matrix4,new Matrix4,new Matrix4,new Vector3,new Vector2,new Vector3(0,0,0);new Matrix4,new Matrix4,new Matrix4,new Matrix4,new Vector3,new Vector2;new Vector2,new Matrix4,new Matrix4;var $06269ad78f3c5fdf$export$2e2bcd8739ae039="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";Uint8Array.from(atob($06269ad78f3c5fdf$export$2e2bcd8739ae039),se=>se.charCodeAt(0));Uint8Array.from(atob($06269ad78f3c5fdf$export$2e2bcd8739ae039),se=>se.charCodeAt(0));const D$3=reactExports.createContext(null),ie=se=>(se.getAttributes()&2)===2,dt=reactExports.memo(reactExports.forwardRef(({children:se,camera:te,scene:ae,resolutionScale:oe,enabled:ce=!0,renderPriority:ue=1,autoClear:fe=!0,depthBuffer:de,enableNormalPass:pe,stencilBuffer:me,multisampling:_e=8,frameBufferType:be=HalfFloatType},Ee)=>{const{gl:Ae,scene:Re,camera:Be,size:De}=useThree(),Oe=ae||Re,Pe=te||Be,[Ie,Fe,$e]=reactExports.useMemo(()=>{const We=new EffectComposer(Ae,{depthBuffer:de,stencilBuffer:me,multisampling:_e,frameBufferType:be});We.addPass(new RenderPass(Oe,Pe));let je=null,He=null;return pe&&(He=new NormalPass(Oe,Pe),He.enabled=!1,We.addPass(He),oe!==void 0&&(je=new DepthDownsamplingPass({normalBuffer:He.texture,resolutionScale:oe}),je.enabled=!1,We.addPass(je))),[We,He,je]},[Pe,Ae,de,me,_e,be,Oe,pe,oe]);reactExports.useEffect(()=>Ie==null?void 0:Ie.setSize(De.width,De.height),[Ie,De]),useFrame((We,je)=>{if(ce){const He=Ae.autoClear;Ae.autoClear=fe,me&&!fe&&Ae.clearStencil(),Ie.render(je),Ae.autoClear=He}},ce?ue:0);const Ve=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{var He;const We=[],je=Ve.current.__r3f;if(je&&Ie){const tt=je.children;for(let Ze=0;Ze<tt.length;Ze++){const nt=tt[Ze].object;if(nt instanceof Effect){const at=[nt];if(!ie(nt)){let Ye=null;for(;(Ye=(He=tt[Ze+1])==null?void 0:He.object)instanceof Effect&&!ie(Ye);)at.push(Ye),Ze++}const mt=new EffectPass(Pe,...at);We.push(mt)}else nt instanceof Pass&&We.push(nt)}for(const Ze of We)Ie==null||Ie.addPass(Ze);Fe&&(Fe.enabled=!0),$e&&($e.enabled=!0)}return()=>{for(const tt of We)Ie==null||Ie.removePass(tt);Fe&&(Fe.enabled=!1),$e&&($e.enabled=!1)}},[Ie,se,Pe,Fe,$e]),reactExports.useEffect(()=>{const We=Ae.toneMapping;return Ae.toneMapping=NoToneMapping,()=>{Ae.toneMapping=We}},[Ae]);const ke=reactExports.useMemo(()=>({composer:Ie,normalPass:Fe,downSamplingPass:$e,resolutionScale:oe,camera:Pe,scene:Oe}),[Ie,Fe,$e,oe,Pe,Oe]);return reactExports.useImperativeHandle(Ee,()=>Ie,[Ie]),jsxRuntimeExports.jsx(D$3.Provider,{value:ke,children:jsxRuntimeExports.jsx("group",{ref:Ve,children:se})})}));let vt=0;const le=new WeakMap,P$3=(se,te)=>function({blendFunction:ae=te==null?void 0:te.blendFunction,opacity:oe=te==null?void 0:te.opacity,...ce}){let ue=le.get(se);if(!ue){const pe=`@react-three/postprocessing/${se.name}-${vt++}`;extend({[pe]:se}),le.set(se,ue=pe)}const fe=useThree(pe=>pe.camera),de=React.useMemo(()=>[...(te==null?void 0:te.args)??[],...ce.args??[{...te,...ce}]],[JSON.stringify(ce)]);return jsxRuntimeExports.jsx(ue,{camera:fe,"blendMode-blendFunction":ae,"blendMode-opacity-value":oe,...ce,args:de})},wt=P$3(BloomEffect,{blendFunction:0}),qt=P$3(VignetteEffect);var shimExports=requireShim();const{useEffect,useLayoutEffect,useRef,useInsertionEffect:useBuiltinInsertionEffect}=$2AODx$react,canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$1=canUseDOM?useLayoutEffect:useEffect,useInsertionEffect=useBuiltinInsertionEffect||useIsomorphicLayoutEffect$1,useEvent=se=>{const te=useRef([se,(...ae)=>te[0](...ae)]).current;return useInsertionEffect(()=>{te[0]=se}),te[1]},relativePath=(se="",te=location.pathname)=>te.toLowerCase().indexOf(se.toLowerCase())?"~"+te:te.slice(se.length)||"/",absolutePath=(se,te="")=>se[0]==="~"?se.slice(1):te+se,eventPopstate="popstate",eventPushState="pushState",eventReplaceState="replaceState",eventHashchange="hashchange",events=[eventPopstate,eventPushState,eventReplaceState,eventHashchange],subscribeToLocationUpdates=se=>{for(const te of events)addEventListener(te,se);return()=>{for(const te of events)removeEventListener(te,se)}},useLocationProperty=(se,te)=>shimExports.useSyncExternalStore(subscribeToLocationUpdates,se,te),currentPathname=()=>location.pathname,usePathname=({ssrPath:se}={})=>useLocationProperty(currentPathname,se?()=>se:currentPathname),navigate=(se,{replace:te=!1}={})=>history[te?eventReplaceState:eventPushState](null,"",se),useLocation$1=(se={})=>[relativePath(se.base,usePathname(se)),useEvent((te,ae)=>navigate(absolutePath(te,se.base),ae))];if(typeof history<"u")for(const se of[eventPushState,eventReplaceState]){const te=history[se];history[se]=function(){const ae=te.apply(this,arguments),oe=new Event(se);return oe.arguments=arguments,dispatchEvent(oe),ae}}function makeMatcher(se=pathToRegexp){let te={};const ae=oe=>te[oe]||(te[oe]=se(oe));return(oe,ce)=>{const{regexp:ue,keys:fe}=ae(oe||""),de=ue.exec(ce);return de?[!0,fe.reduce((me,_e,be)=>(me[_e.name]=de[be+1],me),{})]:[!1,null]}}const escapeRx=se=>se.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),rxForSegment=(se,te,ae)=>{let oe=se?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return te&&ae&&(oe="(?:\\/"+oe+")"),oe+(te?"?":"")},pathToRegexp=se=>{const te=/:([A-Za-z0-9_]+)([?+*]?)/g;let ae=null,oe=0,ce=[],ue="";for(;(ae=te.exec(se))!==null;){const[fe,de,pe]=ae,me=pe==="+"||pe==="*",_e=pe==="?"||pe==="*",be=_e&&se[ae.index-1]==="/"?1:0,Ee=se.substring(oe,ae.index-be);ce.push({name:de}),oe=te.lastIndex,ue+=escapeRx(Ee)+rxForSegment(me,_e,be)}return ue+=escapeRx(se.substring(oe)),{keys:ce,regexp:new RegExp("^"+ue+"(?:\\/)?$","i")}},defaultRouter={hook:useLocation$1,matcher:makeMatcher(),base:""},RouterCtx=reactExports.createContext(defaultRouter),useRouter=()=>reactExports.useContext(RouterCtx),useLocationFromRouter=se=>se.hook(se),useLocation=()=>useLocationFromRouter(useRouter()),useRoute=se=>{const te=useRouter(),[ae]=useLocationFromRouter(te);return te.matcher(se,ae)};reactExports.forwardRef((se,te)=>{const ae=useRouter(),[,oe]=useLocationFromRouter(ae),{to:ce,href:ue=ce,children:fe,onClick:de}=se,pe=useEvent(be=>{be.ctrlKey||be.metaKey||be.altKey||be.shiftKey||be.button!==0||(de&&de(be),be.defaultPrevented||(be.preventDefault(),oe(ce||ue,se)))}),me={href:ue[0]==="~"?ue.slice(1):ae.base+ue,onClick:pe,to:null,ref:te},_e=reactExports.isValidElement(fe)?fe:reactExports.createElement("a",se);return reactExports.cloneElement(_e,me)});var md5={exports:{}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(se){return Object.prototype.toString.call(se)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(se){return typeof se=="object"&&se.buffer&&se.buffer.constructor===ArrayBuffer});var createOutputMethod=function(se){return function(te){return new Md5(!0).update(te)[se]()}},createMethod=function(){var se=createOutputMethod("hex");NODE_JS&&(se=nodeWrap(se)),se.create=function(){return new Md5},se.update=function(oe){return se.create().update(oe)};for(var te=0;te<OUTPUT_TYPES.length;++te){var ae=OUTPUT_TYPES[te];se[ae]=createOutputMethod(ae)}return se},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(se){if(typeof se=="string")return crypto.createHash("md5").update(se,"utf8").digest("hex");if(se==null)throw ERROR;return se.constructor===ArrayBuffer&&(se=new Uint8Array(se)),Array.isArray(se)||ArrayBuffer.isView(se)||se.constructor===Buffer?crypto.createHash("md5").update(new Buffer(se)).digest("hex"):method(se)};return nodeMethod};function Md5(se){if(se)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var te=new ArrayBuffer(68);this.buffer8=new Uint8Array(te),this.blocks=new Uint32Array(te)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(se){if(!this.finalized){var te,ae=typeof se;if(ae!=="string"){if(ae==="object"){if(se===null)throw ERROR;if(ARRAY_BUFFER&&se.constructor===ArrayBuffer)se=new Uint8Array(se);else if(!Array.isArray(se)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(se)))throw ERROR}else throw ERROR;te=!0}for(var oe,ce=0,ue,fe=se.length,de=this.blocks,pe=this.buffer8;ce<fe;){if(this.hashed&&(this.hashed=!1,de[0]=de[16],de[16]=de[1]=de[2]=de[3]=de[4]=de[5]=de[6]=de[7]=de[8]=de[9]=de[10]=de[11]=de[12]=de[13]=de[14]=de[15]=0),te)if(ARRAY_BUFFER)for(ue=this.start;ce<fe&&ue<64;++ce)pe[ue++]=se[ce];else for(ue=this.start;ce<fe&&ue<64;++ce)de[ue>>2]|=se[ce]<<SHIFT[ue++&3];else if(ARRAY_BUFFER)for(ue=this.start;ce<fe&&ue<64;++ce)oe=se.charCodeAt(ce),oe<128?pe[ue++]=oe:oe<2048?(pe[ue++]=192|oe>>6,pe[ue++]=128|oe&63):oe<55296||oe>=57344?(pe[ue++]=224|oe>>12,pe[ue++]=128|oe>>6&63,pe[ue++]=128|oe&63):(oe=65536+((oe&1023)<<10|se.charCodeAt(++ce)&1023),pe[ue++]=240|oe>>18,pe[ue++]=128|oe>>12&63,pe[ue++]=128|oe>>6&63,pe[ue++]=128|oe&63);else for(ue=this.start;ce<fe&&ue<64;++ce)oe=se.charCodeAt(ce),oe<128?de[ue>>2]|=oe<<SHIFT[ue++&3]:oe<2048?(de[ue>>2]|=(192|oe>>6)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe&63)<<SHIFT[ue++&3]):oe<55296||oe>=57344?(de[ue>>2]|=(224|oe>>12)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe>>6&63)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe&63)<<SHIFT[ue++&3]):(oe=65536+((oe&1023)<<10|se.charCodeAt(++ce)&1023),de[ue>>2]|=(240|oe>>18)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe>>12&63)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe>>6&63)<<SHIFT[ue++&3],de[ue>>2]|=(128|oe&63)<<SHIFT[ue++&3]);this.lastByteIndex=ue,this.bytes+=ue-this.start,ue>=64?(this.start=ue-64,this.hash(),this.hashed=!0):this.start=ue}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var se=this.blocks,te=this.lastByteIndex;se[te>>2]|=EXTRA[te&3],te>=56&&(this.hashed||this.hash(),se[0]=se[16],se[16]=se[1]=se[2]=se[3]=se[4]=se[5]=se[6]=se[7]=se[8]=se[9]=se[10]=se[11]=se[12]=se[13]=se[14]=se[15]=0),se[14]=this.bytes<<3,se[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var se,te,ae,oe,ce,ue,fe=this.blocks;this.first?(se=fe[0]-680876937,se=(se<<7|se>>>25)-271733879<<0,oe=(-1732584194^se&2004318071)+fe[1]-117830708,oe=(oe<<12|oe>>>20)+se<<0,ae=(-271733879^oe&(se^-271733879))+fe[2]-1126478375,ae=(ae<<17|ae>>>15)+oe<<0,te=(se^ae&(oe^se))+fe[3]-1316259209,te=(te<<22|te>>>10)+ae<<0):(se=this.h0,te=this.h1,ae=this.h2,oe=this.h3,se+=(oe^te&(ae^oe))+fe[0]-680876936,se=(se<<7|se>>>25)+te<<0,oe+=(ae^se&(te^ae))+fe[1]-389564586,oe=(oe<<12|oe>>>20)+se<<0,ae+=(te^oe&(se^te))+fe[2]+606105819,ae=(ae<<17|ae>>>15)+oe<<0,te+=(se^ae&(oe^se))+fe[3]-1044525330,te=(te<<22|te>>>10)+ae<<0),se+=(oe^te&(ae^oe))+fe[4]-176418897,se=(se<<7|se>>>25)+te<<0,oe+=(ae^se&(te^ae))+fe[5]+1200080426,oe=(oe<<12|oe>>>20)+se<<0,ae+=(te^oe&(se^te))+fe[6]-1473231341,ae=(ae<<17|ae>>>15)+oe<<0,te+=(se^ae&(oe^se))+fe[7]-45705983,te=(te<<22|te>>>10)+ae<<0,se+=(oe^te&(ae^oe))+fe[8]+1770035416,se=(se<<7|se>>>25)+te<<0,oe+=(ae^se&(te^ae))+fe[9]-1958414417,oe=(oe<<12|oe>>>20)+se<<0,ae+=(te^oe&(se^te))+fe[10]-42063,ae=(ae<<17|ae>>>15)+oe<<0,te+=(se^ae&(oe^se))+fe[11]-1990404162,te=(te<<22|te>>>10)+ae<<0,se+=(oe^te&(ae^oe))+fe[12]+1804603682,se=(se<<7|se>>>25)+te<<0,oe+=(ae^se&(te^ae))+fe[13]-40341101,oe=(oe<<12|oe>>>20)+se<<0,ae+=(te^oe&(se^te))+fe[14]-1502002290,ae=(ae<<17|ae>>>15)+oe<<0,te+=(se^ae&(oe^se))+fe[15]+1236535329,te=(te<<22|te>>>10)+ae<<0,se+=(ae^oe&(te^ae))+fe[1]-165796510,se=(se<<5|se>>>27)+te<<0,oe+=(te^ae&(se^te))+fe[6]-1069501632,oe=(oe<<9|oe>>>23)+se<<0,ae+=(se^te&(oe^se))+fe[11]+643717713,ae=(ae<<14|ae>>>18)+oe<<0,te+=(oe^se&(ae^oe))+fe[0]-373897302,te=(te<<20|te>>>12)+ae<<0,se+=(ae^oe&(te^ae))+fe[5]-701558691,se=(se<<5|se>>>27)+te<<0,oe+=(te^ae&(se^te))+fe[10]+38016083,oe=(oe<<9|oe>>>23)+se<<0,ae+=(se^te&(oe^se))+fe[15]-660478335,ae=(ae<<14|ae>>>18)+oe<<0,te+=(oe^se&(ae^oe))+fe[4]-405537848,te=(te<<20|te>>>12)+ae<<0,se+=(ae^oe&(te^ae))+fe[9]+568446438,se=(se<<5|se>>>27)+te<<0,oe+=(te^ae&(se^te))+fe[14]-1019803690,oe=(oe<<9|oe>>>23)+se<<0,ae+=(se^te&(oe^se))+fe[3]-187363961,ae=(ae<<14|ae>>>18)+oe<<0,te+=(oe^se&(ae^oe))+fe[8]+1163531501,te=(te<<20|te>>>12)+ae<<0,se+=(ae^oe&(te^ae))+fe[13]-1444681467,se=(se<<5|se>>>27)+te<<0,oe+=(te^ae&(se^te))+fe[2]-51403784,oe=(oe<<9|oe>>>23)+se<<0,ae+=(se^te&(oe^se))+fe[7]+1735328473,ae=(ae<<14|ae>>>18)+oe<<0,te+=(oe^se&(ae^oe))+fe[12]-1926607734,te=(te<<20|te>>>12)+ae<<0,ce=te^ae,se+=(ce^oe)+fe[5]-378558,se=(se<<4|se>>>28)+te<<0,oe+=(ce^se)+fe[8]-2022574463,oe=(oe<<11|oe>>>21)+se<<0,ue=oe^se,ae+=(ue^te)+fe[11]+1839030562,ae=(ae<<16|ae>>>16)+oe<<0,te+=(ue^ae)+fe[14]-35309556,te=(te<<23|te>>>9)+ae<<0,ce=te^ae,se+=(ce^oe)+fe[1]-1530992060,se=(se<<4|se>>>28)+te<<0,oe+=(ce^se)+fe[4]+1272893353,oe=(oe<<11|oe>>>21)+se<<0,ue=oe^se,ae+=(ue^te)+fe[7]-155497632,ae=(ae<<16|ae>>>16)+oe<<0,te+=(ue^ae)+fe[10]-1094730640,te=(te<<23|te>>>9)+ae<<0,ce=te^ae,se+=(ce^oe)+fe[13]+681279174,se=(se<<4|se>>>28)+te<<0,oe+=(ce^se)+fe[0]-358537222,oe=(oe<<11|oe>>>21)+se<<0,ue=oe^se,ae+=(ue^te)+fe[3]-722521979,ae=(ae<<16|ae>>>16)+oe<<0,te+=(ue^ae)+fe[6]+76029189,te=(te<<23|te>>>9)+ae<<0,ce=te^ae,se+=(ce^oe)+fe[9]-640364487,se=(se<<4|se>>>28)+te<<0,oe+=(ce^se)+fe[12]-421815835,oe=(oe<<11|oe>>>21)+se<<0,ue=oe^se,ae+=(ue^te)+fe[15]+530742520,ae=(ae<<16|ae>>>16)+oe<<0,te+=(ue^ae)+fe[2]-995338651,te=(te<<23|te>>>9)+ae<<0,se+=(ae^(te|~oe))+fe[0]-198630844,se=(se<<6|se>>>26)+te<<0,oe+=(te^(se|~ae))+fe[7]+1126891415,oe=(oe<<10|oe>>>22)+se<<0,ae+=(se^(oe|~te))+fe[14]-1416354905,ae=(ae<<15|ae>>>17)+oe<<0,te+=(oe^(ae|~se))+fe[5]-57434055,te=(te<<21|te>>>11)+ae<<0,se+=(ae^(te|~oe))+fe[12]+1700485571,se=(se<<6|se>>>26)+te<<0,oe+=(te^(se|~ae))+fe[3]-1894986606,oe=(oe<<10|oe>>>22)+se<<0,ae+=(se^(oe|~te))+fe[10]-1051523,ae=(ae<<15|ae>>>17)+oe<<0,te+=(oe^(ae|~se))+fe[1]-2054922799,te=(te<<21|te>>>11)+ae<<0,se+=(ae^(te|~oe))+fe[8]+1873313359,se=(se<<6|se>>>26)+te<<0,oe+=(te^(se|~ae))+fe[15]-30611744,oe=(oe<<10|oe>>>22)+se<<0,ae+=(se^(oe|~te))+fe[6]-1560198380,ae=(ae<<15|ae>>>17)+oe<<0,te+=(oe^(ae|~se))+fe[13]+1309151649,te=(te<<21|te>>>11)+ae<<0,se+=(ae^(te|~oe))+fe[4]-145523070,se=(se<<6|se>>>26)+te<<0,oe+=(te^(se|~ae))+fe[11]-1120210379,oe=(oe<<10|oe>>>22)+se<<0,ae+=(se^(oe|~te))+fe[2]+718787259,ae=(ae<<15|ae>>>17)+oe<<0,te+=(oe^(ae|~se))+fe[9]-343485551,te=(te<<21|te>>>11)+ae<<0,this.first?(this.h0=se+1732584193<<0,this.h1=te-271733879<<0,this.h2=ae-1732584194<<0,this.h3=oe+271733878<<0,this.first=!1):(this.h0=this.h0+se<<0,this.h1=this.h1+te<<0,this.h2=this.h2+ae<<0,this.h3=this.h3+oe<<0)},Md5.prototype.hex=function(){this.finalize();var se=this.h0,te=this.h1,ae=this.h2,oe=this.h3;return HEX_CHARS[se>>4&15]+HEX_CHARS[se&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[ae>>4&15]+HEX_CHARS[ae&15]+HEX_CHARS[ae>>12&15]+HEX_CHARS[ae>>8&15]+HEX_CHARS[ae>>20&15]+HEX_CHARS[ae>>16&15]+HEX_CHARS[ae>>28&15]+HEX_CHARS[ae>>24&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[oe&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var se=this.h0,te=this.h1,ae=this.h2,oe=this.h3;return[se&255,se>>8&255,se>>16&255,se>>24&255,te&255,te>>8&255,te>>16&255,te>>24&255,ae&255,ae>>8&255,ae>>16&255,ae>>24&255,oe&255,oe>>8&255,oe>>16&255,oe>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var se=new ArrayBuffer(16),te=new Uint32Array(se);return te[0]=this.h0,te[1]=this.h1,te[2]=this.h2,te[3]=this.h3,se},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var se,te,ae,oe="",ce=this.array(),ue=0;ue<15;)se=ce[ue++],te=ce[ue++],ae=ce[ue++],oe+=BASE64_ENCODE_CHAR[se>>>2]+BASE64_ENCODE_CHAR[(se<<4|te>>>4)&63]+BASE64_ENCODE_CHAR[(te<<2|ae>>>6)&63]+BASE64_ENCODE_CHAR[ae&63];return se=ce[ue],oe+=BASE64_ENCODE_CHAR[se>>>2]+BASE64_ENCODE_CHAR[se<<4&63]+"==",oe};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()}(md5)),md5.exports}var sha1={exports:{}};/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */var hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(module){(function(){var root=typeof window=="object"?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS&&(root=commonjsGlobal);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&!0&&module.exports,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(se){return function(te){return new Sha1(!0).update(te)[se]()}},createMethod=function(){var se=createOutputMethod("hex");NODE_JS&&(se=nodeWrap(se)),se.create=function(){return new Sha1},se.update=function(oe){return se.create().update(oe)};for(var te=0;te<OUTPUT_TYPES.length;++te){var ae=OUTPUT_TYPES[te];se[ae]=createOutputMethod(ae)}return se},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(se){if(typeof se=="string")return crypto.createHash("sha1").update(se,"utf8").digest("hex");if(se.constructor===ArrayBuffer)se=new Uint8Array(se);else if(se.length===void 0)return method(se);return crypto.createHash("sha1").update(new Buffer(se)).digest("hex")};return nodeMethod};function Sha1(se){se?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(se){if(!this.finalized){var te=typeof se!="string";te&&se.constructor===root.ArrayBuffer&&(se=new Uint8Array(se));for(var ae,oe=0,ce,ue=se.length||0,fe=this.blocks;oe<ue;){if(this.hashed&&(this.hashed=!1,fe[0]=this.block,fe[16]=fe[1]=fe[2]=fe[3]=fe[4]=fe[5]=fe[6]=fe[7]=fe[8]=fe[9]=fe[10]=fe[11]=fe[12]=fe[13]=fe[14]=fe[15]=0),te)for(ce=this.start;oe<ue&&ce<64;++oe)fe[ce>>2]|=se[oe]<<SHIFT[ce++&3];else for(ce=this.start;oe<ue&&ce<64;++oe)ae=se.charCodeAt(oe),ae<128?fe[ce>>2]|=ae<<SHIFT[ce++&3]:ae<2048?(fe[ce>>2]|=(192|ae>>6)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae&63)<<SHIFT[ce++&3]):ae<55296||ae>=57344?(fe[ce>>2]|=(224|ae>>12)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae>>6&63)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae&63)<<SHIFT[ce++&3]):(ae=65536+((ae&1023)<<10|se.charCodeAt(++oe)&1023),fe[ce>>2]|=(240|ae>>18)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae>>12&63)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae>>6&63)<<SHIFT[ce++&3],fe[ce>>2]|=(128|ae&63)<<SHIFT[ce++&3]);this.lastByteIndex=ce,this.bytes+=ce-this.start,ce>=64?(this.block=fe[16],this.start=ce-64,this.hash(),this.hashed=!0):this.start=ce}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var se=this.blocks,te=this.lastByteIndex;se[16]=this.block,se[te>>2]|=EXTRA[te&3],this.block=se[16],te>=56&&(this.hashed||this.hash(),se[0]=this.block,se[16]=se[1]=se[2]=se[3]=se[4]=se[5]=se[6]=se[7]=se[8]=se[9]=se[10]=se[11]=se[12]=se[13]=se[14]=se[15]=0),se[14]=this.hBytes<<3|this.bytes>>>29,se[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var se=this.h0,te=this.h1,ae=this.h2,oe=this.h3,ce=this.h4,ue,fe,de,pe=this.blocks;for(fe=16;fe<80;++fe)de=pe[fe-3]^pe[fe-8]^pe[fe-14]^pe[fe-16],pe[fe]=de<<1|de>>>31;for(fe=0;fe<20;fe+=5)ue=te&ae|~te&oe,de=se<<5|se>>>27,ce=de+ue+ce+1518500249+pe[fe]<<0,te=te<<30|te>>>2,ue=se&te|~se&ae,de=ce<<5|ce>>>27,oe=de+ue+oe+1518500249+pe[fe+1]<<0,se=se<<30|se>>>2,ue=ce&se|~ce&te,de=oe<<5|oe>>>27,ae=de+ue+ae+1518500249+pe[fe+2]<<0,ce=ce<<30|ce>>>2,ue=oe&ce|~oe&se,de=ae<<5|ae>>>27,te=de+ue+te+1518500249+pe[fe+3]<<0,oe=oe<<30|oe>>>2,ue=ae&oe|~ae&ce,de=te<<5|te>>>27,se=de+ue+se+1518500249+pe[fe+4]<<0,ae=ae<<30|ae>>>2;for(;fe<40;fe+=5)ue=te^ae^oe,de=se<<5|se>>>27,ce=de+ue+ce+1859775393+pe[fe]<<0,te=te<<30|te>>>2,ue=se^te^ae,de=ce<<5|ce>>>27,oe=de+ue+oe+1859775393+pe[fe+1]<<0,se=se<<30|se>>>2,ue=ce^se^te,de=oe<<5|oe>>>27,ae=de+ue+ae+1859775393+pe[fe+2]<<0,ce=ce<<30|ce>>>2,ue=oe^ce^se,de=ae<<5|ae>>>27,te=de+ue+te+1859775393+pe[fe+3]<<0,oe=oe<<30|oe>>>2,ue=ae^oe^ce,de=te<<5|te>>>27,se=de+ue+se+1859775393+pe[fe+4]<<0,ae=ae<<30|ae>>>2;for(;fe<60;fe+=5)ue=te&ae|te&oe|ae&oe,de=se<<5|se>>>27,ce=de+ue+ce-1894007588+pe[fe]<<0,te=te<<30|te>>>2,ue=se&te|se&ae|te&ae,de=ce<<5|ce>>>27,oe=de+ue+oe-1894007588+pe[fe+1]<<0,se=se<<30|se>>>2,ue=ce&se|ce&te|se&te,de=oe<<5|oe>>>27,ae=de+ue+ae-1894007588+pe[fe+2]<<0,ce=ce<<30|ce>>>2,ue=oe&ce|oe&se|ce&se,de=ae<<5|ae>>>27,te=de+ue+te-1894007588+pe[fe+3]<<0,oe=oe<<30|oe>>>2,ue=ae&oe|ae&ce|oe&ce,de=te<<5|te>>>27,se=de+ue+se-1894007588+pe[fe+4]<<0,ae=ae<<30|ae>>>2;for(;fe<80;fe+=5)ue=te^ae^oe,de=se<<5|se>>>27,ce=de+ue+ce-899497514+pe[fe]<<0,te=te<<30|te>>>2,ue=se^te^ae,de=ce<<5|ce>>>27,oe=de+ue+oe-899497514+pe[fe+1]<<0,se=se<<30|se>>>2,ue=ce^se^te,de=oe<<5|oe>>>27,ae=de+ue+ae-899497514+pe[fe+2]<<0,ce=ce<<30|ce>>>2,ue=oe^ce^se,de=ae<<5|ae>>>27,te=de+ue+te-899497514+pe[fe+3]<<0,oe=oe<<30|oe>>>2,ue=ae^oe^ce,de=te<<5|te>>>27,se=de+ue+se-899497514+pe[fe+4]<<0,ae=ae<<30|ae>>>2;this.h0=this.h0+se<<0,this.h1=this.h1+te<<0,this.h2=this.h2+ae<<0,this.h3=this.h3+oe<<0,this.h4=this.h4+ce<<0},Sha1.prototype.hex=function(){this.finalize();var se=this.h0,te=this.h1,ae=this.h2,oe=this.h3,ce=this.h4;return HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>4&15]+HEX_CHARS[se&15]+HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]+HEX_CHARS[ae>>28&15]+HEX_CHARS[ae>>24&15]+HEX_CHARS[ae>>20&15]+HEX_CHARS[ae>>16&15]+HEX_CHARS[ae>>12&15]+HEX_CHARS[ae>>8&15]+HEX_CHARS[ae>>4&15]+HEX_CHARS[ae&15]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[oe&15]+HEX_CHARS[ce>>28&15]+HEX_CHARS[ce>>24&15]+HEX_CHARS[ce>>20&15]+HEX_CHARS[ce>>16&15]+HEX_CHARS[ce>>12&15]+HEX_CHARS[ce>>8&15]+HEX_CHARS[ce>>4&15]+HEX_CHARS[ce&15]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var se=this.h0,te=this.h1,ae=this.h2,oe=this.h3,ce=this.h4;return[se>>24&255,se>>16&255,se>>8&255,se&255,te>>24&255,te>>16&255,te>>8&255,te&255,ae>>24&255,ae>>16&255,ae>>8&255,ae&255,oe>>24&255,oe>>16&255,oe>>8&255,oe&255,ce>>24&255,ce>>16&255,ce>>8&255,ce&255]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var se=new ArrayBuffer(20),te=new DataView(se);return te.setUint32(0,this.h0),te.setUint32(4,this.h1),te.setUint32(8,this.h2),te.setUint32(12,this.h3),te.setUint32(16,this.h4),se};var exports=createMethod();COMMON_JS?module.exports=exports:root.sha1=exports})()}(sha1)),sha1.exports}var lib,hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib;hasRequiredLib=1;var se=requireMd5(),te=requireSha1(),ae="0123456789abcdef".split(""),oe=36,ce=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,ue=function(){for(var Be={},De=0;De<256;De++){var Oe=De.toString(16);Be[Oe.length===1?"0"+Oe:Oe]=De}return Be}(),fe=function(Be){var De=Be>>4,Oe=Be-(De<<4);return ae[De]+ae[Oe]},de=function(Be){for(var De="",Oe=0;Oe<Be.length;Oe++)De+=fe(Be[Oe]);return De},pe=function(Be){for(var De=unescape(encodeURIComponent(Be)),Oe=new Uint8Array(De.length),Pe=0;Pe<De.length;Pe++)Oe[Pe]=De[Pe].charCodeAt(0);return Oe},me=function(Be){return new Uint8Array(se.arrayBuffer(Be))},_e=function(Be){return new Uint8Array(te.arrayBuffer(Be))},be=function(Be,De){var Oe=new Uint8Array(Be.length+De.length);return Oe.set(new Uint8Array(Be),0),Oe.set(new Uint8Array(De),Be.byteLength),Oe},Ee=function(Be){return typeof Be=="string"&&Be.length===oe&&ce.test(Be)},Ae=function(Be){if(!Ee(Be))throw TypeError("Invalid UUID");for(var De=new Uint8Array(16),Oe=0,Pe=0;Oe<Be.length;){if(Be[Oe]==="-"){Oe++;continue}var Ie=(Be[Oe]+Be[Oe+1]).toLowerCase();De[Pe]=ue[Ie],Pe++,Oe+=2}return De},Re=function(Be,De){return de(Be.slice(0,4))+"-"+de(Be.slice(4,6))+"-"+fe(Be[6]&15|parseInt(De*10,16))+fe(Be[7])+"-"+fe(Be[8]&63|128)+fe(Be[9])+"-"+de(Be.slice(10,16))};return lib={uint8ToHex:fe,uint8ArrayToHex:de,stringToCharBuffer:pe,md5Hash:me,sha1Hash:_e,concatBuffers:be,validateUuid:Ee,parseUuid:Ae,hashToUuid:Re},lib}var src,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1;var se=requireLib(),te=new Uint8Array(0);function ae(oe,ce,ue){if(typeof oe!="string")throw TypeError("Value must be string");if(typeof ce=="number")return ae(oe,void 0,ce);if(ue==null)return ae(oe,ce,5);if(ue!==3&&ue!==5)throw TypeError("Version of UUID can be only 3 or 5");var fe=se.stringToCharBuffer(oe),de=typeof ce=="string"?se.parseUuid(ce):te,pe=se.concatBuffers(de,fe),me=ue===3?se.md5Hash(pe):se.sha1Hash(pe);return se.hashToUuid(me,ue)}return src=ae,src}var srcExports=requireSrc();const getUuid=getDefaultExportFromCjs(srcExports);var reactDomExports=requireReactDom();const $7SXl2$reactdom=getDefaultExportFromCjs(reactDomExports);function $6ed0406888f73fc4$var$setRef(se,te){typeof se=="function"?se(te):se!=null&&(se.current=te)}function $6ed0406888f73fc4$export$43e446d32b3d21af(...se){return te=>se.forEach(ae=>$6ed0406888f73fc4$var$setRef(ae,te))}function $6ed0406888f73fc4$export$c7b2cbe3552a0d05(...se){return reactExports.useCallback($6ed0406888f73fc4$export$43e446d32b3d21af(...se),se)}const $5e63c961fc1ce211$export$8c6ed5c666ac1360=reactExports.forwardRef((se,te)=>{const{children:ae,...oe}=se,ce=reactExports.Children.toArray(ae),ue=ce.find($5e63c961fc1ce211$var$isSlottable);if(ue){const fe=ue.props.children,de=ce.map(pe=>pe===ue?reactExports.Children.count(fe)>1?reactExports.Children.only(null):reactExports.isValidElement(fe)?fe.props.children:null:pe);return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},oe,{ref:te}),reactExports.isValidElement(fe)?reactExports.cloneElement(fe,void 0,de):null)}return reactExports.createElement($5e63c961fc1ce211$var$SlotClone,_extends$1({},oe,{ref:te}),ae)});$5e63c961fc1ce211$export$8c6ed5c666ac1360.displayName="Slot";const $5e63c961fc1ce211$var$SlotClone=reactExports.forwardRef((se,te)=>{const{children:ae,...oe}=se;return reactExports.isValidElement(ae)?reactExports.cloneElement(ae,{...$5e63c961fc1ce211$var$mergeProps(oe,ae.props),ref:$6ed0406888f73fc4$export$43e446d32b3d21af(te,ae.ref)}):reactExports.Children.count(ae)>1?reactExports.Children.only(null):null});$5e63c961fc1ce211$var$SlotClone.displayName="SlotClone";const $5e63c961fc1ce211$export$d9f1ccf0bdb05d45=({children:se})=>reactExports.createElement(reactExports.Fragment,null,se);function $5e63c961fc1ce211$var$isSlottable(se){return reactExports.isValidElement(se)&&se.type===$5e63c961fc1ce211$export$d9f1ccf0bdb05d45}function $5e63c961fc1ce211$var$mergeProps(se,te){const ae={...te};for(const oe in te){const ce=se[oe],ue=te[oe];/^on[A-Z]/.test(oe)?ce&&ue?ae[oe]=(...de)=>{ue(...de),ce(...de)}:ce&&(ae[oe]=ce):oe==="style"?ae[oe]={...ce,...ue}:oe==="className"&&(ae[oe]=[ce,ue].filter(Boolean).join(" "))}return{...se,...ae}}const $8927f6f2acc4f386$var$NODES=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$8927f6f2acc4f386$export$250ffa63cdc0d034=$8927f6f2acc4f386$var$NODES.reduce((se,te)=>{const ae=reactExports.forwardRef((oe,ce)=>{const{asChild:ue,...fe}=oe,de=ue?$5e63c961fc1ce211$export$8c6ed5c666ac1360:te;return reactExports.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),reactExports.createElement(de,_extends$1({},fe,{ref:ce}))});return ae.displayName=`Primitive.${te}`,{...se,[te]:ae}},{});function $8927f6f2acc4f386$export$6d1a0317bde7de7f(se,te){se&&reactDomExports.flushSync(()=>se.dispatchEvent(te))}const $f1701beae083dbae$export$602eac185826482c=reactExports.forwardRef((se,te)=>{var ae;const{container:oe=globalThis==null||(ae=globalThis.document)===null||ae===void 0?void 0:ae.body,...ce}=se;return oe?$7SXl2$reactdom.createPortal(reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ce,{ref:te})),oe):null}),$f1701beae083dbae$export$be92b6f5f03c0fe9=$f1701beae083dbae$export$602eac185826482c;var has=Object.prototype.hasOwnProperty;function dequal(se,te){var ae,oe;if(se===te)return!0;if(se&&te&&(ae=se.constructor)===te.constructor){if(ae===Date)return se.getTime()===te.getTime();if(ae===RegExp)return se.toString()===te.toString();if(ae===Array){if((oe=se.length)===te.length)for(;oe--&&dequal(se[oe],te[oe]););return oe===-1}if(!ae||typeof se=="object"){oe=0;for(ae in se)if(has.call(se,ae)&&++oe&&!has.call(te,ae)||!(ae in te)||!dequal(se[ae],te[ae]))return!1;return Object.keys(te).length===oe}}return se!==se&&te!==te}function shallow(se,te){if(Object.is(se,te))return!0;if(typeof se!="object"||se===null||typeof te!="object"||te===null)return!1;const ae=Object.keys(se);if(ae.length!==Object.keys(te).length)return!1;for(let oe=0;oe<ae.length;oe++)if(!Object.prototype.hasOwnProperty.call(te,ae[oe])||!Object.is(se[ae[oe]],te[ae[oe]]))return!1;return!0}var Rule=function se(te,ae,oe,ce){this.name=te,this.fn=ae,this.args=oe,this.modifiers=ce};Rule.prototype._test=function se(te){var ae=this.fn;try{testAux(this.modifiers.slice(),ae,this)(te)}catch{ae=function(){return!1}}try{return testAux(this.modifiers.slice(),ae,this)(te)}catch{return!1}};Rule.prototype._check=function se(te){try{testAux(this.modifiers.slice(),this.fn,this)(te)}catch{if(testAux(this.modifiers.slice(),function(oe){return oe},this)(!1))return}if(!testAux(this.modifiers.slice(),this.fn,this)(te))throw null};Rule.prototype._testAsync=function se(te){var ae=this;return new Promise(function(oe,ce){testAsyncAux(ae.modifiers.slice(),ae.fn,ae)(te).then(function(ue){ue?oe(te):ce(null)}).catch(function(ue){return ce(ue)})})};function pickFn(se,te){return te===void 0&&(te="simple"),typeof se=="object"?se[te]:se}function testAux(se,te,ae){if(se.length){var oe=se.shift(),ce=testAux(se,te,ae);return oe.perform(ce,ae)}else return pickFn(te)}function testAsyncAux(se,te,ae){if(se.length){var oe=se.shift(),ce=testAsyncAux(se,te,ae);return oe.performAsync(ce,ae)}else return function(ue){return Promise.resolve(pickFn(te,"async")(ue))}}var Modifier=function se(te,ae,oe){this.name=te,this.perform=ae,this.performAsync=oe},ValidationError=function(se){function te(ae,oe,ce,ue){for(var fe=[],de=arguments.length-4;de-- >0;)fe[de]=arguments[de+4];se.call(this,fe),se.captureStackTrace&&se.captureStackTrace(this,te),this.rule=ae,this.value=oe,this.cause=ce,this.target=ue}return se&&(te.__proto__=se),te.prototype=Object.create(se&&se.prototype),te.prototype.constructor=te,te}(Error),Context$1=function se(te,ae){te===void 0&&(te=[]),ae===void 0&&(ae=[]),this.chain=te,this.nextRuleModifiers=ae};Context$1.prototype._applyRule=function se(te,ae){var oe=this;return function(){for(var ce=[],ue=arguments.length;ue--;)ce[ue]=arguments[ue];return oe.chain.push(new Rule(ae,te.apply(oe,ce),ce,oe.nextRuleModifiers)),oe.nextRuleModifiers=[],oe}};Context$1.prototype._applyModifier=function se(te,ae){return this.nextRuleModifiers.push(new Modifier(ae,te.simple,te.async)),this};Context$1.prototype._clone=function se(){return new Context$1(this.chain.slice(),this.nextRuleModifiers.slice())};Context$1.prototype.test=function se(te){return this.chain.every(function(ae){return ae._test(te)})};Context$1.prototype.testAll=function se(te){var ae=[];return this.chain.forEach(function(oe){try{oe._check(te)}catch(ce){ae.push(new ValidationError(oe,te,ce))}}),ae};Context$1.prototype.check=function se(te){this.chain.forEach(function(ae){try{ae._check(te)}catch(oe){throw new ValidationError(ae,te,oe)}})};Context$1.prototype.testAsync=function se(te){var ae=this;return new Promise(function(oe,ce){executeAsyncRules(te,ae.chain.slice(),oe,ce)})};function executeAsyncRules(se,te,ae,oe){if(te.length){var ce=te.shift();ce._testAsync(se).then(function(){executeAsyncRules(se,te,ae,oe)},function(ue){oe(new ValidationError(ce,se,ue))})}else ae(se)}var consideredEmpty=function(se,te){return te&&typeof se=="string"&&se.trim().length===0?!0:se==null};function optional(se,te){return te===void 0&&(te=!1),{simple:function(ae){return consideredEmpty(ae,te)||se.check(ae)===void 0},async:function(ae){return consideredEmpty(ae,te)||se.testAsync(ae)}}}function v8n(){return typeof Proxy<"u"?proxyContext(new Context$1):proxylessContext(new Context$1)}var customRules={};v8n.extend=function(se){Object.assign(customRules,se)};v8n.clearCustomRules=function(){customRules={}};function proxyContext(se){return new Proxy(se,{get:function(ae,oe){if(oe in ae)return ae[oe];var ce=proxyContext(se._clone());if(oe in availableModifiers)return ce._applyModifier(availableModifiers[oe],oe);if(oe in customRules)return ce._applyRule(customRules[oe],oe);if(oe in availableRules)return ce._applyRule(availableRules[oe],oe)}})}function proxylessContext(se){var te=function(ce,ue){return Object.keys(ce).forEach(function(fe){ue[fe]=function(){for(var de=[],pe=arguments.length;pe--;)de[pe]=arguments[pe];var me=proxylessContext(ue._clone()),_e=me._applyRule(ce[fe],fe).apply(void 0,de);return _e}}),ue},ae=te(availableRules,se),oe=te(customRules,ae);return Object.keys(availableModifiers).forEach(function(ce){Object.defineProperty(oe,ce,{get:function(){var ue=proxylessContext(oe._clone());return ue._applyModifier(availableModifiers[ce],ce)}})}),oe}var availableModifiers={not:{simple:function(se){return function(te){return!se(te)}},async:function(se){return function(te){return Promise.resolve(se(te)).then(function(ae){return!ae}).catch(function(){return!0})}}},some:{simple:function(se){return function(te){return split(te).some(function(ae){try{return se(ae)}catch{return!1}})}},async:function(se){return function(te){return Promise.all(split(te).map(function(ae){try{return se(ae).catch(function(){return!1})}catch{return!1}})).then(function(ae){return ae.some(Boolean)})}}},every:{simple:function(se){return function(te){return te!==!1&&split(te).every(se)}},async:function(se){return function(te){return Promise.all(split(te).map(se)).then(function(ae){return ae.every(Boolean)})}}},strict:{simple:function(se,te){return function(ae){return isSchemaRule(te)&&ae&&typeof ae=="object"?Object.keys(te.args[0]).length===Object.keys(ae).length&&se(ae):se(ae)}},async:function(se,te){return function(ae){return Promise.resolve(se(ae)).then(function(oe){return isSchemaRule(te)&&ae&&typeof ae=="object"?Object.keys(te.args[0]).length===Object.keys(ae).length&&oe:oe}).catch(function(){return!1})}}}};function isSchemaRule(se){return se&&se.name==="schema"&&se.args.length>0&&typeof se.args[0]=="object"}function split(se){return typeof se=="string"?se.split(""):se}var availableRules={equal:function(se){return function(te){return te==se}},exact:function(se){return function(te){return te===se}},number:function(se){return se===void 0&&(se=!0),function(te){return typeof te=="number"&&(se||isFinite(te))}},integer:function(){return function(se){var te=Number.isInteger||isIntegerPolyfill;return te(se)}},numeric:function(){return function(se){return!isNaN(parseFloat(se))&&isFinite(se)}},string:function(){return testType("string")},boolean:function(){return testType("boolean")},undefined:function(){return testType("undefined")},null:function(){return testType("null")},array:function(){return testType("array")},object:function(){return testType("object")},instanceOf:function(se){return function(te){return te instanceof se}},pattern:function(se){return function(te){return se.test(te)}},lowercase:function(){return function(se){return typeof se=="boolean"||se===se.toLowerCase()&&se.trim()!==""}},uppercase:function(){return function(se){return se===se.toUpperCase()&&se.trim()!==""}},vowel:function(){return function(se){return/^[aeiou]+$/i.test(se)}},consonant:function(){return function(se){return/^(?=[^aeiou])([a-z]+)$/i.test(se)}},first:function(se){return function(te){return te[0]==se}},last:function(se){return function(te){return te[te.length-1]==se}},empty:function(){return function(se){return se.length===0}},length:function(se,te){return function(ae){return ae.length>=se&&ae.length<=(te||se)}},minLength:function(se){return function(te){return te.length>=se}},maxLength:function(se){return function(te){return te.length<=se}},negative:function(){return function(se){return se<0}},positive:function(){return function(se){return se>=0}},between:function(se,te){return function(ae){return ae>=se&&ae<=te}},range:function(se,te){return function(ae){return ae>=se&&ae<=te}},lessThan:function(se){return function(te){return te<se}},lessThanOrEqual:function(se){return function(te){return te<=se}},greaterThan:function(se){return function(te){return te>se}},greaterThanOrEqual:function(se){return function(te){return te>=se}},even:function(){return function(se){return se%2===0}},odd:function(){return function(se){return se%2!==0}},includes:function(se){return function(te){return~te.indexOf(se)}},schema:function(se){return testSchema(se)},passesAnyOf:function(){for(var se=[],te=arguments.length;te--;)se[te]=arguments[te];return function(ae){return se.some(function(oe){return oe.test(ae)})}},optional};function testType(se){return function(te){return Array.isArray(te)&&se==="array"||te===null&&se==="null"||typeof te===se}}function isIntegerPolyfill(se){return typeof se=="number"&&isFinite(se)&&Math.floor(se)===se}function testSchema(se){return{simple:function(te){var ae=[];if(Object.keys(se).forEach(function(oe){var ce=se[oe];try{ce.check((te||{})[oe])}catch(ue){ue.target=oe,ae.push(ue)}}),ae.length>0)throw ae;return!0},async:function(te){var ae=[],oe=Object.keys(se).map(function(ce){var ue=se[ce];return ue.testAsync((te||{})[ce]).catch(function(fe){fe.target=ce,ae.push(fe)})});return Promise.all(oe).then(function(){if(ae.length>0)throw ae;return!0})}}}var e$2="colors",t$2="sizes",r$3="space",n$3={gap:r$3,gridGap:r$3,columnGap:r$3,gridColumnGap:r$3,rowGap:r$3,gridRowGap:r$3,inset:r$3,insetBlock:r$3,insetBlockEnd:r$3,insetBlockStart:r$3,insetInline:r$3,insetInlineEnd:r$3,insetInlineStart:r$3,margin:r$3,marginTop:r$3,marginRight:r$3,marginBottom:r$3,marginLeft:r$3,marginBlock:r$3,marginBlockEnd:r$3,marginBlockStart:r$3,marginInline:r$3,marginInlineEnd:r$3,marginInlineStart:r$3,padding:r$3,paddingTop:r$3,paddingRight:r$3,paddingBottom:r$3,paddingLeft:r$3,paddingBlock:r$3,paddingBlockEnd:r$3,paddingBlockStart:r$3,paddingInline:r$3,paddingInlineEnd:r$3,paddingInlineStart:r$3,top:r$3,right:r$3,bottom:r$3,left:r$3,scrollMargin:r$3,scrollMarginTop:r$3,scrollMarginRight:r$3,scrollMarginBottom:r$3,scrollMarginLeft:r$3,scrollMarginX:r$3,scrollMarginY:r$3,scrollMarginBlock:r$3,scrollMarginBlockEnd:r$3,scrollMarginBlockStart:r$3,scrollMarginInline:r$3,scrollMarginInlineEnd:r$3,scrollMarginInlineStart:r$3,scrollPadding:r$3,scrollPaddingTop:r$3,scrollPaddingRight:r$3,scrollPaddingBottom:r$3,scrollPaddingLeft:r$3,scrollPaddingX:r$3,scrollPaddingY:r$3,scrollPaddingBlock:r$3,scrollPaddingBlockEnd:r$3,scrollPaddingBlockStart:r$3,scrollPaddingInline:r$3,scrollPaddingInlineEnd:r$3,scrollPaddingInlineStart:r$3,fontSize:"fontSizes",background:e$2,backgroundColor:e$2,backgroundImage:e$2,borderImage:e$2,border:e$2,borderBlock:e$2,borderBlockEnd:e$2,borderBlockStart:e$2,borderBottom:e$2,borderBottomColor:e$2,borderColor:e$2,borderInline:e$2,borderInlineEnd:e$2,borderInlineStart:e$2,borderLeft:e$2,borderLeftColor:e$2,borderRight:e$2,borderRightColor:e$2,borderTop:e$2,borderTopColor:e$2,caretColor:e$2,color:e$2,columnRuleColor:e$2,fill:e$2,outline:e$2,outlineColor:e$2,stroke:e$2,textDecorationColor:e$2,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:t$2,minBlockSize:t$2,maxBlockSize:t$2,inlineSize:t$2,minInlineSize:t$2,maxInlineSize:t$2,width:t$2,minWidth:t$2,maxWidth:t$2,height:t$2,minHeight:t$2,maxHeight:t$2,flexBasis:t$2,gridTemplateColumns:t$2,gridTemplateRows:t$2,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},i$4=(se,te)=>typeof te=="function"?{"()":Function.prototype.toString.call(te)}:te,o$3=()=>{const se=Object.create(null);return(te,ae,...oe)=>{const ce=(ue=>JSON.stringify(ue,i$4))(te);return ce in se?se[ce]:se[ce]=ae(te,...oe)}},l$3=Symbol.for("sxs.internal"),s$4=(se,te)=>Object.defineProperties(se,Object.getOwnPropertyDescriptors(te)),a$3=se=>{for(const te in se)return!0;return!1},{hasOwnProperty:c$4}=Object.prototype,d$4=se=>se.includes("-")?se:se.replace(/[A-Z]/g,te=>"-"+te.toLowerCase()),g$4=/\s+(?![^()]*\))/,p$4=se=>te=>se(...typeof te=="string"?String(te).split(g$4):[te]),u$4={appearance:se=>({WebkitAppearance:se,appearance:se}),backfaceVisibility:se=>({WebkitBackfaceVisibility:se,backfaceVisibility:se}),backdropFilter:se=>({WebkitBackdropFilter:se,backdropFilter:se}),backgroundClip:se=>({WebkitBackgroundClip:se,backgroundClip:se}),boxDecorationBreak:se=>({WebkitBoxDecorationBreak:se,boxDecorationBreak:se}),clipPath:se=>({WebkitClipPath:se,clipPath:se}),content:se=>({content:se.includes('"')||se.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(se)?se:`"${se}"`}),hyphens:se=>({WebkitHyphens:se,hyphens:se}),maskImage:se=>({WebkitMaskImage:se,maskImage:se}),maskSize:se=>({WebkitMaskSize:se,maskSize:se}),tabSize:se=>({MozTabSize:se,tabSize:se}),textSizeAdjust:se=>({WebkitTextSizeAdjust:se,textSizeAdjust:se}),userSelect:se=>({WebkitUserSelect:se,userSelect:se}),marginBlock:p$4((se,te)=>({marginBlockStart:se,marginBlockEnd:te||se})),marginInline:p$4((se,te)=>({marginInlineStart:se,marginInlineEnd:te||se})),maxSize:p$4((se,te)=>({maxBlockSize:se,maxInlineSize:te||se})),minSize:p$4((se,te)=>({minBlockSize:se,minInlineSize:te||se})),paddingBlock:p$4((se,te)=>({paddingBlockStart:se,paddingBlockEnd:te||se})),paddingInline:p$4((se,te)=>({paddingInlineStart:se,paddingInlineEnd:te||se}))},h$4=/([\d.]+)([^]*)/,f$5=(se,te)=>se.length?se.reduce((ae,oe)=>(ae.push(...te.map(ce=>ce.includes("&")?ce.replace(/&/g,/[ +>|~]/.test(oe)&&/&.*&/.test(ce)?`:is(${oe})`:oe):oe+" "+ce)),ae),[]):te,m$5=(se,te)=>se in b$4&&typeof te=="string"?te.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(ae,oe,ce,ue)=>oe+(ce==="stretch"?`-moz-available${ue};${d$4(se)}:${oe}-webkit-fill-available`:`-moz-fit-content${ue};${d$4(se)}:${oe}fit-content`)+ue):String(te),b$4={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},S$4=se=>se?se+"-":"",k$4=(se,te,ae)=>se.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(oe,ce,ue,fe,de)=>fe=="$"==!!ue?oe:(ce||fe=="--"?"calc(":"")+"var(--"+(fe==="$"?S$4(te)+(de.includes("$")?"":S$4(ae))+de.replace(/\$/g,"-"):de)+")"+(ce||fe=="--"?"*"+(ce||"")+(ue||"1")+")":"")),y$4=/\s*,\s*(?![^()]*\))/,B$1=Object.prototype.toString,$$3=(se,te,ae,oe,ce)=>{let ue,fe,de;const pe=(me,_e,be)=>{let Ee,Ae;const Re=Be=>{for(Ee in Be){const Pe=Ee.charCodeAt(0)===64,Ie=Pe&&Array.isArray(Be[Ee])?Be[Ee]:[Be[Ee]];for(Ae of Ie){const Fe=/[A-Z]/.test(Oe=Ee)?Oe:Oe.replace(/-[^]/g,Ve=>Ve[1].toUpperCase()),$e=typeof Ae=="object"&&Ae&&Ae.toString===B$1&&(!oe.utils[Fe]||!_e.length);if(Fe in oe.utils&&!$e){const Ve=oe.utils[Fe];if(Ve!==fe){fe=Ve,Re(Ve(Ae)),fe=null;continue}}else if(Fe in u$4){const Ve=u$4[Fe];if(Ve!==de){de=Ve,Re(Ve(Ae)),de=null;continue}}if(Pe&&(De=Ee.slice(1)in oe.media?"@media "+oe.media[Ee.slice(1)]:Ee,Ee=De.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(Ve,ke,We,je,He,tt)=>{const Ze=h$4.test(ke),nt=.0625*(Ze?-1:1),[at,mt]=Ze?[je,ke]:[ke,je];return"("+(We[0]==="="?"":We[0]===">"===Ze?"max-":"min-")+at+":"+(We[0]!=="="&&We.length===1?mt.replace(h$4,(Ye,rt,lt)=>Number(rt)+nt*(We===">"?1:-1)+lt):mt)+(He?") and ("+(He[0]===">"?"min-":"max-")+at+":"+(He.length===1?tt.replace(h$4,(Ye,rt,lt)=>Number(rt)+nt*(He===">"?-1:1)+lt):tt):"")+")"})),$e){const Ve=Pe?be.concat(Ee):[...be],ke=Pe?[..._e]:f$5(_e,Ee.split(y$4));ue!==void 0&&ce(x$4(...ue)),ue=void 0,pe(Ae,ke,Ve)}else ue===void 0&&(ue=[[],_e,be]),Ee=Pe||Ee.charCodeAt(0)!==36?Ee:`--${S$4(oe.prefix)}${Ee.slice(1).replace(/\$/g,"-")}`,Ae=$e?Ae:typeof Ae=="number"?Ae&&Fe in I$3?String(Ae)+"px":String(Ae):k$4(m$5(Fe,Ae??""),oe.prefix,oe.themeMap[Fe]),ue[0].push(`${Pe?`${Ee} `:`${d$4(Ee)}:`}${Ae}`)}}var De,Oe};Re(me),ue!==void 0&&ce(x$4(...ue)),ue=void 0};pe(se,te,ae)},x$4=(se,te,ae)=>`${ae.map(oe=>`${oe}{`).join("")}${te.length?`${te.join(",")}{`:""}${se.join(";")}${te.length?"}":""}${Array(ae.length?ae.length+1:0).join("}")}`,I$3={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},R$3=se=>String.fromCharCode(se+(se>25?39:97)),z$2=se=>(te=>{let ae,oe="";for(ae=Math.abs(te);ae>52;ae=ae/52|0)oe=R$3(ae%52)+oe;return R$3(ae%52)+oe})(((te,ae)=>{let oe=ae.length;for(;oe;)te=33*te^ae.charCodeAt(--oe);return te})(5381,JSON.stringify(se))>>>0),W$2=["themed","global","styled","onevar","resonevar","allvar","inline"],j$1=se=>{if(se.href&&!se.href.startsWith(location.origin))return!1;try{return!!se.cssRules}catch{return!1}},E$2=se=>{let te;const ae=()=>{const{cssRules:ce}=te.sheet;return[].map.call(ce,(ue,fe)=>{const{cssText:de}=ue;let pe="";if(de.startsWith("--sxs"))return"";if(ce[fe-1]&&(pe=ce[fe-1].cssText).startsWith("--sxs")){if(!ue.cssRules.length)return"";for(const me in te.rules)if(te.rules[me].group===ue)return`--sxs{--sxs:${[...te.rules[me].cache].join(" ")}}${de}`;return ue.cssRules.length?`${pe}${de}`:""}return de}).join("")},oe=()=>{if(te){const{rules:de,sheet:pe}=te;if(!pe.deleteRule){for(;Object(Object(pe.cssRules)[0]).type===3;)pe.cssRules.splice(0,1);pe.cssRules=[]}for(const me in de)delete de[me]}const ce=Object(se).styleSheets||[];for(const de of ce)if(j$1(de)){for(let pe=0,me=de.cssRules;me[pe];++pe){const _e=Object(me[pe]);if(_e.type!==1)continue;const be=Object(me[pe+1]);if(be.type!==4)continue;++pe;const{cssText:Ee}=_e;if(!Ee.startsWith("--sxs"))continue;const Ae=Ee.slice(14,-3).trim().split(/\s+/),Re=W$2[Ae[0]];Re&&(te||(te={sheet:de,reset:oe,rules:{},toString:ae}),te.rules[Re]={group:be,index:pe,cache:new Set(Ae)})}if(te)break}if(!te){const de=(pe,me)=>({type:me,cssRules:[],insertRule(_e,be){this.cssRules.splice(be,0,de(_e,{import:3,undefined:1}[(_e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return pe==="@media{}"?`@media{${[].map.call(this.cssRules,_e=>_e.cssText).join("")}}`:pe}});te={sheet:se?(se.head||se).appendChild(document.createElement("style")).sheet:de("","text/css"),rules:{},reset:oe,toString:ae}}const{sheet:ue,rules:fe}=te;for(let de=W$2.length-1;de>=0;--de){const pe=W$2[de];if(!fe[pe]){const me=W$2[de+1],_e=fe[me]?fe[me].index:ue.cssRules.length;ue.insertRule("@media{}",_e),ue.insertRule(`--sxs{--sxs:${de}}`,_e),fe[pe]={group:ue.cssRules[_e+1],index:_e,cache:new Set([de])}}v$3(fe[pe])}};return oe(),te},v$3=se=>{const te=se.group;let ae=te.cssRules.length;se.apply=oe=>{try{te.insertRule(oe,ae),++ae}catch{}}},T$4=Symbol(),w$2=o$3(),M$1=(se,te)=>w$2(se,()=>(...ae)=>{let oe={type:null,composers:new Set};for(const ce of ae)if(ce!=null)if(ce[l$3]){oe.type==null&&(oe.type=ce[l$3].type);for(const ue of ce[l$3].composers)oe.composers.add(ue)}else ce.constructor!==Object||ce.$$typeof?oe.type==null&&(oe.type=ce):oe.composers.add(C$2(ce,se));return oe.type==null&&(oe.type="span"),oe.composers.size||oe.composers.add(["PJLV",{},[],[],{},[]]),P$2(se,oe,te)}),C$2=({variants:se,compoundVariants:te,defaultVariants:ae,...oe},ce)=>{const ue=`${S$4(ce.prefix)}c-${z$2(oe)}`,fe=[],de=[],pe=Object.create(null),me=[];for(const Ee in ae)pe[Ee]=String(ae[Ee]);if(typeof se=="object"&&se)for(const Ee in se){_e=pe,be=Ee,c$4.call(_e,be)||(pe[Ee]="undefined");const Ae=se[Ee];for(const Re in Ae){const Be={[Ee]:String(Re)};String(Re)==="undefined"&&me.push(Ee);const De=Ae[Re],Oe=[Be,De,!a$3(De)];fe.push(Oe)}}var _e,be;if(typeof te=="object"&&te)for(const Ee of te){let{css:Ae,...Re}=Ee;Ae=typeof Ae=="object"&&Ae||{};for(const De in Re)Re[De]=String(Re[De]);const Be=[Re,Ae,!a$3(Ae)];de.push(Be)}return[ue,oe,fe,de,pe,me]},P$2=(se,te,ae)=>{const[oe,ce,ue,fe]=L$4(te.composers),de=typeof te.type=="function"||te.type.$$typeof?(be=>{function Ee(){for(let Ae=0;Ae<Ee[T$4].length;Ae++){const[Re,Be]=Ee[T$4][Ae];be.rules[Re].apply(Be)}return Ee[T$4]=[],null}return Ee[T$4]=[],Ee.rules={},W$2.forEach(Ae=>Ee.rules[Ae]={apply:Re=>Ee[T$4].push([Ae,Re])}),Ee})(ae):null,pe=(de||ae).rules,me=`.${oe}${ce.length>1?`:where(.${ce.slice(1).join(".")})`:""}`,_e=be=>{be=typeof be=="object"&&be||A$1;const{css:Ee,...Ae}=be,Re={};for(const Oe in ue)if(delete Ae[Oe],Oe in be){let Pe=be[Oe];typeof Pe=="object"&&Pe?Re[Oe]={"@initial":ue[Oe],...Pe}:(Pe=String(Pe),Re[Oe]=Pe!=="undefined"||fe.has(Oe)?Pe:ue[Oe])}else Re[Oe]=ue[Oe];const Be=new Set([...ce]);for(const[Oe,Pe,Ie,Fe]of te.composers){ae.rules.styled.cache.has(Oe)||(ae.rules.styled.cache.add(Oe),$$3(Pe,[`.${Oe}`],[],se,ke=>{pe.styled.apply(ke)}));const $e=O$2(Ie,Re,se.media),Ve=O$2(Fe,Re,se.media,!0);for(const ke of $e)if(ke!==void 0)for(const[We,je,He]of ke){const tt=`${Oe}-${z$2(je)}-${We}`;Be.add(tt);const Ze=(He?ae.rules.resonevar:ae.rules.onevar).cache,nt=He?pe.resonevar:pe.onevar;Ze.has(tt)||(Ze.add(tt),$$3(je,[`.${tt}`],[],se,at=>{nt.apply(at)}))}for(const ke of Ve)if(ke!==void 0)for(const[We,je]of ke){const He=`${Oe}-${z$2(je)}-${We}`;Be.add(He),ae.rules.allvar.cache.has(He)||(ae.rules.allvar.cache.add(He),$$3(je,[`.${He}`],[],se,tt=>{pe.allvar.apply(tt)}))}}if(typeof Ee=="object"&&Ee){const Oe=`${oe}-i${z$2(Ee)}-css`;Be.add(Oe),ae.rules.inline.cache.has(Oe)||(ae.rules.inline.cache.add(Oe),$$3(Ee,[`.${Oe}`],[],se,Pe=>{pe.inline.apply(Pe)}))}for(const Oe of String(be.className||"").trim().split(/\s+/))Oe&&Be.add(Oe);const De=Ae.className=[...Be].join(" ");return{type:te.type,className:De,selector:me,props:Ae,toString:()=>De,deferredInjector:de}};return s$4(_e,{className:oe,selector:me,[l$3]:te,toString:()=>(ae.rules.styled.cache.has(oe)||_e(),oe)})},L$4=se=>{let te="";const ae=[],oe={},ce=[];for(const[ue,,,,fe,de]of se){te===""&&(te=ue),ae.push(ue),ce.push(...de);for(const pe in fe){const me=fe[pe];(oe[pe]===void 0||me!=="undefined"||de.includes(me))&&(oe[pe]=me)}}return[te,ae,oe,new Set(ce)]},O$2=(se,te,ae,oe)=>{const ce=[];e:for(let[ue,fe,de]of se){if(de)continue;let pe,me=0,_e=!1;for(pe in ue){const be=ue[pe];let Ee=te[pe];if(Ee!==be){if(typeof Ee!="object"||!Ee)continue e;{let Ae,Re,Be=0;for(const De in Ee){if(be===String(Ee[De])){if(De!=="@initial"){const Oe=De.slice(1);(Re=Re||[]).push(Oe in ae?ae[Oe]:De.replace(/^@media ?/,"")),_e=!0}me+=Be,Ae=!0}++Be}if(Re&&Re.length&&(fe={["@media "+Re.join(", ")]:fe}),!Ae)continue e}}}(ce[me]=ce[me]||[]).push([oe?"cv":`${pe}-${ue[pe]}`,fe,_e])}return ce},A$1={},N$3=o$3(),D$2=(se,te)=>N$3(se,()=>(...ae)=>{const oe=()=>{for(let ce of ae){ce=typeof ce=="object"&&ce||{};let ue=z$2(ce);if(!te.rules.global.cache.has(ue)){if(te.rules.global.cache.add(ue),"@import"in ce){let fe=[].indexOf.call(te.sheet.cssRules,te.rules.themed.group)-1;for(let de of[].concat(ce["@import"]))de=de.includes('"')||de.includes("'")?de:`"${de}"`,te.sheet.insertRule(`@import ${de};`,fe++);delete ce["@import"]}$$3(ce,[],[],se,fe=>{te.rules.global.apply(fe)})}}return""};return s$4(oe,{toString:oe})}),H$3=o$3(),V$2=(se,te)=>H$3(se,()=>ae=>{const oe=`${S$4(se.prefix)}k-${z$2(ae)}`,ce=()=>{if(!te.rules.global.cache.has(oe)){te.rules.global.cache.add(oe);const ue=[];$$3(ae,[],[],se,de=>ue.push(de));const fe=`@keyframes ${oe}{${ue.join("")}}`;te.rules.global.apply(fe)}return oe};return s$4(ce,{get name(){return ce()},toString:ce})}),G$1=class{constructor(te,ae,oe,ce){this.token=te==null?"":String(te),this.value=ae==null?"":String(ae),this.scale=oe==null?"":String(oe),this.prefix=ce==null?"":String(ce)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+S$4(this.prefix)+S$4(this.scale)+this.token}toString(){return this.computedValue}},F$2=o$3(),J$1=(se,te)=>F$2(se,()=>(ae,oe)=>{oe=typeof ae=="object"&&ae||Object(oe);const ce=`.${ae=(ae=typeof ae=="string"?ae:"")||`${S$4(se.prefix)}t-${z$2(oe)}`}`,ue={},fe=[];for(const pe in oe){ue[pe]={};for(const me in oe[pe]){const _e=`--${S$4(se.prefix)}${pe}-${me}`,be=k$4(String(oe[pe][me]),se.prefix,pe);ue[pe][me]=new G$1(me,be,pe,se.prefix),fe.push(`${_e}:${be}`)}}const de=()=>{if(fe.length&&!te.rules.themed.cache.has(ae)){te.rules.themed.cache.add(ae);const pe=`${oe===se.theme?":root,":""}.${ae}{${fe.join(";")}}`;te.rules.themed.apply(pe)}return ae};return{...ue,get className(){return de()},selector:ce,toString:de}}),U$2=o$3(),Y$2=o$3(),q$2=se=>{const te=(ae=>{let oe=!1;const ce=U$2(ae,ue=>{oe=!0;const fe="prefix"in(ue=typeof ue=="object"&&ue||{})?String(ue.prefix):"",de=typeof ue.media=="object"&&ue.media||{},pe=typeof ue.root=="object"?ue.root||null:globalThis.document||null,me=typeof ue.theme=="object"&&ue.theme||{},_e={prefix:fe,media:de,theme:me,themeMap:typeof ue.themeMap=="object"&&ue.themeMap||{...n$3},utils:typeof ue.utils=="object"&&ue.utils||{}},be=E$2(pe),Ee={css:M$1(_e,be),globalCss:D$2(_e,be),keyframes:V$2(_e,be),createTheme:J$1(_e,be),reset(){be.reset(),Ee.theme.toString()},theme:{},sheet:be,config:_e,prefix:fe,getCssText:be.toString,toString:be.toString};return String(Ee.theme=Ee.createTheme(me)),Ee});return oe||ce.reset(),ce})(se);return te.styled=(({config:ae,sheet:oe})=>Y$2(ae,()=>{const ce=M$1(ae,oe);return(...ue)=>{const fe=ce(...ue),de=fe[l$3].type,pe=React.forwardRef((me,_e)=>{const be=me&&me.as||de,{props:Ee,deferredInjector:Ae}=fe(me);return delete Ee.as,Ee.ref=_e,Ae?React.createElement(React.Fragment,null,React.createElement(be,Ee),React.createElement(Ae,null)):React.createElement(be,Ee)});return pe.className=fe.className,pe.displayName=`Styled.${de.displayName||de.name||de}`,pe.selector=fe.selector,pe.toString=()=>fe.selector,pe[l$3]=fe[l$3],pe}}))(te),te};function $e42e1063c40fb3ef$export$b9ecd428b558ff10(se,te,{checkForDefaultPrevented:ae=!0}={}){return function(ce){if(se==null||se(ce),ae===!1||!ce.defaultPrevented)return te==null?void 0:te(ce)}}function $c512c27ab02ef895$export$50c7b4e9d9f19c1(se,te=[]){let ae=[];function oe(ue,fe){const de=reactExports.createContext(fe),pe=ae.length;ae=[...ae,fe];function me(be){const{scope:Ee,children:Ae,...Re}=be,Be=(Ee==null?void 0:Ee[se][pe])||de,De=reactExports.useMemo(()=>Re,Object.values(Re));return reactExports.createElement(Be.Provider,{value:De},Ae)}function _e(be,Ee){const Ae=(Ee==null?void 0:Ee[se][pe])||de,Re=reactExports.useContext(Ae);if(Re)return Re;if(fe!==void 0)return fe;throw new Error(`\`${be}\` must be used within \`${ue}\``)}return me.displayName=ue+"Provider",[me,_e]}const ce=()=>{const ue=ae.map(fe=>reactExports.createContext(fe));return function(de){const pe=(de==null?void 0:de[se])||ue;return reactExports.useMemo(()=>({[`__scope${se}`]:{...de,[se]:pe}}),[de,pe])}};return ce.scopeName=se,[oe,$c512c27ab02ef895$var$composeContextScopes(ce,...te)]}function $c512c27ab02ef895$var$composeContextScopes(...se){const te=se[0];if(se.length===1)return te;const ae=()=>{const oe=se.map(ce=>({useScope:ce(),scopeName:ce.scopeName}));return function(ue){const fe=oe.reduce((de,{useScope:pe,scopeName:me})=>{const be=pe(ue)[`__scope${me}`];return{...de,...be}},{});return reactExports.useMemo(()=>({[`__scope${te.scopeName}`]:fe}),[fe])}};return ae.scopeName=te.scopeName,ae}function $b1b2314f5f9a1d84$export$25bec8c6f54ee79a(se){const te=reactExports.useRef(se);return reactExports.useEffect(()=>{te.current=se}),reactExports.useMemo(()=>(...ae)=>{var oe;return(oe=te.current)===null||oe===void 0?void 0:oe.call(te,...ae)},[])}function $addc16e1bbe58fd0$export$3a72a57244d6e765(se,te=globalThis==null?void 0:globalThis.document){const ae=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(se);reactExports.useEffect(()=>{const oe=ce=>{ce.key==="Escape"&&ae(ce)};return te.addEventListener("keydown",oe),()=>te.removeEventListener("keydown",oe)},[ae,te])}const $5cb92bef7577960e$var$CONTEXT_UPDATE="dismissableLayer.update",$5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE="dismissableLayer.pointerDownOutside",$5cb92bef7577960e$var$FOCUS_OUTSIDE="dismissableLayer.focusOutside";let $5cb92bef7577960e$var$originalBodyPointerEvents;const $5cb92bef7577960e$var$DismissableLayerContext=reactExports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),$5cb92bef7577960e$export$177fb62ff3ec1f22=reactExports.forwardRef((se,te)=>{var ae;const{disableOutsidePointerEvents:oe=!1,onEscapeKeyDown:ce,onPointerDownOutside:ue,onFocusOutside:fe,onInteractOutside:de,onDismiss:pe,...me}=se,_e=reactExports.useContext($5cb92bef7577960e$var$DismissableLayerContext),[be,Ee]=reactExports.useState(null),Ae=(ae=be==null?void 0:be.ownerDocument)!==null&&ae!==void 0?ae:globalThis==null?void 0:globalThis.document,[,Re]=reactExports.useState({}),Be=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te,We=>Ee(We)),De=Array.from(_e.layers),[Oe]=[..._e.layersWithOutsidePointerEventsDisabled].slice(-1),Pe=De.indexOf(Oe),Ie=be?De.indexOf(be):-1,Fe=_e.layersWithOutsidePointerEventsDisabled.size>0,$e=Ie>=Pe,Ve=$5cb92bef7577960e$var$usePointerDownOutside(We=>{const je=We.target,He=[..._e.branches].some(tt=>tt.contains(je));!$e||He||(ue==null||ue(We),de==null||de(We),We.defaultPrevented||pe==null||pe())},Ae),ke=$5cb92bef7577960e$var$useFocusOutside(We=>{const je=We.target;[..._e.branches].some(tt=>tt.contains(je))||(fe==null||fe(We),de==null||de(We),We.defaultPrevented||pe==null||pe())},Ae);return $addc16e1bbe58fd0$export$3a72a57244d6e765(We=>{Ie===_e.layers.size-1&&(ce==null||ce(We),!We.defaultPrevented&&pe&&(We.preventDefault(),pe()))},Ae),reactExports.useEffect(()=>{if(be)return oe&&(_e.layersWithOutsidePointerEventsDisabled.size===0&&($5cb92bef7577960e$var$originalBodyPointerEvents=Ae.body.style.pointerEvents,Ae.body.style.pointerEvents="none"),_e.layersWithOutsidePointerEventsDisabled.add(be)),_e.layers.add(be),$5cb92bef7577960e$var$dispatchUpdate(),()=>{oe&&_e.layersWithOutsidePointerEventsDisabled.size===1&&(Ae.body.style.pointerEvents=$5cb92bef7577960e$var$originalBodyPointerEvents)}},[be,Ae,oe,_e]),reactExports.useEffect(()=>()=>{be&&(_e.layers.delete(be),_e.layersWithOutsidePointerEventsDisabled.delete(be),$5cb92bef7577960e$var$dispatchUpdate())},[be,_e]),reactExports.useEffect(()=>{const We=()=>Re({});return document.addEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,We),()=>document.removeEventListener($5cb92bef7577960e$var$CONTEXT_UPDATE,We)},[]),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},me,{ref:Be,style:{pointerEvents:Fe?$e?"auto":"none":void 0,...se.style},onFocusCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onFocusCapture,ke.onFocusCapture),onBlurCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onBlurCapture,ke.onBlurCapture),onPointerDownCapture:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onPointerDownCapture,Ve.onPointerDownCapture)}))});function $5cb92bef7577960e$var$usePointerDownOutside(se,te=globalThis==null?void 0:globalThis.document){const ae=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(se),oe=reactExports.useRef(!1),ce=reactExports.useRef(()=>{});return reactExports.useEffect(()=>{const ue=de=>{if(de.target&&!oe.current){let _e=function(){$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$POINTER_DOWN_OUTSIDE,ae,me,{discrete:!0})};var pe=_e;const me={originalEvent:de};de.pointerType==="touch"?(te.removeEventListener("click",ce.current),ce.current=_e,te.addEventListener("click",ce.current,{once:!0})):_e()}oe.current=!1},fe=window.setTimeout(()=>{te.addEventListener("pointerdown",ue)},0);return()=>{window.clearTimeout(fe),te.removeEventListener("pointerdown",ue),te.removeEventListener("click",ce.current)}},[te,ae]),{onPointerDownCapture:()=>oe.current=!0}}function $5cb92bef7577960e$var$useFocusOutside(se,te=globalThis==null?void 0:globalThis.document){const ae=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(se),oe=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ce=ue=>{ue.target&&!oe.current&&$5cb92bef7577960e$var$handleAndDispatchCustomEvent($5cb92bef7577960e$var$FOCUS_OUTSIDE,ae,{originalEvent:ue},{discrete:!1})};return te.addEventListener("focusin",ce),()=>te.removeEventListener("focusin",ce)},[te,ae]),{onFocusCapture:()=>oe.current=!0,onBlurCapture:()=>oe.current=!1}}function $5cb92bef7577960e$var$dispatchUpdate(){const se=new CustomEvent($5cb92bef7577960e$var$CONTEXT_UPDATE);document.dispatchEvent(se)}function $5cb92bef7577960e$var$handleAndDispatchCustomEvent(se,te,ae,{discrete:oe}){const ce=ae.originalEvent.target,ue=new CustomEvent(se,{bubbles:!1,cancelable:!0,detail:ae});te&&ce.addEventListener(se,te,{once:!0}),oe?$8927f6f2acc4f386$export$6d1a0317bde7de7f(ce,ue):ce.dispatchEvent(ue)}const $9f79659886946c16$export$e5c5a5f917a5871c=globalThis!=null&&globalThis.document?reactExports.useLayoutEffect:()=>{},$1746a345f3d73bb7$var$useReactId=$2AODx$react.useId||(()=>{});let $1746a345f3d73bb7$var$count=0;function $1746a345f3d73bb7$export$f680877a34711e37(se){const[te,ae]=reactExports.useState($1746a345f3d73bb7$var$useReactId());return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{ae(oe=>oe??String($1746a345f3d73bb7$var$count++))},[se]),te?`radix-${te}`:""}function t$1(se){return se.split("-")[0]}function e$1(se){return se.split("-")[1]}function n$2(se){return["top","bottom"].includes(t$1(se))?"x":"y"}function r$2(se){return se==="y"?"height":"width"}function i$3(se,te,ae){let{reference:oe,floating:ce}=se;const ue=oe.x+oe.width/2-ce.width/2,fe=oe.y+oe.height/2-ce.height/2,de=n$2(te),pe=r$2(de),me=oe[pe]/2-ce[pe]/2,_e=de==="x";let be;switch(t$1(te)){case"top":be={x:ue,y:oe.y-ce.height};break;case"bottom":be={x:ue,y:oe.y+oe.height};break;case"right":be={x:oe.x+oe.width,y:fe};break;case"left":be={x:oe.x-ce.width,y:fe};break;default:be={x:oe.x,y:oe.y}}switch(e$1(te)){case"start":be[de]-=me*(ae&&_e?-1:1);break;case"end":be[de]+=me*(ae&&_e?-1:1)}return be}const o$2=async(se,te,ae)=>{const{placement:oe="bottom",strategy:ce="absolute",middleware:ue=[],platform:fe}=ae,de=await(fe.isRTL==null?void 0:fe.isRTL(te));let pe=await fe.getElementRects({reference:se,floating:te,strategy:ce}),{x:me,y:_e}=i$3(pe,oe,de),be=oe,Ee={},Ae=0;for(let Re=0;Re<ue.length;Re++){const{name:Be,fn:De}=ue[Re],{x:Oe,y:Pe,data:Ie,reset:Fe}=await De({x:me,y:_e,initialPlacement:oe,placement:be,strategy:ce,middlewareData:Ee,rects:pe,platform:fe,elements:{reference:se,floating:te}});me=Oe??me,_e=Pe??_e,Ee={...Ee,[Be]:{...Ee[Be],...Ie}},Fe&&Ae<=50&&(Ae++,typeof Fe=="object"&&(Fe.placement&&(be=Fe.placement),Fe.rects&&(pe=Fe.rects===!0?await fe.getElementRects({reference:se,floating:te,strategy:ce}):Fe.rects),{x:me,y:_e}=i$3(pe,be,de)),Re=-1)}return{x:me,y:_e,placement:be,strategy:ce,middlewareData:Ee}};function a$2(se){return typeof se!="number"?function(te){return{top:0,right:0,bottom:0,left:0,...te}}(se):{top:se,right:se,bottom:se,left:se}}function l$2(se){return{...se,top:se.y,left:se.x,right:se.x+se.width,bottom:se.y+se.height}}async function s$3(se,te){var ae;te===void 0&&(te={});const{x:oe,y:ce,platform:ue,rects:fe,elements:de,strategy:pe}=se,{boundary:me="clippingAncestors",rootBoundary:_e="viewport",elementContext:be="floating",altBoundary:Ee=!1,padding:Ae=0}=te,Re=a$2(Ae),Be=de[Ee?be==="floating"?"reference":"floating":be],De=l$2(await ue.getClippingRect({element:(ae=await(ue.isElement==null?void 0:ue.isElement(Be)))==null||ae?Be:Be.contextElement||await(ue.getDocumentElement==null?void 0:ue.getDocumentElement(de.floating)),boundary:me,rootBoundary:_e,strategy:pe})),Oe=l$2(ue.convertOffsetParentRelativeRectToViewportRelativeRect?await ue.convertOffsetParentRelativeRectToViewportRelativeRect({rect:be==="floating"?{...fe.floating,x:oe,y:ce}:fe.reference,offsetParent:await(ue.getOffsetParent==null?void 0:ue.getOffsetParent(de.floating)),strategy:pe}):fe[be]);return{top:De.top-Oe.top+Re.top,bottom:Oe.bottom-De.bottom+Re.bottom,left:De.left-Oe.left+Re.left,right:Oe.right-De.right+Re.right}}const c$3=Math.min,f$4=Math.max;function u$3(se,te,ae){return f$4(se,c$3(te,ae))}const m$4=se=>({name:"arrow",options:se,async fn(te){const{element:ae,padding:oe=0}=se??{},{x:ce,y:ue,placement:fe,rects:de,platform:pe}=te;if(ae==null)return{};const me=a$2(oe),_e={x:ce,y:ue},be=n$2(fe),Ee=e$1(fe),Ae=r$2(be),Re=await pe.getDimensions(ae),Be=be==="y"?"top":"left",De=be==="y"?"bottom":"right",Oe=de.reference[Ae]+de.reference[be]-_e[be]-de.floating[Ae],Pe=_e[be]-de.reference[be],Ie=await(pe.getOffsetParent==null?void 0:pe.getOffsetParent(ae));let Fe=Ie?be==="y"?Ie.clientHeight||0:Ie.clientWidth||0:0;Fe===0&&(Fe=de.floating[Ae]);const $e=Oe/2-Pe/2,Ve=me[Be],ke=Fe-Re[Ae]-me[De],We=Fe/2-Re[Ae]/2+$e,je=u$3(Ve,We,ke),He=(Ee==="start"?me[Be]:me[De])>0&&We!==je&&de.reference[Ae]<=de.floating[Ae];return{[be]:_e[be]-(He?We<Ve?Ve-We:ke-We:0),data:{[be]:je,centerOffset:We-je}}}}),g$3={left:"right",right:"left",bottom:"top",top:"bottom"};function d$3(se){return se.replace(/left|right|bottom|top/g,te=>g$3[te])}function p$3(se,te,ae){ae===void 0&&(ae=!1);const oe=e$1(se),ce=n$2(se),ue=r$2(ce);let fe=ce==="x"?oe===(ae?"end":"start")?"right":"left":oe==="start"?"bottom":"top";return te.reference[ue]>te.floating[ue]&&(fe=d$3(fe)),{main:fe,cross:d$3(fe)}}const h$3={start:"end",end:"start"};function y$3(se){return se.replace(/start|end/g,te=>h$3[te])}const x$3=["top","right","bottom","left"];x$3.reduce((se,te)=>se.concat(te,te+"-start",te+"-end"),[]);const b$3=function(se){return se===void 0&&(se={}),{name:"flip",options:se,async fn(te){var ae;const{placement:oe,middlewareData:ce,rects:ue,initialPlacement:fe,platform:de,elements:pe}=te,{mainAxis:me=!0,crossAxis:_e=!0,fallbackPlacements:be,fallbackStrategy:Ee="bestFit",flipAlignment:Ae=!0,...Re}=se,Be=t$1(oe),De=be||(Be===fe||!Ae?[d$3(fe)]:function(We){const je=d$3(We);return[y$3(We),je,y$3(je)]}(fe)),Oe=[fe,...De],Pe=await s$3(te,Re),Ie=[];let Fe=((ae=ce.flip)==null?void 0:ae.overflows)||[];if(me&&Ie.push(Pe[Be]),_e){const{main:We,cross:je}=p$3(oe,ue,await(de.isRTL==null?void 0:de.isRTL(pe.floating)));Ie.push(Pe[We],Pe[je])}if(Fe=[...Fe,{placement:oe,overflows:Ie}],!Ie.every(We=>We<=0)){var $e,Ve;const We=(($e=(Ve=ce.flip)==null?void 0:Ve.index)!=null?$e:0)+1,je=Oe[We];if(je)return{data:{index:We,overflows:Fe},reset:{placement:je}};let He="bottom";switch(Ee){case"bestFit":{var ke;const tt=(ke=Fe.map(Ze=>[Ze,Ze.overflows.filter(nt=>nt>0).reduce((nt,at)=>nt+at,0)]).sort((Ze,nt)=>Ze[1]-nt[1])[0])==null?void 0:ke[0].placement;tt&&(He=tt);break}case"initialPlacement":He=fe}if(oe!==He)return{reset:{placement:He}}}return{}}}};function R$2(se,te){return{top:se.top-te.height,right:se.right-te.width,bottom:se.bottom-te.height,left:se.left-te.width}}function A(se){return x$3.some(te=>se[te]>=0)}const P$1=function(se){let{strategy:te="referenceHidden",...ae}=se===void 0?{}:se;return{name:"hide",async fn(oe){const{rects:ce}=oe;switch(te){case"referenceHidden":{const ue=R$2(await s$3(oe,{...ae,elementContext:"reference"}),ce.reference);return{data:{referenceHiddenOffsets:ue,referenceHidden:A(ue)}}}case"escaped":{const ue=R$2(await s$3(oe,{...ae,altBoundary:!0}),ce.floating);return{data:{escapedOffsets:ue,escaped:A(ue)}}}default:return{}}}}},T$3=function(se){return se===void 0&&(se=0),{name:"offset",options:se,async fn(te){const{x:ae,y:oe}=te,ce=await async function(ue,fe){const{placement:de,platform:pe,elements:me}=ue,_e=await(pe.isRTL==null?void 0:pe.isRTL(me.floating)),be=t$1(de),Ee=e$1(de),Ae=n$2(de)==="x",Re=["left","top"].includes(be)?-1:1,Be=_e&&Ae?-1:1,De=typeof fe=="function"?fe(ue):fe;let{mainAxis:Oe,crossAxis:Pe,alignmentAxis:Ie}=typeof De=="number"?{mainAxis:De,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...De};return Ee&&typeof Ie=="number"&&(Pe=Ee==="end"?-1*Ie:Ie),Ae?{x:Pe*Be,y:Oe*Re}:{x:Oe*Re,y:Pe*Be}}(te,se);return{x:ae+ce.x,y:oe+ce.y,data:ce}}}};function O$1(se){return se==="x"?"y":"x"}const D$1=function(se){return se===void 0&&(se={}),{name:"shift",options:se,async fn(te){const{x:ae,y:oe,placement:ce}=te,{mainAxis:ue=!0,crossAxis:fe=!1,limiter:de={fn:De=>{let{x:Oe,y:Pe}=De;return{x:Oe,y:Pe}}},...pe}=se,me={x:ae,y:oe},_e=await s$3(te,pe),be=n$2(t$1(ce)),Ee=O$1(be);let Ae=me[be],Re=me[Ee];if(ue){const De=be==="y"?"bottom":"right";Ae=u$3(Ae+_e[be==="y"?"top":"left"],Ae,Ae-_e[De])}if(fe){const De=Ee==="y"?"bottom":"right";Re=u$3(Re+_e[Ee==="y"?"top":"left"],Re,Re-_e[De])}const Be=de.fn({...te,[be]:Ae,[Ee]:Re});return{...Be,data:{x:Be.x-ae,y:Be.y-oe}}}}},L$3=function(se){return se===void 0&&(se={}),{options:se,fn(te){const{x:ae,y:oe,placement:ce,rects:ue,middlewareData:fe}=te,{offset:de=0,mainAxis:pe=!0,crossAxis:me=!0}=se,_e={x:ae,y:oe},be=n$2(ce),Ee=O$1(be);let Ae=_e[be],Re=_e[Ee];const Be=typeof de=="function"?de({...ue,placement:ce}):de,De=typeof Be=="number"?{mainAxis:Be,crossAxis:0}:{mainAxis:0,crossAxis:0,...Be};if(pe){const $e=be==="y"?"height":"width",Ve=ue.reference[be]-ue.floating[$e]+De.mainAxis,ke=ue.reference[be]+ue.reference[$e]-De.mainAxis;Ae<Ve?Ae=Ve:Ae>ke&&(Ae=ke)}if(me){var Oe,Pe,Ie,Fe;const $e=be==="y"?"width":"height",Ve=["top","left"].includes(t$1(ce)),ke=ue.reference[Ee]-ue.floating[$e]+(Ve&&(Oe=(Pe=fe.offset)==null?void 0:Pe[Ee])!=null?Oe:0)+(Ve?0:De.crossAxis),We=ue.reference[Ee]+ue.reference[$e]+(Ve?0:(Ie=(Fe=fe.offset)==null?void 0:Fe[Ee])!=null?Ie:0)-(Ve?De.crossAxis:0);Re<ke?Re=ke:Re>We&&(Re=We)}return{[be]:Ae,[Ee]:Re}}}},k$3=function(se){return se===void 0&&(se={}),{name:"size",options:se,async fn(te){const{placement:ae,rects:oe,platform:ce,elements:ue}=te,{apply:fe,...de}=se,pe=await s$3(te,de),me=t$1(ae),_e=e$1(ae);let be,Ee;me==="top"||me==="bottom"?(be=me,Ee=_e===(await(ce.isRTL==null?void 0:ce.isRTL(ue.floating))?"start":"end")?"left":"right"):(Ee=me,be=_e==="end"?"top":"bottom");const Ae=f$4(pe.left,0),Re=f$4(pe.right,0),Be=f$4(pe.top,0),De=f$4(pe.bottom,0),Oe={availableHeight:oe.floating.height-(["left","right"].includes(ae)?2*(Be!==0||De!==0?Be+De:f$4(pe.top,pe.bottom)):pe[be]),availableWidth:oe.floating.width-(["top","bottom"].includes(ae)?2*(Ae!==0||Re!==0?Ae+Re:f$4(pe.left,pe.right)):pe[Ee])},Pe=await ce.getDimensions(ue.floating);fe==null||fe({...te,...Oe});const Ie=await ce.getDimensions(ue.floating);return Pe.width!==Ie.width||Pe.height!==Ie.height?{reset:{rects:!0}}:{}}}};function n$1(se){return se&&se.document&&se.location&&se.alert&&se.setInterval}function o$1(se){if(se==null)return window;if(!n$1(se)){const te=se.ownerDocument;return te&&te.defaultView||window}return se}function i$2(se){return o$1(se).getComputedStyle(se)}function r$1(se){return n$1(se)?"":se?(se.nodeName||"").toLowerCase():""}function l$1(){const se=navigator.userAgentData;return se!=null&&se.brands?se.brands.map(te=>te.brand+"/"+te.version).join(" "):navigator.userAgent}function c$2(se){return se instanceof o$1(se).HTMLElement}function f$3(se){return se instanceof o$1(se).Element}function s$2(se){return typeof ShadowRoot>"u"?!1:se instanceof o$1(se).ShadowRoot||se instanceof ShadowRoot}function u$2(se){const{overflow:te,overflowX:ae,overflowY:oe}=i$2(se);return/auto|scroll|overlay|hidden/.test(te+oe+ae)}function d$2(se){return["table","td","th"].includes(r$1(se))}function h$2(se){const te=/firefox/i.test(l$1()),ae=i$2(se);return ae.transform!=="none"||ae.perspective!=="none"||ae.contain==="paint"||["transform","perspective"].includes(ae.willChange)||te&&ae.willChange==="filter"||te&&!!ae.filter&&ae.filter!=="none"}function a$1(){return!/^((?!chrome|android).)*safari/i.test(l$1())}const g$2=Math.min,p$2=Math.max,m$3=Math.round;function w$1(se,te,ae){var oe,ce,ue,fe;te===void 0&&(te=!1),ae===void 0&&(ae=!1);const de=se.getBoundingClientRect();let pe=1,me=1;te&&c$2(se)&&(pe=se.offsetWidth>0&&m$3(de.width)/se.offsetWidth||1,me=se.offsetHeight>0&&m$3(de.height)/se.offsetHeight||1);const _e=f$3(se)?o$1(se):window,be=!a$1()&&ae,Ee=(de.left+(be&&(oe=(ce=_e.visualViewport)==null?void 0:ce.offsetLeft)!=null?oe:0))/pe,Ae=(de.top+(be&&(ue=(fe=_e.visualViewport)==null?void 0:fe.offsetTop)!=null?ue:0))/me,Re=de.width/pe,Be=de.height/me;return{width:Re,height:Be,top:Ae,right:Ee+Re,bottom:Ae+Be,left:Ee,x:Ee,y:Ae}}function v$2(se){return(te=se,(te instanceof o$1(te).Node?se.ownerDocument:se.document)||window.document).documentElement;var te}function y$2(se){return f$3(se)?{scrollLeft:se.scrollLeft,scrollTop:se.scrollTop}:{scrollLeft:se.pageXOffset,scrollTop:se.pageYOffset}}function x$2(se){return w$1(v$2(se)).left+y$2(se).scrollLeft}function b$2(se,te,ae){const oe=c$2(te),ce=v$2(te),ue=w$1(se,oe&&function(pe){const me=w$1(pe);return m$3(me.width)!==pe.offsetWidth||m$3(me.height)!==pe.offsetHeight}(te),ae==="fixed");let fe={scrollLeft:0,scrollTop:0};const de={x:0,y:0};if(oe||!oe&&ae!=="fixed")if((r$1(te)!=="body"||u$2(ce))&&(fe=y$2(te)),c$2(te)){const pe=w$1(te,!0);de.x=pe.x+te.clientLeft,de.y=pe.y+te.clientTop}else ce&&(de.x=x$2(ce));return{x:ue.left+fe.scrollLeft-de.x,y:ue.top+fe.scrollTop-de.y,width:ue.width,height:ue.height}}function L$2(se){return r$1(se)==="html"?se:se.assignedSlot||se.parentNode||(s$2(se)?se.host:null)||v$2(se)}function R$1(se){return c$2(se)&&getComputedStyle(se).position!=="fixed"?se.offsetParent:null}function T$2(se){const te=o$1(se);let ae=R$1(se);for(;ae&&d$2(ae)&&getComputedStyle(ae).position==="static";)ae=R$1(ae);return ae&&(r$1(ae)==="html"||r$1(ae)==="body"&&getComputedStyle(ae).position==="static"&&!h$2(ae))?te:ae||function(oe){let ce=L$2(oe);for(s$2(ce)&&(ce=ce.host);c$2(ce)&&!["html","body"].includes(r$1(ce));){if(h$2(ce))return ce;ce=ce.parentNode}return null}(se)||te}function W$1(se){if(c$2(se))return{width:se.offsetWidth,height:se.offsetHeight};const te=w$1(se);return{width:te.width,height:te.height}}function E$1(se){const te=L$2(se);return["html","body","#document"].includes(r$1(te))?se.ownerDocument.body:c$2(te)&&u$2(te)?te:E$1(te)}function H$2(se,te){var ae;te===void 0&&(te=[]);const oe=E$1(se),ce=oe===((ae=se.ownerDocument)==null?void 0:ae.body),ue=o$1(oe),fe=ce?[ue].concat(ue.visualViewport||[],u$2(oe)?oe:[]):oe,de=te.concat(fe);return ce?de:de.concat(H$2(fe))}function C$1(se,te,ae){return te==="viewport"?l$2(function(oe,ce){const ue=o$1(oe),fe=v$2(oe),de=ue.visualViewport;let pe=fe.clientWidth,me=fe.clientHeight,_e=0,be=0;if(de){pe=de.width,me=de.height;const Ee=a$1();(Ee||!Ee&&ce==="fixed")&&(_e=de.offsetLeft,be=de.offsetTop)}return{width:pe,height:me,x:_e,y:be}}(se,ae)):f$3(te)?function(oe,ce){const ue=w$1(oe,!1,ce==="fixed"),fe=ue.top+oe.clientTop,de=ue.left+oe.clientLeft;return{top:fe,left:de,x:de,y:fe,right:de+oe.clientWidth,bottom:fe+oe.clientHeight,width:oe.clientWidth,height:oe.clientHeight}}(te,ae):l$2(function(oe){var ce;const ue=v$2(oe),fe=y$2(oe),de=(ce=oe.ownerDocument)==null?void 0:ce.body,pe=p$2(ue.scrollWidth,ue.clientWidth,de?de.scrollWidth:0,de?de.clientWidth:0),me=p$2(ue.scrollHeight,ue.clientHeight,de?de.scrollHeight:0,de?de.clientHeight:0);let _e=-fe.scrollLeft+x$2(oe);const be=-fe.scrollTop;return i$2(de||ue).direction==="rtl"&&(_e+=p$2(ue.clientWidth,de?de.clientWidth:0)-pe),{width:pe,height:me,x:_e,y:be}}(v$2(se)))}function S$3(se){const te=H$2(se),ae=["absolute","fixed"].includes(i$2(se).position)&&c$2(se)?T$2(se):se;return f$3(ae)?te.filter(oe=>f$3(oe)&&function(ce,ue){const fe=ue.getRootNode==null?void 0:ue.getRootNode();if(ce.contains(ue))return!0;if(fe&&s$2(fe)){let de=ue;do{if(de&&ce===de)return!0;de=de.parentNode||de.host}while(de)}return!1}(oe,ae)&&r$1(oe)!=="body"):[]}const D={getClippingRect:function(se){let{element:te,boundary:ae,rootBoundary:oe,strategy:ce}=se;const ue=[...ae==="clippingAncestors"?S$3(te):[].concat(ae),oe],fe=ue[0],de=ue.reduce((pe,me)=>{const _e=C$1(te,me,ce);return pe.top=p$2(_e.top,pe.top),pe.right=g$2(_e.right,pe.right),pe.bottom=g$2(_e.bottom,pe.bottom),pe.left=p$2(_e.left,pe.left),pe},C$1(te,fe,ce));return{width:de.right-de.left,height:de.bottom-de.top,x:de.left,y:de.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(se){let{rect:te,offsetParent:ae,strategy:oe}=se;const ce=c$2(ae),ue=v$2(ae);if(ae===ue)return te;let fe={scrollLeft:0,scrollTop:0};const de={x:0,y:0};if((ce||!ce&&oe!=="fixed")&&((r$1(ae)!=="body"||u$2(ue))&&(fe=y$2(ae)),c$2(ae))){const pe=w$1(ae,!0);de.x=pe.x+ae.clientLeft,de.y=pe.y+ae.clientTop}return{...te,x:te.x-fe.scrollLeft+de.x,y:te.y-fe.scrollTop+de.y}},isElement:f$3,getDimensions:W$1,getOffsetParent:T$2,getDocumentElement:v$2,getElementRects:se=>{let{reference:te,floating:ae,strategy:oe}=se;return{reference:b$2(te,T$2(ae),oe),floating:{...W$1(ae),x:0,y:0}}},getClientRects:se=>Array.from(se.getClientRects()),isRTL:se=>i$2(se).direction==="rtl"};function N$2(se,te,ae,oe){oe===void 0&&(oe={});const{ancestorScroll:ce=!0,ancestorResize:ue=!0,elementResize:fe=!0,animationFrame:de=!1}=oe,pe=ce&&!de,me=ue&&!de,_e=pe||me?[...f$3(se)?H$2(se):[],...H$2(te)]:[];_e.forEach(Re=>{pe&&Re.addEventListener("scroll",ae,{passive:!0}),me&&Re.addEventListener("resize",ae)});let be,Ee=null;if(fe){let Re=!0;Ee=new ResizeObserver(()=>{Re||ae(),Re=!1}),f$3(se)&&!de&&Ee.observe(se),Ee.observe(te)}let Ae=de?w$1(se):null;return de&&function Re(){const Be=w$1(se);!Ae||Be.x===Ae.x&&Be.y===Ae.y&&Be.width===Ae.width&&Be.height===Ae.height||ae(),Ae=Be,be=requestAnimationFrame(Re)}(),ae(),()=>{var Re;_e.forEach(Be=>{pe&&Be.removeEventListener("scroll",ae),me&&Be.removeEventListener("resize",ae)}),(Re=Ee)==null||Re.disconnect(),Ee=null,de&&cancelAnimationFrame(be)}}const z$1=(se,te,ae)=>o$2(se,te,{platform:D,...ae});var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(se,te){if(se===te)return!0;if(typeof se!=typeof te)return!1;if(typeof se=="function"&&se.toString()===te.toString())return!0;let ae,oe,ce;if(se&&te&&typeof se=="object"){if(Array.isArray(se)){if(ae=se.length,ae!=te.length)return!1;for(oe=ae;oe--!==0;)if(!deepEqual(se[oe],te[oe]))return!1;return!0}if(ce=Object.keys(se),ae=ce.length,ae!==Object.keys(te).length)return!1;for(oe=ae;oe--!==0;)if(!Object.prototype.hasOwnProperty.call(te,ce[oe]))return!1;for(oe=ae;oe--!==0;){const ue=ce[oe];if(!(ue==="_owner"&&se.$$typeof)&&!deepEqual(se[ue],te[ue]))return!1}return!0}return se!==se&&te!==te}function useLatestRef(se){const te=reactExports.useRef(se);return index(()=>{te.current=se}),te}function useFloating(se){let{middleware:te,placement:ae="bottom",strategy:oe="absolute",whileElementsMounted:ce}=se===void 0?{}:se;const ue=reactExports.useRef(null),fe=reactExports.useRef(null),de=useLatestRef(ce),pe=reactExports.useRef(null),[me,_e]=reactExports.useState({x:null,y:null,strategy:oe,placement:ae,middlewareData:{}}),[be,Ee]=reactExports.useState(te);deepEqual(be==null?void 0:be.map(Ie=>{let{options:Fe}=Ie;return Fe}),te==null?void 0:te.map(Ie=>{let{options:Fe}=Ie;return Fe}))||Ee(te);const Ae=reactExports.useCallback(()=>{!ue.current||!fe.current||z$1(ue.current,fe.current,{middleware:be,placement:ae,strategy:oe}).then(Ie=>{Re.current&&reactDomExports.flushSync(()=>{_e(Ie)})})},[be,ae,oe]);index(()=>{Re.current&&Ae()},[Ae]);const Re=reactExports.useRef(!1);index(()=>(Re.current=!0,()=>{Re.current=!1}),[]);const Be=reactExports.useCallback(()=>{if(typeof pe.current=="function"&&(pe.current(),pe.current=null),ue.current&&fe.current)if(de.current){const Ie=de.current(ue.current,fe.current,Ae);pe.current=Ie}else Ae()},[Ae,de]),De=reactExports.useCallback(Ie=>{ue.current=Ie,Be()},[Be]),Oe=reactExports.useCallback(Ie=>{fe.current=Ie,Be()},[Be]),Pe=reactExports.useMemo(()=>({reference:ue,floating:fe}),[]);return reactExports.useMemo(()=>({...me,update:Ae,refs:Pe,reference:De,floating:Oe}),[me,Ae,Pe,De,Oe])}const arrow=se=>{const{element:te,padding:ae}=se;function oe(ce){return Object.prototype.hasOwnProperty.call(ce,"current")}return{name:"arrow",options:se,fn(ce){return oe(te)?te.current!=null?m$4({element:te.current,padding:ae}).fn(ce):{}:te?m$4({element:te,padding:ae}).fn(ce):{}}}},$7e8f5cd07187803e$export$21b07c8f274aebd5=reactExports.forwardRef((se,te)=>{const{children:ae,width:oe=10,height:ce=5,...ue}=se;return reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.svg,_extends$1({},ue,{ref:te,width:oe,height:ce,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),se.asChild?ae:reactExports.createElement("polygon",{points:"0,0 30,0 15,10"}))}),$7e8f5cd07187803e$export$be92b6f5f03c0fe9=$7e8f5cd07187803e$export$21b07c8f274aebd5;function $db6c3485150b8e66$export$1ab7ae714698c4b8(se){const[te,ae]=reactExports.useState(void 0);return $9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(se){ae({width:se.offsetWidth,height:se.offsetHeight});const oe=new ResizeObserver(ce=>{if(!Array.isArray(ce)||!ce.length)return;const ue=ce[0];let fe,de;if("borderBoxSize"in ue){const pe=ue.borderBoxSize,me=Array.isArray(pe)?pe[0]:pe;fe=me.inlineSize,de=me.blockSize}else fe=se.offsetWidth,de=se.offsetHeight;ae({width:fe,height:de})});return oe.observe(se,{box:"border-box"}),()=>oe.unobserve(se)}else ae(void 0)},[se]),te}const $cf1ac5d9fe0e8206$var$POPPER_NAME="Popper",[$cf1ac5d9fe0e8206$var$createPopperContext,$cf1ac5d9fe0e8206$export$722aac194ae923]=$c512c27ab02ef895$export$50c7b4e9d9f19c1($cf1ac5d9fe0e8206$var$POPPER_NAME),[$cf1ac5d9fe0e8206$var$PopperProvider,$cf1ac5d9fe0e8206$var$usePopperContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$POPPER_NAME),$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9=se=>{const{__scopePopper:te,children:ae}=se,[oe,ce]=reactExports.useState(null);return reactExports.createElement($cf1ac5d9fe0e8206$var$PopperProvider,{scope:te,anchor:oe,onAnchorChange:ce},ae)},$cf1ac5d9fe0e8206$var$ANCHOR_NAME="PopperAnchor",$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d=reactExports.forwardRef((se,te)=>{const{__scopePopper:ae,virtualRef:oe,...ce}=se,ue=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$ANCHOR_NAME,ae),fe=reactExports.useRef(null),de=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te,fe);return reactExports.useEffect(()=>{ue.onAnchorChange((oe==null?void 0:oe.current)||fe.current)}),oe?null:reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,_extends$1({},ce,{ref:de}))}),$cf1ac5d9fe0e8206$var$CONTENT_NAME="PopperContent",[$cf1ac5d9fe0e8206$var$PopperContentProvider,$cf1ac5d9fe0e8206$var$useContentContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME),[$cf1ac5d9fe0e8206$var$PositionContextProvider,$cf1ac5d9fe0e8206$var$usePositionContext]=$cf1ac5d9fe0e8206$var$createPopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,{hasParent:!1,positionUpdateFns:new Set}),$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc=reactExports.forwardRef((se,te)=>{var ae,oe,ce,ue,fe,de,pe,me;const{__scopePopper:_e,side:be="bottom",sideOffset:Ee=0,align:Ae="center",alignOffset:Re=0,arrowPadding:Be=0,collisionBoundary:De=[],collisionPadding:Oe=0,sticky:Pe="partial",hideWhenDetached:Ie=!1,avoidCollisions:Fe=!0,onPlaced:$e,...Ve}=se,ke=$cf1ac5d9fe0e8206$var$usePopperContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,_e),[We,je]=reactExports.useState(null),He=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te,Ke=>je(Ke)),[tt,Ze]=reactExports.useState(null),nt=$db6c3485150b8e66$export$1ab7ae714698c4b8(tt),at=(ae=nt==null?void 0:nt.width)!==null&&ae!==void 0?ae:0,mt=(oe=nt==null?void 0:nt.height)!==null&&oe!==void 0?oe:0,Ye=be+(Ae!=="center"?"-"+Ae:""),rt=typeof Oe=="number"?Oe:{top:0,right:0,bottom:0,left:0,...Oe},lt=Array.isArray(De)?De:[De],_t=lt.length>0,Xe={padding:rt,boundary:lt.filter($cf1ac5d9fe0e8206$var$isNotNull),altBoundary:_t},{reference:et,floating:ft,strategy:yt,x:st,y:gt,placement:Et,middlewareData:bt,update:Dt}=useFloating({strategy:"fixed",placement:Ye,whileElementsMounted:N$2,middleware:[$cf1ac5d9fe0e8206$var$anchorCssProperties(),T$3({mainAxis:Ee+mt,alignmentAxis:Re}),Fe?D$1({mainAxis:!0,crossAxis:!1,limiter:Pe==="partial"?L$3():void 0,...Xe}):void 0,tt?arrow({element:tt,padding:Be}):void 0,Fe?b$3({...Xe}):void 0,k$3({...Xe,apply:({elements:Ke,availableWidth:ct,availableHeight:St})=>{Ke.floating.style.setProperty("--radix-popper-available-width",`${ct}px`),Ke.floating.style.setProperty("--radix-popper-available-height",`${St}px`)}}),$cf1ac5d9fe0e8206$var$transformOrigin({arrowWidth:at,arrowHeight:mt}),Ie?P$1({strategy:"referenceHidden"}):void 0].filter($cf1ac5d9fe0e8206$var$isDefined)});$9f79659886946c16$export$e5c5a5f917a5871c(()=>{et(ke.anchor)},[et,ke.anchor]);const nn=st!==null&&gt!==null,[ln,tn]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(Et),Wt=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a($e);$9f79659886946c16$export$e5c5a5f917a5871c(()=>{nn&&(Wt==null||Wt())},[nn,Wt]);const on=(ce=bt.arrow)===null||ce===void 0?void 0:ce.x,pt=(ue=bt.arrow)===null||ue===void 0?void 0:ue.y,Sn=((fe=bt.arrow)===null||fe===void 0?void 0:fe.centerOffset)!==0,[Nt,ht]=reactExports.useState();$9f79659886946c16$export$e5c5a5f917a5871c(()=>{We&&ht(window.getComputedStyle(We).zIndex)},[We]);const{hasParent:Rt,positionUpdateFns:kt}=$cf1ac5d9fe0e8206$var$usePositionContext($cf1ac5d9fe0e8206$var$CONTENT_NAME,_e),Bt=!Rt;reactExports.useLayoutEffect(()=>{if(!Bt)return kt.add(Dt),()=>{kt.delete(Dt)}},[Bt,kt,Dt]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{Bt&&nn&&Array.from(kt).reverse().forEach(Ke=>requestAnimationFrame(Ke))},[Bt,nn,kt]);const Qe={"data-side":ln,"data-align":tn,...Ve,ref:He,style:{...Ve.style,animation:nn?void 0:"none",opacity:(de=bt.hide)!==null&&de!==void 0&&de.referenceHidden?0:void 0}};return reactExports.createElement("div",{ref:ft,"data-radix-popper-content-wrapper":"",style:{position:yt,left:0,top:0,transform:nn?`translate3d(${Math.round(st)}px, ${Math.round(gt)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Nt,"--radix-popper-transform-origin":[(pe=bt.transformOrigin)===null||pe===void 0?void 0:pe.x,(me=bt.transformOrigin)===null||me===void 0?void 0:me.y].join(" ")},dir:se.dir},reactExports.createElement($cf1ac5d9fe0e8206$var$PopperContentProvider,{scope:_e,placedSide:ln,onArrowChange:Ze,arrowX:on,arrowY:pt,shouldHideArrow:Sn},Bt?reactExports.createElement($cf1ac5d9fe0e8206$var$PositionContextProvider,{scope:_e,hasParent:!0,positionUpdateFns:kt},reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Qe)):reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.div,Qe)))}),$cf1ac5d9fe0e8206$var$ARROW_NAME="PopperArrow",$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE={top:"bottom",right:"left",bottom:"top",left:"right"},$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0=reactExports.forwardRef(function se(te,ae){const{__scopePopper:oe,...ce}=te,ue=$cf1ac5d9fe0e8206$var$useContentContext($cf1ac5d9fe0e8206$var$ARROW_NAME,oe),fe=$cf1ac5d9fe0e8206$var$OPPOSITE_SIDE[ue.placedSide];return reactExports.createElement("span",{ref:ue.onArrowChange,style:{position:"absolute",left:ue.arrowX,top:ue.arrowY,[fe]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ue.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ue.placedSide],visibility:ue.shouldHideArrow?"hidden":void 0}},reactExports.createElement($7e8f5cd07187803e$export$be92b6f5f03c0fe9,_extends$1({},ce,{ref:ae,style:{...ce.style,display:"block"}})))});function $cf1ac5d9fe0e8206$var$isDefined(se){return se!==void 0}function $cf1ac5d9fe0e8206$var$isNotNull(se){return se!==null}const $cf1ac5d9fe0e8206$var$anchorCssProperties=()=>({name:"anchorCssProperties",fn(se){const{rects:te,elements:ae}=se,{width:oe,height:ce}=te.reference;return ae.floating.style.setProperty("--radix-popper-anchor-width",`${oe}px`),ae.floating.style.setProperty("--radix-popper-anchor-height",`${ce}px`),{}}}),$cf1ac5d9fe0e8206$var$transformOrigin=se=>({name:"transformOrigin",options:se,fn(te){var ae,oe,ce,ue,fe;const{placement:de,rects:pe,middlewareData:me}=te,be=((ae=me.arrow)===null||ae===void 0?void 0:ae.centerOffset)!==0,Ee=be?0:se.arrowWidth,Ae=be?0:se.arrowHeight,[Re,Be]=$cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(de),De={start:"0%",center:"50%",end:"100%"}[Be],Oe=((oe=(ce=me.arrow)===null||ce===void 0?void 0:ce.x)!==null&&oe!==void 0?oe:0)+Ee/2,Pe=((ue=(fe=me.arrow)===null||fe===void 0?void 0:fe.y)!==null&&ue!==void 0?ue:0)+Ae/2;let Ie="",Fe="";return Re==="bottom"?(Ie=be?De:`${Oe}px`,Fe=`${-Ae}px`):Re==="top"?(Ie=be?De:`${Oe}px`,Fe=`${pe.floating.height+Ae}px`):Re==="right"?(Ie=`${-Ae}px`,Fe=be?De:`${Pe}px`):Re==="left"&&(Ie=`${pe.floating.width+Ae}px`,Fe=be?De:`${Pe}px`),{data:{x:Ie,y:Fe}}}});function $cf1ac5d9fe0e8206$var$getSideAndAlignFromPlacement(se){const[te,ae="center"]=se.split("-");return[te,ae]}const $cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9=$cf1ac5d9fe0e8206$export$badac9ada3a0bdf9,$cf1ac5d9fe0e8206$export$b688253958b8dfe7=$cf1ac5d9fe0e8206$export$ecd4e1ccab6ed6d,$cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2=$cf1ac5d9fe0e8206$export$bc4ae5855d3c4fc,$cf1ac5d9fe0e8206$export$21b07c8f274aebd5=$cf1ac5d9fe0e8206$export$79d62cd4e10a3fd0;function $fe963b355347cc68$export$3e6543de14f8614f(se,te){return reactExports.useReducer((ae,oe)=>{const ce=te[ae][oe];return ce??ae},se)}const $921a889cee6df7e8$export$99c2b779aa4e8b8b=se=>{const{present:te,children:ae}=se,oe=$921a889cee6df7e8$var$usePresence(te),ce=typeof ae=="function"?ae({present:oe.isPresent}):reactExports.Children.only(ae),ue=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(oe.ref,ce.ref);return typeof ae=="function"||oe.isPresent?reactExports.cloneElement(ce,{ref:ue}):null};$921a889cee6df7e8$export$99c2b779aa4e8b8b.displayName="Presence";function $921a889cee6df7e8$var$usePresence(se){const[te,ae]=reactExports.useState(),oe=reactExports.useRef({}),ce=reactExports.useRef(se),ue=reactExports.useRef("none"),fe=se?"mounted":"unmounted",[de,pe]=$fe963b355347cc68$export$3e6543de14f8614f(fe,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return reactExports.useEffect(()=>{const me=$921a889cee6df7e8$var$getAnimationName(oe.current);ue.current=de==="mounted"?me:"none"},[de]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{const me=oe.current,_e=ce.current;if(_e!==se){const Ee=ue.current,Ae=$921a889cee6df7e8$var$getAnimationName(me);se?pe("MOUNT"):Ae==="none"||(me==null?void 0:me.display)==="none"?pe("UNMOUNT"):pe(_e&&Ee!==Ae?"ANIMATION_OUT":"UNMOUNT"),ce.current=se}},[se,pe]),$9f79659886946c16$export$e5c5a5f917a5871c(()=>{if(te){const me=be=>{const Ae=$921a889cee6df7e8$var$getAnimationName(oe.current).includes(be.animationName);be.target===te&&Ae&&reactDomExports.flushSync(()=>pe("ANIMATION_END"))},_e=be=>{be.target===te&&(ue.current=$921a889cee6df7e8$var$getAnimationName(oe.current))};return te.addEventListener("animationstart",_e),te.addEventListener("animationcancel",me),te.addEventListener("animationend",me),()=>{te.removeEventListener("animationstart",_e),te.removeEventListener("animationcancel",me),te.removeEventListener("animationend",me)}}else pe("ANIMATION_END")},[te,pe]),{isPresent:["mounted","unmountSuspended"].includes(de),ref:reactExports.useCallback(me=>{me&&(oe.current=getComputedStyle(me)),ae(me)},[])}}function $921a889cee6df7e8$var$getAnimationName(se){return(se==null?void 0:se.animationName)||"none"}function $71cd76cc60e0454e$export$6f32135080cb4c3({prop:se,defaultProp:te,onChange:ae=()=>{}}){const[oe,ce]=$71cd76cc60e0454e$var$useUncontrolledState({defaultProp:te,onChange:ae}),ue=se!==void 0,fe=ue?se:oe,de=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(ae),pe=reactExports.useCallback(me=>{if(ue){const be=typeof me=="function"?me(se):me;be!==se&&de(be)}else ce(me)},[ue,se,ce,de]);return[fe,pe]}function $71cd76cc60e0454e$var$useUncontrolledState({defaultProp:se,onChange:te}){const ae=reactExports.useState(se),[oe]=ae,ce=reactExports.useRef(oe),ue=$b1b2314f5f9a1d84$export$25bec8c6f54ee79a(te);return reactExports.useEffect(()=>{ce.current!==oe&&(ue(oe),ce.current=oe)},[oe,ce,ue]),ae}const $ea1ef594cf570d83$export$439d29a4e110a164=reactExports.forwardRef((se,te)=>reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.span,_extends$1({},se,{ref:te,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...se.style}}))),$ea1ef594cf570d83$export$be92b6f5f03c0fe9=$ea1ef594cf570d83$export$439d29a4e110a164,[$a093c7e1ec25a057$var$createTooltipContext,$a093c7e1ec25a057$export$1c540a2224f0d865]=$c512c27ab02ef895$export$50c7b4e9d9f19c1("Tooltip",[$cf1ac5d9fe0e8206$export$722aac194ae923]),$a093c7e1ec25a057$var$usePopperScope=$cf1ac5d9fe0e8206$export$722aac194ae923(),$a093c7e1ec25a057$var$PROVIDER_NAME="TooltipProvider",$a093c7e1ec25a057$var$TOOLTIP_OPEN="tooltip.open",[$a093c7e1ec25a057$var$TooltipProviderContextProvider,$a093c7e1ec25a057$var$useTooltipProviderContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME),$a093c7e1ec25a057$var$TOOLTIP_NAME="Tooltip",[$a093c7e1ec25a057$var$TooltipContextProvider,$a093c7e1ec25a057$var$useTooltipContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME),$a093c7e1ec25a057$export$28c660c63b792dea=se=>{const{__scopeTooltip:te,children:ae,open:oe,defaultOpen:ce=!1,onOpenChange:ue,disableHoverableContent:fe,delayDuration:de}=se,pe=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME,se.__scopeTooltip),me=$a093c7e1ec25a057$var$usePopperScope(te),[_e,be]=reactExports.useState(null),Ee=$1746a345f3d73bb7$export$f680877a34711e37(),Ae=reactExports.useRef(0),Re=fe??pe.disableHoverableContent,Be=de??pe.delayDuration,De=reactExports.useRef(!1),[Oe=!1,Pe]=$71cd76cc60e0454e$export$6f32135080cb4c3({prop:oe,defaultProp:ce,onChange:ke=>{ke?(pe.onOpen(),document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN))):pe.onClose(),ue==null||ue(ke)}}),Ie=reactExports.useMemo(()=>Oe?De.current?"delayed-open":"instant-open":"closed",[Oe]),Fe=reactExports.useCallback(()=>{window.clearTimeout(Ae.current),De.current=!1,Pe(!0)},[Pe]),$e=reactExports.useCallback(()=>{window.clearTimeout(Ae.current),Pe(!1)},[Pe]),Ve=reactExports.useCallback(()=>{window.clearTimeout(Ae.current),Ae.current=window.setTimeout(()=>{De.current=!0,Pe(!0)},Be)},[Be,Pe]);return reactExports.useEffect(()=>()=>window.clearTimeout(Ae.current),[]),reactExports.createElement($cf1ac5d9fe0e8206$export$be92b6f5f03c0fe9,me,reactExports.createElement($a093c7e1ec25a057$var$TooltipContextProvider,{scope:te,contentId:Ee,open:Oe,stateAttribute:Ie,trigger:_e,onTriggerChange:be,onTriggerEnter:reactExports.useCallback(()=>{pe.isOpenDelayed?Ve():Fe()},[pe.isOpenDelayed,Ve,Fe]),onTriggerLeave:reactExports.useCallback(()=>{Re?$e():window.clearTimeout(Ae.current)},[$e,Re]),onOpen:Fe,onClose:$e,disableHoverableContent:Re},ae))},$a093c7e1ec25a057$var$TRIGGER_NAME="TooltipTrigger",$a093c7e1ec25a057$export$8c610744efcf8a1d=reactExports.forwardRef((se,te)=>{const{__scopeTooltip:ae,...oe}=se,ce=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME,ae),ue=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME,ae),fe=$a093c7e1ec25a057$var$usePopperScope(ae),de=reactExports.useRef(null),pe=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te,de,ce.onTriggerChange),me=reactExports.useRef(!1),_e=reactExports.useRef(!1),be=reactExports.useCallback(()=>me.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",be),[be]),reactExports.createElement($cf1ac5d9fe0e8206$export$b688253958b8dfe7,_extends$1({asChild:!0},fe),reactExports.createElement($8927f6f2acc4f386$export$250ffa63cdc0d034.button,_extends$1({"aria-describedby":ce.open?ce.contentId:void 0,"data-state":ce.stateAttribute},oe,{ref:pe,onPointerMove:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onPointerMove,Ee=>{Ee.pointerType!=="touch"&&!_e.current&&!ue.isPointerInTransitRef.current&&(ce.onTriggerEnter(),_e.current=!0)}),onPointerLeave:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onPointerLeave,()=>{ce.onTriggerLeave(),_e.current=!1}),onPointerDown:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onPointerDown,()=>{me.current=!0,document.addEventListener("pointerup",be,{once:!0})}),onFocus:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onFocus,()=>{me.current||ce.onOpen()}),onBlur:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onBlur,ce.onClose),onClick:$e42e1063c40fb3ef$export$b9ecd428b558ff10(se.onClick,ce.onClose)})))}),$a093c7e1ec25a057$var$PORTAL_NAME="TooltipPortal",[$a093c7e1ec25a057$var$PortalProvider,$a093c7e1ec25a057$var$usePortalContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME,{forceMount:void 0}),$a093c7e1ec25a057$var$CONTENT_NAME="TooltipContent",$a093c7e1ec25a057$export$e9003e2be37ec060=reactExports.forwardRef((se,te)=>{const ae=$a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME,se.__scopeTooltip),{forceMount:oe=ae.forceMount,side:ce="top",...ue}=se,fe=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,se.__scopeTooltip);return reactExports.createElement($921a889cee6df7e8$export$99c2b779aa4e8b8b,{present:oe||fe.open},fe.disableHoverableContent?reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({side:ce},ue,{ref:te})):reactExports.createElement($a093c7e1ec25a057$var$TooltipContentHoverable,_extends$1({side:ce},ue,{ref:te})))}),$a093c7e1ec25a057$var$TooltipContentHoverable=reactExports.forwardRef((se,te)=>{const ae=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,se.__scopeTooltip),oe=$a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME,se.__scopeTooltip),ce=reactExports.useRef(null),ue=$6ed0406888f73fc4$export$c7b2cbe3552a0d05(te,ce),[fe,de]=reactExports.useState(null),{trigger:pe,onClose:me}=ae,_e=ce.current,{onPointerInTransitChange:be}=oe,Ee=reactExports.useCallback(()=>{de(null),be(!1)},[be]),Ae=reactExports.useCallback((Re,Be)=>{const De=Re.currentTarget,Oe={x:Re.clientX,y:Re.clientY},Pe=$a093c7e1ec25a057$var$getExitSideFromRect(Oe,De.getBoundingClientRect()),Ie=Pe==="right"||Pe==="bottom"?-5:5,$e=Pe==="right"||Pe==="left"?{x:Re.clientX+Ie,y:Re.clientY}:{x:Re.clientX,y:Re.clientY+Ie},Ve=$a093c7e1ec25a057$var$getPointsFromRect(Be.getBoundingClientRect()),ke=$a093c7e1ec25a057$var$getHull([$e,...Ve]);de(ke),be(!0)},[be]);return reactExports.useEffect(()=>()=>Ee(),[Ee]),reactExports.useEffect(()=>{if(pe&&_e){const Re=De=>Ae(De,_e),Be=De=>Ae(De,pe);return pe.addEventListener("pointerleave",Re),_e.addEventListener("pointerleave",Be),()=>{pe.removeEventListener("pointerleave",Re),_e.removeEventListener("pointerleave",Be)}}},[pe,_e,Ae,Ee]),reactExports.useEffect(()=>{if(fe){const Re=Be=>{const De=Be.target,Oe={x:Be.clientX,y:Be.clientY},Pe=(pe==null?void 0:pe.contains(De))||(_e==null?void 0:_e.contains(De)),Ie=!$a093c7e1ec25a057$var$isPointInPolygon(Oe,fe);Pe?Ee():Ie&&(Ee(),me())};return document.addEventListener("pointermove",Re),()=>document.removeEventListener("pointermove",Re)}},[pe,_e,fe,me,Ee]),reactExports.createElement($a093c7e1ec25a057$var$TooltipContentImpl,_extends$1({},se,{ref:ue}))}),[$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,$a093c7e1ec25a057$var$useVisuallyHiddenContentContext]=$a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME,{isInside:!1}),$a093c7e1ec25a057$var$TooltipContentImpl=reactExports.forwardRef((se,te)=>{const{__scopeTooltip:ae,children:oe,"aria-label":ce,onEscapeKeyDown:ue,onPointerDownOutside:fe,...de}=se,pe=$a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME,ae),me=$a093c7e1ec25a057$var$usePopperScope(ae),{onClose:_e}=pe;return reactExports.useEffect(()=>(document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,_e),()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN,_e)),[_e]),reactExports.useEffect(()=>{if(pe.trigger){const be=Ee=>{const Ae=Ee.target;Ae!=null&&Ae.contains(pe.trigger)&&_e()};return window.addEventListener("scroll",be,{capture:!0}),()=>window.removeEventListener("scroll",be,{capture:!0})}},[pe.trigger,_e]),reactExports.createElement($5cb92bef7577960e$export$177fb62ff3ec1f22,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:ue,onPointerDownOutside:fe,onFocusOutside:be=>be.preventDefault(),onDismiss:_e},reactExports.createElement($cf1ac5d9fe0e8206$export$7c6e2c02157bb7d2,_extends$1({"data-state":pe.stateAttribute},me,de,{ref:te,style:{...de.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),reactExports.createElement($5e63c961fc1ce211$export$d9f1ccf0bdb05d45,null,oe),reactExports.createElement($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider,{scope:ae,isInside:!0},reactExports.createElement($ea1ef594cf570d83$export$be92b6f5f03c0fe9,{id:pe.contentId,role:"tooltip"},ce||oe))))}),$a093c7e1ec25a057$var$ARROW_NAME="TooltipArrow",$a093c7e1ec25a057$export$c27ee0ad710f7559=reactExports.forwardRef((se,te)=>{const{__scopeTooltip:ae,...oe}=se,ce=$a093c7e1ec25a057$var$usePopperScope(ae);return $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME,ae).isInside?null:reactExports.createElement($cf1ac5d9fe0e8206$export$21b07c8f274aebd5,_extends$1({},ce,oe,{ref:te}))});function $a093c7e1ec25a057$var$getExitSideFromRect(se,te){const ae=Math.abs(te.top-se.y),oe=Math.abs(te.bottom-se.y),ce=Math.abs(te.right-se.x),ue=Math.abs(te.left-se.x);switch(Math.min(ae,oe,ce,ue)){case ue:return"left";case ce:return"right";case ae:return"top";case oe:return"bottom";default:return null}}function $a093c7e1ec25a057$var$getPointsFromRect(se){const{top:te,right:ae,bottom:oe,left:ce}=se;return[{x:ce,y:te},{x:ae,y:te},{x:ae,y:oe},{x:ce,y:oe}]}function $a093c7e1ec25a057$var$isPointInPolygon(se,te){const{x:ae,y:oe}=se;let ce=!1;for(let ue=0,fe=te.length-1;ue<te.length;fe=ue++){const de=te[ue].x,pe=te[ue].y,me=te[fe].x,_e=te[fe].y;pe>oe!=_e>oe&&ae<(me-de)*(oe-pe)/(_e-pe)+de&&(ce=!ce)}return ce}function $a093c7e1ec25a057$var$getHull(se){const te=se.slice();return te.sort((ae,oe)=>ae.x<oe.x?-1:ae.x>oe.x?1:ae.y<oe.y?-1:ae.y>oe.y?1:0),$a093c7e1ec25a057$var$getHullPresorted(te)}function $a093c7e1ec25a057$var$getHullPresorted(se){if(se.length<=1)return se.slice();const te=[];for(let oe=0;oe<se.length;oe++){const ce=se[oe];for(;te.length>=2;){const ue=te[te.length-1],fe=te[te.length-2];if((ue.x-fe.x)*(ce.y-fe.y)>=(ue.y-fe.y)*(ce.x-fe.x))te.pop();else break}te.push(ce)}te.pop();const ae=[];for(let oe=se.length-1;oe>=0;oe--){const ce=se[oe];for(;ae.length>=2;){const ue=ae[ae.length-1],fe=ae[ae.length-2];if((ue.x-fe.x)*(ce.y-fe.y)>=(ue.y-fe.y)*(ce.x-fe.x))ae.pop();else break}ae.push(ce)}return ae.pop(),te.length===1&&ae.length===1&&te[0].x===ae[0].x&&te[0].y===ae[0].y?te:te.concat(ae)}const $a093c7e1ec25a057$export$be92b6f5f03c0fe9=$a093c7e1ec25a057$export$28c660c63b792dea,$a093c7e1ec25a057$export$41fb9f06171c75f4=$a093c7e1ec25a057$export$8c610744efcf8a1d,$a093c7e1ec25a057$export$7c6e2c02157bb7d2=$a093c7e1ec25a057$export$e9003e2be37ec060,$a093c7e1ec25a057$export$21b07c8f274aebd5=$a093c7e1ec25a057$export$c27ee0ad710f7559;function _objectWithoutPropertiesLoose$1(se,te){if(se==null)return{};var ae={},oe=Object.keys(se),ce,ue;for(ue=0;ue<oe.length;ue++)ce=oe[ue],!(te.indexOf(ce)>=0)&&(ae[ce]=se[ce]);return ae}function _objectWithoutProperties$1(se,te){if(se==null)return{};var ae=_objectWithoutPropertiesLoose$1(se,te),oe,ce;if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(se);for(ce=0;ce<ue.length;ce++)oe=ue[ce],!(te.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(se,oe)&&(ae[oe]=se[oe])}return ae}let LevaErrors;(function(se){se[se.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",se[se.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",se[se.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",se[se.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",se[se.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",se[se.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",se[se.THEME_ERROR=6]="THEME_ERROR",se[se.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",se[se.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",se[se.EMPTY_KEY=9]="EMPTY_KEY"})(LevaErrors||(LevaErrors={}));const ErrorList={[LevaErrors.UNSUPPORTED_INPUT]:(se,te)=>[`An input with type \`${se}\` input was found at path \`${te}\` but it's not supported yet.`],[LevaErrors.NO_COMPONENT_FOR_TYPE]:(se,te)=>[`Type \`${se}\` found at path \`${te}\` can't be displayed in panel because no component supports it yet.`],[LevaErrors.UNKNOWN_INPUT]:(se,te)=>[`input at path \`${se}\` is not recognized.`,te],[LevaErrors.DUPLICATE_KEYS]:(se,te,ae)=>[`Key \`${se}\` of path \`${te}\` already exists at path \`${ae}\`. Even nested keys need to be unique. Rename one of the keys.`],[LevaErrors.ALREADY_REGISTERED_TYPE]:se=>[`Type ${se} has already been registered. You can't register a component with the same type.`],[LevaErrors.CLIPBOARD_ERROR]:se=>["Error copying the value",se],[LevaErrors.THEME_ERROR]:(se,te)=>[`Error accessing the theme \`${se}.${te}\` value.`],[LevaErrors.PATH_DOESNT_EXIST]:se=>[`Error getting the value at path \`${se}\`. There is probably an error in your \`render\` function.`],[LevaErrors.PATH_DOESNT_EXIST]:se=>[`Error accessing the value at path \`${se}\``],[LevaErrors.INPUT_TYPE_OVERRIDE]:(se,te,ae)=>[`Input at path \`${se}\` already exists with type: \`${te}\`. Its type cannot be overridden with type \`${ae}\`.`],[LevaErrors.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function _log(se,te,...ae){const[oe,...ce]=ErrorList[te](...ae);console[se]("LEVA: "+oe,...ce)}const warn=_log.bind(null,"warn"),log=_log.bind(null,"log"),_excluded$a=["value"],_excluded2$4=["schema"],_excluded3$1=["value"],Schemas=[],Plugins={};function getValueType(se){let{value:te}=se,ae=_objectWithoutProperties$1(se,_excluded$a);for(let oe of Schemas){const ce=oe(te,ae);if(ce)return ce}}function register(se,te){let{schema:ae}=te,oe=_objectWithoutProperties$1(te,_excluded2$4);if(se in Plugins){warn(LevaErrors.ALREADY_REGISTERED_TYPE,se);return}Schemas.push((ce,ue)=>ae(ce,ue)&&se),Plugins[se]=oe}function createInternalPlugin(se){return se}function normalize$3$1(se,te,ae,oe){const{normalize:ce}=Plugins[se];if(ce)return ce(te,ae,oe);if(typeof te!="object"||!("value"in te))return{value:te};const{value:ue}=te,fe=_objectWithoutProperties$1(te,_excluded3$1);return{value:ue,settings:fe}}function sanitize$4(se,te,ae,oe,ce,ue){const{sanitize:fe}=Plugins[se];return fe?fe(te,ae,oe,ce,ue):te}function format$2(se,te,ae){const{format:oe}=Plugins[se];return oe?oe(te,ae):te}function _defineProperty$2(se,te,ae){return te in se?Object.defineProperty(se,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):se[te]=ae,se}function ownKeys$2(se,te){var ae=Object.keys(se);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(se);te&&(oe=oe.filter(function(ce){return Object.getOwnPropertyDescriptor(se,ce).enumerable})),ae.push.apply(ae,oe)}return ae}function _objectSpread2(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$2(Object(ae),!0).forEach(function(oe){_defineProperty$2(se,oe,ae[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ae)):ownKeys$2(Object(ae)).forEach(function(oe){Object.defineProperty(se,oe,Object.getOwnPropertyDescriptor(ae,oe))})}return se}const clamp$1=(se,te,ae)=>se>ae?ae:se<te?te:se,parseNumber=se=>{if(se===""||typeof se=="number")return se;try{const te=evaluate(se);if(!isNaN(te))return te}catch{}return parseFloat(se)},log10=Math.log(10);function getStep(se){let te=Math.abs(+String(se).replace(".",""));if(te===0)return .01;for(;te!==0&&te%10===0;)te/=10;const ae=Math.floor(Math.log(te)/log10)+1,oe=Math.floor(Math.log10(Math.abs(se))),ce=Math.pow(10,oe-ae);return Math.max(ce,.001)}const range=(se,te,ae)=>ae===te?0:(clamp$1(se,te,ae)-te)/(ae-te),invertedRange=(se,te,ae)=>se*(ae-te)+te,getUid=()=>"_"+Math.random().toString(36).substr(2,9),parens=/\(([0-9+\-*/^ .]+)\)/,exp=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,mul=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,div=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,add=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sub=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function evaluate(se){if(isNaN(Number(se)))if(parens.test(se)){const te=se.replace(parens,(ae,oe)=>String(evaluate(oe)));return evaluate(te)}else if(exp.test(se)){const te=se.replace(exp,(ae,oe,ce)=>String(Math.pow(Number(oe),Number(ce))));return evaluate(te)}else if(mul.test(se)){const te=se.replace(mul,(ae,oe,ce)=>String(Number(oe)*Number(ce)));return evaluate(te)}else if(div.test(se)){const te=se.replace(div,(ae,oe,ce)=>{if(ce!=0)return String(Number(oe)/Number(ce));throw new Error("Division by zero")});return evaluate(te)}else if(add.test(se)){const te=se.replace(add,(ae,oe,ce)=>String(Number(oe)+Number(ce)));return evaluate(te)}else if(sub.test(se)){const te=se.replace(sub,(ae,oe,ce)=>String(Number(oe)-Number(ce)));return evaluate(te)}else return Number(se);return Number(se)}function omit(se,te){const ae=_objectSpread2({},se);return te.forEach(oe=>oe in se&&delete ae[oe]),ae}function mapArrayToKeys(se,te){return se.reduce((ae,oe,ce)=>Object.assign(ae,{[te[ce]]:oe}),{})}function isObject$1(se){return Object.prototype.toString.call(se)==="[object Object]"}const isEmptyObject=se=>isObject$1(se)&&Object.keys(se).length===0;let SpecialInputs;(function(se){se.BUTTON="BUTTON",se.BUTTON_GROUP="BUTTON_GROUP",se.MONITOR="MONITOR",se.FOLDER="FOLDER"})(SpecialInputs||(SpecialInputs={}));let LevaInputs;(function(se){se.SELECT="SELECT",se.IMAGE="IMAGE",se.NUMBER="NUMBER",se.COLOR="COLOR",se.STRING="STRING",se.BOOLEAN="BOOLEAN",se.INTERVAL="INTERVAL",se.VECTOR3D="VECTOR3D",se.VECTOR2D="VECTOR2D"})(LevaInputs||(LevaInputs={}));const _excluded$9=["type","__customInput"],_excluded2$3=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],_excluded3$2=["type"];function parseOptions(se,te,ae={},oe){var ce,ue;if(typeof se!="object"||Array.isArray(se))return{type:oe,input:se,options:_objectSpread2({key:te,label:te,optional:!1,disabled:!1,order:0},ae)};if("__customInput"in se){const{type:$e,__customInput:Ve}=se,ke=_objectWithoutProperties$1(se,_excluded$9);return parseOptions(Ve,te,ke,$e)}const{render:fe,label:de,optional:pe,order:me=0,disabled:_e,hint:be,onChange:Ee,onEditStart:Ae,onEditEnd:Re,transient:Be}=se,De=_objectWithoutProperties$1(se,_excluded2$3),Oe=_objectSpread2({render:fe,key:te,label:de??te,hint:be,transient:Be??!!Ee,onEditStart:Ae,onEditEnd:Re,disabled:_e,optional:pe,order:me},ae);let{type:Pe}=De,Ie=_objectWithoutProperties$1(De,_excluded3$2);if(Pe=oe??Pe,Pe in SpecialInputs)return{type:Pe,input:Ie,options:Oe};let Fe;return oe&&isObject$1(Ie)&&"value"in Ie?Fe=Ie.value:Fe=isEmptyObject(Ie)?void 0:Ie,{type:Pe,input:Fe,options:_objectSpread2(_objectSpread2({},Oe),{},{onChange:Ee,optional:(ce=Oe.optional)!==null&&ce!==void 0?ce:!1,disabled:(ue=Oe.disabled)!==null&&ue!==void 0?ue:!1})}}function normalizeInput(se,te,ae,oe){const ce=parseOptions(se,te),{type:ue,input:fe,options:de}=ce;if(ue)return ue in SpecialInputs?ce:{type:ue,input:normalize$3$1(ue,fe,ae,oe),options:de};let pe=getValueType(fe);return pe?{type:pe,input:normalize$3$1(pe,fe,ae,oe),options:de}:(pe=getValueType({value:fe}),pe?{type:pe,input:normalize$3$1(pe,{value:fe},ae,oe),options:de}:!1)}function updateInput(se,te,ae,oe,ce){const{value:ue,type:fe,settings:de}=se;se.value=sanitizeValue({type:fe,value:ue,settings:de},te,ae,oe),se.fromPanel=ce}const ValueError=function se(te,ae,oe){this.type="LEVA_ERROR",this.message="LEVA: "+te,this.previousValue=ae,this.error=oe};function sanitizeValue({type:se,value:te,settings:ae},oe,ce,ue){const fe=se!=="SELECT"&&typeof oe=="function"?oe(te):oe;let de;try{de=sanitize$4(se,fe,ae,te,ce,ue)}catch(pe){throw new ValueError(`The value \`${oe}\` did not result in a correct value.`,te,pe)}return dequal(de,te)?te:de}const debounce=(se,te,ae=!1)=>{let oe=0;return function(){const ce=arguments,ue=ae&&!oe,fe=()=>se.apply(this,ce);window.clearTimeout(oe),oe=window.setTimeout(fe,te),ue&&fe()}},multiplyStep=se=>se.shiftKey?5:se.altKey?1/5:1,_excluded$8=["value"],_excluded2$2$1=["min","max"],schema$3=se=>{if(typeof se=="number")return!0;if(typeof se=="string"){const te=parseFloat(se);return isNaN(te)?!1:se.substring((""+te).length).trim().length<4}return!1},sanitize$3=(se,{min:te=-1/0,max:ae=1/0,suffix:oe})=>{const ce=parseFloat(se);if(se===""||isNaN(ce))throw Error("Invalid number");const ue=clamp$1(ce,te,ae);return oe?ue+oe:ue},format$1$1=(se,{pad:te=0,suffix:ae})=>{const oe=parseFloat(se).toFixed(te);return ae?oe+ae:oe},normalize$2$1=se=>{let{value:te}=se,ae=_objectWithoutProperties$1(se,_excluded$8);const{min:oe=-1/0,max:ce=1/0}=ae,ue=_objectWithoutProperties$1(ae,_excluded2$2$1);let fe=parseFloat(te);const de=typeof te=="string"?te.substring((""+fe).length):void 0;fe=clamp$1(fe,oe,ce);let pe=ae.step;pe||(Number.isFinite(oe)?Number.isFinite(ce)?pe=+(Math.abs(ce-oe)/100).toPrecision(1):pe=+(Math.abs(fe-oe)/100).toPrecision(1):Number.isFinite(ce)&&(pe=+(Math.abs(ce-fe)/100).toPrecision(1)));const me=pe?getStep(pe)*10:getStep(fe);pe=pe||me/10;const _e=Math.round(clamp$1(Math.log10(1/me),0,2));return{value:de?fe+de:fe,settings:_objectSpread2({initialValue:fe,step:pe,pad:_e,min:oe,max:ce,suffix:de},ue)}},sanitizeStep$1=(se,{step:te,initialValue:ae})=>{const oe=Math.round((se-ae)/te);return ae+oe*te};var props$3=Object.freeze({__proto__:null,schema:schema$3,sanitize:sanitize$3,format:format$1$1,normalize:normalize$2$1,sanitizeStep:sanitizeStep$1});function _extends(){return _extends=Object.assign?Object.assign.bind():function(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te];for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&(se[oe]=ae[oe])}return se},_extends.apply(this,arguments)}const InputContext=reactExports.createContext({});function useInputContext(){return reactExports.useContext(InputContext)}const ThemeContext=reactExports.createContext(null),StoreContext=reactExports.createContext(null),PanelSettingsContext=reactExports.createContext(null);function useStoreContext(){return reactExports.useContext(StoreContext)}function usePanelSettingsContext(){return reactExports.useContext(PanelSettingsContext)}const getDefaultTheme=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function createStateClass(se,te){const[ae,oe]=se.split(" "),ce={};return ae!=="none"&&(ce.boxShadow=`${te.inset?"inset ":""}0 0 0 $borderWidths${[te.key]} $colors${ae!=="default"&&ae||te.borderColor}`),oe&&(ce.backgroundColor=oe),ce}const utils={$inputStyle:()=>se=>createStateClass(se,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>se=>createStateClass(se,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>se=>createStateClass(se,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>se=>createStateClass(se,{key:"$active",borderColor:"$accent1",inset:!0})},{styled,css,createTheme,globalCss,keyframes}=q$2({prefix:"leva",theme:getDefaultTheme(),utils:_objectSpread2(_objectSpread2({},utils),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:se=>({"&:focus":utils.$focusStyle()(se)}),$focusWithin:se=>({"&:focus-within":utils.$focusStyle()(se)}),$hover:se=>({"&:hover":utils.$hoverStyle()(se)}),$active:se=>({"&:active":utils.$activeStyle()(se)})})}),globalStyles=globalCss({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function useTh(se,te){const{theme:ae}=reactExports.useContext(ThemeContext);if(!(se in ae)||!(te in ae[se]))return warn(LevaErrors.THEME_ERROR,se,te),"";let oe=te;for(;;){let ce=ae[se][oe];if(typeof ce=="string"&&ce.charAt(0)==="$")oe=ce.substr(1);else return ce}}const StyledInput=styled("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),InnerLabel=styled("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${StyledInput}`]:{paddingLeft:0}}),InnerNumberLabel=styled(InnerLabel,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),InputContainer=styled("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),_excluded$7$1=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],_excluded2$1$1=["onUpdate"];function ValueInput(se){let{innerLabel:te,value:ae,onUpdate:oe,onChange:ce,onKeyDown:ue,type:fe,id:de,inputType:pe="text",rows:me=0}=se,_e=_objectWithoutProperties$1(se,_excluded$7$1);const{id:be,emitOnEditStart:Ee,emitOnEditEnd:Ae,disabled:Re}=useInputContext(),Be=de||be,De=reactExports.useRef(null),Oe=me>0,Pe=Oe?"textarea":"input",Ie=reactExports.useCallback(Ve=>ke=>{const We=ke.currentTarget.value;Ve(We)},[]);React.useEffect(()=>{const Ve=De.current,ke=Ie(We=>{oe(We),Ae()});return Ve==null||Ve.addEventListener("blur",ke),()=>Ve==null?void 0:Ve.removeEventListener("blur",ke)},[Ie,oe,Ae]);const Fe=reactExports.useCallback(Ve=>{Ve.key==="Enter"&&Ie(oe)(Ve)},[Ie,oe]),$e=Object.assign({as:Pe},Oe?{rows:me}:{},_e);return React.createElement(InputContainer,{textArea:Oe},te&&typeof te=="string"?React.createElement(InnerLabel,null,te):te,React.createElement(StyledInput,_extends({levaType:fe,ref:De,id:Be,type:pe,autoComplete:"off",spellCheck:"false",value:ae,onChange:Ie(ce),onFocus:()=>Ee(),onKeyPress:Fe,onKeyDown:ue,disabled:Re},$e)))}function NumberInput(se){let{onUpdate:te}=se,ae=_objectWithoutProperties$1(se,_excluded2$1$1);const oe=reactExports.useCallback(ue=>te(parseNumber(ue)),[te]),ce=reactExports.useCallback(ue=>{const fe=ue.key==="ArrowUp"?1:ue.key==="ArrowDown"?-1:0;if(fe){ue.preventDefault();const de=ue.altKey?.1:ue.shiftKey?10:1;te(pe=>parseFloat(pe)+fe*de)}},[te]);return React.createElement(ValueInput,_extends({},ae,{onUpdate:oe,onKeyDown:ce,type:"number"}))}const StyledFolder=styled("div",{}),StyledWrapper=styled("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),StyledTitle=styled("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & + ${StyledWrapper}::after`]:{opacity:.6},[`${StyledFolder}:hover > & > svg`]:{opacity:1}}),StyledContent=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${StyledFolder}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),StyledRow=styled("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${StyledContent} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),StyledInputRow=styled(StyledRow,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),CopyLabelContainer=styled("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),StyledOptionalToggle=styled("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),StyledLabel=styled("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),StyledInputWrapper$1=styled("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${StyledLabel}`]:{pointerEvents:"auto"}}}}}),Overlay=styled("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),StyledToolTipContent=styled("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ToolTipArrow=styled($a093c7e1ec25a057$export$21b07c8f274aebd5,{fill:"$toolTipBackground"});function Portal({children:se}){const{className:te}=reactExports.useContext(ThemeContext);return React.createElement($f1701beae083dbae$export$be92b6f5f03c0fe9,{className:te},se)}const _excluded$6$1=["align"];function OptionalToggle(){const{id:se,disable:te,disabled:ae}=useInputContext();return React.createElement(React.Fragment,null,React.createElement(StyledOptionalToggle,{id:se+"__disable",type:"checkbox",checked:!ae,onChange:()=>te(!ae)}),React.createElement("label",{htmlFor:se+"__disable"}))}function RawLabel(se){const{id:te,optional:ae,hint:oe}=useInputContext(),ce=se.htmlFor||(te?{htmlFor:te}:null),ue=!oe&&typeof se.children=="string"?{title:se.children}:null;return React.createElement(React.Fragment,null,ae&&React.createElement(OptionalToggle,null),oe!==void 0?React.createElement($a093c7e1ec25a057$export$be92b6f5f03c0fe9,null,React.createElement($a093c7e1ec25a057$export$41fb9f06171c75f4,{asChild:!0},React.createElement(StyledLabel,_extends({},ce,se))),React.createElement($a093c7e1ec25a057$export$7c6e2c02157bb7d2,{side:"top",sideOffset:2},React.createElement(StyledToolTipContent,null,oe,React.createElement(ToolTipArrow,null)))):React.createElement(StyledLabel,_extends({},ce,ue,se)))}function Label(se){let{align:te}=se,ae=_objectWithoutProperties$1(se,_excluded$6$1);const{value:oe,label:ce,key:ue,disabled:fe}=useInputContext(),{hideCopyButton:de}=usePanelSettingsContext(),pe=!de&&ue!==void 0,[me,_e]=reactExports.useState(!1),be=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[ue]:oe??""})),_e(!0)}catch{warn(LevaErrors.CLIPBOARD_ERROR,{[ue]:oe})}};return React.createElement(CopyLabelContainer,{align:te,onPointerLeave:()=>_e(!1)},React.createElement(RawLabel,ae),pe&&!fe&&React.createElement("div",{title:`Click to copy ${typeof ce=="string"?ce:ue} value`},me?React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),React.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):React.createElement("svg",{onClick:be,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),React.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const _excluded$5$1=["toggled"],Svg=styled("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Chevron(se){let{toggled:te}=se,ae=_objectWithoutProperties$1(se,_excluded$5$1);return React.createElement(Svg,_extends({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${te?0:-90}deg)`}},ae),React.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const _excluded$4$1=["input"];function Row(se){let{input:te}=se,ae=_objectWithoutProperties$1(se,_excluded$4$1);return te?React.createElement(StyledInputRow,ae):React.createElement(StyledRow,ae)}function useInputSetters({value:se,type:te,settings:ae,setValue:oe}){const[ce,ue]=reactExports.useState(format$2(te,se,ae)),fe=reactExports.useRef(se),de=reactExports.useRef(ae);de.current=ae;const pe=reactExports.useCallback(_e=>ue(format$2(te,_e,de.current)),[te]),me=reactExports.useCallback(_e=>{try{oe(_e)}catch(be){const{type:Ee,previousValue:Ae}=be;if(Ee!=="LEVA_ERROR")throw be;pe(Ae)}},[pe,oe]);return reactExports.useEffect(()=>{dequal(se,fe.current)||pe(se),fe.current=se},[se,pe]),{displayValue:ce,onChange:ue,onUpdate:me}}function useDrag(se,te){const{emitOnEditStart:ae,emitOnEditEnd:oe}=useInputContext();return useDrag$1(ce=>{ce.first&&(document.body.classList.add("leva__panel__dragged"),ae==null||ae());const ue=se(ce);return ce.last&&(document.body.classList.remove("leva__panel__dragged"),oe==null||oe()),ue},te)}function useCanvas2d(se){const te=reactExports.useRef(null),ae=reactExports.useRef(null),oe=reactExports.useRef(!1);return reactExports.useEffect(()=>{const ce=debounce(()=>{te.current.width=te.current.offsetWidth*window.devicePixelRatio,te.current.height=te.current.offsetHeight*window.devicePixelRatio,se(te.current,ae.current)},250);return window.addEventListener("resize",ce),oe.current||(ce(),oe.current=!0),()=>window.removeEventListener("resize",ce)},[se]),reactExports.useEffect(()=>{ae.current=te.current.getContext("2d")},[]),[te,ae]}function useTransform(){const se=reactExports.useRef(null),te=reactExports.useRef({x:0,y:0}),ae=reactExports.useCallback(oe=>{Object.assign(te.current,oe),se.current&&(se.current.style.transform=`translate3d(${te.current.x}px, ${te.current.y}px, 0)`)},[]);return[se,ae]}const _excluded$3$1=["__refCount"],getInputAtPath=(se,te)=>{if(!se[te])return null;const ae=se[te];return _objectWithoutProperties$1(ae,_excluded$3$1)};function useInput(se){const te=useStoreContext(),[ae,oe]=reactExports.useState(getInputAtPath(te.getData(),se)),ce=reactExports.useCallback(me=>te.setValueAtPath(se,me,!0),[se,te]),ue=reactExports.useCallback(me=>te.setSettingsAtPath(se,me),[se,te]),fe=reactExports.useCallback(me=>te.disableInputAtPath(se,me),[se,te]),de=reactExports.useCallback(()=>te.emitOnEditStart(se),[se,te]),pe=reactExports.useCallback(()=>te.emitOnEditEnd(se),[se,te]);return reactExports.useEffect(()=>{oe(getInputAtPath(te.getData(),se));const me=te.useStore.subscribe(_e=>getInputAtPath(_e.data,se),oe,{equalityFn:shallow});return()=>me()},[te,se]),[ae,{set:ce,setSettings:ue,disable:fe,storeId:te.storeId,emitOnEditStart:de,emitOnEditEnd:pe}]}const RangeGrid=styled("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),Range=styled("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),Scrubber=styled("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),RangeWrapper=styled("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),Indicator=styled("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function RangeSlider({value:se,min:te,max:ae,onDrag:oe,step:ce,initialValue:ue}){const fe=reactExports.useRef(null),de=reactExports.useRef(null),pe=reactExports.useRef(0),me=useTh("sizes","scrubberWidth"),_e=useDrag(({event:Ee,first:Ae,xy:[Re],movement:[Be],memo:De})=>{if(Ae){const{width:Pe,left:Ie}=fe.current.getBoundingClientRect();pe.current=Pe-parseFloat(me),De=(Ee==null?void 0:Ee.target)===de.current?se:invertedRange((Re-Ie)/Pe,te,ae)}const Oe=De+invertedRange(Be/pe.current,0,ae-te);return oe(sanitizeStep$1(Oe,{step:ce,initialValue:ue})),De}),be=range(se,te,ae);return React.createElement(RangeWrapper,_extends({ref:fe},_e()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:0,right:`${(1-be)*100}%`}})),React.createElement(Scrubber,{ref:de,style:{left:`calc(${be} * (100% - ${me}))`}}))}const DraggableLabel=React.memo(({label:se,onUpdate:te,step:ae,innerLabelTrim:oe})=>{const[ce,ue]=reactExports.useState(!1),fe=useDrag(({active:de,delta:[pe],event:me,memo:_e=0,first:be,last:Ee,target:Ae})=>(be&&Ae.requestPointerLock(),Ee&&document.exitPointerLock(),ue(de),_e+=pe/2,Math.abs(_e)>=1&&(te(Re=>parseFloat(Re)+Math.floor(_e)*ae*multiplyStep(me)),_e=0),_e));return React.createElement(InnerNumberLabel,_extends({dragging:ce,title:se.length>1?se:""},fe()),se.slice(0,oe))});function Number$1({label:se,id:te,displayValue:ae,onUpdate:oe,onChange:ce,settings:ue,innerLabelTrim:fe=1}){const de=fe>0&&React.createElement(DraggableLabel,{label:se,step:ue.step,onUpdate:oe,innerLabelTrim:fe});return React.createElement(NumberInput,{id:te,value:String(ae),onUpdate:oe,onChange:ce,innerLabel:de})}function NumberComponent(){const se=useInputContext(),{label:te,value:ae,onUpdate:oe,settings:ce,id:ue}=se,{min:fe,max:de}=ce,pe=de!==1/0&&fe!==-1/0;return React.createElement(Row,{input:!0},React.createElement(Label,null,te),React.createElement(RangeGrid,{hasRange:pe},pe&&React.createElement(RangeSlider,_extends({value:parseFloat(ae),onDrag:oe},ce)),React.createElement(Number$1,_extends({},se,{id:ue,label:"value",innerLabelTrim:pe?0:1}))))}const{sanitizeStep}=props$3,rest=_objectWithoutProperties$1(props$3,["sanitizeStep"]);var number$1=_objectSpread2({component:NumberComponent},rest);const schema$2$1=(se,te)=>v8n().schema({options:v8n().passesAnyOf(v8n().object(),v8n().array())}).test(te),sanitize$2$1=(se,{values:te})=>{if(te.indexOf(se)<0)throw Error("Selected value doesn't match Select options");return se},format$3=(se,{values:te})=>te.indexOf(se),normalize$1$1=se=>{let{value:te,options:ae}=se,oe,ce;return Array.isArray(ae)?(ce=ae,oe=ae.map(ue=>String(ue))):(ce=Object.values(ae),oe=Object.keys(ae)),"value"in se?ce.includes(te)||(oe.unshift(String(te)),ce.unshift(te)):te=ce[0],Object.values(ae).includes(te)||(ae[String(te)]=te),{value:te,settings:{keys:oe,values:ce}}};var props$2$1=Object.freeze({__proto__:null,schema:schema$2$1,sanitize:sanitize$2$1,format:format$3,normalize:normalize$1$1});const SelectContainer=styled("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),NativeSelect=styled("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),PresentationalSelect=styled("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${NativeSelect}:focus + &`]:{$focusStyle:""},[`${NativeSelect}:hover + &`]:{$hoverStyle:""}});function Select({displayValue:se,value:te,onUpdate:ae,id:oe,settings:ce,disabled:ue}){const{keys:fe,values:de}=ce,pe=reactExports.useRef();return te===de[se]&&(pe.current=fe[se]),React.createElement(SelectContainer,null,React.createElement(NativeSelect,{id:oe,value:se,onChange:me=>ae(de[Number(me.currentTarget.value)]),disabled:ue},fe.map((me,_e)=>React.createElement("option",{key:me,value:_e},me))),React.createElement(PresentationalSelect,null,pe.current),React.createElement(Chevron,{toggled:!0}))}function SelectComponent(){const{label:se,value:te,displayValue:ae,onUpdate:oe,id:ce,disabled:ue,settings:fe}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(Select,{id:ce,value:te,displayValue:ae,onUpdate:oe,settings:fe,disabled:ue}))}var select=_objectSpread2({component:SelectComponent},props$2$1);const schema$1$1=se=>v8n().string().test(se),sanitize$1$1=se=>{if(typeof se!="string")throw Error("Invalid string");return se},normalize$5=({value:se,editable:te=!0,rows:ae=!1})=>({value:se,settings:{editable:te,rows:typeof ae=="number"?ae:ae?5:0}});var props$1$1=Object.freeze({__proto__:null,schema:schema$1$1,sanitize:sanitize$1$1,normalize:normalize$5});const _excluded$2=["displayValue","onUpdate","onChange","editable"],NonEditableString=styled("div",{whiteSpace:"pre-wrap"});function String$1(se){let{displayValue:te,onUpdate:ae,onChange:oe,editable:ce=!0}=se,ue=_objectWithoutProperties$1(se,_excluded$2);return ce?React.createElement(ValueInput,_extends({value:te,onUpdate:ae,onChange:oe},ue)):React.createElement(NonEditableString,null,te)}function StringComponent(){const{label:se,settings:te,displayValue:ae,onUpdate:oe,onChange:ce}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(String$1,_extends({displayValue:ae,onUpdate:oe,onChange:ce},te)))}var string=_objectSpread2({component:StringComponent},props$1$1);const schema$4=se=>v8n().boolean().test(se),sanitize$5=se=>{if(typeof se!="boolean")throw Error("Invalid boolean");return se};var props$4=Object.freeze({__proto__:null,schema:schema$4,sanitize:sanitize$5});const StyledInputWrapper=styled("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function Boolean$1({value:se,onUpdate:te,id:ae,disabled:oe}){return React.createElement(StyledInputWrapper,null,React.createElement("input",{id:ae,type:"checkbox",checked:se,onChange:ce=>te(ce.currentTarget.checked),disabled:oe}),React.createElement("label",{htmlFor:ae},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function BooleanComponent(){const{label:se,value:te,onUpdate:ae,disabled:oe,id:ce}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(Boolean$1,{value:te,onUpdate:ae,id:ce,disabled:oe}))}var boolean=_objectSpread2({component:BooleanComponent},props$4);const _excluded$1=["locked"];function Coordinate({value:se,id:te,valueKey:ae,settings:oe,onUpdate:ce,innerLabelTrim:ue}){const fe=reactExports.useRef(se[ae]);fe.current=se[ae];const de=reactExports.useCallback(me=>ce({[ae]:sanitizeValue({type:"NUMBER",value:fe.current,settings:oe},me)}),[ce,oe,ae]),pe=useInputSetters({type:"NUMBER",value:se[ae],settings:oe,setValue:de});return React.createElement(Number$1,{id:te,label:ae,value:se[ae],displayValue:pe.displayValue,onUpdate:pe.onUpdate,onChange:pe.onChange,settings:oe,innerLabelTrim:ue})}const Container$2=styled("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Lock(se){let{locked:te}=se,ae=_objectWithoutProperties$1(se,_excluded$1);return React.createElement("svg",_extends({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ae),te?React.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):React.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function Vector({value:se,onUpdate:te,settings:ae,innerLabelTrim:oe}){const{id:ce,setSettings:ue}=useInputContext(),{lock:fe,locked:de}=ae;return React.createElement(Container$2,{withLock:fe},fe&&React.createElement(Lock,{locked:de,onClick:()=>ue({locked:!de})}),Object.keys(se).map((pe,me)=>React.createElement(Coordinate,{id:me===0?ce:`${ce}.${pe}`,key:pe,valueKey:pe,value:se,settings:ae[pe],onUpdate:te,innerLabelTrim:oe})))}const normalizeKeyedNumberSettings=(se,te)=>{const ae={};let oe=0,ce=1/0;Object.entries(se).forEach(([ue,fe])=>{ae[ue]=normalize$2$1(_objectSpread2({value:fe},te[ue])).settings,oe=Math.max(oe,ae[ue].step),ce=Math.min(ce,ae[ue].pad)});for(let ue in ae){const{step:fe,min:de,max:pe}=te[ue]||{};!isFinite(fe)&&(!isFinite(de)||!isFinite(pe))&&(ae[ue].step=oe,ae[ue].pad=ce)}return ae},_excluded$b=["lock"],_excluded2$5=["value"];function getVectorSchema(se){const te=v8n().array().length(se).every.number(),ae=oe=>{if(!oe||typeof oe!="object")return!1;const ce=Object.values(oe);return ce.length===se&&ce.every(ue=>isFinite(ue))};return oe=>te.test(oe)||ae(oe)}function getVectorType(se){return Array.isArray(se)?"array":"object"}function convert$1(se,te,ae){return getVectorType(se)===te?se:te==="array"?Object.values(se):mapArrayToKeys(se,ae)}const sanitizeVector=(se,te,ae)=>{const oe=convert$1(se,"object",te.keys);for(let fe in oe)oe[fe]=sanitize$3(oe[fe],te[fe]);const ce=Object.keys(oe);let ue={};if(ce.length===te.keys.length)ue=oe;else{const fe=convert$1(ae,"object",te.keys);if(ce.length===1&&te.locked){const de=ce[0],pe=oe[de],me=fe[de],_e=me!==0?pe/me:1;for(let be in fe)be===de?ue[de]=pe:ue[be]=fe[be]*_e}else ue=_objectSpread2(_objectSpread2({},fe),oe)}return convert$1(ue,te.format,te.keys)},formatVector=(se,te)=>convert$1(se,"object",te.keys),isNumberSettings=se=>!!se&&("step"in se||"min"in se||"max"in se);function normalizeVector(se,te,ae=[]){const{lock:oe=!1}=te,ce=_objectWithoutProperties$1(te,_excluded$b),ue=Array.isArray(se)?"array":"object",fe=ue==="object"?Object.keys(se):ae,de=convert$1(se,"object",fe),pe=isNumberSettings(ce)?fe.reduce((_e,be)=>Object.assign(_e,{[be]:ce}),{}):ce,me=normalizeKeyedNumberSettings(de,pe);return{value:ue==="array"?se:de,settings:_objectSpread2(_objectSpread2({},me),{},{format:ue,keys:fe,lock:oe,locked:!1})}}function getVectorPlugin(se){return{schema:getVectorSchema(se.length),normalize:te=>{let{value:ae}=te,oe=_objectWithoutProperties$1(te,_excluded2$5);return normalizeVector(ae,oe,se)},format:(te,ae)=>formatVector(te,ae),sanitize:(te,ae,oe)=>sanitizeVector(te,ae,oe)}}var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(se){return typeof se=="string"?se.length>0:typeof se=="number"},n=function(se,te,ae){return te===void 0&&(te=0),ae===void 0&&(ae=Math.pow(10,te)),Math.round(ae*se)/ae+0},e=function(se,te,ae){return te===void 0&&(te=0),ae===void 0&&(ae=1),se>ae?ae:se>te?se:te},u$1=function(se){return(se=isFinite(se)?se%360:0)>0?se:se+360},a=function(se){return{r:e(se.r,0,255),g:e(se.g,0,255),b:e(se.b,0,255),a:e(se.a)}},o=function(se){return{r:n(se.r),g:n(se.g),b:n(se.b),a:n(se.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$1=function(se){var te=se.toString(16);return te.length<2?"0"+te:te},h$1=function(se){var te=se.r,ae=se.g,oe=se.b,ce=se.a,ue=Math.max(te,ae,oe),fe=ue-Math.min(te,ae,oe),de=fe?ue===te?(ae-oe)/fe:ue===ae?2+(oe-te)/fe:4+(te-ae)/fe:0;return{h:60*(de<0?de+6:de),s:ue?fe/ue*100:0,v:ue/255*100,a:ce}},b$1=function(se){var te=se.h,ae=se.s,oe=se.v,ce=se.a;te=te/360*6,ae/=100,oe/=100;var ue=Math.floor(te),fe=oe*(1-ae),de=oe*(1-(te-ue)*ae),pe=oe*(1-(1-te+ue)*ae),me=ue%6;return{r:255*[oe,de,fe,fe,pe,oe][me],g:255*[pe,oe,oe,de,fe,fe][me],b:255*[fe,fe,pe,oe,oe,de][me],a:ce}},g$1=function(se){return{h:u$1(se.h),s:e(se.s,0,100),l:e(se.l,0,100),a:e(se.a)}},d$1=function(se){return{h:n(se.h),s:n(se.s),l:n(se.l),a:n(se.a,3)}},f$2=function(se){return b$1((ae=(te=se).s,{h:te.h,s:(ae*=((oe=te.l)<50?oe:100-oe)/100)>0?2*ae/(oe+ae)*100:0,v:oe+ae,a:te.a}));var te,ae,oe},c$1=function(se){return{h:(te=h$1(se)).h,s:(ce=(200-(ae=te.s))*(oe=te.v)/100)>0&&ce<200?ae*oe/100/(ce<=100?ce:200-ce)*100:0,l:ce/2,a:te.a};var te,ae,oe,ce},l=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(se){var te=i$1.exec(se);return te?(se=te[1]).length<=4?{r:parseInt(se[0]+se[0],16),g:parseInt(se[1]+se[1],16),b:parseInt(se[2]+se[2],16),a:se.length===4?n(parseInt(se[3]+se[3],16)/255,2):1}:se.length===6||se.length===8?{r:parseInt(se.substr(0,2),16),g:parseInt(se.substr(2,2),16),b:parseInt(se.substr(4,2),16),a:se.length===8?n(parseInt(se.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(se){var te=v$1.exec(se)||m$2.exec(se);return te?te[2]!==te[4]||te[4]!==te[6]?null:a({r:Number(te[1])/(te[2]?100/255:1),g:Number(te[3])/(te[4]?100/255:1),b:Number(te[5])/(te[6]?100/255:1),a:te[7]===void 0?1:Number(te[7])/(te[8]?100:1)}):null},"rgb"],[function(se){var te=l.exec(se)||p$1.exec(se);if(!te)return null;var ae,oe,ce=g$1({h:(ae=te[1],oe=te[2],oe===void 0&&(oe="deg"),Number(ae)*(r[oe]||1)),s:Number(te[3]),l:Number(te[4]),a:te[5]===void 0?1:Number(te[5])/(te[6]?100:1)});return f$2(ce)},"hsl"]],object:[[function(se){var te=se.r,ae=se.g,oe=se.b,ce=se.a,ue=ce===void 0?1:ce;return t(te)&&t(ae)&&t(oe)?a({r:Number(te),g:Number(ae),b:Number(oe),a:Number(ue)}):null},"rgb"],[function(se){var te=se.h,ae=se.s,oe=se.l,ce=se.a,ue=ce===void 0?1:ce;if(!t(te)||!t(ae)||!t(oe))return null;var fe=g$1({h:Number(te),s:Number(ae),l:Number(oe),a:Number(ue)});return f$2(fe)},"hsl"],[function(se){var te=se.h,ae=se.s,oe=se.v,ce=se.a,ue=ce===void 0?1:ce;if(!t(te)||!t(ae)||!t(oe))return null;var fe=function(de){return{h:u$1(de.h),s:e(de.s,0,100),v:e(de.v,0,100),a:e(de.a)}}({h:Number(te),s:Number(ae),v:Number(oe),a:Number(ue)});return b$1(fe)},"hsv"]]},N$1=function(se,te){for(var ae=0;ae<te.length;ae++){var oe=te[ae][0](se);if(oe)return[oe,te[ae][1]]}return[null,void 0]},x$1=function(se){return typeof se=="string"?N$1(se.trim(),y$1.string):typeof se=="object"&&se!==null?N$1(se,y$1.object):[null,void 0]},I$2=function(se){return x$1(se)[1]},M=function(se,te){var ae=c$1(se);return{h:ae.h,s:e(ae.s+100*te,0,100),l:ae.l,a:ae.a}},H$1=function(se){return(299*se.r+587*se.g+114*se.b)/1e3/255},$$2=function(se,te){var ae=c$1(se);return{h:ae.h,s:ae.s,l:e(ae.l+100*te,0,100),a:ae.a}},j=function(){function se(te){this.parsed=x$1(te)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return se.prototype.isValid=function(){return this.parsed!==null},se.prototype.brightness=function(){return n(H$1(this.rgba),2)},se.prototype.isDark=function(){return H$1(this.rgba)<.5},se.prototype.isLight=function(){return H$1(this.rgba)>=.5},se.prototype.toHex=function(){return te=o(this.rgba),ae=te.r,oe=te.g,ce=te.b,fe=(ue=te.a)<1?s$1(n(255*ue)):"","#"+s$1(ae)+s$1(oe)+s$1(ce)+fe;var te,ae,oe,ce,ue,fe},se.prototype.toRgb=function(){return o(this.rgba)},se.prototype.toRgbString=function(){return te=o(this.rgba),ae=te.r,oe=te.g,ce=te.b,(ue=te.a)<1?"rgba("+ae+", "+oe+", "+ce+", "+ue+")":"rgb("+ae+", "+oe+", "+ce+")";var te,ae,oe,ce,ue},se.prototype.toHsl=function(){return d$1(c$1(this.rgba))},se.prototype.toHslString=function(){return te=d$1(c$1(this.rgba)),ae=te.h,oe=te.s,ce=te.l,(ue=te.a)<1?"hsla("+ae+", "+oe+"%, "+ce+"%, "+ue+")":"hsl("+ae+", "+oe+"%, "+ce+"%)";var te,ae,oe,ce,ue},se.prototype.toHsv=function(){return te=h$1(this.rgba),{h:n(te.h),s:n(te.s),v:n(te.v),a:n(te.a,3)};var te},se.prototype.invert=function(){return w({r:255-(te=this.rgba).r,g:255-te.g,b:255-te.b,a:te.a});var te},se.prototype.saturate=function(te){return te===void 0&&(te=.1),w(M(this.rgba,te))},se.prototype.desaturate=function(te){return te===void 0&&(te=.1),w(M(this.rgba,-te))},se.prototype.grayscale=function(){return w(M(this.rgba,-1))},se.prototype.lighten=function(te){return te===void 0&&(te=.1),w($$2(this.rgba,te))},se.prototype.darken=function(te){return te===void 0&&(te=.1),w($$2(this.rgba,-te))},se.prototype.rotate=function(te){return te===void 0&&(te=15),this.hue(this.hue()+te)},se.prototype.alpha=function(te){return typeof te=="number"?w({r:(ae=this.rgba).r,g:ae.g,b:ae.b,a:te}):n(this.rgba.a,3);var ae},se.prototype.hue=function(te){var ae=c$1(this.rgba);return typeof te=="number"?w({h:te,s:ae.s,l:ae.l,a:ae.a}):n(ae.h)},se.prototype.isEqual=function(te){return this.toHex()===w(te).toHex()},se}(),w=function(se){return se instanceof j?se:new j(se)},S$2=[],k$2=function(se){se.forEach(function(te){S$2.indexOf(te)<0&&(te(j,y$1),S$2.push(te))})};function namesPlugin(se,te){var ae={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},oe={};for(var ce in ae)oe[ae[ce]]=ce;var ue={};se.prototype.toName=function(fe){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var de,pe,me=oe[this.toHex()];if(me)return me;if(fe!=null&&fe.closest){var _e=this.toRgb(),be=1/0,Ee="black";if(!ue.length)for(var Ae in ae)ue[Ae]=new se(ae[Ae]).toRgb();for(var Re in ae){var Be=(de=_e,pe=ue[Re],Math.pow(de.r-pe.r,2)+Math.pow(de.g-pe.g,2)+Math.pow(de.b-pe.b,2));Be<be&&(be=Be,Ee=Re)}return Ee}},te.string.push([function(fe){var de=fe.toLowerCase(),pe=de==="transparent"?"#0000":ae[de];return pe?new se(pe).toRgb():null},"name"])}function u(){return(u=Object.assign||function(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te];for(var oe in ae)Object.prototype.hasOwnProperty.call(ae,oe)&&(se[oe]=ae[oe])}return se}).apply(this,arguments)}function c(se,te){if(se==null)return{};var ae,oe,ce={},ue=Object.keys(se);for(oe=0;oe<ue.length;oe++)te.indexOf(ae=ue[oe])>=0||(ce[ae]=se[ae]);return ce}function i(se){var te=reactExports.useRef(se),ae=reactExports.useRef(function(oe){te.current&&te.current(oe)});return te.current=se,ae.current}var s=function(se,te,ae){return te===void 0&&(te=0),ae===void 0&&(ae=1),se>ae?ae:se<te?te:se},f$1=function(se){return"touches"in se},v=function(se){return se&&se.ownerDocument.defaultView||self},d=function(se,te,ae){var oe=se.getBoundingClientRect(),ce=f$1(te)?function(ue,fe){for(var de=0;de<ue.length;de++)if(ue[de].identifier===fe)return ue[de];return ue[0]}(te.touches,ae):te;return{left:s((ce.pageX-(oe.left+v(se).pageXOffset))/oe.width),top:s((ce.pageY-(oe.top+v(se).pageYOffset))/oe.height)}},h=function(se){!f$1(se)&&se.preventDefault()},m$1=React.memo(function(se){var te=se.onMove,ae=se.onKey,oe=c(se,["onMove","onKey"]),ce=reactExports.useRef(null),ue=i(te),fe=i(ae),de=reactExports.useRef(null),pe=reactExports.useRef(!1),me=reactExports.useMemo(function(){var Ae=function(De){h(De),(f$1(De)?De.touches.length>0:De.buttons>0)&&ce.current?ue(d(ce.current,De,de.current)):Be(!1)},Re=function(){return Be(!1)};function Be(De){var Oe=pe.current,Pe=v(ce.current),Ie=De?Pe.addEventListener:Pe.removeEventListener;Ie(Oe?"touchmove":"mousemove",Ae),Ie(Oe?"touchend":"mouseup",Re)}return[function(De){var Oe=De.nativeEvent,Pe=ce.current;if(Pe&&(h(Oe),!function(Fe,$e){return $e&&!f$1(Fe)}(Oe,pe.current)&&Pe)){if(f$1(Oe)){pe.current=!0;var Ie=Oe.changedTouches||[];Ie.length&&(de.current=Ie[0].identifier)}Pe.focus(),ue(d(Pe,Oe,de.current)),Be(!0)}},function(De){var Oe=De.which||De.keyCode;Oe<37||Oe>40||(De.preventDefault(),fe({left:Oe===39?.05:Oe===37?-.05:0,top:Oe===40?.05:Oe===38?-.05:0}))},Be]},[fe,ue]),_e=me[0],be=me[1],Ee=me[2];return reactExports.useEffect(function(){return Ee},[Ee]),React.createElement("div",u({},oe,{onTouchStart:_e,onMouseDown:_e,className:"react-colorful__interactive",ref:ce,onKeyDown:be,tabIndex:0,role:"slider"}))}),g=function(se){return se.filter(Boolean).join(" ")},p=function(se){var te=se.color,ae=se.left,oe=se.top,ce=oe===void 0?.5:oe,ue=g(["react-colorful__pointer",se.className]);return React.createElement("div",{className:ue,style:{top:100*ce+"%",left:100*ae+"%"}},React.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:te}}))},b=function(se,te,ae){return te===void 0&&(te=0),ae===void 0&&(ae=Math.pow(10,te)),Math.round(ae*se)/ae},y=function(se){var te=se.s,ae=se.v,oe=se.a,ce=(200-te)*ae/100;return{h:b(se.h),s:b(ce>0&&ce<200?te*ae/100/(ce<=100?ce:200-ce)*100:0),l:b(ce/2),a:b(oe,2)}},q$1=function(se){var te=y(se);return"hsl("+te.h+", "+te.s+"%, "+te.l+"%)"},k$1=function(se){var te=y(se);return"hsla("+te.h+", "+te.s+"%, "+te.l+"%, "+te.a+")"},I$1=function(se){var te=se.h,ae=se.s,oe=se.v,ce=se.a;te=te/360*6,ae/=100,oe/=100;var ue=Math.floor(te),fe=oe*(1-ae),de=oe*(1-(te-ue)*ae),pe=oe*(1-(1-te+ue)*ae),me=ue%6;return{r:b(255*[oe,de,fe,fe,pe,oe][me]),g:b(255*[pe,oe,oe,de,fe,fe][me]),b:b(255*[fe,fe,pe,oe,oe,de][me]),a:b(ce,2)}},L$1=function(se){var te=se.r,ae=se.g,oe=se.b,ce=se.a,ue=Math.max(te,ae,oe),fe=ue-Math.min(te,ae,oe),de=fe?ue===te?(ae-oe)/fe:ue===ae?2+(oe-te)/fe:4+(te-ae)/fe:0;return{h:b(60*(de<0?de+6:de)),s:b(ue?fe/ue*100:0),v:b(ue/255*100),a:ce}},S$1=React.memo(function(se){var te=se.hue,ae=se.onChange,oe=g(["react-colorful__hue",se.className]);return React.createElement("div",{className:oe},React.createElement(m$1,{onMove:function(ce){ae({h:360*ce.left})},onKey:function(ce){ae({h:s(te+360*ce.left,0,360)})},"aria-label":"Hue","aria-valuenow":b(te),"aria-valuemax":"360","aria-valuemin":"0"},React.createElement(p,{className:"react-colorful__hue-pointer",left:te/360,color:q$1({h:te,s:100,v:100,a:1})})))}),T$1=React.memo(function(se){var te=se.hsva,ae=se.onChange,oe={backgroundColor:q$1({h:te.h,s:100,v:100,a:1})};return React.createElement("div",{className:"react-colorful__saturation",style:oe},React.createElement(m$1,{onMove:function(ce){ae({s:100*ce.left,v:100-100*ce.top})},onKey:function(ce){ae({s:s(te.s+100*ce.left,0,100),v:s(te.v-100*ce.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+b(te.s)+"%, Brightness "+b(te.v)+"%"},React.createElement(p,{className:"react-colorful__saturation-pointer",top:1-te.v/100,left:te.s/100,color:q$1(te)})))}),F$1=function(se,te){if(se===te)return!0;for(var ae in se)if(se[ae]!==te[ae])return!1;return!0};function Y$1(se,te,ae){var oe=i(ae),ce=reactExports.useState(function(){return se.toHsva(te)}),ue=ce[0],fe=ce[1],de=reactExports.useRef({color:te,hsva:ue});reactExports.useEffect(function(){if(!se.equal(te,de.current.color)){var me=se.toHsva(te);de.current={hsva:me,color:te},fe(me)}},[te,se]),reactExports.useEffect(function(){var me;F$1(ue,de.current.hsva)||se.equal(me=se.fromHsva(ue),de.current.color)||(de.current={hsva:ue,color:me},oe(me))},[ue,se,oe]);var pe=reactExports.useCallback(function(me){fe(function(_e){return Object.assign({},_e,me)})},[]);return[ue,pe]}var V$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,$$1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},J=new Map,Q$1=function(se){V$1(function(){var te=se.current?se.current.ownerDocument:document;if(te!==void 0&&!J.has(te)){var ae=te.createElement("style");ae.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,J.set(te,ae);var oe=$$1();oe&&ae.setAttribute("nonce",oe),te.head.appendChild(ae)}},[])},U$1=function(se){var te=se.className,ae=se.colorModel,oe=se.color,ce=oe===void 0?ae.defaultColor:oe,ue=se.onChange,fe=c(se,["className","colorModel","color","onChange"]),de=reactExports.useRef(null);Q$1(de);var pe=Y$1(ae,ce,ue),me=pe[0],_e=pe[1],be=g(["react-colorful",te]);return React.createElement("div",u({},fe,{ref:de,className:be}),React.createElement(T$1,{hsva:me,onChange:_e}),React.createElement(S$1,{hue:me.h,onChange:_e,className:"react-colorful__last-control"}))},ee$1=function(se){var te=se.className,ae=se.hsva,oe=se.onChange,ce={backgroundImage:"linear-gradient(90deg, "+k$1(Object.assign({},ae,{a:0}))+", "+k$1(Object.assign({},ae,{a:1}))+")"},ue=g(["react-colorful__alpha",te]),fe=b(100*ae.a);return React.createElement("div",{className:ue},React.createElement("div",{className:"react-colorful__alpha-gradient",style:ce}),React.createElement(m$1,{onMove:function(de){oe({a:de.left})},onKey:function(de){oe({a:s(ae.a+de.left)})},"aria-label":"Alpha","aria-valuetext":fe+"%","aria-valuenow":fe,"aria-valuemin":"0","aria-valuemax":"100"},React.createElement(p,{className:"react-colorful__alpha-pointer",left:ae.a,color:k$1(ae)})))},re$1=function(se){var te=se.className,ae=se.colorModel,oe=se.color,ce=oe===void 0?ae.defaultColor:oe,ue=se.onChange,fe=c(se,["className","colorModel","color","onChange"]),de=reactExports.useRef(null);Q$1(de);var pe=Y$1(ae,ce,ue),me=pe[0],_e=pe[1],be=g(["react-colorful",te]);return React.createElement("div",u({},fe,{ref:de,className:be}),React.createElement(T$1,{hsva:me,onChange:_e}),React.createElement(S$1,{hue:me.h,onChange:_e}),React.createElement(ee$1,{hsva:me,onChange:_e,className:"react-colorful__last-control"}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L$1,fromHsva:I$1,equal:F$1},Ce=function(se){return React.createElement(re$1,u({},se,{colorModel:xe}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(se){return L$1({r:se.r,g:se.g,b:se.b,a:1})},fromHsva:function(se){return{r:(te=I$1(se)).r,g:te.g,b:te.b};var te},equal:F$1},Ne=function(se){return React.createElement(U$1,u({},se,{colorModel:Me}))},propTypes={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var se="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=se,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var se=requireReactPropTypesSecret();function te(){}function ae(){}return ae.resetWarningCache=te,factoryWithThrowingShims=function(){function oe(fe,de,pe,me,_e,be){if(be!==se){var Ee=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Ee.name="Invariant Violation",Ee}}oe.isRequired=oe;function ce(){return oe}var ue={array:oe,bigint:oe,bool:oe,func:oe,number:oe,object:oe,string:oe,symbol:oe,any:oe,arrayOf:ce,element:oe,elementType:oe,instanceOf:ce,node:oe,objectOf:ce,oneOf:ce,oneOfType:ce,shape:ce,exact:ce,checkPropTypes:ae,resetWarningCache:te};return ue.PropTypes=ue,ue},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes.exports=requireFactoryWithThrowingShims()()),propTypes.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports);function __awaiter(se,te,ae,oe){function ce(ue){return ue instanceof ae?ue:new ae(function(fe){fe(ue)})}return new(ae||(ae=Promise))(function(ue,fe){function de(_e){try{me(oe.next(_e))}catch(be){fe(be)}}function pe(_e){try{me(oe.throw(_e))}catch(be){fe(be)}}function me(_e){_e.done?ue(_e.value):ce(_e.value).then(de,pe)}me((oe=oe.apply(se,te||[])).next())})}function __generator(se,te){var ae={label:0,sent:function(){if(ue[0]&1)throw ue[1];return ue[1]},trys:[],ops:[]},oe,ce,ue,fe=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return fe.next=de(0),fe.throw=de(1),fe.return=de(2),typeof Symbol=="function"&&(fe[Symbol.iterator]=function(){return this}),fe;function de(me){return function(_e){return pe([me,_e])}}function pe(me){if(oe)throw new TypeError("Generator is already executing.");for(;fe&&(fe=0,me[0]&&(ae=0)),ae;)try{if(oe=1,ce&&(ue=me[0]&2?ce.return:me[0]?ce.throw||((ue=ce.return)&&ue.call(ce),0):ce.next)&&!(ue=ue.call(ce,me[1])).done)return ue;switch(ce=0,ue&&(me=[me[0]&2,ue.value]),me[0]){case 0:case 1:ue=me;break;case 4:return ae.label++,{value:me[1],done:!1};case 5:ae.label++,ce=me[1],me=[0];continue;case 7:me=ae.ops.pop(),ae.trys.pop();continue;default:if(ue=ae.trys,!(ue=ue.length>0&&ue[ue.length-1])&&(me[0]===6||me[0]===2)){ae=0;continue}if(me[0]===3&&(!ue||me[1]>ue[0]&&me[1]<ue[3])){ae.label=me[1];break}if(me[0]===6&&ae.label<ue[1]){ae.label=ue[1],ue=me;break}if(ue&&ae.label<ue[2]){ae.label=ue[2],ae.ops.push(me);break}ue[2]&&ae.ops.pop(),ae.trys.pop();continue}me=te.call(se,ae)}catch(_e){me=[6,_e],ce=0}finally{oe=ue=0}if(me[0]&5)throw me[1];return{value:me[0]?me[1]:void 0,done:!0}}}function __read(se,te){var ae=typeof Symbol=="function"&&se[Symbol.iterator];if(!ae)return se;var oe=ae.call(se),ce,ue=[],fe;try{for(;(te===void 0||te-- >0)&&!(ce=oe.next()).done;)ue.push(ce.value)}catch(de){fe={error:de}}finally{try{ce&&!ce.done&&(ae=oe.return)&&ae.call(oe)}finally{if(fe)throw fe.error}}return ue}function __spread(){for(var se=[],te=0;te<arguments.length;te++)se=se.concat(__read(arguments[te]));return se}typeof SuppressedError=="function"&&SuppressedError;var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(se,te){var ae=withMimeType(se);if(typeof ae.path!="string"){var oe=se.webkitRelativePath;Object.defineProperty(ae,"path",{value:typeof te=="string"?te:typeof oe=="string"&&oe.length>0?oe:se.name,writable:!1,configurable:!1,enumerable:!0})}return ae}function withMimeType(se){var te=se.name,ae=te&&te.lastIndexOf(".")!==-1;if(ae&&!se.type){var oe=te.split(".").pop().toLowerCase(),ce=COMMON_MIME_TYPES.get(oe);ce&&Object.defineProperty(se,"type",{value:ce,writable:!1,configurable:!1,enumerable:!0})}return se}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(se){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(te){return isObject(se)&&isDataTransfer(se)?[2,getDataTransferFiles(se.dataTransfer,se.type)]:isChangeEvt(se)?[2,getInputFiles(se)]:Array.isArray(se)&&se.every(function(ae){return"getFile"in ae&&typeof ae.getFile=="function"})?[2,getFsHandleFiles(se)]:[2,[]]})})}function isDataTransfer(se){return isObject(se.dataTransfer)}function isChangeEvt(se){return isObject(se)&&isObject(se.target)}function isObject(se){return typeof se=="object"&&se!==null}function getInputFiles(se){return fromList(se.target.files).map(function(te){return toFileWithPath(te)})}function getFsHandleFiles(se){return __awaiter(this,void 0,void 0,function(){var te;return __generator(this,function(ae){switch(ae.label){case 0:return[4,Promise.all(se.map(function(oe){return oe.getFile()}))];case 1:return te=ae.sent(),[2,te.map(function(oe){return toFileWithPath(oe)})]}})})}function getDataTransferFiles(se,te){return __awaiter(this,void 0,void 0,function(){var ae,oe;return __generator(this,function(ce){switch(ce.label){case 0:return se===null?[2,[]]:se.items?(ae=fromList(se.items).filter(function(ue){return ue.kind==="file"}),te!=="drop"?[2,ae]:[4,Promise.all(ae.map(toFilePromises))]):[3,2];case 1:return oe=ce.sent(),[2,noIgnoredFiles(flatten(oe))];case 2:return[2,noIgnoredFiles(fromList(se.files).map(function(ue){return toFileWithPath(ue)}))]}})})}function noIgnoredFiles(se){return se.filter(function(te){return FILES_TO_IGNORE.indexOf(te.name)===-1})}function fromList(se){if(se===null)return[];for(var te=[],ae=0;ae<se.length;ae++){var oe=se[ae];te.push(oe)}return te}function toFilePromises(se){if(typeof se.webkitGetAsEntry!="function")return fromDataTransferItem(se);var te=se.webkitGetAsEntry();return te&&te.isDirectory?fromDirEntry(te):fromDataTransferItem(se)}function flatten(se){return se.reduce(function(te,ae){return __spread(te,Array.isArray(ae)?flatten(ae):[ae])},[])}function fromDataTransferItem(se){var te=se.getAsFile();if(!te)return Promise.reject(se+" is not a File");var ae=toFileWithPath(te);return Promise.resolve(ae)}function fromEntry(se){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(te){return[2,se.isDirectory?fromDirEntry(se):fromFileEntry(se)]})})}function fromDirEntry(se){var te=se.createReader();return new Promise(function(ae,oe){var ce=[];function ue(){var fe=this;te.readEntries(function(de){return __awaiter(fe,void 0,void 0,function(){var pe,me,_e;return __generator(this,function(be){switch(be.label){case 0:if(de.length)return[3,5];be.label=1;case 1:return be.trys.push([1,3,,4]),[4,Promise.all(ce)];case 2:return pe=be.sent(),ae(pe),[3,4];case 3:return me=be.sent(),oe(me),[3,4];case 4:return[3,6];case 5:_e=Promise.all(de.map(fromEntry)),ce.push(_e),ue(),be.label=6;case 6:return[2]}})})},function(de){oe(de)})}ue()})}function fromFileEntry(se){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(te){return[2,new Promise(function(ae,oe){se.file(function(ce){var ue=toFileWithPath(ce,se.fullPath);ae(ue)},function(ce){oe(ce)})})]})})}var es={},hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,es.__esModule=!0,es.default=function(se,te){if(se&&te){var ae=Array.isArray(te)?te:te.split(",");if(ae.length===0)return!0;var oe=se.name||"",ce=(se.type||"").toLowerCase(),ue=ce.replace(/\/.*$/,"");return ae.some(function(fe){var de=fe.trim().toLowerCase();return de.charAt(0)==="."?oe.toLowerCase().endsWith(de):de.endsWith("/*")?ue===de.replace(/\/.*$/,""):ce===de})}return!0}),es}var esExports=requireEs();const accepts=getDefaultExportFromCjs(esExports);function ownKeys$1(se,te){var ae=Object.keys(se);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(se);te&&(oe=oe.filter(function(ce){return Object.getOwnPropertyDescriptor(se,ce).enumerable})),ae.push.apply(ae,oe)}return ae}function _objectSpread$1(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te]!=null?arguments[te]:{};te%2?ownKeys$1(Object(ae),!0).forEach(function(oe){_defineProperty$1(se,oe,ae[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ae)):ownKeys$1(Object(ae)).forEach(function(oe){Object.defineProperty(se,oe,Object.getOwnPropertyDescriptor(ae,oe))})}return se}function _defineProperty$1(se,te,ae){return te in se?Object.defineProperty(se,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):se[te]=ae,se}function _slicedToArray$1(se,te){return _arrayWithHoles$1(se)||_iterableToArrayLimit$1(se,te)||_unsupportedIterableToArray$1(se,te)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(se,te){if(se){if(typeof se=="string")return _arrayLikeToArray$1(se,te);var ae=Object.prototype.toString.call(se).slice(8,-1);if(ae==="Object"&&se.constructor&&(ae=se.constructor.name),ae==="Map"||ae==="Set")return Array.from(se);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return _arrayLikeToArray$1(se,te)}}function _arrayLikeToArray$1(se,te){(te==null||te>se.length)&&(te=se.length);for(var ae=0,oe=new Array(te);ae<te;ae++)oe[ae]=se[ae];return oe}function _iterableToArrayLimit$1(se,te){var ae=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(ae!=null){var oe=[],ce=!0,ue=!1,fe,de;try{for(ae=ae.call(se);!(ce=(fe=ae.next()).done)&&(oe.push(fe.value),!(te&&oe.length===te));ce=!0);}catch(pe){ue=!0,de=pe}finally{try{!ce&&ae.return!=null&&ae.return()}finally{if(ue)throw de}}return oe}}function _arrayWithHoles$1(se){if(Array.isArray(se))return se}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function se(te){te=Array.isArray(te)&&te.length===1?te[0]:te;var ae=Array.isArray(te)?"one of ".concat(te.join(", ")):te;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(ae)}},getTooLargeRejectionErr=function se(te){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(te," ").concat(te===1?"byte":"bytes")}},getTooSmallRejectionErr=function se(te){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(te," ").concat(te===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(se,te){var ae=se.type==="application/x-moz-file"||accepts(se,te);return[ae,ae?null:getInvalidTypeRejectionErr(te)]}function fileMatchSize(se,te,ae){if(isDefined(se.size))if(isDefined(te)&&isDefined(ae)){if(se.size>ae)return[!1,getTooLargeRejectionErr(ae)];if(se.size<te)return[!1,getTooSmallRejectionErr(te)]}else{if(isDefined(te)&&se.size<te)return[!1,getTooSmallRejectionErr(te)];if(isDefined(ae)&&se.size>ae)return[!1,getTooLargeRejectionErr(ae)]}return[!0,null]}function isDefined(se){return se!=null}function allFilesAccepted(se){var te=se.files,ae=se.accept,oe=se.minSize,ce=se.maxSize,ue=se.multiple,fe=se.maxFiles;return!ue&&te.length>1||ue&&fe>=1&&te.length>fe?!1:te.every(function(de){var pe=fileAccepted(de,ae),me=_slicedToArray$1(pe,1),_e=me[0],be=fileMatchSize(de,oe,ce),Ee=_slicedToArray$1(be,1),Ae=Ee[0];return _e&&Ae})}function isPropagationStopped(se){return typeof se.isPropagationStopped=="function"?se.isPropagationStopped():typeof se.cancelBubble<"u"?se.cancelBubble:!1}function isEvtWithFiles(se){return se.dataTransfer?Array.prototype.some.call(se.dataTransfer.types,function(te){return te==="Files"||te==="application/x-moz-file"}):!!se.target&&!!se.target.files}function onDocumentDragOver(se){se.preventDefault()}function isIe(se){return se.indexOf("MSIE")!==-1||se.indexOf("Trident/")!==-1}function isEdge(se){return se.indexOf("Edge/")!==-1}function isIeOrEdge(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(se)||isEdge(se)}function composeEventHandlers(){for(var se=arguments.length,te=new Array(se),ae=0;ae<se;ae++)te[ae]=arguments[ae];return function(oe){for(var ce=arguments.length,ue=new Array(ce>1?ce-1:0),fe=1;fe<ce;fe++)ue[fe-1]=arguments[fe];return te.some(function(de){return!isPropagationStopped(oe)&&de&&de.apply(void 0,[oe].concat(ue)),isPropagationStopped(oe)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function filePickerOptionsTypes(se){return se=typeof se=="string"?se.split(","):se,[{description:"everything",accept:Array.isArray(se)?se.filter(function(te){return te==="audio/*"||te==="video/*"||te==="image/*"||te==="text/*"||/\w+\/[-+.\w]+/g.test(te)}).reduce(function(te,ae){return _objectSpread$1(_objectSpread$1({},te),{},_defineProperty$1({},ae,[]))},{}):{}}]}function isAbort(se){return se instanceof DOMException&&(se.name==="AbortError"||se.code===se.ABORT_ERR)}function isSecurityError(se){return se instanceof DOMException&&(se.name==="SecurityError"||se.code===se.SECURITY_ERR)}var _excluded=["children"],_excluded2$2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(se){return _arrayWithoutHoles(se)||_iterableToArray(se)||_unsupportedIterableToArray(se)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(se){if(typeof Symbol<"u"&&se[Symbol.iterator]!=null||se["@@iterator"]!=null)return Array.from(se)}function _arrayWithoutHoles(se){if(Array.isArray(se))return _arrayLikeToArray(se)}function _slicedToArray(se,te){return _arrayWithHoles(se)||_iterableToArrayLimit(se,te)||_unsupportedIterableToArray(se,te)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(se,te){if(se){if(typeof se=="string")return _arrayLikeToArray(se,te);var ae=Object.prototype.toString.call(se).slice(8,-1);if(ae==="Object"&&se.constructor&&(ae=se.constructor.name),ae==="Map"||ae==="Set")return Array.from(se);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return _arrayLikeToArray(se,te)}}function _arrayLikeToArray(se,te){(te==null||te>se.length)&&(te=se.length);for(var ae=0,oe=new Array(te);ae<te;ae++)oe[ae]=se[ae];return oe}function _iterableToArrayLimit(se,te){var ae=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(ae!=null){var oe=[],ce=!0,ue=!1,fe,de;try{for(ae=ae.call(se);!(ce=(fe=ae.next()).done)&&(oe.push(fe.value),!(te&&oe.length===te));ce=!0);}catch(pe){ue=!0,de=pe}finally{try{!ce&&ae.return!=null&&ae.return()}finally{if(ue)throw de}}return oe}}function _arrayWithHoles(se){if(Array.isArray(se))return se}function ownKeys(se,te){var ae=Object.keys(se);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(se);te&&(oe=oe.filter(function(ce){return Object.getOwnPropertyDescriptor(se,ce).enumerable})),ae.push.apply(ae,oe)}return ae}function _objectSpread(se){for(var te=1;te<arguments.length;te++){var ae=arguments[te]!=null?arguments[te]:{};te%2?ownKeys(Object(ae),!0).forEach(function(oe){_defineProperty(se,oe,ae[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(ae)):ownKeys(Object(ae)).forEach(function(oe){Object.defineProperty(se,oe,Object.getOwnPropertyDescriptor(ae,oe))})}return se}function _defineProperty(se,te,ae){return te in se?Object.defineProperty(se,te,{value:ae,enumerable:!0,configurable:!0,writable:!0}):se[te]=ae,se}function _objectWithoutProperties(se,te){if(se==null)return{};var ae=_objectWithoutPropertiesLoose(se,te),oe,ce;if(Object.getOwnPropertySymbols){var ue=Object.getOwnPropertySymbols(se);for(ce=0;ce<ue.length;ce++)oe=ue[ce],!(te.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(se,oe)&&(ae[oe]=se[oe])}return ae}function _objectWithoutPropertiesLoose(se,te){if(se==null)return{};var ae={},oe=Object.keys(se),ce,ue;for(ue=0;ue<oe.length;ue++)ce=oe[ue],!(te.indexOf(ce)>=0)&&(ae[ce]=se[ce]);return ae}var Dropzone=reactExports.forwardRef(function(se,te){var ae=se.children,oe=_objectWithoutProperties(se,_excluded),ce=useDropzone(oe),ue=ce.open,fe=_objectWithoutProperties(ce,_excluded2$2);return reactExports.useImperativeHandle(te,function(){return{open:ue}},[ue]),React.createElement(reactExports.Fragment,null,ae(_objectSpread(_objectSpread({},fe),{},{open:ue})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:PropTypes.func,accept:PropTypes.oneOfType([PropTypes.string,PropTypes.arrayOf(PropTypes.string)]),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function useDropzone(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=_objectSpread(_objectSpread({},defaultProps),se),ae=te.accept,oe=te.disabled,ce=te.getFilesFromEvent,ue=te.maxSize,fe=te.minSize,de=te.multiple,pe=te.maxFiles,me=te.onDragEnter,_e=te.onDragLeave,be=te.onDragOver,Ee=te.onDrop,Ae=te.onDropAccepted,Re=te.onDropRejected,Be=te.onFileDialogCancel,De=te.onFileDialogOpen,Oe=te.useFsAccessApi,Pe=te.preventDropOnDocument,Ie=te.noClick,Fe=te.noKeyboard,$e=te.noDrag,Ve=te.noDragEventsBubbling,ke=te.validator,We=reactExports.useMemo(function(){return typeof De=="function"?De:noop},[De]),je=reactExports.useMemo(function(){return typeof Be=="function"?Be:noop},[Be]),He=reactExports.useRef(null),tt=reactExports.useRef(null),Ze=reactExports.useReducer(reducer,initialState),nt=_slicedToArray(Ze,2),at=nt[0],mt=nt[1],Ye=at.isFocused,rt=at.isFileDialogActive,lt=at.draggedFiles,_t=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&Oe&&canUseFileSystemAccessAPI()),Xe=function(){!_t.current&&rt&&setTimeout(function(){if(tt.current){var St=tt.current.files;St.length||(mt({type:"closeDialog"}),je())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Xe,!1),function(){window.removeEventListener("focus",Xe,!1)}},[tt,rt,je,_t]);var et=reactExports.useRef([]),ft=function(St){He.current&&He.current.contains(St.target)||(St.preventDefault(),et.current=[])};reactExports.useEffect(function(){return Pe&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",ft,!1)),function(){Pe&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",ft))}},[He,Pe]);var yt=reactExports.useCallback(function(ct){ct.preventDefault(),ct.persist(),Nt(ct),et.current=[].concat(_toConsumableArray(et.current),[ct.target]),isEvtWithFiles(ct)&&Promise.resolve(ce(ct)).then(function(St){isPropagationStopped(ct)&&!Ve||(mt({draggedFiles:St,isDragActive:!0,type:"setDraggedFiles"}),me&&me(ct))})},[ce,me,Ve]),st=reactExports.useCallback(function(ct){ct.preventDefault(),ct.persist(),Nt(ct);var St=isEvtWithFiles(ct);if(St&&ct.dataTransfer)try{ct.dataTransfer.dropEffect="copy"}catch{}return St&&be&&be(ct),!1},[be,Ve]),gt=reactExports.useCallback(function(ct){ct.preventDefault(),ct.persist(),Nt(ct);var St=et.current.filter(function(Ft){return He.current&&He.current.contains(Ft)}),Mt=St.indexOf(ct.target);Mt!==-1&&St.splice(Mt,1),et.current=St,!(St.length>0)&&(mt({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),isEvtWithFiles(ct)&&_e&&_e(ct))},[He,_e,Ve]),Et=reactExports.useCallback(function(ct,St){var Mt=[],Ft=[];ct.forEach(function(zt){var $t=fileAccepted(zt,ae),Jt=_slicedToArray($t,2),Mn=Jt[0],rn=Jt[1],cn=fileMatchSize(zt,fe,ue),vn=_slicedToArray(cn,2),hn=vn[0],Qt=vn[1],Cn=ke?ke(zt):null;if(Mn&&hn&&!Cn)Mt.push(zt);else{var Tn=[rn,Qt];Cn&&(Tn=Tn.concat(Cn)),Ft.push({file:zt,errors:Tn.filter(function(Xn){return Xn})})}}),(!de&&Mt.length>1||de&&pe>=1&&Mt.length>pe)&&(Mt.forEach(function(zt){Ft.push({file:zt,errors:[TOO_MANY_FILES_REJECTION]})}),Mt.splice(0)),mt({acceptedFiles:Mt,fileRejections:Ft,type:"setFiles"}),Ee&&Ee(Mt,Ft,St),Ft.length>0&&Re&&Re(Ft,St),Mt.length>0&&Ae&&Ae(Mt,St)},[mt,de,ae,fe,ue,pe,Ee,Ae,Re,ke]),bt=reactExports.useCallback(function(ct){ct.preventDefault(),ct.persist(),Nt(ct),et.current=[],isEvtWithFiles(ct)&&Promise.resolve(ce(ct)).then(function(St){isPropagationStopped(ct)&&!Ve||Et(St,ct)}),mt({type:"reset"})},[ce,Et,Ve]),Dt=reactExports.useCallback(function(){if(_t.current){mt({type:"openDialog"}),We();var ct={multiple:de,types:filePickerOptionsTypes(ae)};window.showOpenFilePicker(ct).then(function(St){return ce(St)}).then(function(St){Et(St,null),mt({type:"closeDialog"})}).catch(function(St){isAbort(St)?(je(St),mt({type:"closeDialog"})):isSecurityError(St)&&(_t.current=!1,tt.current&&(tt.current.value=null,tt.current.click()))});return}tt.current&&(mt({type:"openDialog"}),We(),tt.current.value=null,tt.current.click())},[mt,We,je,Oe,Et,ae,de]),nn=reactExports.useCallback(function(ct){!He.current||!He.current.isEqualNode(ct.target)||(ct.key===" "||ct.key==="Enter"||ct.keyCode===32||ct.keyCode===13)&&(ct.preventDefault(),Dt())},[He,Dt]),ln=reactExports.useCallback(function(){mt({type:"focus"})},[]),tn=reactExports.useCallback(function(){mt({type:"blur"})},[]),Wt=reactExports.useCallback(function(){Ie||(isIeOrEdge()?setTimeout(Dt,0):Dt())},[Ie,Dt]),on=function(St){return oe?null:St},pt=function(St){return Fe?null:on(St)},Sn=function(St){return $e?null:on(St)},Nt=function(St){Ve&&St.stopPropagation()},ht=reactExports.useMemo(function(){return function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},St=ct.refKey,Mt=St===void 0?"ref":St,Ft=ct.role,zt=ct.onKeyDown,$t=ct.onFocus,Jt=ct.onBlur,Mn=ct.onClick,rn=ct.onDragEnter,cn=ct.onDragOver,vn=ct.onDragLeave,hn=ct.onDrop,Qt=_objectWithoutProperties(ct,_excluded3);return _objectSpread(_objectSpread(_defineProperty({onKeyDown:pt(composeEventHandlers(zt,nn)),onFocus:pt(composeEventHandlers($t,ln)),onBlur:pt(composeEventHandlers(Jt,tn)),onClick:on(composeEventHandlers(Mn,Wt)),onDragEnter:Sn(composeEventHandlers(rn,yt)),onDragOver:Sn(composeEventHandlers(cn,st)),onDragLeave:Sn(composeEventHandlers(vn,gt)),onDrop:Sn(composeEventHandlers(hn,bt)),role:typeof Ft=="string"&&Ft!==""?Ft:"button"},Mt,He),!oe&&!Fe?{tabIndex:0}:{}),Qt)}},[He,nn,ln,tn,Wt,yt,st,gt,bt,Fe,$e,oe]),Rt=reactExports.useCallback(function(ct){ct.stopPropagation()},[]),kt=reactExports.useMemo(function(){return function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},St=ct.refKey,Mt=St===void 0?"ref":St,Ft=ct.onChange,zt=ct.onClick,$t=_objectWithoutProperties(ct,_excluded4),Jt=_defineProperty({accept:ae,multiple:de,type:"file",style:{display:"none"},onChange:on(composeEventHandlers(Ft,bt)),onClick:on(composeEventHandlers(zt,Rt)),tabIndex:-1},Mt,tt);return _objectSpread(_objectSpread({},Jt),$t)}},[tt,ae,de,bt,oe]),Bt=lt.length,Qe=Bt>0&&allFilesAccepted({files:lt,accept:ae,minSize:fe,maxSize:ue,multiple:de,maxFiles:pe}),Ke=Bt>0&&!Qe;return _objectSpread(_objectSpread({},at),{},{isDragAccept:Qe,isDragReject:Ke,isFocused:Ye&&!oe,getRootProps:ht,getInputProps:kt,rootRef:He,inputRef:tt,open:on(Dt)})}function reducer(se,te){switch(te.type){case"focus":return _objectSpread(_objectSpread({},se),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},se),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},se),{},{isFileDialogActive:!1});case"setDraggedFiles":var ae=te.isDragActive,oe=te.draggedFiles;return _objectSpread(_objectSpread({},se),{},{draggedFiles:oe,isDragActive:ae});case"setFiles":return _objectSpread(_objectSpread({},se),{},{acceptedFiles:te.acceptedFiles,fileRejections:te.fileRejections});case"reset":return _objectSpread({},initialState);default:return se}}function noop(){}function createStore(se){let te;const ae=new Set,oe=(me,_e)=>{const be=typeof me=="function"?me(te):me;if(be!==te){const Ee=te;te=_e?be:Object.assign({},te,be),ae.forEach(Ae=>Ae(te,Ee))}},ce=()=>te,ue=(me,_e=ce,be=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let Ee=_e(te);function Ae(){const Re=_e(te);if(!be(Ee,Re)){const Be=Ee;me(Ee=Re,Be)}}return ae.add(Ae),()=>ae.delete(Ae)},pe={setState:oe,getState:ce,subscribe:(me,_e,be)=>_e||be?ue(me,_e,be):(ae.add(me),()=>ae.delete(me)),destroy:()=>ae.clear()};return te=se(oe,ce,pe),pe}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(se){const te=typeof se=="function"?createStore(se):se,ae=(oe=te.getState,ce=Object.is)=>{const[,ue]=reactExports.useReducer(De=>De+1,0),fe=te.getState(),de=reactExports.useRef(fe),pe=reactExports.useRef(oe),me=reactExports.useRef(ce),_e=reactExports.useRef(!1),be=reactExports.useRef();be.current===void 0&&(be.current=oe(fe));let Ee,Ae=!1;(de.current!==fe||pe.current!==oe||me.current!==ce||_e.current)&&(Ee=oe(fe),Ae=!ce(be.current,Ee)),useIsomorphicLayoutEffect(()=>{Ae&&(be.current=Ee),de.current=fe,pe.current=oe,me.current=ce,_e.current=!1});const Re=reactExports.useRef(fe);useIsomorphicLayoutEffect(()=>{const De=()=>{try{const Pe=te.getState(),Ie=pe.current(Pe);me.current(be.current,Ie)||(de.current=Pe,be.current=Ie,ue())}catch{_e.current=!0,ue()}},Oe=te.subscribe(De);return te.getState()!==Re.current&&De(),Oe},[]);const Be=Ae?Ee:be.current;return reactExports.useDebugValue(Be),Be};return Object.assign(ae,te),ae[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const oe=[ae,te];return{next(){const ce=oe.length<=0;return{value:oe.shift(),done:ce}}}},ae}const subscribeWithSelector=se=>(te,ae,oe)=>{const ce=oe.subscribe;return oe.subscribe=(fe,de,pe)=>{let me=fe;if(de){const _e=(pe==null?void 0:pe.equalityFn)||Object.is;let be=fe(oe.getState());me=Ee=>{const Ae=fe(Ee);if(!_e(be,Ae)){const Re=be;de(be=Ae,Re)}},pe!=null&&pe.fireImmediately&&de(be,be)}return ce(me)},se(te,ae,oe)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isobject,hasRequiredIsobject;function requireIsobject(){return hasRequiredIsobject||(hasRequiredIsobject=1,isobject=function(te){return te!=null&&typeof te=="object"&&Array.isArray(te)===!1}),isobject}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isPlainObject,hasRequiredIsPlainObject;function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject;hasRequiredIsPlainObject=1;var se=requireIsobject();function te(ae){return se(ae)===!0&&Object.prototype.toString.call(ae)==="[object Object]"}return isPlainObject=function(oe){var ce,ue;return!(te(oe)===!1||(ce=oe.constructor,typeof ce!="function")||(ue=ce.prototype,te(ue)===!1)||ue.hasOwnProperty("isPrototypeOf")===!1)},isPlainObject}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var isExtendable$1,hasRequiredIsExtendable$1;function requireIsExtendable$1(){if(hasRequiredIsExtendable$1)return isExtendable$1;hasRequiredIsExtendable$1=1;var se=requireIsPlainObject();return isExtendable$1=function(ae){return se(ae)||typeof ae=="function"||Array.isArray(ae)},isExtendable$1}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var forIn,hasRequiredForIn;function requireForIn(){return hasRequiredForIn||(hasRequiredForIn=1,forIn=function(te,ae,oe){for(var ce in te)if(ae.call(oe,te[ce],ce,te)===!1)break}),forIn}var mixinDeep_1,hasRequiredMixinDeep;function requireMixinDeep(){if(hasRequiredMixinDeep)return mixinDeep_1;hasRequiredMixinDeep=1;var se=requireIsExtendable$1(),te=requireForIn();function ae(fe,de){for(var pe=arguments.length,me=0;++me<pe;){var _e=arguments[me];ce(_e)&&te(_e,oe,fe)}return fe}function oe(fe,de){if(ue(de)){var pe=this[de];ce(fe)&&ce(pe)?ae(pe,fe):this[de]=fe}}function ce(fe){return se(fe)&&!Array.isArray(fe)}function ue(fe){return fe!=="__proto__"&&fe!=="constructor"&&fe!=="prototype"}return mixinDeep_1=ae,mixinDeep_1}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var getValue$1,hasRequiredGetValue;function requireGetValue(){if(hasRequiredGetValue)return getValue$1;hasRequiredGetValue=1,getValue$1=function(ae,oe,ce,ue,fe){if(!se(ae)||!oe)return ae;if(oe=te(oe),ce&&(oe+="."+te(ce)),ue&&(oe+="."+te(ue)),fe&&(oe+="."+te(fe)),oe in ae)return ae[oe];for(var de=oe.split("."),pe=de.length,me=-1;ae&&++me<pe;){for(var _e=de[me];_e[_e.length-1]==="\\";)_e=_e.slice(0,-1)+"."+de[++me];ae=ae[_e]}return ae};function se(ae){return ae!==null&&(typeof ae=="object"||typeof ae=="function")}function te(ae){return ae?Array.isArray(ae)?ae.join("."):ae:""}return getValue$1}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var assignSymbols,hasRequiredAssignSymbols;function requireAssignSymbols(){return hasRequiredAssignSymbols||(hasRequiredAssignSymbols=1,assignSymbols=function(se,te){if(se===null||typeof se>"u")throw new TypeError("expected first argument to be an object.");if(typeof te>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return se;for(var ae=Object.prototype.propertyIsEnumerable,oe=Object(se),ce=arguments.length,ue=0;++ue<ce;)for(var fe=Object(arguments[ue]),de=Object.getOwnPropertySymbols(fe),pe=0;pe<de.length;pe++){var me=de[pe];ae.call(fe,me)&&(oe[me]=fe[me])}return oe}),assignSymbols}var extendShallow$1,hasRequiredExtendShallow$1;function requireExtendShallow$1(){if(hasRequiredExtendShallow$1)return extendShallow$1;hasRequiredExtendShallow$1=1;var se=requireIsExtendable$1(),te=requireAssignSymbols();extendShallow$1=Object.assign||function(de){if(de===null||typeof de>"u")throw new TypeError("Cannot convert undefined or null to object");ue(de)||(de={});for(var pe=1;pe<arguments.length;pe++){var me=arguments[pe];oe(me)&&(me=ce(me)),ue(me)&&(ae(de,me),te(de,me))}return de};function ae(de,pe){for(var me in pe)fe(pe,me)&&(de[me]=pe[me])}function oe(de){return de&&typeof de=="string"}function ce(de){var pe={};for(var me in de)pe[me]=de[me];return pe}function ue(de){return de&&typeof de=="object"||se(de)}function fe(de,pe){return Object.prototype.hasOwnProperty.call(de,pe)}return extendShallow$1}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var splitString,hasRequiredSplitString;function requireSplitString(){if(hasRequiredSplitString)return splitString;hasRequiredSplitString=1;var se=requireExtendShallow$1();splitString=function(ce,ue,fe){if(typeof ce!="string")throw new TypeError("expected a string");typeof ue=="function"&&(fe=ue,ue=null),typeof ue=="string"&&(ue={sep:ue});var de=se({sep:"."},ue),pe=de.quotes||['"',"'","`"],me;de.brackets===!0?me={"<":">","(":")","[":"]","{":"}"}:de.brackets&&(me=de.brackets);var _e=[],be=[],Ee=[""],Ae=de.sep,Re=ce.length,Be=-1,De;function Oe(){if(me&&be.length)return me[be[be.length-1]]}for(;++Be<Re;){var Pe=ce[Be],Ie=ce[Be+1],Fe={val:Pe,idx:Be,arr:Ee,str:ce};if(_e.push(Fe),Pe==="\\"){Fe.val=oe(de,ce,Be)===!0?Pe+Ie:Ie,Fe.escaped=!0,typeof fe=="function"&&fe(Fe),Ee[Ee.length-1]+=Fe.val,Be++;continue}if(me&&me[Pe]){be.push(Pe);var $e=Oe(),Ve=Be+1;if(ce.indexOf($e,Ve+1)!==-1)for(;be.length&&Ve<Re;){var ke=ce[++Ve];if(ke==="\\"){ke++;continue}if(pe.indexOf(ke)!==-1){Ve=te(ce,ke,Ve+1);continue}if($e=Oe(),be.length&&ce.indexOf($e,Ve+1)===-1)break;if(me[ke]){be.push(ke);continue}$e===ke&&be.pop()}if(De=Ve,De===-1){Ee[Ee.length-1]+=Pe;continue}Pe=ce.slice(Be,De+1),Fe.val=Pe,Fe.idx=Be=De}if(pe.indexOf(Pe)!==-1){if(De=te(ce,Pe,Be+1),De===-1){Ee[Ee.length-1]+=Pe;continue}ae(Pe,de)===!0?Pe=ce.slice(Be,De+1):Pe=ce.slice(Be+1,De),Fe.val=Pe,Fe.idx=Be=De}if(typeof fe=="function"&&(fe(Fe,_e),Pe=Fe.val,Be=Fe.idx),Fe.val===Ae&&Fe.split!==!1){Ee.push("");continue}Ee[Ee.length-1]+=Fe.val}return Ee};function te(ce,ue,fe,de){var pe=ce.indexOf(ue,fe);return ce.charAt(pe-1)==="\\"?te(ce,ue,pe+1):pe}function ae(ce,ue){return ue.keepDoubleQuotes===!0&&ce==='"'||ue.keepSingleQuotes===!0&&ce==="'"?!0:ue.keepQuotes}function oe(ce,ue,fe){return typeof ce.keepEscaping=="function"?ce.keepEscaping(ue,fe):ce.keepEscaping===!0||ue[fe+1]==="\\"}return splitString}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(te){return typeof te<"u"&&te!==null&&(typeof te=="object"||typeof te=="function")}),isExtendable}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var se=requireIsExtendable();extendShallow=function(ce){se(ce)||(ce={});for(var ue=arguments.length,fe=1;fe<ue;fe++){var de=arguments[fe];se(de)&&te(ce,de)}return ce};function te(oe,ce){for(var ue in ce)ae(ce,ue)&&(oe[ue]=ce[ue])}function ae(oe,ce){return Object.prototype.hasOwnProperty.call(oe,ce)}return extendShallow}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var setValue,hasRequiredSetValue;function requireSetValue(){if(hasRequiredSetValue)return setValue;hasRequiredSetValue=1;var se=requireSplitString(),te=requireExtendShallow(),ae=requireIsPlainObject(),oe=requireIsExtendable();setValue=function(ue,fe,de){if(!oe(ue)||(Array.isArray(fe)&&(fe=[].concat.apply([],fe).join(".")),typeof fe!="string"))return ue;for(var pe=se(fe,{sep:".",brackets:!0}).filter(ce),me=pe.length,_e=-1,be=ue;++_e<me;){var Ee=pe[_e];if(_e!==me-1){oe(be[Ee])||(be[Ee]={}),be=be[Ee];continue}ae(be[Ee])&&ae(de)?be[Ee]=te({},be[Ee],de):be[Ee]=de}return ue};function ce(ue){return ue!=="__proto__"&&ue!=="constructor"&&ue!=="prototype"}return setValue}var mergeValue,hasRequiredMergeValue;function requireMergeValue(){if(hasRequiredMergeValue)return mergeValue;hasRequiredMergeValue=1;var se=requireIsExtendable$1(),te=requireMixinDeep(),ae=requireGetValue(),oe=requireSetValue();return mergeValue=function(ue,fe,de){if(!se(ue))throw new TypeError("expected an object");if(typeof fe!="string"||de==null)return te.apply(null,arguments);if(typeof de=="string")return oe(ue,fe,de),ue;var pe=ae(ue,fe);return se(de)&&se(pe)&&(de=te({},pe,de)),oe(ue,fe,de),ue},mergeValue}var mergeValueExports=requireMergeValue();const merge=getDefaultExportFromCjs(mergeValueExports),join=(...se)=>se.filter(Boolean).join(".");function getKeyPath(se){const te=se.split(".");return[te.pop(),te.join(".")||void 0]}function useToggle(se){const te=reactExports.useRef(null),ae=reactExports.useRef(null),oe=reactExports.useRef(!0);return reactExports.useLayoutEffect(()=>{se||(te.current.style.height="0px",te.current.style.overflow="hidden")},[]),reactExports.useEffect(()=>{if(oe.current){oe.current=!1;return}let ce;const ue=te.current,fe=()=>{se&&(ue.style.removeProperty("height"),ue.style.removeProperty("overflow"),ae.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};ue.addEventListener("transitionend",fe,{once:!0});const{height:de}=ae.current.getBoundingClientRect();return ue.style.height=de+"px",se||(ue.style.overflow="hidden",ce=window.setTimeout(()=>ue.style.height="0px",50)),()=>{ue.removeEventListener("transitionend",fe),clearTimeout(ce)}},[se]),{wrapperRef:te,contentRef:ae}}const useVisiblePaths=se=>{const[te,ae]=reactExports.useState(se.getVisiblePaths());return reactExports.useEffect(()=>{ae(se.getVisiblePaths());const oe=se.useStore.subscribe(se.getVisiblePaths,ae,{equalityFn:shallow});return()=>oe()},[se]),te};function usePopin(se=3){const te=reactExports.useRef(null),ae=reactExports.useRef(null),[oe,ce]=reactExports.useState(!1),ue=reactExports.useCallback(()=>ce(!0),[]),fe=reactExports.useCallback(()=>ce(!1),[]);return reactExports.useLayoutEffect(()=>{if(oe){const{bottom:de,top:pe,left:me}=te.current.getBoundingClientRect(),{height:_e}=ae.current.getBoundingClientRect(),be=de+_e>window.innerHeight-40?"up":"down";ae.current.style.position="fixed",ae.current.style.zIndex="10000",ae.current.style.left=me+"px",be==="down"?ae.current.style.top=de+se+"px":ae.current.style.bottom=window.innerHeight-pe+se+"px"}},[se,oe]),{popinRef:te,wrapperRef:ae,shown:oe,show:ue,hide:fe}}k$2([namesPlugin]);const convertMap={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};v8n.extend({color:()=>se=>w(se).isValid()});const schema$2=se=>v8n().color().test(se);function convert(se,{format:te,hasAlpha:ae,isString:oe}){const ce=convertMap[te]+(oe&&te!=="hex"?"String":""),ue=se[ce]();return typeof ue=="object"&&!ae?omit(ue,["a"]):ue}const sanitize$2=(se,te)=>{const ae=w(se);if(!ae.isValid())throw Error("Invalid color");return convert(ae,te)},format$1=(se,te)=>convert(w(se),_objectSpread2(_objectSpread2({},te),{},{isString:!0,format:"hex"})),normalize$3=({value:se})=>{const te=I$2(se),ae=te==="name"?"hex":te,oe=typeof se=="object"?"a"in se:te==="hex"&&se.length===8||/^(rgba)|(hsla)|(hsva)/.test(se),ce={format:ae,hasAlpha:oe,isString:typeof se=="string"};return{value:sanitize$2(se,ce),settings:ce}};var props$2=Object.freeze({__proto__:null,schema:schema$2,sanitize:sanitize$2,format:format$1,normalize:normalize$3});const ColorPreview=styled("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),PickerContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),PickerWrapper=styled("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function convertToRgb(se,te){return te!=="rgb"?w(se).toRgb():se}function Color({value:se,displayValue:te,settings:ae,onUpdate:oe}){const{emitOnEditStart:ce,emitOnEditEnd:ue}=useInputContext(),{format:fe,hasAlpha:de}=ae,{popinRef:pe,wrapperRef:me,shown:_e,show:be,hide:Ee}=usePopin(),Ae=reactExports.useRef(0),[Re,Be]=reactExports.useState(()=>convertToRgb(se,fe)),De=de?Ce:Ne,Oe=()=>{Be(convertToRgb(se,fe)),be(),ce()},Pe=()=>{Ee(),ue(),window.clearTimeout(Ae.current)},Ie=()=>{Ae.current=window.setTimeout(Pe,500)};return reactExports.useEffect(()=>()=>window.clearTimeout(Ae.current),[]),React.createElement(React.Fragment,null,React.createElement(ColorPreview,{ref:pe,active:_e,onClick:()=>Oe(),style:{color:te}}),_e&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:Pe}),React.createElement(PickerWrapper,{ref:me,onMouseEnter:()=>window.clearTimeout(Ae.current),onMouseLeave:Fe=>Fe.buttons===0&&Ie()},React.createElement(De,{color:Re,onChange:oe}))))}function ColorComponent(){const{value:se,displayValue:te,label:ae,onChange:oe,onUpdate:ce,settings:ue}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,ae),React.createElement(PickerContainer,null,React.createElement(Color,{value:se,displayValue:te,onChange:oe,onUpdate:ce,settings:ue}),React.createElement(ValueInput,{value:te,onChange:oe,onUpdate:ce})))}var color=_objectSpread2({component:ColorComponent},props$2);function Vector3dComponent(){const{label:se,displayValue:te,onUpdate:ae,settings:oe}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(Vector,{value:te,settings:oe,onUpdate:ae}))}var vector3d=_objectSpread2({component:Vector3dComponent},getVectorPlugin(["x","y","z"]));const JoystickTrigger=styled("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),JoystickPlayground=styled("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Joystick({value:se,settings:te,onUpdate:ae}){const oe=reactExports.useRef(),ce=reactExports.useRef(0),ue=reactExports.useRef(0),fe=reactExports.useRef(1),[de,pe]=reactExports.useState(!1),[me,_e]=reactExports.useState(!1),[be,Ee]=useTransform(),Ae=reactExports.useRef(null),Re=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{if(de){const{top:Ze,left:nt,width:at,height:mt}=Ae.current.getBoundingClientRect();Re.current.style.left=nt+at/2+"px",Re.current.style.top=Ze+mt/2+"px"}},[de]);const{keys:[Be,De],joystick:Oe}=te,Pe=Oe==="invertY"?1:-1,{[Be]:{step:Ie},[De]:{step:Fe}}=te,$e=useTh("sizes","joystickWidth"),Ve=useTh("sizes","joystickHeight"),ke=parseFloat($e)*.8/2,We=parseFloat(Ve)*.8/2,je=reactExports.useCallback(()=>{oe.current||(_e(!0),ce.current&&Ee({x:ce.current*ke}),ue.current&&Ee({y:ue.current*-We}),oe.current=window.setInterval(()=>{ae(Ze=>{const nt=Ie*ce.current*fe.current,at=Pe*Fe*ue.current*fe.current;return Array.isArray(Ze)?{[Be]:Ze[0]+nt,[De]:Ze[1]+at}:{[Be]:Ze[Be]+nt,[De]:Ze[De]+at}})},16))},[ke,We,ae,Ee,Ie,Fe,Be,De,Pe]),He=reactExports.useCallback(()=>{window.clearTimeout(oe.current),oe.current=void 0,_e(!1)},[]);reactExports.useEffect(()=>{function Ze(nt){fe.current=multiplyStep(nt)}return window.addEventListener("keydown",Ze),window.addEventListener("keyup",Ze),()=>{window.clearTimeout(oe.current),window.removeEventListener("keydown",Ze),window.removeEventListener("keyup",Ze)}},[]);const tt=useDrag(({first:Ze,active:nt,delta:[at,mt],movement:[Ye,rt]})=>{Ze&&pe(!0);const lt=clamp$1(Ye,-ke,ke),_t=clamp$1(rt,-We,We);ce.current=Math.abs(Ye)>Math.abs(lt)?Math.sign(Ye-lt):0,ue.current=Math.abs(rt)>Math.abs(_t)?Math.sign(_t-rt):0;let Xe=se[Be],et=se[De];nt?(ce.current||(Xe+=at*Ie*fe.current,Ee({x:lt})),ue.current||(et-=Pe*mt*Fe*fe.current,Ee({y:_t})),ce.current||ue.current?je():He(),ae({[Be]:Xe,[De]:et})):(pe(!1),ce.current=0,ue.current=0,Ee({x:0,y:0}),He())});return React.createElement(JoystickTrigger,_extends({ref:Ae},tt()),de&&React.createElement(Portal,null,React.createElement(JoystickPlayground,{ref:Re,isOutOfBounds:me},React.createElement("div",null),React.createElement("span",{ref:be}))))}const Container$1=styled("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Vector2dComponent(){const{label:se,displayValue:te,onUpdate:ae,settings:oe}=useInputContext();return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(Container$1,{withJoystick:!!oe.joystick},oe.joystick&&React.createElement(Joystick,{value:te,settings:oe,onUpdate:ae}),React.createElement(Vector,{value:te,settings:oe,onUpdate:ae})))}const _excluded$7=["joystick"],plugin=getVectorPlugin(["x","y"]),normalize$2=se=>{let{joystick:te=!0}=se,ae=_objectWithoutProperties$1(se,_excluded$7);const{value:oe,settings:ce}=plugin.normalize(ae);return{value:oe,settings:_objectSpread2(_objectSpread2({},ce),{},{joystick:te})}};var vector2d=_objectSpread2(_objectSpread2({component:Vector2dComponent},plugin),{},{normalize:normalize$2});const sanitize$1=se=>{if(se!==void 0){if(se instanceof File)try{return URL.createObjectURL(se)}catch{return}if(typeof se=="string"&&se.indexOf("blob:")===0)return se;throw Error("Invalid image format [undefined | blob | File].")}},schema$1=(se,te)=>typeof te=="object"&&"image"in te,normalize$1=({image:se})=>({value:se});var props$1=Object.freeze({__proto__:null,sanitize:sanitize$1,schema:schema$1,normalize:normalize$1});const ImageContainer=styled("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),DropZone=styled("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),ImagePreview=styled("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ImageLargePreview=styled("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Instructions=styled("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Remove=styled("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function ImageComponent(){const{label:se,value:te,onUpdate:ae,disabled:oe}=useInputContext(),{popinRef:ce,wrapperRef:ue,shown:fe,show:de,hide:pe}=usePopin(),me=reactExports.useCallback(Re=>{Re.length&&ae(Re[0])},[ae]),_e=reactExports.useCallback(Re=>{Re.stopPropagation(),ae(void 0)},[ae]),{getRootProps:be,getInputProps:Ee,isDragAccept:Ae}=useDropzone({maxFiles:1,accept:"image/*",onDrop:me,disabled:oe});return React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(ImageContainer,null,React.createElement(ImagePreview,{ref:ce,hasImage:!!te,onPointerDown:()=>!!te&&de(),onPointerUp:pe,style:{backgroundImage:te?`url(${te})`:"none"}}),fe&&!!te&&React.createElement(Portal,null,React.createElement(Overlay,{onPointerUp:pe,style:{cursor:"pointer"}}),React.createElement(ImageLargePreview,{ref:ue,style:{backgroundImage:`url(${te})`}})),React.createElement(DropZone,be({isDragAccept:Ae}),React.createElement("input",Ee()),React.createElement(Instructions,null,Ae?"drop image":"click or drop")),React.createElement(Remove,{onClick:_e,disabled:!te})))}var image=_objectSpread2({component:ImageComponent},props$1);const number=v8n().number(),schema=(se,te)=>v8n().array().length(2).every.number().test(se)&&v8n().schema({min:number,max:number}).test(te),format=se=>({min:se[0],max:se[1]}),sanitize=(se,{bounds:[te,ae]},oe)=>{const ce=Array.isArray(se)?format(se):se,ue={min:oe[0],max:oe[1]},{min:fe,max:de}=_objectSpread2(_objectSpread2({},ue),ce);return[clamp$1(Number(fe),te,Math.max(te,de)),clamp$1(Number(de),Math.min(ae,fe),ae)]},normalize$4=({value:se,min:te,max:ae})=>{const oe={min:te,max:ae},ce=normalizeKeyedNumberSettings(format(se),{min:oe,max:oe}),ue=[te,ae],fe=_objectSpread2(_objectSpread2({},ce),{},{bounds:ue});return{value:sanitize(format(se),fe,se),settings:fe}};var props=Object.freeze({__proto__:null,schema,format,sanitize,normalize:normalize$4});const _excluded$6=["value","bounds","onDrag"],_excluded2$1=["bounds"],Container=styled("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function IntervalSlider(se){let{value:te,bounds:[ae,oe],onDrag:ce}=se,ue=_objectWithoutProperties$1(se,_excluded$6);const fe=reactExports.useRef(null),de=reactExports.useRef(null),pe=reactExports.useRef(null),me=reactExports.useRef(0),_e=useTh("sizes","scrubberWidth"),be=useDrag(({event:Re,first:Be,xy:[De],movement:[Oe],memo:Pe={}})=>{if(Be){const{width:Fe,left:$e}=fe.current.getBoundingClientRect();me.current=Fe-parseFloat(_e);const Ve=(Re==null?void 0:Re.target)===de.current||(Re==null?void 0:Re.target)===pe.current;Pe.pos=invertedRange((De-$e)/Fe,ae,oe);const ke=Math.abs(Pe.pos-te.min)-Math.abs(Pe.pos-te.max);Pe.key=ke<0||ke===0&&Pe.pos<=te.min?"min":"max",Ve&&(Pe.pos=te[Pe.key])}const Ie=Pe.pos+invertedRange(Oe/me.current,0,oe-ae);return ce({[Pe.key]:sanitizeStep(Ie,ue[Pe.key])}),Pe}),Ee=`calc(${range(te.min,ae,oe)} * (100% - ${_e} - 8px) + 4px)`,Ae=`calc(${1-range(te.max,ae,oe)} * (100% - ${_e} - 8px) + 4px)`;return React.createElement(RangeWrapper,_extends({ref:fe},be()),React.createElement(Range,null,React.createElement(Indicator,{style:{left:Ee,right:Ae}})),React.createElement(Scrubber,{position:"left",ref:de,style:{left:Ee}}),React.createElement(Scrubber,{position:"right",ref:pe,style:{right:Ae}}))}function IntervalComponent(){const{label:se,displayValue:te,onUpdate:ae,settings:oe}=useInputContext(),ce=_objectWithoutProperties$1(oe,_excluded2$1);return React.createElement(React.Fragment,null,React.createElement(Row,{input:!0},React.createElement(Label,null,se),React.createElement(Container,null,React.createElement(IntervalSlider,_extends({value:te},oe,{onDrag:ae})),React.createElement(Vector,{value:te,settings:ce,onUpdate:ae,innerLabelTrim:0}))))}var interval=_objectSpread2({component:IntervalComponent},props);const createEventEmitter=()=>{const se=new Map;return{on:(te,ae)=>{let oe=se.get(te);oe===void 0&&(oe=new Set,se.set(te,oe)),oe.add(ae)},off:(te,ae)=>{const oe=se.get(te);oe!==void 0&&(oe.delete(ae),oe.size===0&&se.delete(te))},emit:(te,...ae)=>{const oe=se.get(te);if(oe!==void 0)for(const ce of oe)ce(...ae)}}},_excluded$5=["type","value"],_excluded2=["onChange","transient","onEditStart","onEditEnd"],Store=function se(){const te=create(subscribeWithSelector(()=>({data:{}}))),ae=createEventEmitter();this.storeId=getUid(),this.useStore=te;const oe={},ce=new Set;this.getVisiblePaths=()=>{const fe=this.getData(),de=Object.keys(fe),pe=[];Object.entries(oe).forEach(([_e,be])=>{be.render&&de.some(Ee=>Ee.indexOf(_e)===0)&&!be.render(this.get)&&pe.push(_e+".")});const me=[];return ce.forEach(_e=>{_e in fe&&fe[_e].__refCount>0&&pe.every(be=>_e.indexOf(be)===-1)&&(!fe[_e].render||fe[_e].render(this.get))&&me.push(_e)}),me},this.setOrderedPaths=fe=>{fe.forEach(de=>ce.add(de))},this.orderPaths=fe=>(this.setOrderedPaths(fe),fe),this.disposePaths=fe=>{te.setState(de=>{const pe=de.data;return fe.forEach(me=>{if(me in pe){const _e=pe[me];_e.__refCount--,_e.__refCount===0&&_e.type in SpecialInputs&&delete pe[me]}}),{data:pe}})},this.dispose=()=>{te.setState(()=>({data:{}}))},this.getFolderSettings=fe=>oe[fe]||{},this.getData=()=>te.getState().data,this.addData=(fe,de)=>{te.setState(pe=>{const me=pe.data;return Object.entries(fe).forEach(([_e,be])=>{let Ee=me[_e];if(Ee){const{type:Ae,value:Re}=be,Be=_objectWithoutProperties$1(be,_excluded$5);Ae!==Ee.type?warn(LevaErrors.INPUT_TYPE_OVERRIDE,Ae):((Ee.__refCount===0||de)&&Object.assign(Ee,Be),Ee.__refCount++)}else me[_e]=_objectSpread2(_objectSpread2({},be),{},{__refCount:1})}),{data:me}})},this.setValueAtPath=(fe,de,pe)=>{te.setState(me=>{const _e=me.data;return updateInput(_e[fe],de,fe,this,pe),{data:_e}})},this.setSettingsAtPath=(fe,de)=>{te.setState(pe=>{const me=pe.data;return me[fe].settings=_objectSpread2(_objectSpread2({},me[fe].settings),de),{data:me}})},this.disableInputAtPath=(fe,de)=>{te.setState(pe=>{const me=pe.data;return me[fe].disabled=de,{data:me}})},this.set=(fe,de)=>{te.setState(pe=>{const me=pe.data;return Object.entries(fe).forEach(([_e,be])=>{try{updateInput(me[_e],be,void 0,void 0,de)}catch{}}),{data:me}})},this.getInput=fe=>{try{return this.getData()[fe]}catch{warn(LevaErrors.PATH_DOESNT_EXIST,fe)}},this.get=fe=>{var de;return(de=this.getInput(fe))===null||de===void 0?void 0:de.value},this.emitOnEditStart=fe=>{ae.emit(`onEditStart:${fe}`,this.get(fe),fe,_objectSpread2(_objectSpread2({},this.getInput(fe)),{},{get:this.get}))},this.emitOnEditEnd=fe=>{ae.emit(`onEditEnd:${fe}`,this.get(fe),fe,_objectSpread2(_objectSpread2({},this.getInput(fe)),{},{get:this.get}))},this.subscribeToEditStart=(fe,de)=>{const pe=`onEditStart:${fe}`;return ae.on(pe,de),()=>ae.off(pe,de)},this.subscribeToEditEnd=(fe,de)=>{const pe=`onEditEnd:${fe}`;return ae.on(pe,de),()=>ae.off(pe,de)};const ue=(fe,de,pe)=>{const me={};return Object.entries(fe).forEach(([_e,be])=>{if(_e==="")return warn(LevaErrors.EMPTY_KEY);let Ee=join(de,_e);if(be.type===SpecialInputs.FOLDER){const Ae=ue(be.schema,Ee,pe);Object.assign(me,Ae),Ee in oe||(oe[Ee]=be.settings)}else if(_e in pe)warn(LevaErrors.DUPLICATE_KEYS,_e,Ee,pe[_e].path);else{const Ae=normalizeInput(be,_e,Ee,me);if(Ae){const{type:Re,options:Be,input:De}=Ae,{onChange:Oe,transient:Pe,onEditStart:Ie,onEditEnd:Fe}=Be,$e=_objectWithoutProperties$1(Be,_excluded2);me[Ee]=_objectSpread2(_objectSpread2(_objectSpread2({type:Re},$e),De),{},{fromPanel:!0}),pe[_e]={path:Ee,onChange:Oe,transient:Pe,onEditStart:Ie,onEditEnd:Fe}}else warn(LevaErrors.UNKNOWN_INPUT,Ee,be)}}),me};this.getDataFromSchema=fe=>{const de={};return[ue(fe,"",de),de]}};new Store;const isInput=se=>"__levaInput"in se,buildTree=(se,te)=>{const ae={},oe=te?te.toLowerCase():null;return se.forEach(ce=>{const[ue,fe]=getKeyPath(ce);(!oe||ue.toLowerCase().indexOf(oe)>-1)&&merge(ae,fe,{[ue]:{__levaInput:!0,path:ce}})}),ae},_excluded$4=["type","label","path","valueKey","value","settings","setValue","disabled"];function ControlInput(se){let{type:te,label:ae,path:oe,valueKey:ce,value:ue,settings:fe,setValue:de,disabled:pe}=se,me=_objectWithoutProperties$1(se,_excluded$4);const{displayValue:_e,onChange:be,onUpdate:Ee}=useInputSetters({type:te,value:ue,settings:fe,setValue:de}),Ae=Plugins[te].component;return Ae?React.createElement(InputContext.Provider,{value:_objectSpread2({key:ce,path:oe,id:""+oe,label:ae,displayValue:_e,value:ue,onChange:be,onUpdate:Ee,settings:fe,setValue:de,disabled:pe},me)},React.createElement(StyledInputWrapper$1,{disabled:pe},React.createElement(Ae,null))):(warn(LevaErrors.NO_COMPONENT_FOR_TYPE,te,oe),null)}const StyledButton=styled("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Button({onClick:se,settings:te,label:ae}){const oe=useStoreContext();return React.createElement(Row,null,React.createElement(StyledButton,{disabled:te.disabled,onClick:()=>se(oe.get)},ae))}const StyledButtonGroup=styled("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),StyledButtonGroupButton=styled("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),getOpts=({label:se,opts:te})=>{let ae=typeof se=="string"&&se.trim()===""?null:se,oe=te;return typeof te.opts=="object"&&(oe.label!==void 0&&(ae=te.label),oe=te.opts),{label:ae,opts:oe}};function ButtonGroup(se){const{label:te,opts:ae}=getOpts(se),oe=useStoreContext();return React.createElement(Row,{input:!!te},te&&React.createElement(Label,null,te),React.createElement(StyledButtonGroup,null,Object.entries(ae).map(([ce,ue])=>React.createElement(StyledButtonGroupButton,{key:ce,onClick:()=>ue(oe.get)},ce))))}const Canvas=styled("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),POINTS=100;function push(se,te){se.push(te),se.length>POINTS&&se.shift()}const MonitorCanvas=reactExports.forwardRef(function({initialValue:se},te){const ae=useTh("colors","highlight3"),oe=useTh("colors","elevation2"),ce=useTh("colors","highlight1"),[ue,fe]=reactExports.useMemo(()=>[w(ce).alpha(.4).toRgbString(),w(ce).alpha(.1).toRgbString()],[ce]),de=reactExports.useRef([se]),pe=reactExports.useRef(se),me=reactExports.useRef(se),_e=reactExports.useRef(),be=reactExports.useCallback((Re,Be)=>{if(!Re)return;const{width:De,height:Oe}=Re,Pe=new Path2D,Ie=De/POINTS,Fe=Oe*.05;for(let ke=0;ke<de.current.length;ke++){const We=range(de.current[ke],pe.current,me.current),je=Ie*ke,He=Oe-We*(Oe-Fe*2)-Fe;Pe.lineTo(je,He)}Be.clearRect(0,0,De,Oe);const $e=new Path2D(Pe);$e.lineTo(Ie*(de.current.length+1),Oe),$e.lineTo(0,Oe),$e.lineTo(0,0);const Ve=Be.createLinearGradient(0,0,0,Oe);Ve.addColorStop(0,ue),Ve.addColorStop(1,fe),Be.fillStyle=Ve,Be.fill($e),Be.strokeStyle=oe,Be.lineJoin="round",Be.lineWidth=14,Be.stroke(Pe),Be.strokeStyle=ae,Be.lineWidth=2,Be.stroke(Pe)},[ae,oe,ue,fe]),[Ee,Ae]=useCanvas2d(be);return reactExports.useImperativeHandle(te,()=>({frame:Re=>{(pe.current===void 0||Re<pe.current)&&(pe.current=Re),(me.current===void 0||Re>me.current)&&(me.current=Re),push(de.current,Re),_e.current=requestAnimationFrame(()=>be(Ee.current,Ae.current))}}),[Ee,Ae,be]),reactExports.useEffect(()=>()=>cancelAnimationFrame(_e.current),[]),React.createElement(Canvas,{ref:Ee})}),parse=se=>Number.isFinite(se)?se.toPrecision(2):se.toString(),MonitorLog=reactExports.forwardRef(function({initialValue:se},te){const[ae,oe]=reactExports.useState(parse(se));return reactExports.useImperativeHandle(te,()=>({frame:ce=>oe(parse(ce))}),[]),React.createElement("div",null,ae)});function getValue(se){return typeof se=="function"?se():se.current}function Monitor({label:se,objectOrFn:te,settings:ae}){const oe=reactExports.useRef(),ce=reactExports.useRef(getValue(te));return reactExports.useEffect(()=>{const ue=window.setInterval(()=>{var fe;document.hidden||(fe=oe.current)===null||fe===void 0||fe.frame(getValue(te))},ae.interval);return()=>window.clearInterval(ue)},[te,ae.interval]),React.createElement(Row,{input:!0},React.createElement(Label,{align:"top"},se),ae.graph?React.createElement(MonitorCanvas,{ref:oe,initialValue:ce.current}):React.createElement(MonitorLog,{ref:oe,initialValue:ce.current}))}const _excluded$3=["type","label","key"],specialComponents={[SpecialInputs.BUTTON]:Button,[SpecialInputs.BUTTON_GROUP]:ButtonGroup,[SpecialInputs.MONITOR]:Monitor},Control=React.memo(({path:se})=>{const[te,{set:ae,setSettings:oe,disable:ce,storeId:ue,emitOnEditStart:fe,emitOnEditEnd:de}]=useInput(se);if(!te)return null;const{type:pe,label:me,key:_e}=te,be=_objectWithoutProperties$1(te,_excluded$3);if(pe in SpecialInputs){const Ee=specialComponents[pe];return React.createElement(Ee,_extends({label:me,path:se},be))}return pe in Plugins?React.createElement(ControlInput,_extends({key:ue+se,type:pe,label:me,storeId:ue,path:se,valueKey:_e,setValue:ae,setSettings:oe,disable:ce,emitOnEditStart:fe,emitOnEditEnd:de},be)):(log(LevaErrors.UNSUPPORTED_INPUT,pe,se),null)});function FolderTitle({toggle:se,toggled:te,name:ae}){return React.createElement(StyledTitle,{onClick:()=>se()},React.createElement(Chevron,{toggled:te}),React.createElement("div",null,ae))}const Folder=({name:se,path:te,tree:ae})=>{const oe=useStoreContext(),ce=join(te,se),{collapsed:ue,color:fe}=oe.getFolderSettings(ce),[de,pe]=reactExports.useState(!ue),me=reactExports.useRef(null),_e=useTh("colors","folderWidgetColor"),be=useTh("colors","folderTextColor");return reactExports.useLayoutEffect(()=>{me.current.style.setProperty("--leva-colors-folderWidgetColor",fe||_e),me.current.style.setProperty("--leva-colors-folderTextColor",fe||be)},[fe,_e,be]),React.createElement(StyledFolder,{ref:me},React.createElement(FolderTitle,{name:se,toggled:de,toggle:()=>pe(Ee=>!Ee)}),React.createElement(TreeWrapper,{parent:ce,tree:ae,toggled:de}))},TreeWrapper=React.memo(({isRoot:se=!1,fill:te=!1,flat:ae=!1,parent:oe,tree:ce,toggled:ue})=>{const{wrapperRef:fe,contentRef:de}=useToggle(ue),pe=useStoreContext(),me=([be,Ee])=>{var Ae;return(isInput(Ee)?(Ae=pe.getInput(Ee.path))===null||Ae===void 0?void 0:Ae.order:pe.getFolderSettings(join(oe,be)).order)||0},_e=Object.entries(ce).sort((be,Ee)=>me(be)-me(Ee));return React.createElement(StyledWrapper,{ref:fe,isRoot:se,fill:te,flat:ae},React.createElement(StyledContent,{ref:de,isRoot:se,toggled:ue},_e.map(([be,Ee])=>isInput(Ee)?React.createElement(Control,{key:Ee.path,valueKey:Ee.valueKey,path:Ee.path}):React.createElement(Folder,{key:be,name:be,path:oe,tree:Ee}))))}),StyledRoot=styled("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${StyledInputRow}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),iconWidth=40,Icon=styled("i",{$flexCenter:"",width:iconWidth,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),StyledTitleWithFilter=styled("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),FilterWrapper=styled("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${Icon}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),StyledFilterInput=styled("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),TitleContainer=styled("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:iconWidth}}}}),FilterInput=React.forwardRef(({setFilter:se,toggle:te},ae)=>{const[oe,ce]=reactExports.useState(""),ue=reactExports.useMemo(()=>debounce(se,250),[se]),fe=()=>{se(""),ce("")},de=pe=>{const me=pe.currentTarget.value;te(!0),ce(me)};return reactExports.useEffect(()=>{ue(oe)},[oe,ue]),React.createElement(React.Fragment,null,React.createElement(StyledFilterInput,{ref:ae,value:oe,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:pe=>pe.stopPropagation(),onChange:de}),React.createElement(Icon,{onClick:()=>fe(),style:{visibility:oe?"visible":"hidden"}},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function TitleWithFilter({setFilter:se,onDrag:te,onDragStart:ae,onDragEnd:oe,toggle:ce,toggled:ue,title:fe,drag:de,filterEnabled:pe,from:me}){const[_e,be]=reactExports.useState(!1),Ee=reactExports.useRef(null);reactExports.useEffect(()=>{var Re,Be;_e?(Re=Ee.current)===null||Re===void 0||Re.focus():(Be=Ee.current)===null||Be===void 0||Be.blur()},[_e]);const Ae=useDrag(({offset:[Re,Be],first:De,last:Oe})=>{te({x:Re,y:Be}),De&&ae({x:Re,y:Be}),Oe&&oe({x:Re,y:Be})},{filterTaps:!0,from:({offset:[Re,Be]})=>[(me==null?void 0:me.x)||Re,(me==null?void 0:me.y)||Be]});return reactExports.useEffect(()=>{const Re=Be=>{Be.key==="L"&&Be.shiftKey&&Be.metaKey&&be(De=>!De)};return window.addEventListener("keydown",Re),()=>window.removeEventListener("keydown",Re)},[]),React.createElement(React.Fragment,null,React.createElement(StyledTitleWithFilter,{mode:de?"drag":void 0},React.createElement(Icon,{active:!ue,onClick:()=>ce()},React.createElement(Chevron,{toggled:ue,width:12,height:8})),React.createElement(TitleContainer,_extends({},de?Ae():{},{drag:de,filterEnabled:pe}),fe===void 0&&de?React.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},React.createElement("circle",{cx:"2",cy:"2",r:"2"}),React.createElement("circle",{cx:"14",cy:"2",r:"2"}),React.createElement("circle",{cx:"26",cy:"2",r:"2"}),React.createElement("circle",{cx:"2",cy:"12",r:"2"}),React.createElement("circle",{cx:"14",cy:"12",r:"2"}),React.createElement("circle",{cx:"26",cy:"12",r:"2"})):fe),pe&&React.createElement(Icon,{active:_e,onClick:()=>be(Re=>!Re)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},React.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),React.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),React.createElement(FilterWrapper,{toggled:_e},React.createElement(FilterInput,{ref:Ee,setFilter:se,toggle:ce})))}React.memo(({store:se,rootClass:te,fill:ae=!1,flat:oe=!1,neverHide:ce=!1,oneLineLabels:ue=!1,titleBar:fe={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:de=!1,toggled:pe,setToggle:me})=>{var _e,be;const Ee=useVisiblePaths(se),[Ae,Re]=reactExports.useState(""),Be=reactExports.useMemo(()=>buildTree(Ee,Ae),[Ee,Ae]),[De,Oe]=useTransform(),Pe=ce||Ee.length>0,Ie=typeof fe=="object"&&fe.title||void 0,Fe=typeof fe=="object"&&(_e=fe.drag)!==null&&_e!==void 0?_e:!0,$e=typeof fe=="object"&&(be=fe.filter)!==null&&be!==void 0?be:!0,Ve=typeof fe=="object"&&fe.position||void 0,ke=typeof fe=="object"&&fe.onDrag||void 0,We=typeof fe=="object"&&fe.onDragStart||void 0,je=typeof fe=="object"&&fe.onDragEnd||void 0;return React.useEffect(()=>{Oe({x:Ve==null?void 0:Ve.x,y:Ve==null?void 0:Ve.y})},[Ve,Oe]),globalStyles(),React.createElement(PanelSettingsContext.Provider,{value:{hideCopyButton:de}},React.createElement(StyledRoot,{ref:De,className:te,fill:ae,flat:oe,oneLineLabels:ue,hideTitleBar:!fe,style:{display:Pe?"block":"none"}},fe&&React.createElement(TitleWithFilter,{onDrag:He=>{Oe(He),ke==null||ke(He)},onDragStart:He=>We==null?void 0:We(He),onDragEnd:He=>je==null?void 0:je(He),setFilter:Re,toggle:He=>me(tt=>He??!tt),toggled:pe,title:Ie,drag:Fe,filterEnabled:$e,from:Ve}),Pe&&React.createElement(StoreContext.Provider,{value:se},React.createElement(TreeWrapper,{isRoot:!0,fill:ae,flat:oe,tree:Be,toggled:pe}))))});register(LevaInputs.SELECT,select);register(LevaInputs.IMAGE,image);register(LevaInputs.NUMBER,number$1);register(LevaInputs.COLOR,color);register(LevaInputs.STRING,string);register(LevaInputs.BOOLEAN,boolean);register(LevaInputs.INTERVAL,interval);register(LevaInputs.VECTOR3D,vector3d);register(LevaInputs.VECTOR2D,vector2d);useGLTF.preload("/models/projects_text_plane-transformed.glb");function playAnimationTransition(se,te,ae={},oe=null){const{crossFadeTime:ce=.5,fadeInDuration:ue=.2}=ae;if(!te){console.error("Target animation is undefined");return}if(!oe){const de=getActiveAnimations(se);oe=de.length>0?de[0].action:null}if(!oe){console.log(`No source animation detected, playing ${te.getClip().name} directly`),stopAllAnimations(se,[te]),te.reset(),te.fadeIn(ue),te.play();return}console.log(`Transitioning from ${oe.getClip().name} to ${te.getClip().name}`),stopAllAnimations(se,[oe,te]),oe.reset(),oe.setLoop(LoopOnce,1),oe.clampWhenFinished=!0,oe.fadeIn(ue),oe.play(),oe.getMixer().addEventListener("finished",fe);function fe(){te&&(te.reset(),oe.crossFadeTo(te,ce,!0),te.fadeIn(ce),te.play()),oe.getMixer().removeEventListener("finished",fe)}}function stopAllAnimations(se,te=[],ae=!0){Object.values(se).forEach(oe=>{oe&&!te.includes(oe)&&(ae?(oe.stop(),oe.reset(),oe.weight=0):oe.fadeOut(.2))})}function resetAnimationState(se){se&&Object.values(se).forEach(te=>{te&&(te.stop(),te.reset(),te.weight=0,te.enabled=!1)})}function getCurrentAnimations(se){return getActiveAnimations(se,!0)}function getActiveAnimations(se,te=!1){return se?Object.entries(se).filter(([oe,ce])=>{const ue=ce&&ce.weight>0&&ce.enabled;return te?ue&&ce.isRunning&&!ce.paused&&ce.timeScale!==0:ue}).map(([oe,ce])=>({name:oe,action:ce,weight:ce.weight,timeScale:ce.timeScale,time:ce.time,progress:ce.getClip()?ce.time/ce.getClip().duration:0,isEffectivelyPlaying:ce.isRunning&&!ce.paused&&ce.timeScale!==0&&ce.weight>0})).sort((oe,ce)=>ce.weight-oe.weight):[]}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(se,te,ae)=>te in se?__defProp(se,te,{enumerable:!0,configurable:!0,writable:!0,value:ae}):se[te]=ae,__spreadValues=(se,te)=>{for(var ae in te||(te={}))__hasOwnProp.call(te,ae)&&__defNormalProp(se,ae,te[ae]);if(__getOwnPropSymbols)for(var ae of __getOwnPropSymbols(te))__propIsEnum.call(te,ae)&&__defNormalProp(se,ae,te[ae]);return se},__spreadProps=(se,te)=>__defProps(se,__getOwnPropDescs(te)),__publicField=(se,te,ae)=>(__defNormalProp(se,typeof te!="symbol"?te+"":te,ae),ae),C=Object.defineProperty,K=(se,te,ae)=>te in se?C(se,te,{enumerable:!0,configurable:!0,writable:!0,value:ae}):se[te]=ae,x=(se,te,ae)=>(K(se,typeof te!="symbol"?te+"":te,ae),ae);const k=(se,te={})=>{U("event",se,te)},W=(se,te={})=>{if(typeof window>"u")return;const ae="ga-gtag";if(document.getElementById(ae)){console.error("Already has a gtag script.");return}const{head:oe}=document,ce=document.createElement("script");ce.id=ae,ce.type="text/javascript",ce.async=!0,ce.src=`https://www.googletagmanager.com/gtag/js?id=${se}`,oe.insertBefore(ce,oe.firstChild),window.dataLayer=window.dataLayer||[],U("js",new Date),U("config",se,te)},U=function(...se){window.dataLayer.push(arguments)},R=new TextureLoader,f={},_={state:0,stateFrame:0,button:0,viewportState:0,viewportStateFrame:0,x:0,y:0};class X extends DataTexture{constructor(){const te=new Uint8Array(1024);for(let ae=0;ae<4*256;ae++)te[ae]=0;super(te,256,1,RGBAFormat),x(this,"data"),x(this,"_size"),this.data=te,this.flipY=!0,this._size=256}setKeyDown(te){const ae=te*4;this.data[ae+0]!==255&&(this.data[ae+0]=255,this.data[ae+1]=255,this.data[ae+2]=255-this.data[ae+2],this.needsUpdate=!0)}setKeyUp(te){const ae=te*4;this.data[ae+0]=0,this.data[ae+1]=0,this.needsUpdate=!0}clear(){for(let te=0;te<4*this._size;te++)this.data[te]=0;this.needsUpdate=!0}clearFrame(){for(let te=0;te<this._size;te++){const ae=te*4;this.data[ae+1]=0}this.needsUpdate=!0}}class Q{constructor(te){x(this,"renderer"),x(this,"_keyboardTexture",new X),x(this,"_onPointerMoveBind"),x(this,"_onPointerDownBind"),x(this,"_onPointerUpBind"),x(this,"_onPointerEnterBind"),x(this,"_onPointerLeaveBind"),x(this,"_onKeyDownBind"),x(this,"_onKeyUpBind"),this.renderer=te,this.renderer._pointerPosition={x:0,y:0},this.renderer._pointerData=_,this.renderer._keyboardTexture=this._keyboardTexture;const ae=te.domElement;if(!ae){console.warn("[NodeToy] Unable to bind dom events, domElement is null. Some nodes will not work.");return}this._onPointerMoveBind=this.onPointerMove.bind(this),this._onPointerDownBind=this.onPointerDown.bind(this),this._onPointerUpBind=this.onPointerUp.bind(this),this._onPointerEnterBind=this.onPointerEnter.bind(this),this._onPointerLeaveBind=this.onPointerLeave.bind(this),this._onKeyDownBind=this.onKeyDown.bind(this),this._onKeyUpBind=this.onKeyUp.bind(this),ae.addEventListener("pointermove",this._onPointerMoveBind),ae.addEventListener("pointerdown",this._onPointerDownBind),ae.addEventListener("pointerup",this._onPointerUpBind),ae.addEventListener("pointerenter",this._onPointerEnterBind),ae.addEventListener("pointerleave",this._onPointerLeaveBind),window.addEventListener("keydown",this._onKeyDownBind),window.addEventListener("keyup",this._onKeyUpBind)}dispose(){if(!this.renderer)return;const te=this.renderer.domElement;!te||(te.removeEventListener("pointermove",this._onPointerMoveBind),te.removeEventListener("pointerdown",this._onPointerDownBind),te.removeEventListener("pointerup",this._onPointerUpBind),te.removeEventListener("pointerenter",this._onPointerEnterBind),te.removeEventListener("pointerleave",this._onPointerLeaveBind),window.removeEventListener("keydown",this._onKeyDownBind),window.removeEventListener("keyup",this._onKeyUpBind))}onPointerMove(te){!this.renderer||(this.renderer._pointerPosition={x:Math.floor(te.offsetX),y:Math.floor(te.offsetY)})}onPointerDown(te){!this.renderer||(this.renderer._pointerData=__spreadProps(__spreadValues({},this.renderer._pointerData),{state:1,stateFrame:1,button:te.button,x:Math.floor(te.offsetX),y:Math.floor(te.offsetY)}))}onPointerUp(te){!this.renderer||(this.renderer._pointerData=__spreadProps(__spreadValues({},this.renderer._pointerData),{state:2,stateFrame:2,button:te.button,x:Math.floor(te.offsetX),y:Math.floor(te.offsetY)}))}onPointerEnter(te){!this.renderer||(this.renderer._pointerData=__spreadProps(__spreadValues({},this.renderer._pointerData),{viewportState:1,viewportStateFrame:1,x:Math.floor(te.offsetX),y:Math.floor(te.offsetY)}))}onPointerLeave(te){!this.renderer||(this.renderer._pointerData=__spreadProps(__spreadValues({},this.renderer._pointerData),{viewportState:2,viewportStateFrame:2,x:Math.floor(te.offsetX),y:Math.floor(te.offsetY)}))}onKeyDown(te){!this.renderer||this._keyboardTexture.setKeyDown(te.keyCode)}onKeyUp(te){!this.renderer||this._keyboardTexture.setKeyUp(te.keyCode)}}const Z=se=>se.includes(".json")?se:`${se}${se[se.length-1]!="/"?"/":""}material.glsl.json`,Y=(se,te)=>{if(!se||!te.includes("asset:"))return te;const ae=se[se.length-1];return`${se}${ae!=="/"?"/":""}assets/${te.replace("asset:","")}`},m=(se,te,ae,oe={})=>{const ce=te;for(let ue=0;ue<ae.length;ue++){const fe=ae[ue],de=fe.name in oe?oe[fe.name]:fe.value;ce[fe.name]={value:$(se,fe.type,de),type:fe.type}}return ce},$=(se,te,ae)=>{switch(te){case"int":case"float":return ae;case"vec2":return ae!=null?new Vector2(ae.x,ae.y):new Vector2(0,0);case"vec3":return ae!=null?new Vector3(ae.x,ae.y,ae.z):new Vector3(0,0,0);case"vec4":return ae!=null?new Vector4(ae.x,ae.y,ae.z,ae.w):new Vector4(0,0,0);case"mat3":return ae||new Matrix3;case"mat4":return ae||new Matrix4;case"texture":{if(ae in f)return f[ae];const oe=R.load(Y(se,ae));return oe.wrapS=oe.wrapT=RepeatWrapping,f[ae]=oe,oe}}return"undefined"},ee=()=>{W("G-D7559MFFX3")},ne=(se,te)=>{for(let ae=0;ae<se.scene.children.length;ae++)if(se.scene.children[ae].isDirectionalLight){se.light=se.scene.children[ae];break}if("_sinTime"in te){const ae=Math.sin(se.time);te._sinTime.value.set(ae/8,ae/4,ae/2,ae)}if("_cosTime"in te){const ae=Math.cos(se.time);te._cosTime.value.set(ae/8,ae/4,ae/2,ae)}if("_objectScale"in te){const ae=se.object;te._objectScale.value=ae.scale}if("_time"in te&&(te._time.value=se.time),"_deltaTime"in te&&te._deltaTime.value.set(se.deltaTime,1/se.deltaTime,0,0),"_objectSpaceViewDir"in te){const ae=se.object,oe=se.camera,ce=new Vector4(oe.position.x,oe.position.y,oe.position.z),ue=ae.matrixWorld.clone().invert().elements,fe=ue[0]*ce.x+ue[4]*ce.y+ue[8]*ce.z+ue[12]*ce.w,de=ue[1]*ce.x+ue[5]*ce.y+ue[9]*ce.z+ue[13]*ce.w,pe=ue[2]*ce.x+ue[6]*ce.y+ue[10]*ce.z+ue[14]*ce.w,me=ue[3]*ce.x+ue[7]*ce.y+ue[11]*ce.z+ue[15]*ce.w,_e=new Vector4(fe,de,pe,me);te._objectSpaceViewDir.value=_e}if("_cameraPosition"in te){const ae=se.camera;te._cameraPosition.value=ae.position.clone()}if("_worldSpaceCameraPosition"in te&&(se.camera.getWorldDirection(T),te._worldSpaceCameraPosition.value=T),"_worldSpaceLightPosition"in te&&(se.light.getWorldDirection(V),te._worldSpaceLightPosition.value=V),"_worldToObject"in te){const ae=se.object;te._worldToObject.value=ae.matrixWorld.clone().invert()}if("_worldToObjMatrix"in te&&(te._worldToObjMatrix.value=se.object.matrixWorld.clone().invert()),"_worldToCameraMatrix"in te){const ae=se.camera;te._worldToCameraMatrix.value=ae.matrixWorldInverse.clone()}if("_viewProjectionMatrix"in te){const ae=se.camera,oe=ae.matrixWorld.clone();te._viewProjectionMatrix.value=ae.projectionMatrix.clone().multiply(oe)}if("_viewMatrix"in te){const ae=se.camera;te._viewMatrix.value=ae.matrixWorldInverse}if("_transposeModelViewMatrix"in te){const ae=se.object;te._transposeModelViewMatrix.value=ae.modelViewMatrix.clone().transpose()}if("_inverseTransposeModelViewMatrix"in te){const ae=se.object.modelViewMatrix.clone();te._inverseTransposeModelViewMatrix.value=ae.invert().transpose()}if("_projectionMatrix"in te){const ae=se.camera;te._projectionMatrix.value=ae.projectionMatrix}if("_projectionParams"in te){const ae=se.camera;te._projectionParams.value=new Vector4(1,ae.near,ae.far,1/ae.far)}if("_inverseProjectionMatrix"in te){const ae=se.camera;te._inverseProjectionMatrix.value=ae.projectionMatrixInverse}if("_objectToWorldMatrix"in te){const ae=se.object;te._objectToWorldMatrix.value=ae.matrixWorld}if("_modelViewProjectionMatrix"in te){const ae=se.object,oe=se.camera;oe.updateMatrixWorld(!0),ae.updateMatrixWorld(!0);const ce=ae.modelViewMatrix.clone();te._modelViewProjectionMatrix.value=oe.projectionMatrix.clone().multiply(ce)}if("_modelViewMatrix"in te){const ae=se.object;se.camera.updateMatrixWorld(!0),ae.updateMatrixWorld(!0),te._modelViewMatrix.value=ae.modelViewMatrix.clone()}if("_inverseModelViewMatrix"in te){const ae=se.object;se.camera.updateMatrixWorld(!0),ae.updateMatrixWorld(!0),te._inverseModelViewMatrix.value=ae.modelViewMatrix.clone().invert()}if("_modelMatrix"in te){const ae=se.object;te._modelMatrix.value=ae.matrixWorld}if("_normalMatrix"in te){const ae=se.object;te._normalMatrix.value=ae.normalMatrix}if("_inverseViewMatrix"in te){const ae=se.camera;te._inverseViewMatrix.value=ae.matrixWorldInverse.clone().invert()}if("_cameraToWorldMatrix"in te){const ae=se.camera;te._cameraToWorldMatrix.value=ae.matrixWorldInverse.clone().invert()}if("_worldSpaceLightDir"in te&&se.light&&(te._worldSpaceLightDir.value=new Vector3(se.light.rotation._x,se.light.rotation._y,se.light.rotation._z).normalize()),"_lightColor"in te&&se.light){const ae=se.light.intensity,oe=new Vector3(se.light.color.r*ae,se.light.color.g*ae,se.light.color.b*ae);te._lightColor.value=oe}if("_screenSize"in te&&(se.renderer.getSize(P),te._screenSize.value.set(Math.floor(P.x),Math.floor(P.y),1+1/Math.floor(P.x),1+1/Math.floor(P.y))),"_viewDir"in te&&(se.camera.getWorldDirection(F),F.negate(),te._viewDir.value=F),"_pointerPosition"in te){const ae="_pointerPosition"in se.renderer?se.renderer._pointerPosition:{x:0,y:0};te._pointerPosition.value.set(Math.floor(ae.x),Math.floor(ae.y))}if("_pointerPositionNormalized"in te){se.renderer.getSize(P);const ae="_pointerPosition"in se.renderer?se.renderer._pointerPosition:{x:0,y:0};te._pointerPositionNormalized.value.set(ae.x/P.x,ae.y/P.y)}if("_pointerDown"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerDown.value.set(ae.state===1?1:0,ae.button)}if("_pointerDownPrimary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===0&&te._pointerDownPrimary.value.set(ae.state===1?1:0,ae.button)}if("_pointerDownAuxiliary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===1&&te._pointerDownAuxiliary.value.set(ae.state===1?1:0,ae.button)}if("_pointerDownSecondary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===2&&te._pointerDownSecondary.value.set(ae.state===1?1:0,ae.button)}if("_pointerDownFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerDownFrame.value.set(ae.stateFrame===1?1:0,ae.button)}if("_pointerDownPrimaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===0&&te._pointerDownPrimaryFrame.value.set(ae.stateFrame===1?1:0,ae.button)}if("_pointerDownAuxiliaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===1&&te._pointerDownAuxiliaryFrame.value.set(ae.stateFrame===1?1:0,ae.button)}if("_pointerDownSecondaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===2&&te._pointerDownSecondaryFrame.value.set(ae.stateFrame===1?1:0,ae.button)}if("_pointerUp"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerUp.value.set(ae.state===0||ae.state===2?1:0,ae.button)}if("_pointerUpPrimary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===0?te._pointerUpPrimary.value.set(ae.state===0||ae.state===2?1:0,ae.button):te._pointerUpPrimary.value.set(1,ae.button)}if("_pointerUpAuxiliary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===1?te._pointerUpAuxiliary.value.set(ae.state===0||ae.state===2?1:0,ae.button):te._pointerUpAuxiliary.value.set(1,ae.button)}if("_pointerUpSecondary"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===2?te._pointerUpSecondary.value.set(ae.state===0||ae.state===2?1:0,ae.button):te._pointerUpSecondary.value.set(1,ae.button)}if("_pointerUpFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerUpFrame.value.set(ae.stateFrame===2?1:0,ae.button)}if("_pointerUpPrimaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===0?te._pointerUpPrimaryFrame.value.set(ae.stateFrame===2?1:0,ae.button):te._pointerUpPrimaryFrame.value.set(0,ae.button)}if("_pointerUpAuxiliaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===1?te._pointerUpAuxiliaryFrame.value.set(ae.stateFrame===2?1:0,ae.button):te._pointerUpAuxiliaryFrame.value.set(0,ae.button)}if("_pointerUpSecondaryFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;ae.button===2?te._pointerUpSecondaryFrame.value.set(ae.stateFrame===2?1:0,ae.button):te._pointerUpSecondaryFrame.value.set(0,ae.button)}if("_pointerEnter"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerEnter.value=ae.viewportState===1?1:0}if("_pointerLeave"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerLeave.value=ae.viewportState===0||ae.viewportState===2?1:0}if("_pointerEnterFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerEnterFrame.value=ae.viewportStateFrame===1?1:0}if("_pointerLeaveFrame"in te){const ae="_pointerData"in se.renderer?se.renderer._pointerData:_;te._pointerLeaveFrame.value=ae.viewportStateFrame===2?1:0}if("_keyboardTexture"in te){const ae="_keyboardTexture"in se.renderer?se.renderer._keyboardTexture:null;te._keyboardTexture.value=ae}},F=new Vector3(0,0,0),T=new Vector3(0,0,0),V=new Vector3(0,0,0);let P=new Vector2(0,0);var z={exports:{}};(function(se){var te=Object.prototype.hasOwnProperty,ae="~";function oe(){}Object.create&&(oe.prototype=Object.create(null),new oe().__proto__||(ae=!1));function ce(pe,me,_e){this.fn=pe,this.context=me,this.once=_e||!1}function ue(pe,me,_e,be,Ee){if(typeof _e!="function")throw new TypeError("The listener must be a function");var Ae=new ce(_e,be||pe,Ee),Re=ae?ae+me:me;return pe._events[Re]?pe._events[Re].fn?pe._events[Re]=[pe._events[Re],Ae]:pe._events[Re].push(Ae):(pe._events[Re]=Ae,pe._eventsCount++),pe}function fe(pe,me){--pe._eventsCount===0?pe._events=new oe:delete pe._events[me]}function de(){this._events=new oe,this._eventsCount=0}de.prototype.eventNames=function(){var pe=[],me,_e;if(this._eventsCount===0)return pe;for(_e in me=this._events)te.call(me,_e)&&pe.push(ae?_e.slice(1):_e);return Object.getOwnPropertySymbols?pe.concat(Object.getOwnPropertySymbols(me)):pe},de.prototype.listeners=function(pe){var me=ae?ae+pe:pe,_e=this._events[me];if(!_e)return[];if(_e.fn)return[_e.fn];for(var be=0,Ee=_e.length,Ae=new Array(Ee);be<Ee;be++)Ae[be]=_e[be].fn;return Ae},de.prototype.listenerCount=function(pe){var me=ae?ae+pe:pe,_e=this._events[me];return _e?_e.fn?1:_e.length:0},de.prototype.emit=function(pe,me,_e,be,Ee,Ae){var Re=ae?ae+pe:pe;if(!this._events[Re])return!1;var Be=this._events[Re],De=arguments.length,Oe,Pe;if(Be.fn){switch(Be.once&&this.removeListener(pe,Be.fn,void 0,!0),De){case 1:return Be.fn.call(Be.context),!0;case 2:return Be.fn.call(Be.context,me),!0;case 3:return Be.fn.call(Be.context,me,_e),!0;case 4:return Be.fn.call(Be.context,me,_e,be),!0;case 5:return Be.fn.call(Be.context,me,_e,be,Ee),!0;case 6:return Be.fn.call(Be.context,me,_e,be,Ee,Ae),!0}for(Pe=1,Oe=new Array(De-1);Pe<De;Pe++)Oe[Pe-1]=arguments[Pe];Be.fn.apply(Be.context,Oe)}else{var Ie=Be.length,Fe;for(Pe=0;Pe<Ie;Pe++)switch(Be[Pe].once&&this.removeListener(pe,Be[Pe].fn,void 0,!0),De){case 1:Be[Pe].fn.call(Be[Pe].context);break;case 2:Be[Pe].fn.call(Be[Pe].context,me);break;case 3:Be[Pe].fn.call(Be[Pe].context,me,_e);break;case 4:Be[Pe].fn.call(Be[Pe].context,me,_e,be);break;default:if(!Oe)for(Fe=1,Oe=new Array(De-1);Fe<De;Fe++)Oe[Fe-1]=arguments[Fe];Be[Pe].fn.apply(Be[Pe].context,Oe)}}return!0},de.prototype.on=function(pe,me,_e){return ue(this,pe,me,_e,!1)},de.prototype.once=function(pe,me,_e){return ue(this,pe,me,_e,!0)},de.prototype.removeListener=function(pe,me,_e,be){var Ee=ae?ae+pe:pe;if(!this._events[Ee])return this;if(!me)return fe(this,Ee),this;var Ae=this._events[Ee];if(Ae.fn)Ae.fn===me&&(!be||Ae.once)&&(!_e||Ae.context===_e)&&fe(this,Ee);else{for(var Re=0,Be=[],De=Ae.length;Re<De;Re++)(Ae[Re].fn!==me||be&&!Ae[Re].once||_e&&Ae[Re].context!==_e)&&Be.push(Ae[Re]);Be.length?this._events[Ee]=Be.length===1?Be[0]:Be:fe(this,Ee)}return this},de.prototype.removeAllListeners=function(pe){var me;return pe?(me=ae?ae+pe:pe,this._events[me]&&fe(this,me)):(this._events=new oe,this._eventsCount=0),this},de.prototype.off=de.prototype.removeListener,de.prototype.addListener=de.prototype.on,de.prefixed=ae,de.EventEmitter=de,se.exports=de})(z);const G=z.exports;class re{constructor(){x(this,"events"),x(this,"requests",[]),x(this,"cache",{}),this.events=new G}load(te){this.requests.includes(te)||(this.requests.push(te),fetch(te).then(ae=>ae.json()).then(ae=>{k("graph.load",{url:te,href:window.location.href}),this.cache[te]=ae,this.events.emit("load",{url:te,data:ae})}))}}const L=se=>se instanceof Date,N=se=>Object.keys(se).length===0,S=se=>se!=null&&typeof se=="object",O=(se,...te)=>Object.prototype.hasOwnProperty.call(se,...te),E=se=>S(se)&&N(se),I=()=>Object.create(null),q=(se,te)=>{if(se===te)return{};if(!S(se)||!S(te))return te;const ae=Object.keys(se).reduce((oe,ce)=>(O(te,ce)||(oe[ce]=void 0),oe),I());return L(se)||L(te)?se.valueOf()==te.valueOf()?{}:te:Object.keys(te).reduce((oe,ce)=>{if(!O(se,ce))return oe[ce]=te[ce],oe;const ue=q(se[ce],te[ce]);return E(ue)&&!L(ue)&&(E(se[ce])||!E(te[ce]))||(oe[ce]=ue),oe},ae)},H=se=>{if(typeof se!="object"||se===null)return!1;const te=Object.getPrototypeOf(se);return(te===null||te===Object.prototype||Object.getPrototypeOf(te)===null)&&!(Symbol.toStringTag in se)&&!(Symbol.iterator in se)},B=se=>H(se)?Object.keys(se).reduce((te,ae)=>{if(ae==="__esModule")return te;const oe=Object.getOwnPropertyDescriptor(se,ae),ce=oe&&"get"in oe,ue=se[ae];return ce?Object.defineProperty(te,ae,oe):te[ae]=B(ue),te},{}):Array.isArray(se)?se.map(te=>B(te)):se;ee();const graphLoader=new re,CubeUVReflectionMapping=306;var NodeToyCullMode;(function(se){se.Front="front",se.Back="back",se.None="none"})(NodeToyCullMode||(NodeToyCullMode={}));var NodeToyMaterialType;(function(se){se.Standard="standard",se.Physical="physical",se.Unlit="unlit",se.Image="image"})(NodeToyMaterialType||(NodeToyMaterialType={}));var NodeToyRenderType;(function(se){se.Opaque="opaque",se.Transparent="transparent"})(NodeToyRenderType||(NodeToyRenderType={}));const _NodeToyMaterial=class extends ShaderMaterial{constructor(se){super(),__publicField(this,"verbose",!1),__publicField(this,"resetUniformByName",te=>{this.resetUniformsByName([te])}),__publicField(this,"resetUniformsByName",te=>{for(let ae=0;ae<te.length;ae++){const oe=te[ae];for(let ce=0;ce<this._data.uniforms.length;ce++){const ue=this._data.uniforms[ce];if(ue.name===oe){this.uniforms[ue.name]={value:$(this._url,ue.type,ue.value),type:ue.type};break}}}}),__publicField(this,"_fullURL",null),__publicField(this,"_url",null),__publicField(this,"_data",null),__publicField(this,"_parameters",{}),__publicField(this,"_cullMode",NodeToyCullMode.Back),__publicField(this,"_type",NodeToyMaterialType.Unlit),__publicField(this,"_options",{}),__publicField(this,"_envUUID",null),this.toneMapped=!1,this.flatShading=!1,this.transparent=!0,this.onBeforeRender=this.onBeforeRender,this.normalMap=new Texture,this.tangentSpaceNormalMap=new Texture,this.aoMap=new Texture,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.depthTest=!0,this.depthWrite=!0,this.envMapIntensity=1,this.side=FrontSide,this.vertexShader=ShaderLib.standard.vertexShader,this.fragmentShader=ShaderLib.standard.fragmentShader,this.defines={STANDARD:"",USE_NORMALMAP:"",USE_TANGENT:"",TANGENTSPACE_NORMALMAP:""},this.uniforms=B(ShaderLib.physical.uniforms),this.uniforms.spotShadowMatrix={value:[new Matrix4]},this.lights=!0,this.isShaderMaterial=!0,this.isMeshStandardMaterial=!1,this.type="ShaderMaterial",this.combine=MultiplyOperation,se&&("verbose"in se&&(this.verbose=se.verbose),"url"in se&&(this.url=se.url),"toneMapped"in se&&(this.toneMapped=se.toneMapped),"flatShading"in se&&(this.flatShading=se.flatShading),"transparent"in se&&(this.transparent=se.transparent),"cullMode"in se&&(this.cullMode=se.cullMode),this._parameters=se.parameters?se.parameters:null,"polygonOffset"in se&&(this.polygonOffset=se.polygonOffset),"polygonOffsetFactor"in se&&(this.polygonOffsetFactor=se.polygonOffsetFactor),"depthTest"in se&&(this.depthTest=se.depthTest),"depthWrite"in se&&(this.depthWrite=se.depthWrite),"envMapIntensity"in se&&(this.envMapIntensity=se.envMapIntensity),"data"in se&&(this.data=se.data),this._options=se),graphLoader.events.on("load",te=>{te.url===this._fullURL&&this.loadShader(te.data)})}static tick(){_NodeToyMaterial._time.deltaTime=_NodeToyMaterial._clock.getDelta(),_NodeToyMaterial._time.time+=_NodeToyMaterial._time.deltaTime}get cullMode(){return this._cullMode}set cullMode(se){this._cullMode=se,this.side=this.getTHREECullMode(se)}recompile(){this.version++,this.dispose()}clone(){return new this.constructor().copy(this)}copy(se){return super.copy(se),this._url=se._url,this._data=se._data,this.verbose=se.verbose,this._parameters&&(this._parameters=__spreadValues({},se._parameters)),this.vertexShader=se.vertexShader,this.fragmentShader=se.fragmentShader,this.uniforms=B(se.uniforms),this.recompile(),this}get url(){return this._url}set url(se){if(this._url=se,se){const te=this._fullURL=Z(se);this.verbose&&console.log(`[NodeToy] loading graph... | url: ${te}`),te in graphLoader.cache?this.loadShader(graphLoader.cache[te]):graphLoader.load(te)}else console.warn("[NodeToy] Missing material graph URL. Cannot load shader.")}get data(){return this._data}set data(se){if(!se){console.warn("[NodeToy] Missing material graph data. Cannot load shader.");return}this.verbose&&console.log("[NodeToy] seting graph data... | data:",se),this.loadShader(se)}get parameters(){return this._parameters}set parameters(se){if(this._parameters=se,this._data){const te=this._data.uniforms,ae=B(this.uniforms),oe=m(this.url,this.uniforms,te,se),ce=Object.keys(q(ae,oe));for(let ue=0;ue<ce.length;ue++){const fe=ce[ue];this.uniforms[fe]=oe[fe]}}}updateUniforms(se){let te=[];if(Object.assign(te,se),this._parameters!==null)for(const ae in this._parameters)for(let oe=0;oe<te.length;oe++)ae===te[oe].name&&(te[oe].value=this._parameters[ae]);return te}loadShader(se){this.verbose&&console.log("[NodeToy] graph loaded.",se,m(this.url,this.uniforms,se.uniforms)),this._data=se,this.vertexShader=se.vertex,this.fragmentShader=se.fragment;const te=this.updateUniforms(se.uniforms);this.uniforms=m(this.url,this.uniforms,te),this.recompile(),"cullMode"in se&&!("cullMode"in this._options)&&(this.cullMode=se.cullMode),"lightModel"in se&&(this._type=se.lightModel),"renderType"in se&&(this.transparent=se.renderType===NodeToyRenderType.Transparent)}onBeforeRender(se,te,ae,oe,ce){const ue={camera:ae,object:ce,renderer:se,scene:te,light:null,time:_NodeToyMaterial._time.time,deltaTime:_NodeToyMaterial._time.deltaTime};if(se._rendererDOM||(se._rendererDOM=new Q(se)),this.uniforms&&ne(ue,this.uniforms),te.environment&&this._type!==NodeToyMaterialType.Unlit){if(this._envUUID!=te.environment.uuid){this._envUUID=te.environment.uuid;const fe=te.environment.clone();fe.mapping=CubeUVReflectionMapping$1,this.envMap=fe,this.envMap.mapping=CubeUVReflectionMapping$1,this.envMapMode=CubeUVReflectionMapping,this.uniforms.envMap.value=fe,this.uniforms.envMapIntensity.value=this.envMapIntensity}this.defines={STANDARD:"",USE_NORMALMAP:"",USE_ENVMAP:"",ENVMAP_TYPE_CUBE_UV:"",USE_TANGENT:"",TANGENTSPACE_NORMALMAP:""}}else this.envMap=null,"envMap"in this.uniforms&&(this.uniforms.envMap.value=null),this.defines={STANDARD:"",USE_NORMALMAP:"",USE_TANGENT:"",TANGENTSPACE_NORMALMAP:""};te.fog&&(this.defines.USE_FOG="")}getTHREECullMode(se){return se===NodeToyCullMode.None?DoubleSide:se===NodeToyCullMode.Front?BackSide:FrontSide}};let NodeToyMaterial=_NodeToyMaterial;__publicField(NodeToyMaterial,"_bindDOMEvents",()=>{});__publicField(NodeToyMaterial,"_time",{time:0,deltaTime:0});__publicField(NodeToyMaterial,"_clock",new Clock);extend({MeshPhysicalMaterial});const kreatonGoldColor=new Color$1("#fad078"),kreatonGoldMaterial=new MeshPhysicalMaterial({color:kreatonGoldColor,roughness:.2,metalness:1,reflectivity:.5});extend({MeshPhysicalMaterial});const kreatonArmorColor=new Color$1("#FFF4E5"),kreatonArmorMaterial=new MeshPhysicalMaterial({color:kreatonArmorColor,roughness:.2,metalness:.4,reflectivity:.5,iridescence:.5,emissiveIntensity:1}),Kreaton=reactExports.forwardRef((se,te)=>{const ae=reactExports.useRef(),{scene:oe,animations:ce}=useGLTF("/models/KreatonUV3-transformed.glb"),ue=reactExports.useMemo(()=>SkeletonUtils.clone(oe),[oe]),{nodes:fe,materials:de}=useGraph(ue);de.gold=kreatonGoldMaterial,de.white=kreatonArmorMaterial;const{actions:pe}=useAnimations(ce,ae);return reactExports.useImperativeHandle(te,()=>{const me={actions:pe,getCurrentAnimation:()=>{const _e=getCurrentAnimations(pe);return _e.length>0?_e[0].name:null},playAnimation:(_e,be={})=>{const Ee=pe[_e];return Ee?(Ee.reset().fadeIn(be.fadeIn||.5).play(),!0):(console.warn(`Animation "${_e}" not found`),!1)},stopAnimation:(_e,be={})=>{const Ee=pe[_e];return Ee?(Ee.fadeOut(be.fadeOut||.5),!0):!1},transitionAnimation:(_e,be,Ee={})=>playAnimationTransition(pe,pe[be],{crossFadeTime:Ee.crossFadeTime||.5,fadeInDuration:Ee.fadeInDuration||.2},pe[_e]),transitionFromCurrentToAnimation:(_e,be={})=>{const Ee=me.getCurrentAnimation();if(console.log("Animation detection debug:"),console.log("- Using getCurrentAnimation:",Ee),console.log("- Raw getCurrentAnimations:",getCurrentAnimations(pe).map(Be=>Be.name)),console.log("- Animations with weight > 0:",Object.entries(pe).filter(([Be,De])=>De.weight>0).map(([Be])=>`${Be} (${pe[Be].weight.toFixed(2)})`)),Ee===_e)return console.log(`Already playing "${_e}" animation - no transition needed`),!0;if(!Ee){console.log(`No current animation detected, playing: ${_e}`),resetAnimationState(pe);const Be=pe[_e];return Be?(Be.enabled=!0,Be.weight=1,Be.reset().fadeIn(be.fadeIn||.5).play(),!0):(console.warn(`Animation "${_e}" not found`),!1)}console.log(`Transitioning from ${Ee} to ${_e}`),stopAllAnimations(pe,[pe[_e],pe[Ee]],!0);const Ae=pe[Ee],Re=pe[_e];return Ae&&Re?(Ae.fadeOut(be.crossFadeTime||.5),Re.enabled=!0,Re.weight=1,Re.reset(),Re.fadeIn(be.fadeInDuration||.2),Re.play(),!0):(console.warn(`Target animation "${_e}" not found`),!1)},getAnimationNames:()=>Object.keys(pe),getObject:()=>ae.current};return me}),reactExports.useEffect(()=>{console.log("Available animations:",ce),console.log("Available actions:",pe),console.log("Action keys:",Object.keys(pe));const me=pe.SIT_ARMCHAIR;me?me.reset().play():console.warn('Animation "SIT_ARMCHAIR" not found'),fe.mixamorigHips.children[0].children[0].children[0].children[0].children[0].children[1].children[1].material=kreatonGoldMaterial,fe.mixamorigHips.children[0].children[0].children[0].children[0].children[0].children[1].children[0].material=kreatonArmorMaterial},[pe,ce,playAnimationTransition]),useFrame(()=>{NodeToyMaterial.tick()}),jsxRuntimeExports.jsx("group",{ref:ae,...se,dispose:null,children:jsxRuntimeExports.jsxs("group",{name:"Scene",children:[jsxRuntimeExports.jsx("group",{name:"Kreaton_Rigged",children:jsxRuntimeExports.jsx("primitive",{object:fe.mixamorigHips})}),jsxRuntimeExports.jsxs("group",{name:"Arms001",children:[jsxRuntimeExports.jsx("skinnedMesh",{name:"Armsmesh",geometry:fe.Armsmesh.geometry,material:de.white,skeleton:fe.Armsmesh.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"Armsmesh_1",geometry:fe.Armsmesh_1.geometry,material:de.gold,skeleton:fe.Armsmesh_1.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"Armsmesh_2",geometry:fe.Armsmesh_2.geometry,material:de.Skin,skeleton:fe.Armsmesh_2.skeleton})]}),jsxRuntimeExports.jsxs("group",{name:"FeetLegs001",children:[jsxRuntimeExports.jsx("skinnedMesh",{name:"FeetLegsmesh",geometry:fe.FeetLegsmesh.geometry,material:de.white,skeleton:fe.FeetLegsmesh.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"FeetLegsmesh_1",geometry:fe.FeetLegsmesh_1.geometry,material:de.gold,skeleton:fe.FeetLegsmesh_1.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"FeetLegsmesh_2",geometry:fe.FeetLegsmesh_2.geometry,material:de.Skin,skeleton:fe.FeetLegsmesh_2.skeleton})]}),jsxRuntimeExports.jsxs("group",{name:"Skirt001",children:[jsxRuntimeExports.jsx("skinnedMesh",{name:"Skirtmesh",geometry:fe.Skirtmesh.geometry,material:de.white,skeleton:fe.Skirtmesh.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"Skirtmesh_1",geometry:fe.Skirtmesh_1.geometry,material:de.gold,skeleton:fe.Skirtmesh_1.skeleton})]}),jsxRuntimeExports.jsxs("group",{name:"TorsoArmor001",children:[jsxRuntimeExports.jsx("skinnedMesh",{name:"TorsoArmormesh",geometry:fe.TorsoArmormesh.geometry,material:de.white,skeleton:fe.TorsoArmormesh.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"TorsoArmormesh_1",geometry:fe.TorsoArmormesh_1.geometry,material:de.gold,skeleton:fe.TorsoArmormesh_1.skeleton}),jsxRuntimeExports.jsx("skinnedMesh",{name:"TorsoArmormesh_2",geometry:fe.TorsoArmormesh_2.geometry,material:de.Skin,skeleton:fe.TorsoArmormesh_2.skeleton})]})]})})});useGLTF.preload("/models/KreatonUV3-transformed.glb");function Armchair(se){const{nodes:te,materials:ae}=useGLTF("/models/Armchair-transformed.glb");return jsxRuntimeExports.jsx("group",{...se,dispose:null,children:jsxRuntimeExports.jsx("mesh",{geometry:te.Wide_cloth_arm_chair.geometry,material:ae["Wide cloth chair.001"]})})}useGLTF.preload("/models/Armchair-transformed.glb");useGLTF.preload("/models/projekte-2-transformed.glb");function _assertThisInitialized(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function _inheritsLoose(se,te){se.prototype=Object.create(te.prototype),se.prototype.constructor=se,se.__proto__=te}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults$1={duration:.5,overwrite:!1,delay:0},_suppressOverwrites$1,_reverting$1,_context$2,_bigNum$1=1e8,_tinyNum=1/_bigNum$1,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString$1=function se(te){return typeof te=="string"},_isFunction$1=function se(te){return typeof te=="function"},_isNumber$1=function se(te){return typeof te=="number"},_isUndefined=function se(te){return typeof te>"u"},_isObject$1=function se(te){return typeof te=="object"},_isNotFalse=function se(te){return te!==!1},_windowExists$2=function se(){return typeof window<"u"},_isFuncOrString=function se(te){return _isFunction$1(te)||_isString$1(te)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win$3,_coreInitted$2,_doc$3,_globals={},_installScope={},_coreReady,_install=function se(te){return(_installScope=_merge(te,_globals))&&gsap$2},_missingPlugin=function se(te,ae){return console.warn("Invalid property",te,"set to",ae,"Missing plugin? gsap.registerPlugin()")},_warn=function se(te,ae){return!ae&&console.warn(te)},_addGlobal=function se(te,ae){return te&&(_globals[te]=ae)&&_installScope&&(_installScope[te]=ae)||_globals},_emptyFunc=function se(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function se(te){var ae=te[0],oe,ce;if(_isObject$1(ae)||_isFunction$1(ae)||(te=[te]),!(oe=(ae._gsap||{}).harness)){for(ce=_harnessPlugins.length;ce--&&!_harnessPlugins[ce].targetTest(ae););oe=_harnessPlugins[ce]}for(ce=te.length;ce--;)te[ce]&&(te[ce]._gsap||(te[ce]._gsap=new GSCache(te[ce],oe)))||te.splice(ce,1);return te},_getCache=function se(te){return te._gsap||_harness(toArray(te))[0]._gsap},_getProperty=function se(te,ae,oe){return(oe=te[ae])&&_isFunction$1(oe)?te[ae]():_isUndefined(oe)&&te.getAttribute&&te.getAttribute(ae)||oe},_forEachName=function se(te,ae){return(te=te.split(",")).forEach(ae)||te},_round$1=function se(te){return Math.round(te*1e5)/1e5||0},_roundPrecise=function se(te){return Math.round(te*1e7)/1e7||0},_parseRelative=function se(te,ae){var oe=ae.charAt(0),ce=parseFloat(ae.substr(2));return te=parseFloat(te),oe==="+"?te+ce:oe==="-"?te-ce:oe==="*"?te*ce:te/ce},_arrayContainsAny=function se(te,ae){for(var oe=ae.length,ce=0;te.indexOf(ae[ce])<0&&++ce<oe;);return ce<oe},_lazyRender=function se(){var te=_lazyTweens.length,ae=_lazyTweens.slice(0),oe,ce;for(_lazyLookup={},_lazyTweens.length=0,oe=0;oe<te;oe++)ce=ae[oe],ce&&ce._lazy&&(ce.render(ce._lazy[0],ce._lazy[1],!0)._lazy=0)},_lazySafeRender=function se(te,ae,oe,ce){_lazyTweens.length&&!_reverting$1&&_lazyRender(),te.render(ae,oe,_reverting$1&&ae<0&&(te._initted||te._startAt)),_lazyTweens.length&&!_reverting$1&&_lazyRender()},_numericIfPossible=function se(te){var ae=parseFloat(te);return(ae||ae===0)&&(te+"").match(_delimitedValueExp).length<2?ae:_isString$1(te)?te.trim():te},_passThrough$1=function se(te){return te},_setDefaults$1=function se(te,ae){for(var oe in ae)oe in te||(te[oe]=ae[oe]);return te},_setKeyframeDefaults=function se(te){return function(ae,oe){for(var ce in oe)ce in ae||ce==="duration"&&te||ce==="ease"||(ae[ce]=oe[ce])}},_merge=function se(te,ae){for(var oe in ae)te[oe]=ae[oe];return te},_mergeDeep=function se(te,ae){for(var oe in ae)oe!=="__proto__"&&oe!=="constructor"&&oe!=="prototype"&&(te[oe]=_isObject$1(ae[oe])?se(te[oe]||(te[oe]={}),ae[oe]):ae[oe]);return te},_copyExcluding=function se(te,ae){var oe={},ce;for(ce in te)ce in ae||(oe[ce]=te[ce]);return oe},_inheritDefaults=function se(te){var ae=te.parent||_globalTimeline,oe=te.keyframes?_setKeyframeDefaults(_isArray(te.keyframes)):_setDefaults$1;if(_isNotFalse(te.inherit))for(;ae;)oe(te,ae.vars.defaults),ae=ae.parent||ae._dp;return te},_arraysMatch=function se(te,ae){for(var oe=te.length,ce=oe===ae.length;ce&&oe--&&te[oe]===ae[oe];);return oe<0},_addLinkedListItem=function se(te,ae,oe,ce,ue){var fe=te[ce],de;if(ue)for(de=ae[ue];fe&&fe[ue]>de;)fe=fe._prev;return fe?(ae._next=fe._next,fe._next=ae):(ae._next=te[oe],te[oe]=ae),ae._next?ae._next._prev=ae:te[ce]=ae,ae._prev=fe,ae.parent=ae._dp=te,ae},_removeLinkedListItem=function se(te,ae,oe,ce){oe===void 0&&(oe="_first"),ce===void 0&&(ce="_last");var ue=ae._prev,fe=ae._next;ue?ue._next=fe:te[oe]===ae&&(te[oe]=fe),fe?fe._prev=ue:te[ce]===ae&&(te[ce]=ue),ae._next=ae._prev=ae.parent=null},_removeFromParent=function se(te,ae){te.parent&&(!ae||te.parent.autoRemoveChildren)&&te.parent.remove&&te.parent.remove(te),te._act=0},_uncache=function se(te,ae){if(te&&(!ae||ae._end>te._dur||ae._start<0))for(var oe=te;oe;)oe._dirty=1,oe=oe.parent;return te},_recacheAncestors=function se(te){for(var ae=te.parent;ae&&ae.parent;)ae._dirty=1,ae.totalDuration(),ae=ae.parent;return te},_rewindStartAt=function se(te,ae,oe,ce){return te._startAt&&(_reverting$1?te._startAt.revert(_revertConfigNoKill):te.vars.immediateRender&&!te.vars.autoRevert||te._startAt.render(ae,!0,ce))},_hasNoPausedAncestors=function se(te){return!te||te._ts&&se(te.parent)},_elapsedCycleDuration=function se(te){return te._repeat?_animationCycle(te._tTime,te=te.duration()+te._rDelay)*te:0},_animationCycle=function se(te,ae){var oe=Math.floor(te=_roundPrecise(te/ae));return te&&oe===te?oe-1:oe},_parentToChildTotalTime=function se(te,ae){return(te-ae._start)*ae._ts+(ae._ts>=0?0:ae._dirty?ae.totalDuration():ae._tDur)},_setEnd=function se(te){return te._end=_roundPrecise(te._start+(te._tDur/Math.abs(te._ts||te._rts||_tinyNum)||0))},_alignPlayhead=function se(te,ae){var oe=te._dp;return oe&&oe.smoothChildTiming&&te._ts&&(te._start=_roundPrecise(oe._time-(te._ts>0?ae/te._ts:((te._dirty?te.totalDuration():te._tDur)-ae)/-te._ts)),_setEnd(te),oe._dirty||_uncache(oe,te)),te},_postAddChecks=function se(te,ae){var oe;if((ae._time||!ae._dur&&ae._initted||ae._start<te._time&&(ae._dur||!ae.add))&&(oe=_parentToChildTotalTime(te.rawTime(),ae),(!ae._dur||_clamp$1(0,ae.totalDuration(),oe)-ae._tTime>_tinyNum)&&ae.render(oe,!0)),_uncache(te,ae)._dp&&te._initted&&te._time>=te._dur&&te._ts){if(te._dur<te.duration())for(oe=te;oe._dp;)oe.rawTime()>=0&&oe.totalTime(oe._tTime),oe=oe._dp;te._zTime=-1e-8}},_addToTimeline=function se(te,ae,oe,ce){return ae.parent&&_removeFromParent(ae),ae._start=_roundPrecise((_isNumber$1(oe)?oe:oe||te!==_globalTimeline?_parsePosition$1(te,oe,ae):te._time)+ae._delay),ae._end=_roundPrecise(ae._start+(ae.totalDuration()/Math.abs(ae.timeScale())||0)),_addLinkedListItem(te,ae,"_first","_last",te._sort?"_start":0),_isFromOrFromStart(ae)||(te._recent=ae),ce||_postAddChecks(te,ae),te._ts<0&&_alignPlayhead(te,te._tTime),te},_scrollTrigger=function se(te,ae){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",ae))&&_globals.ScrollTrigger.create(ae,te)},_attemptInitTween=function se(te,ae,oe,ce,ue){if(_initTween(te,ae,ue),!te._initted)return 1;if(!oe&&te._pt&&!_reverting$1&&(te._dur&&te.vars.lazy!==!1||!te._dur&&te.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(te),te._lazy=[ue,ce],1},_parentPlayheadIsBeforeStart=function se(te){var ae=te.parent;return ae&&ae._ts&&ae._initted&&!ae._lock&&(ae.rawTime()<0||se(ae))},_isFromOrFromStart=function se(te){var ae=te.data;return ae==="isFromStart"||ae==="isStart"},_renderZeroDurationTween=function se(te,ae,oe,ce){var ue=te.ratio,fe=ae<0||!ae&&(!te._start&&_parentPlayheadIsBeforeStart(te)&&!(!te._initted&&_isFromOrFromStart(te))||(te._ts<0||te._dp._ts<0)&&!_isFromOrFromStart(te))?0:1,de=te._rDelay,pe=0,me,_e,be;if(de&&te._repeat&&(pe=_clamp$1(0,te._tDur,ae),_e=_animationCycle(pe,de),te._yoyo&&_e&1&&(fe=1-fe),_e!==_animationCycle(te._tTime,de)&&(ue=1-fe,te.vars.repeatRefresh&&te._initted&&te.invalidate())),fe!==ue||_reverting$1||ce||te._zTime===_tinyNum||!ae&&te._zTime){if(!te._initted&&_attemptInitTween(te,ae,ce,oe,pe))return;for(be=te._zTime,te._zTime=ae||(oe?_tinyNum:0),oe||(oe=ae&&!be),te.ratio=fe,te._from&&(fe=1-fe),te._time=0,te._tTime=pe,me=te._pt;me;)me.r(fe,me.d),me=me._next;ae<0&&_rewindStartAt(te,ae,oe,!0),te._onUpdate&&!oe&&_callback$1(te,"onUpdate"),pe&&te._repeat&&!oe&&te.parent&&_callback$1(te,"onRepeat"),(ae>=te._tDur||ae<0)&&te.ratio===fe&&(fe&&_removeFromParent(te,1),!oe&&!_reverting$1&&(_callback$1(te,fe?"onComplete":"onReverseComplete",!0),te._prom&&te._prom()))}else te._zTime||(te._zTime=ae)},_findNextPauseTween=function se(te,ae,oe){var ce;if(oe>ae)for(ce=te._first;ce&&ce._start<=oe;){if(ce.data==="isPause"&&ce._start>ae)return ce;ce=ce._next}else for(ce=te._last;ce&&ce._start>=oe;){if(ce.data==="isPause"&&ce._start<ae)return ce;ce=ce._prev}},_setDuration=function se(te,ae,oe,ce){var ue=te._repeat,fe=_roundPrecise(ae)||0,de=te._tTime/te._tDur;return de&&!ce&&(te._time*=fe/te._dur),te._dur=fe,te._tDur=ue?ue<0?1e10:_roundPrecise(fe*(ue+1)+te._rDelay*ue):fe,de>0&&!ce&&_alignPlayhead(te,te._tTime=te._tDur*de),te.parent&&_setEnd(te),oe||_uncache(te.parent,te),te},_onUpdateTotalDuration=function se(te){return te instanceof Timeline?_uncache(te):_setDuration(te,te._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition$1=function se(te,ae,oe){var ce=te.labels,ue=te._recent||_zeroPosition,fe=te.duration()>=_bigNum$1?ue.endTime(!1):te._dur,de,pe,me;return _isString$1(ae)&&(isNaN(ae)||ae in ce)?(pe=ae.charAt(0),me=ae.substr(-1)==="%",de=ae.indexOf("="),pe==="<"||pe===">"?(de>=0&&(ae=ae.replace(/=/,"")),(pe==="<"?ue._start:ue.endTime(ue._repeat>=0))+(parseFloat(ae.substr(1))||0)*(me?(de<0?ue:oe).totalDuration()/100:1)):de<0?(ae in ce||(ce[ae]=fe),ce[ae]):(pe=parseFloat(ae.charAt(de-1)+ae.substr(de+1)),me&&oe&&(pe=pe/100*(_isArray(oe)?oe[0]:oe).totalDuration()),de>1?se(te,ae.substr(0,de-1),oe)+pe:fe+pe)):ae==null?fe:+ae},_createTweenType=function se(te,ae,oe){var ce=_isNumber$1(ae[1]),ue=(ce?2:1)+(te<2?0:1),fe=ae[ue],de,pe;if(ce&&(fe.duration=ae[1]),fe.parent=oe,te){for(de=fe,pe=oe;pe&&!("immediateRender"in de);)de=pe.vars.defaults||{},pe=_isNotFalse(pe.vars.inherit)&&pe.parent;fe.immediateRender=_isNotFalse(de.immediateRender),te<2?fe.runBackwards=1:fe.startAt=ae[ue-1]}return new Tween(ae[0],fe,ae[ue+1])},_conditionalReturn=function se(te,ae){return te||te===0?ae(te):ae},_clamp$1=function se(te,ae,oe){return oe<te?te:oe>ae?ae:oe},getUnit=function se(te,ae){return!_isString$1(te)||!(ae=_unitExp.exec(te))?"":ae[1]},clamp=function se(te,ae,oe){return _conditionalReturn(oe,function(ce){return _clamp$1(te,ae,ce)})},_slice=[].slice,_isArrayLike=function se(te,ae){return te&&_isObject$1(te)&&"length"in te&&(!ae&&!te.length||te.length-1 in te&&_isObject$1(te[0]))&&!te.nodeType&&te!==_win$3},_flatten=function se(te,ae,oe){return oe===void 0&&(oe=[]),te.forEach(function(ce){var ue;return _isString$1(ce)&&!ae||_isArrayLike(ce,1)?(ue=oe).push.apply(ue,toArray(ce)):oe.push(ce)})||oe},toArray=function se(te,ae,oe){return _context$2&&!ae&&_context$2.selector?_context$2.selector(te):_isString$1(te)&&!oe&&(_coreInitted$2||!_wake())?_slice.call((ae||_doc$3).querySelectorAll(te),0):_isArray(te)?_flatten(te,oe):_isArrayLike(te)?_slice.call(te,0):te?[te]:[]},selector=function se(te){return te=toArray(te)[0]||_warn("Invalid scope")||{},function(ae){var oe=te.current||te.nativeElement||te;return toArray(ae,oe.querySelectorAll?oe:oe===te?_warn("Invalid scope")||_doc$3.createElement("div"):te)}},shuffle=function se(te){return te.sort(function(){return .5-Math.random()})},distribute=function se(te){if(_isFunction$1(te))return te;var ae=_isObject$1(te)?te:{each:te},oe=_parseEase(ae.ease),ce=ae.from||0,ue=parseFloat(ae.base)||0,fe={},de=ce>0&&ce<1,pe=isNaN(ce)||de,me=ae.axis,_e=ce,be=ce;return _isString$1(ce)?_e=be={center:.5,edges:.5,end:1}[ce]||0:!de&&pe&&(_e=ce[0],be=ce[1]),function(Ee,Ae,Re){var Be=(Re||ae).length,De=fe[Be],Oe,Pe,Ie,Fe,$e,Ve,ke,We,je;if(!De){if(je=ae.grid==="auto"?0:(ae.grid||[1,_bigNum$1])[1],!je){for(ke=-1e8;ke<(ke=Re[je++].getBoundingClientRect().left)&&je<Be;);je<Be&&je--}for(De=fe[Be]=[],Oe=pe?Math.min(je,Be)*_e-.5:ce%je,Pe=je===_bigNum$1?0:pe?Be*be/je-.5:ce/je|0,ke=0,We=_bigNum$1,Ve=0;Ve<Be;Ve++)Ie=Ve%je-Oe,Fe=Pe-(Ve/je|0),De[Ve]=$e=me?Math.abs(me==="y"?Fe:Ie):_sqrt(Ie*Ie+Fe*Fe),$e>ke&&(ke=$e),$e<We&&(We=$e);ce==="random"&&shuffle(De),De.max=ke-We,De.min=We,De.v=Be=(parseFloat(ae.amount)||parseFloat(ae.each)*(je>Be?Be-1:me?me==="y"?Be/je:je:Math.max(je,Be/je))||0)*(ce==="edges"?-1:1),De.b=Be<0?ue-Be:ue,De.u=getUnit(ae.amount||ae.each)||0,oe=oe&&Be<0?_invertEase(oe):oe}return Be=(De[Ee]-De.min)/De.max||0,_roundPrecise(De.b+(oe?oe(Be):Be)*De.v)+De.u}},_roundModifier=function se(te){var ae=Math.pow(10,((te+"").split(".")[1]||"").length);return function(oe){var ce=_roundPrecise(Math.round(parseFloat(oe)/te)*te*ae);return(ce-ce%1)/ae+(_isNumber$1(oe)?0:getUnit(oe))}},snap=function se(te,ae){var oe=_isArray(te),ce,ue;return!oe&&_isObject$1(te)&&(ce=oe=te.radius||_bigNum$1,te.values?(te=toArray(te.values),(ue=!_isNumber$1(te[0]))&&(ce*=ce)):te=_roundModifier(te.increment)),_conditionalReturn(ae,oe?_isFunction$1(te)?function(fe){return ue=te(fe),Math.abs(ue-fe)<=ce?ue:fe}:function(fe){for(var de=parseFloat(ue?fe.x:fe),pe=parseFloat(ue?fe.y:0),me=_bigNum$1,_e=0,be=te.length,Ee,Ae;be--;)ue?(Ee=te[be].x-de,Ae=te[be].y-pe,Ee=Ee*Ee+Ae*Ae):Ee=Math.abs(te[be]-de),Ee<me&&(me=Ee,_e=be);return _e=!ce||me<=ce?te[_e]:fe,ue||_e===fe||_isNumber$1(fe)?_e:_e+getUnit(fe)}:_roundModifier(te))},random=function se(te,ae,oe,ce){return _conditionalReturn(_isArray(te)?!ae:oe===!0?!!(oe=0):!ce,function(){return _isArray(te)?te[~~(Math.random()*te.length)]:(oe=oe||1e-5)&&(ce=oe<1?Math.pow(10,(oe+"").length-2):1)&&Math.floor(Math.round((te-oe/2+Math.random()*(ae-te+oe*.99))/oe)*oe*ce)/ce})},pipe=function se(){for(var te=arguments.length,ae=new Array(te),oe=0;oe<te;oe++)ae[oe]=arguments[oe];return function(ce){return ae.reduce(function(ue,fe){return fe(ue)},ce)}},unitize=function se(te,ae){return function(oe){return te(parseFloat(oe))+(ae||getUnit(oe))}},normalize=function se(te,ae,oe){return mapRange(te,ae,0,1,oe)},_wrapArray=function se(te,ae,oe){return _conditionalReturn(oe,function(ce){return te[~~ae(ce)]})},wrap=function se(te,ae,oe){var ce=ae-te;return _isArray(te)?_wrapArray(te,se(0,te.length),ae):_conditionalReturn(oe,function(ue){return(ce+(ue-te)%ce)%ce+te})},wrapYoyo=function se(te,ae,oe){var ce=ae-te,ue=ce*2;return _isArray(te)?_wrapArray(te,se(0,te.length-1),ae):_conditionalReturn(oe,function(fe){return fe=(ue+(fe-te)%ue)%ue||0,te+(fe>ce?ue-fe:fe)})},_replaceRandom=function se(te){for(var ae=0,oe="",ce,ue,fe,de;~(ce=te.indexOf("random(",ae));)fe=te.indexOf(")",ce),de=te.charAt(ce+7)==="[",ue=te.substr(ce+7,fe-ce-7).match(de?_delimitedValueExp:_strictNumExp),oe+=te.substr(ae,ce-ae)+random(de?ue:+ue[0],de?0:+ue[1],+ue[2]||1e-5),ae=fe+1;return oe+te.substr(ae,te.length-ae)},mapRange=function se(te,ae,oe,ce,ue){var fe=ae-te,de=ce-oe;return _conditionalReturn(ue,function(pe){return oe+((pe-te)/fe*de||0)})},interpolate=function se(te,ae,oe,ce){var ue=isNaN(te+ae)?0:function(Ae){return(1-Ae)*te+Ae*ae};if(!ue){var fe=_isString$1(te),de={},pe,me,_e,be,Ee;if(oe===!0&&(ce=1)&&(oe=null),fe)te={p:te},ae={p:ae};else if(_isArray(te)&&!_isArray(ae)){for(_e=[],be=te.length,Ee=be-2,me=1;me<be;me++)_e.push(se(te[me-1],te[me]));be--,ue=function(Re){Re*=be;var Be=Math.min(Ee,~~Re);return _e[Be](Re-Be)},oe=ae}else ce||(te=_merge(_isArray(te)?[]:{},te));if(!_e){for(pe in ae)_addPropTween.call(de,te,pe,"get",ae[pe]);ue=function(Re){return _renderPropTweens(Re,de)||(fe?te.p:te)}}}return _conditionalReturn(oe,ue)},_getLabelInDirection=function se(te,ae,oe){var ce=te.labels,ue=_bigNum$1,fe,de,pe;for(fe in ce)de=ce[fe]-ae,de<0==!!oe&&de&&ue>(de=Math.abs(de))&&(pe=fe,ue=de);return pe},_callback$1=function se(te,ae,oe){var ce=te.vars,ue=ce[ae],fe=_context$2,de=te._ctx,pe,me,_e;if(ue)return pe=ce[ae+"Params"],me=ce.callbackScope||te,oe&&_lazyTweens.length&&_lazyRender(),de&&(_context$2=de),_e=pe?ue.apply(me,pe):ue.call(me),_context$2=fe,_e},_interrupt=function se(te){return _removeFromParent(te),te.scrollTrigger&&te.scrollTrigger.kill(!!_reverting$1),te.progress()<1&&_callback$1(te,"onInterrupt"),te},_quickTween,_registerPluginQueue=[],_createPlugin=function se(te){if(te)if(te=!te.name&&te.default||te,_windowExists$2()||te.headless){var ae=te.name,oe=_isFunction$1(te),ce=ae&&!oe&&te.init?function(){this._props=[]}:te,ue={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},fe={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),te!==ce){if(_plugins[ae])return;_setDefaults$1(ce,_setDefaults$1(_copyExcluding(te,ue),fe)),_merge(ce.prototype,_merge(ue,_copyExcluding(te,fe))),_plugins[ce.prop=ae]=ce,te.targetTest&&(_harnessPlugins.push(ce),_reservedProps[ae]=1),ae=(ae==="css"?"CSS":ae.charAt(0).toUpperCase()+ae.substr(1))+"Plugin"}_addGlobal(ae,ce),te.register&&te.register(gsap$2,ce,PropTween)}else _registerPluginQueue.push(te)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function se(te,ae,oe){return te+=te<0?1:te>1?-1:0,(te*6<1?ae+(oe-ae)*te*6:te<.5?oe:te*3<2?ae+(oe-ae)*(2/3-te)*6:ae)*_255+.5|0},splitColor=function se(te,ae,oe){var ce=te?_isNumber$1(te)?[te>>16,te>>8&_255,te&_255]:0:_colorLookup.black,ue,fe,de,pe,me,_e,be,Ee,Ae,Re;if(!ce){if(te.substr(-1)===","&&(te=te.substr(0,te.length-1)),_colorLookup[te])ce=_colorLookup[te];else if(te.charAt(0)==="#"){if(te.length<6&&(ue=te.charAt(1),fe=te.charAt(2),de=te.charAt(3),te="#"+ue+ue+fe+fe+de+de+(te.length===5?te.charAt(4)+te.charAt(4):"")),te.length===9)return ce=parseInt(te.substr(1,6),16),[ce>>16,ce>>8&_255,ce&_255,parseInt(te.substr(7),16)/255];te=parseInt(te.substr(1),16),ce=[te>>16,te>>8&_255,te&_255]}else if(te.substr(0,3)==="hsl"){if(ce=Re=te.match(_strictNumExp),!ae)pe=+ce[0]%360/360,me=+ce[1]/100,_e=+ce[2]/100,fe=_e<=.5?_e*(me+1):_e+me-_e*me,ue=_e*2-fe,ce.length>3&&(ce[3]*=1),ce[0]=_hue(pe+1/3,ue,fe),ce[1]=_hue(pe,ue,fe),ce[2]=_hue(pe-1/3,ue,fe);else if(~te.indexOf("="))return ce=te.match(_numExp),oe&&ce.length<4&&(ce[3]=1),ce}else ce=te.match(_strictNumExp)||_colorLookup.transparent;ce=ce.map(Number)}return ae&&!Re&&(ue=ce[0]/_255,fe=ce[1]/_255,de=ce[2]/_255,be=Math.max(ue,fe,de),Ee=Math.min(ue,fe,de),_e=(be+Ee)/2,be===Ee?pe=me=0:(Ae=be-Ee,me=_e>.5?Ae/(2-be-Ee):Ae/(be+Ee),pe=be===ue?(fe-de)/Ae+(fe<de?6:0):be===fe?(de-ue)/Ae+2:(ue-fe)/Ae+4,pe*=60),ce[0]=~~(pe+.5),ce[1]=~~(me*100+.5),ce[2]=~~(_e*100+.5)),oe&&ce.length<4&&(ce[3]=1),ce},_colorOrderData=function se(te){var ae=[],oe=[],ce=-1;return te.split(_colorExp).forEach(function(ue){var fe=ue.match(_numWithUnitExp)||[];ae.push.apply(ae,fe),oe.push(ce+=fe.length+1)}),ae.c=oe,ae},_formatColors=function se(te,ae,oe){var ce="",ue=(te+ce).match(_colorExp),fe=ae?"hsla(":"rgba(",de=0,pe,me,_e,be;if(!ue)return te;if(ue=ue.map(function(Ee){return(Ee=splitColor(Ee,ae,1))&&fe+(ae?Ee[0]+","+Ee[1]+"%,"+Ee[2]+"%,"+Ee[3]:Ee.join(","))+")"}),oe&&(_e=_colorOrderData(te),pe=oe.c,pe.join(ce)!==_e.c.join(ce)))for(me=te.replace(_colorExp,"1").split(_numWithUnitExp),be=me.length-1;de<be;de++)ce+=me[de]+(~pe.indexOf(de)?ue.shift()||fe+"0,0,0,0)":(_e.length?_e:ue.length?ue:oe).shift());if(!me)for(me=te.split(_colorExp),be=me.length-1;de<be;de++)ce+=me[de]+ue[de];return ce+me[be]},_colorExp=function(){var se="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",te;for(te in _colorLookup)se+="|"+te+"\\b";return new RegExp(se+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function se(te){var ae=te.join(" "),oe;if(_colorExp.lastIndex=0,_colorExp.test(ae))return oe=_hslExp.test(ae),te[1]=_formatColors(te[1],oe),te[0]=_formatColors(te[0],oe,_colorOrderData(te[1])),!0},_tickerActive,_ticker=function(){var se=Date.now,te=500,ae=33,oe=se(),ce=oe,ue=1e3/240,fe=ue,de=[],pe,me,_e,be,Ee,Ae,Re=function Be(De){var Oe=se()-ce,Pe=De===!0,Ie,Fe,$e,Ve;if((Oe>te||Oe<0)&&(oe+=Oe-ae),ce+=Oe,$e=ce-oe,Ie=$e-fe,(Ie>0||Pe)&&(Ve=++be.frame,Ee=$e-be.time*1e3,be.time=$e=$e/1e3,fe+=Ie+(Ie>=ue?4:ue-Ie),Fe=1),Pe||(pe=me(Be)),Fe)for(Ae=0;Ae<de.length;Ae++)de[Ae]($e,Ee,Ve,De)};return be={time:0,frame:0,tick:function(){Re(!0)},deltaRatio:function(De){return Ee/(1e3/(De||60))},wake:function(){_coreReady&&(!_coreInitted$2&&_windowExists$2()&&(_win$3=_coreInitted$2=window,_doc$3=_win$3.document||{},_globals.gsap=gsap$2,(_win$3.gsapVersions||(_win$3.gsapVersions=[])).push(gsap$2.version),_install(_installScope||_win$3.GreenSockGlobals||!_win$3.gsap&&_win$3||{}),_registerPluginQueue.forEach(_createPlugin)),_e=typeof requestAnimationFrame<"u"&&requestAnimationFrame,pe&&be.sleep(),me=_e||function(De){return setTimeout(De,fe-be.time*1e3+1|0)},_tickerActive=1,Re(2))},sleep:function(){(_e?cancelAnimationFrame:clearTimeout)(pe),_tickerActive=0,me=_emptyFunc},lagSmoothing:function(De,Oe){te=De||1/0,ae=Math.min(Oe||33,te)},fps:function(De){ue=1e3/(De||240),fe=be.time*1e3+ue},add:function(De,Oe,Pe){var Ie=Oe?function(Fe,$e,Ve,ke){De(Fe,$e,Ve,ke),be.remove(Ie)}:De;return be.remove(De),de[Pe?"unshift":"push"](Ie),_wake(),Ie},remove:function(De,Oe){~(Oe=de.indexOf(De))&&de.splice(Oe,1)&&Ae>=Oe&&Ae--},_listeners:de},be}(),_wake=function se(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function se(te){for(var ae={},oe=te.substr(1,te.length-3).split(":"),ce=oe[0],ue=1,fe=oe.length,de,pe,me;ue<fe;ue++)pe=oe[ue],de=ue!==fe-1?pe.lastIndexOf(","):pe.length,me=pe.substr(0,de),ae[ce]=isNaN(me)?me.replace(_quotesExp,"").trim():+me,ce=pe.substr(de+1).trim();return ae},_valueInParentheses=function se(te){var ae=te.indexOf("(")+1,oe=te.indexOf(")"),ce=te.indexOf("(",ae);return te.substring(ae,~ce&&ce<oe?te.indexOf(")",oe+1):oe)},_configEaseFromString=function se(te){var ae=(te+"").split("("),oe=_easeMap[ae[0]];return oe&&ae.length>1&&oe.config?oe.config.apply(null,~te.indexOf("{")?[_parseObjectInString(ae[1])]:_valueInParentheses(te).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(te)?_easeMap._CE("",te):oe},_invertEase=function se(te){return function(ae){return 1-te(1-ae)}},_propagateYoyoEase=function se(te,ae){for(var oe=te._first,ce;oe;)oe instanceof Timeline?se(oe,ae):oe.vars.yoyoEase&&(!oe._yoyo||!oe._repeat)&&oe._yoyo!==ae&&(oe.timeline?se(oe.timeline,ae):(ce=oe._ease,oe._ease=oe._yEase,oe._yEase=ce,oe._yoyo=ae)),oe=oe._next},_parseEase=function se(te,ae){return te&&(_isFunction$1(te)?te:_easeMap[te]||_configEaseFromString(te))||ae},_insertEase=function se(te,ae,oe,ce){oe===void 0&&(oe=function(pe){return 1-ae(1-pe)}),ce===void 0&&(ce=function(pe){return pe<.5?ae(pe*2)/2:1-ae((1-pe)*2)/2});var ue={easeIn:ae,easeOut:oe,easeInOut:ce},fe;return _forEachName(te,function(de){_easeMap[de]=_globals[de]=ue,_easeMap[fe=de.toLowerCase()]=oe;for(var pe in ue)_easeMap[fe+(pe==="easeIn"?".in":pe==="easeOut"?".out":".inOut")]=_easeMap[de+"."+pe]=ue[pe]}),ue},_easeInOutFromOut=function se(te){return function(ae){return ae<.5?(1-te(1-ae*2))/2:.5+te((ae-.5)*2)/2}},_configElastic=function se(te,ae,oe){var ce=ae>=1?ae:1,ue=(oe||(te?.3:.45))/(ae<1?ae:1),fe=ue/_2PI*(Math.asin(1/ce)||0),de=function(_e){return _e===1?1:ce*Math.pow(2,-10*_e)*_sin((_e-fe)*ue)+1},pe=te==="out"?de:te==="in"?function(me){return 1-de(1-me)}:_easeInOutFromOut(de);return ue=_2PI/ue,pe.config=function(me,_e){return se(te,me,_e)},pe},_configBack=function se(te,ae){ae===void 0&&(ae=1.70158);var oe=function(fe){return fe?--fe*fe*((ae+1)*fe+ae)+1:0},ce=te==="out"?oe:te==="in"?function(ue){return 1-oe(1-ue)}:_easeInOutFromOut(oe);return ce.config=function(ue){return se(te,ue)},ce};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(se,te){var ae=te<5?te+1:te;_insertEase(se+",Power"+(ae-1),te?function(oe){return Math.pow(oe,ae)}:function(oe){return oe},function(oe){return 1-Math.pow(1-oe,ae)},function(oe){return oe<.5?Math.pow(oe*2,ae)/2:1-Math.pow((1-oe)*2,ae)/2})});_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn;_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic());(function(se,te){var ae=1/te,oe=2*ae,ce=2.5*ae,ue=function(de){return de<ae?se*de*de:de<oe?se*Math.pow(de-1.5/te,2)+.75:de<ce?se*(de-=2.25/te)*de+.9375:se*Math.pow(de-2.625/te,2)+.984375};_insertEase("Bounce",function(fe){return 1-ue(1-fe)},ue)})(7.5625,2.75);_insertEase("Expo",function(se){return Math.pow(2,10*(se-1))*se+se*se*se*se*se*se*(1-se)});_insertEase("Circ",function(se){return-(_sqrt(1-se*se)-1)});_insertEase("Sine",function(se){return se===1?1:-_cos(se*_HALF_PI)+1});_insertEase("Back",_configBack("in"),_configBack("out"),_configBack());_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function se(te,ae){te===void 0&&(te=1);var oe=1/te,ce=te+(ae?0:1),ue=ae?1:0,fe=1-_tinyNum;return function(de){return((ce*_clamp$1(0,fe,de)|0)+ue)*oe}}};_defaults$1.ease=_easeMap["quad.out"];_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(se){return _callbackNames+=se+","+se+"Params,"});var GSCache=function se(te,ae){this.id=_gsID++,te._gsap=this,this.target=te,this.harness=ae,this.get=ae?ae.get:_getProperty,this.set=ae?ae.getSetter:_getSetter},Animation=function(){function se(ae){this.vars=ae,this._delay=+ae.delay||0,(this._repeat=ae.repeat===1/0?-2:ae.repeat||0)&&(this._rDelay=ae.repeatDelay||0,this._yoyo=!!ae.yoyo||!!ae.yoyoEase),this._ts=1,_setDuration(this,+ae.duration,1,1),this.data=ae.data,_context$2&&(this._ctx=_context$2,_context$2.data.push(this)),_tickerActive||_ticker.wake()}var te=se.prototype;return te.delay=function(oe){return oe||oe===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+oe-this._delay),this._delay=oe,this):this._delay},te.duration=function(oe){return arguments.length?this.totalDuration(this._repeat>0?oe+(oe+this._rDelay)*this._repeat:oe):this.totalDuration()&&this._dur},te.totalDuration=function(oe){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?oe:(oe-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},te.totalTime=function(oe,ce){if(_wake(),!arguments.length)return this._tTime;var ue=this._dp;if(ue&&ue.smoothChildTiming&&this._ts){for(_alignPlayhead(this,oe),!ue._dp||ue.parent||_postAddChecks(ue,this);ue&&ue.parent;)ue.parent._time!==ue._start+(ue._ts>=0?ue._tTime/ue._ts:(ue.totalDuration()-ue._tTime)/-ue._ts)&&ue.totalTime(ue._tTime,!0),ue=ue.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&oe<this._tDur||this._ts<0&&oe>0||!this._tDur&&!oe)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==oe||!this._dur&&!ce||this._initted&&Math.abs(this._zTime)===_tinyNum||!oe&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=oe),_lazySafeRender(this,oe,ce)),this},te.time=function(oe,ce){return arguments.length?this.totalTime(Math.min(this.totalDuration(),oe+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(oe?this._dur:0),ce):this._time},te.totalProgress=function(oe,ce){return arguments.length?this.totalTime(this.totalDuration()*oe,ce):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},te.progress=function(oe,ce){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-oe:oe)+_elapsedCycleDuration(this),ce):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},te.iteration=function(oe,ce){var ue=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(oe-1)*ue,ce):this._repeat?_animationCycle(this._tTime,ue)+1:1},te.timeScale=function(oe,ce){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===oe)return this;var ue=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+oe||0,this._ts=this._ps||oe===-1e-8?0:this._rts,this.totalTime(_clamp$1(-Math.abs(this._delay),this._tDur,ue),ce!==!1),_setEnd(this),_recacheAncestors(this)},te.paused=function(oe){return arguments.length?(this._ps!==oe&&(this._ps=oe,oe?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},te.startTime=function(oe){if(arguments.length){this._start=oe;var ce=this.parent||this._dp;return ce&&(ce._sort||!this.parent)&&_addToTimeline(ce,this,oe-this._delay),this}return this._start},te.endTime=function(oe){return this._start+(_isNotFalse(oe)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},te.rawTime=function(oe){var ce=this.parent||this._dp;return ce?oe&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(ce.rawTime(oe),this):this._tTime:this._tTime},te.revert=function(oe){oe===void 0&&(oe=_revertConfig);var ce=_reverting$1;return _reverting$1=oe,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(oe),this.totalTime(-.01,oe.suppressEvents)),this.data!=="nested"&&oe.kill!==!1&&this.kill(),_reverting$1=ce,this},te.globalTime=function(oe){for(var ce=this,ue=arguments.length?oe:ce.rawTime();ce;)ue=ce._start+ue/(Math.abs(ce._ts)||1),ce=ce._dp;return!this.parent&&this._sat?this._sat.globalTime(oe):ue},te.repeat=function(oe){return arguments.length?(this._repeat=oe===1/0?-2:oe,_onUpdateTotalDuration(this)):this._repeat===-2?1/0:this._repeat},te.repeatDelay=function(oe){if(arguments.length){var ce=this._time;return this._rDelay=oe,_onUpdateTotalDuration(this),ce?this.time(ce):this}return this._rDelay},te.yoyo=function(oe){return arguments.length?(this._yoyo=oe,this):this._yoyo},te.seek=function(oe,ce){return this.totalTime(_parsePosition$1(this,oe),_isNotFalse(ce))},te.restart=function(oe,ce){return this.play().totalTime(oe?-this._delay:0,_isNotFalse(ce)),this._dur||(this._zTime=-1e-8),this},te.play=function(oe,ce){return oe!=null&&this.seek(oe,ce),this.reversed(!1).paused(!1)},te.reverse=function(oe,ce){return oe!=null&&this.seek(oe||this.totalDuration(),ce),this.reversed(!0).paused(!1)},te.pause=function(oe,ce){return oe!=null&&this.seek(oe,ce),this.paused(!0)},te.resume=function(){return this.paused(!1)},te.reversed=function(oe){return arguments.length?(!!oe!==this.reversed()&&this.timeScale(-this._rts||(oe?-1e-8:0)),this):this._rts<0},te.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},te.isActive=function(){var oe=this.parent||this._dp,ce=this._start,ue;return!!(!oe||this._ts&&this._initted&&oe.isActive()&&(ue=oe.rawTime(!0))>=ce&&ue<this.endTime(!0)-_tinyNum)},te.eventCallback=function(oe,ce,ue){var fe=this.vars;return arguments.length>1?(ce?(fe[oe]=ce,ue&&(fe[oe+"Params"]=ue),oe==="onUpdate"&&(this._onUpdate=ce)):delete fe[oe],this):fe[oe]},te.then=function(oe){var ce=this;return new Promise(function(ue){var fe=_isFunction$1(oe)?oe:_passThrough$1,de=function(){var me=ce.then;ce.then=null,_isFunction$1(fe)&&(fe=fe(ce))&&(fe.then||fe===ce)&&(ce.then=me),ue(fe),ce.then=me};ce._initted&&ce.totalProgress()===1&&ce._ts>=0||!ce._tTime&&ce._ts<0?de():ce._prom=de})},te.kill=function(){_interrupt(this)},se}();_setDefaults$1(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Timeline=function(se){_inheritsLoose(te,se);function te(oe,ce){var ue;return oe===void 0&&(oe={}),ue=se.call(this,oe)||this,ue.labels={},ue.smoothChildTiming=!!oe.smoothChildTiming,ue.autoRemoveChildren=!!oe.autoRemoveChildren,ue._sort=_isNotFalse(oe.sortChildren),_globalTimeline&&_addToTimeline(oe.parent||_globalTimeline,_assertThisInitialized(ue),ce),oe.reversed&&ue.reverse(),oe.paused&&ue.paused(!0),oe.scrollTrigger&&_scrollTrigger(_assertThisInitialized(ue),oe.scrollTrigger),ue}var ae=te.prototype;return ae.to=function(ce,ue,fe){return _createTweenType(0,arguments,this),this},ae.from=function(ce,ue,fe){return _createTweenType(1,arguments,this),this},ae.fromTo=function(ce,ue,fe,de){return _createTweenType(2,arguments,this),this},ae.set=function(ce,ue,fe){return ue.duration=0,ue.parent=this,_inheritDefaults(ue).repeatDelay||(ue.repeat=0),ue.immediateRender=!!ue.immediateRender,new Tween(ce,ue,_parsePosition$1(this,fe),1),this},ae.call=function(ce,ue,fe){return _addToTimeline(this,Tween.delayedCall(0,ce,ue),fe)},ae.staggerTo=function(ce,ue,fe,de,pe,me,_e){return fe.duration=ue,fe.stagger=fe.stagger||de,fe.onComplete=me,fe.onCompleteParams=_e,fe.parent=this,new Tween(ce,fe,_parsePosition$1(this,pe)),this},ae.staggerFrom=function(ce,ue,fe,de,pe,me,_e){return fe.runBackwards=1,_inheritDefaults(fe).immediateRender=_isNotFalse(fe.immediateRender),this.staggerTo(ce,ue,fe,de,pe,me,_e)},ae.staggerFromTo=function(ce,ue,fe,de,pe,me,_e,be){return de.startAt=fe,_inheritDefaults(de).immediateRender=_isNotFalse(de.immediateRender),this.staggerTo(ce,ue,de,pe,me,_e,be)},ae.render=function(ce,ue,fe){var de=this._time,pe=this._dirty?this.totalDuration():this._tDur,me=this._dur,_e=ce<=0?0:_roundPrecise(ce),be=this._zTime<0!=ce<0&&(this._initted||!me),Ee,Ae,Re,Be,De,Oe,Pe,Ie,Fe,$e,Ve,ke;if(this!==_globalTimeline&&_e>pe&&ce>=0&&(_e=pe),_e!==this._tTime||fe||be){if(de!==this._time&&me&&(_e+=this._time-de,ce+=this._time-de),Ee=_e,Fe=this._start,Ie=this._ts,Oe=!Ie,be&&(me||(de=this._zTime),(ce||!ue)&&(this._zTime=ce)),this._repeat){if(Ve=this._yoyo,De=me+this._rDelay,this._repeat<-1&&ce<0)return this.totalTime(De*100+ce,ue,fe);if(Ee=_roundPrecise(_e%De),_e===pe?(Be=this._repeat,Ee=me):($e=_roundPrecise(_e/De),Be=~~$e,Be&&Be===$e&&(Ee=me,Be--),Ee>me&&(Ee=me)),$e=_animationCycle(this._tTime,De),!de&&this._tTime&&$e!==Be&&this._tTime-$e*De-this._dur<=0&&($e=Be),Ve&&Be&1&&(Ee=me-Ee,ke=1),Be!==$e&&!this._lock){var We=Ve&&$e&1,je=We===(Ve&&Be&1);if(Be<$e&&(We=!We),de=We?0:_e%me?me:_e,this._lock=1,this.render(de||(ke?0:_roundPrecise(Be*De)),ue,!me)._lock=0,this._tTime=_e,!ue&&this.parent&&_callback$1(this,"onRepeat"),this.vars.repeatRefresh&&!ke&&(this.invalidate()._lock=1),de&&de!==this._time||Oe!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(me=this._dur,pe=this._tDur,je&&(this._lock=2,de=We?me:-1e-4,this.render(de,!0),this.vars.repeatRefresh&&!ke&&this.invalidate()),this._lock=0,!this._ts&&!Oe)return this;_propagateYoyoEase(this,ke)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(Pe=_findNextPauseTween(this,_roundPrecise(de),_roundPrecise(Ee)),Pe&&(_e-=Ee-(Ee=Pe._start))),this._tTime=_e,this._time=Ee,this._act=!Ie,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=ce,de=0),!de&&Ee&&!ue&&!Be&&(_callback$1(this,"onStart"),this._tTime!==_e))return this;if(Ee>=de&&ce>=0)for(Ae=this._first;Ae;){if(Re=Ae._next,(Ae._act||Ee>=Ae._start)&&Ae._ts&&Pe!==Ae){if(Ae.parent!==this)return this.render(ce,ue,fe);if(Ae.render(Ae._ts>0?(Ee-Ae._start)*Ae._ts:(Ae._dirty?Ae.totalDuration():Ae._tDur)+(Ee-Ae._start)*Ae._ts,ue,fe),Ee!==this._time||!this._ts&&!Oe){Pe=0,Re&&(_e+=this._zTime=-1e-8);break}}Ae=Re}else{Ae=this._last;for(var He=ce<0?ce:Ee;Ae;){if(Re=Ae._prev,(Ae._act||He<=Ae._end)&&Ae._ts&&Pe!==Ae){if(Ae.parent!==this)return this.render(ce,ue,fe);if(Ae.render(Ae._ts>0?(He-Ae._start)*Ae._ts:(Ae._dirty?Ae.totalDuration():Ae._tDur)+(He-Ae._start)*Ae._ts,ue,fe||_reverting$1&&(Ae._initted||Ae._startAt)),Ee!==this._time||!this._ts&&!Oe){Pe=0,Re&&(_e+=this._zTime=He?-1e-8:_tinyNum);break}}Ae=Re}}if(Pe&&!ue&&(this.pause(),Pe.render(Ee>=de?0:-1e-8)._zTime=Ee>=de?1:-1,this._ts))return this._start=Fe,_setEnd(this),this.render(ce,ue,fe);this._onUpdate&&!ue&&_callback$1(this,"onUpdate",!0),(_e===pe&&this._tTime>=this.totalDuration()||!_e&&de)&&(Fe===this._start||Math.abs(Ie)!==Math.abs(this._ts))&&(this._lock||((ce||!me)&&(_e===pe&&this._ts>0||!_e&&this._ts<0)&&_removeFromParent(this,1),!ue&&!(ce<0&&!de)&&(_e||de||!pe)&&(_callback$1(this,_e===pe&&ce>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(_e<pe&&this.timeScale()>0)&&this._prom())))}return this},ae.add=function(ce,ue){var fe=this;if(_isNumber$1(ue)||(ue=_parsePosition$1(this,ue,ce)),!(ce instanceof Animation)){if(_isArray(ce))return ce.forEach(function(de){return fe.add(de,ue)}),this;if(_isString$1(ce))return this.addLabel(ce,ue);if(_isFunction$1(ce))ce=Tween.delayedCall(0,ce);else return this}return this!==ce?_addToTimeline(this,ce,ue):this},ae.getChildren=function(ce,ue,fe,de){ce===void 0&&(ce=!0),ue===void 0&&(ue=!0),fe===void 0&&(fe=!0),de===void 0&&(de=-1e8);for(var pe=[],me=this._first;me;)me._start>=de&&(me instanceof Tween?ue&&pe.push(me):(fe&&pe.push(me),ce&&pe.push.apply(pe,me.getChildren(!0,ue,fe)))),me=me._next;return pe},ae.getById=function(ce){for(var ue=this.getChildren(1,1,1),fe=ue.length;fe--;)if(ue[fe].vars.id===ce)return ue[fe]},ae.remove=function(ce){return _isString$1(ce)?this.removeLabel(ce):_isFunction$1(ce)?this.killTweensOf(ce):(ce.parent===this&&_removeLinkedListItem(this,ce),ce===this._recent&&(this._recent=this._last),_uncache(this))},ae.totalTime=function(ce,ue){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(this._ts>0?ce/this._ts:(this.totalDuration()-ce)/-this._ts))),se.prototype.totalTime.call(this,ce,ue),this._forcing=0,this):this._tTime},ae.addLabel=function(ce,ue){return this.labels[ce]=_parsePosition$1(this,ue),this},ae.removeLabel=function(ce){return delete this.labels[ce],this},ae.addPause=function(ce,ue,fe){var de=Tween.delayedCall(0,ue||_emptyFunc,fe);return de.data="isPause",this._hasPause=1,_addToTimeline(this,de,_parsePosition$1(this,ce))},ae.removePause=function(ce){var ue=this._first;for(ce=_parsePosition$1(this,ce);ue;)ue._start===ce&&ue.data==="isPause"&&_removeFromParent(ue),ue=ue._next},ae.killTweensOf=function(ce,ue,fe){for(var de=this.getTweensOf(ce,fe),pe=de.length;pe--;)_overwritingTween!==de[pe]&&de[pe].kill(ce,ue);return this},ae.getTweensOf=function(ce,ue){for(var fe=[],de=toArray(ce),pe=this._first,me=_isNumber$1(ue),_e;pe;)pe instanceof Tween?_arrayContainsAny(pe._targets,de)&&(me?(!_overwritingTween||pe._initted&&pe._ts)&&pe.globalTime(0)<=ue&&pe.globalTime(pe.totalDuration())>ue:!ue||pe.isActive())&&fe.push(pe):(_e=pe.getTweensOf(de,ue)).length&&fe.push.apply(fe,_e),pe=pe._next;return fe},ae.tweenTo=function(ce,ue){ue=ue||{};var fe=this,de=_parsePosition$1(fe,ce),pe=ue,me=pe.startAt,_e=pe.onStart,be=pe.onStartParams,Ee=pe.immediateRender,Ae,Re=Tween.to(fe,_setDefaults$1({ease:ue.ease||"none",lazy:!1,immediateRender:!1,time:de,overwrite:"auto",duration:ue.duration||Math.abs((de-(me&&"time"in me?me.time:fe._time))/fe.timeScale())||_tinyNum,onStart:function(){if(fe.pause(),!Ae){var De=ue.duration||Math.abs((de-(me&&"time"in me?me.time:fe._time))/fe.timeScale());Re._dur!==De&&_setDuration(Re,De,0,1).render(Re._time,!0,!0),Ae=1}_e&&_e.apply(Re,be||[])}},ue));return Ee?Re.render(0):Re},ae.tweenFromTo=function(ce,ue,fe){return this.tweenTo(ue,_setDefaults$1({startAt:{time:_parsePosition$1(this,ce)}},fe))},ae.recent=function(){return this._recent},ae.nextLabel=function(ce){return ce===void 0&&(ce=this._time),_getLabelInDirection(this,_parsePosition$1(this,ce))},ae.previousLabel=function(ce){return ce===void 0&&(ce=this._time),_getLabelInDirection(this,_parsePosition$1(this,ce),1)},ae.currentLabel=function(ce){return arguments.length?this.seek(ce,!0):this.previousLabel(this._time+_tinyNum)},ae.shiftChildren=function(ce,ue,fe){fe===void 0&&(fe=0);for(var de=this._first,pe=this.labels,me;de;)de._start>=fe&&(de._start+=ce,de._end+=ce),de=de._next;if(ue)for(me in pe)pe[me]>=fe&&(pe[me]+=ce);return _uncache(this)},ae.invalidate=function(ce){var ue=this._first;for(this._lock=0;ue;)ue.invalidate(ce),ue=ue._next;return se.prototype.invalidate.call(this,ce)},ae.clear=function(ce){ce===void 0&&(ce=!0);for(var ue=this._first,fe;ue;)fe=ue._next,this.remove(ue),ue=fe;return this._dp&&(this._time=this._tTime=this._pTime=0),ce&&(this.labels={}),_uncache(this)},ae.totalDuration=function(ce){var ue=0,fe=this,de=fe._last,pe=_bigNum$1,me,_e,be;if(arguments.length)return fe.timeScale((fe._repeat<0?fe.duration():fe.totalDuration())/(fe.reversed()?-ce:ce));if(fe._dirty){for(be=fe.parent;de;)me=de._prev,de._dirty&&de.totalDuration(),_e=de._start,_e>pe&&fe._sort&&de._ts&&!fe._lock?(fe._lock=1,_addToTimeline(fe,de,_e-de._delay,1)._lock=0):pe=_e,_e<0&&de._ts&&(ue-=_e,(!be&&!fe._dp||be&&be.smoothChildTiming)&&(fe._start+=_e/fe._ts,fe._time-=_e,fe._tTime-=_e),fe.shiftChildren(-_e,!1,-1/0),pe=0),de._end>ue&&de._ts&&(ue=de._end),de=me;_setDuration(fe,fe===_globalTimeline&&fe._time>ue?fe._time:ue,1,1),fe._dirty=0}return fe._tDur},te.updateRoot=function(ce){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(ce,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var ue=_globalTimeline._first;if((!ue||!ue._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;ue&&!ue._ts;)ue=ue._next;ue||_ticker.sleep()}}},te}(Animation);_setDefaults$1(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function se(te,ae,oe,ce,ue,fe,de){var pe=new PropTween(this._pt,te,ae,0,1,_renderComplexString,null,ue),me=0,_e=0,be,Ee,Ae,Re,Be,De,Oe,Pe;for(pe.b=oe,pe.e=ce,oe+="",ce+="",(Oe=~ce.indexOf("random("))&&(ce=_replaceRandom(ce)),fe&&(Pe=[oe,ce],fe(Pe,te,ae),oe=Pe[0],ce=Pe[1]),Ee=oe.match(_complexStringNumExp)||[];be=_complexStringNumExp.exec(ce);)Re=be[0],Be=ce.substring(me,be.index),Ae?Ae=(Ae+1)%5:Be.substr(-5)==="rgba("&&(Ae=1),Re!==Ee[_e++]&&(De=parseFloat(Ee[_e-1])||0,pe._pt={_next:pe._pt,p:Be||_e===1?Be:",",s:De,c:Re.charAt(1)==="="?_parseRelative(De,Re)-De:parseFloat(Re)-De,m:Ae&&Ae<4?Math.round:0},me=_complexStringNumExp.lastIndex);return pe.c=me<ce.length?ce.substring(me,ce.length):"",pe.fp=de,(_relExp.test(ce)||Oe)&&(pe.e=0),this._pt=pe,pe},_addPropTween=function se(te,ae,oe,ce,ue,fe,de,pe,me,_e){_isFunction$1(ce)&&(ce=ce(ue||0,te,fe));var be=te[ae],Ee=oe!=="get"?oe:_isFunction$1(be)?me?te[ae.indexOf("set")||!_isFunction$1(te["get"+ae.substr(3)])?ae:"get"+ae.substr(3)](me):te[ae]():be,Ae=_isFunction$1(be)?me?_setterFuncWithParam:_setterFunc:_setterPlain,Re;if(_isString$1(ce)&&(~ce.indexOf("random(")&&(ce=_replaceRandom(ce)),ce.charAt(1)==="="&&(Re=_parseRelative(Ee,ce)+(getUnit(Ee)||0),(Re||Re===0)&&(ce=Re))),!_e||Ee!==ce||_forceAllPropTweens)return!isNaN(Ee*ce)&&ce!==""?(Re=new PropTween(this._pt,te,ae,+Ee||0,ce-(Ee||0),typeof be=="boolean"?_renderBoolean:_renderPlain,0,Ae),me&&(Re.fp=me),de&&Re.modifier(de,this,te),this._pt=Re):(!be&&!(ae in te)&&_missingPlugin(ae,ce),_addComplexStringPropTween.call(this,te,ae,Ee,ce,Ae,pe||_config.stringFilter,me))},_processVars=function se(te,ae,oe,ce,ue){if(_isFunction$1(te)&&(te=_parseFuncOrString(te,ue,ae,oe,ce)),!_isObject$1(te)||te.style&&te.nodeType||_isArray(te)||_isTypedArray(te))return _isString$1(te)?_parseFuncOrString(te,ue,ae,oe,ce):te;var fe={},de;for(de in te)fe[de]=_parseFuncOrString(te[de],ue,ae,oe,ce);return fe},_checkPlugin=function se(te,ae,oe,ce,ue,fe){var de,pe,me,_e;if(_plugins[te]&&(de=new _plugins[te]).init(ue,de.rawVars?ae[te]:_processVars(ae[te],ce,ue,fe,oe),oe,ce,fe)!==!1&&(oe._pt=pe=new PropTween(oe._pt,ue,te,0,1,de.render,de,0,de.priority),oe!==_quickTween))for(me=oe._ptLookup[oe._targets.indexOf(ue)],_e=de._props.length;_e--;)me[de._props[_e]]=pe;return de},_overwritingTween,_forceAllPropTweens,_initTween=function se(te,ae,oe){var ce=te.vars,ue=ce.ease,fe=ce.startAt,de=ce.immediateRender,pe=ce.lazy,me=ce.onUpdate,_e=ce.runBackwards,be=ce.yoyoEase,Ee=ce.keyframes,Ae=ce.autoRevert,Re=te._dur,Be=te._startAt,De=te._targets,Oe=te.parent,Pe=Oe&&Oe.data==="nested"?Oe.vars.targets:De,Ie=te._overwrite==="auto"&&!_suppressOverwrites$1,Fe=te.timeline,$e,Ve,ke,We,je,He,tt,Ze,nt,at,mt,Ye,rt;if(Fe&&(!Ee||!ue)&&(ue="none"),te._ease=_parseEase(ue,_defaults$1.ease),te._yEase=be?_invertEase(_parseEase(be===!0?ue:be,_defaults$1.ease)):0,be&&te._yoyo&&!te._repeat&&(be=te._yEase,te._yEase=te._ease,te._ease=be),te._from=!Fe&&!!ce.runBackwards,!Fe||Ee&&!ce.stagger){if(Ze=De[0]?_getCache(De[0]).harness:0,Ye=Ze&&ce[Ze.prop],$e=_copyExcluding(ce,_reservedProps),Be&&(Be._zTime<0&&Be.progress(1),ae<0&&_e&&de&&!Ae?Be.render(-1,!0):Be.revert(_e&&Re?_revertConfigNoKill:_startAtRevertConfig),Be._lazy=0),fe){if(_removeFromParent(te._startAt=Tween.set(De,_setDefaults$1({data:"isStart",overwrite:!1,parent:Oe,immediateRender:!0,lazy:!Be&&_isNotFalse(pe),startAt:null,delay:0,onUpdate:me&&function(){return _callback$1(te,"onUpdate")},stagger:0},fe))),te._startAt._dp=0,te._startAt._sat=te,ae<0&&(_reverting$1||!de&&!Ae)&&te._startAt.revert(_revertConfigNoKill),de&&Re&&ae<=0&&oe<=0){ae&&(te._zTime=ae);return}}else if(_e&&Re&&!Be){if(ae&&(de=!1),ke=_setDefaults$1({overwrite:!1,data:"isFromStart",lazy:de&&!Be&&_isNotFalse(pe),immediateRender:de,stagger:0,parent:Oe},$e),Ye&&(ke[Ze.prop]=Ye),_removeFromParent(te._startAt=Tween.set(De,ke)),te._startAt._dp=0,te._startAt._sat=te,ae<0&&(_reverting$1?te._startAt.revert(_revertConfigNoKill):te._startAt.render(-1,!0)),te._zTime=ae,!de)se(te._startAt,_tinyNum,_tinyNum);else if(!ae)return}for(te._pt=te._ptCache=0,pe=Re&&_isNotFalse(pe)||pe&&!Re,Ve=0;Ve<De.length;Ve++){if(je=De[Ve],tt=je._gsap||_harness(De)[Ve]._gsap,te._ptLookup[Ve]=at={},_lazyLookup[tt.id]&&_lazyTweens.length&&_lazyRender(),mt=Pe===De?Ve:Pe.indexOf(je),Ze&&(nt=new Ze).init(je,Ye||$e,te,mt,Pe)!==!1&&(te._pt=We=new PropTween(te._pt,je,nt.name,0,1,nt.render,nt,0,nt.priority),nt._props.forEach(function(lt){at[lt]=We}),nt.priority&&(He=1)),!Ze||Ye)for(ke in $e)_plugins[ke]&&(nt=_checkPlugin(ke,$e,te,mt,je,Pe))?nt.priority&&(He=1):at[ke]=We=_addPropTween.call(te,je,ke,"get",$e[ke],mt,Pe,0,ce.stringFilter);te._op&&te._op[Ve]&&te.kill(je,te._op[Ve]),Ie&&te._pt&&(_overwritingTween=te,_globalTimeline.killTweensOf(je,at,te.globalTime(ae)),rt=!te.parent,_overwritingTween=0),te._pt&&pe&&(_lazyLookup[tt.id]=1)}He&&_sortPropTweensByPriority(te),te._onInit&&te._onInit(te)}te._onUpdate=me,te._initted=(!te._op||te._pt)&&!rt,Ee&&ae<=0&&Fe.render(_bigNum$1,!0,!0)},_updatePropTweens=function se(te,ae,oe,ce,ue,fe,de,pe){var me=(te._pt&&te._ptCache||(te._ptCache={}))[ae],_e,be,Ee,Ae;if(!me)for(me=te._ptCache[ae]=[],Ee=te._ptLookup,Ae=te._targets.length;Ae--;){if(_e=Ee[Ae][ae],_e&&_e.d&&_e.d._pt)for(_e=_e.d._pt;_e&&_e.p!==ae&&_e.fp!==ae;)_e=_e._next;if(!_e)return _forceAllPropTweens=1,te.vars[ae]="+=0",_initTween(te,de),_forceAllPropTweens=0,pe?_warn(ae+" not eligible for reset"):1;me.push(_e)}for(Ae=me.length;Ae--;)be=me[Ae],_e=be._pt||be,_e.s=(ce||ce===0)&&!ue?ce:_e.s+(ce||0)+fe*_e.c,_e.c=oe-_e.s,be.e&&(be.e=_round$1(oe)+getUnit(be.e)),be.b&&(be.b=_e.s+getUnit(be.b))},_addAliasesToVars=function se(te,ae){var oe=te[0]?_getCache(te[0]).harness:0,ce=oe&&oe.aliases,ue,fe,de,pe;if(!ce)return ae;ue=_merge({},ae);for(fe in ce)if(fe in ue)for(pe=ce[fe].split(","),de=pe.length;de--;)ue[pe[de]]=ue[fe];return ue},_parseKeyframe=function se(te,ae,oe,ce){var ue=ae.ease||ce||"power1.inOut",fe,de;if(_isArray(ae))de=oe[te]||(oe[te]=[]),ae.forEach(function(pe,me){return de.push({t:me/(ae.length-1)*100,v:pe,e:ue})});else for(fe in ae)de=oe[fe]||(oe[fe]=[]),fe==="ease"||de.push({t:parseFloat(te),v:ae[fe],e:ue})},_parseFuncOrString=function se(te,ae,oe,ce,ue){return _isFunction$1(te)?te.call(ae,oe,ce,ue):_isString$1(te)&&~te.indexOf("random(")?_replaceRandom(te):te},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={};_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(se){return _staggerPropsToSkip[se]=1});var Tween=function(se){_inheritsLoose(te,se);function te(oe,ce,ue,fe){var de;typeof ce=="number"&&(ue.duration=ce,ce=ue,ue=null),de=se.call(this,fe?ce:_inheritDefaults(ce))||this;var pe=de.vars,me=pe.duration,_e=pe.delay,be=pe.immediateRender,Ee=pe.stagger,Ae=pe.overwrite,Re=pe.keyframes,Be=pe.defaults,De=pe.scrollTrigger,Oe=pe.yoyoEase,Pe=ce.parent||_globalTimeline,Ie=(_isArray(oe)||_isTypedArray(oe)?_isNumber$1(oe[0]):"length"in ce)?[oe]:toArray(oe),Fe,$e,Ve,ke,We,je,He,tt;if(de._targets=Ie.length?_harness(Ie):_warn("GSAP target "+oe+" not found. https://gsap.com",!_config.nullTargetWarn)||[],de._ptLookup=[],de._overwrite=Ae,Re||Ee||_isFuncOrString(me)||_isFuncOrString(_e)){if(ce=de.vars,Fe=de.timeline=new Timeline({data:"nested",defaults:Be||{},targets:Pe&&Pe.data==="nested"?Pe.vars.targets:Ie}),Fe.kill(),Fe.parent=Fe._dp=_assertThisInitialized(de),Fe._start=0,Ee||_isFuncOrString(me)||_isFuncOrString(_e)){if(ke=Ie.length,He=Ee&&distribute(Ee),_isObject$1(Ee))for(We in Ee)~_staggerTweenProps.indexOf(We)&&(tt||(tt={}),tt[We]=Ee[We]);for($e=0;$e<ke;$e++)Ve=_copyExcluding(ce,_staggerPropsToSkip),Ve.stagger=0,Oe&&(Ve.yoyoEase=Oe),tt&&_merge(Ve,tt),je=Ie[$e],Ve.duration=+_parseFuncOrString(me,_assertThisInitialized(de),$e,je,Ie),Ve.delay=(+_parseFuncOrString(_e,_assertThisInitialized(de),$e,je,Ie)||0)-de._delay,!Ee&&ke===1&&Ve.delay&&(de._delay=_e=Ve.delay,de._start+=_e,Ve.delay=0),Fe.to(je,Ve,He?He($e,je,Ie):0),Fe._ease=_easeMap.none;Fe.duration()?me=_e=0:de.timeline=0}else if(Re){_inheritDefaults(_setDefaults$1(Fe.vars.defaults,{ease:"none"})),Fe._ease=_parseEase(Re.ease||ce.ease||"none");var Ze=0,nt,at,mt;if(_isArray(Re))Re.forEach(function(Ye){return Fe.to(Ie,Ye,">")}),Fe.duration();else{Ve={};for(We in Re)We==="ease"||We==="easeEach"||_parseKeyframe(We,Re[We],Ve,Re.easeEach);for(We in Ve)for(nt=Ve[We].sort(function(Ye,rt){return Ye.t-rt.t}),Ze=0,$e=0;$e<nt.length;$e++)at=nt[$e],mt={ease:at.e,duration:(at.t-($e?nt[$e-1].t:0))/100*me},mt[We]=at.v,Fe.to(Ie,mt,Ze),Ze+=mt.duration;Fe.duration()<me&&Fe.to({},{duration:me-Fe.duration()})}}me||de.duration(me=Fe.duration())}else de.timeline=0;return Ae===!0&&!_suppressOverwrites$1&&(_overwritingTween=_assertThisInitialized(de),_globalTimeline.killTweensOf(Ie),_overwritingTween=0),_addToTimeline(Pe,_assertThisInitialized(de),ue),ce.reversed&&de.reverse(),ce.paused&&de.paused(!0),(be||!me&&!Re&&de._start===_roundPrecise(Pe._time)&&_isNotFalse(be)&&_hasNoPausedAncestors(_assertThisInitialized(de))&&Pe.data!=="nested")&&(de._tTime=-1e-8,de.render(Math.max(0,-_e)||0)),De&&_scrollTrigger(_assertThisInitialized(de),De),de}var ae=te.prototype;return ae.render=function(ce,ue,fe){var de=this._time,pe=this._tDur,me=this._dur,_e=ce<0,be=ce>pe-_tinyNum&&!_e?pe:ce<_tinyNum?0:ce,Ee,Ae,Re,Be,De,Oe,Pe,Ie,Fe;if(!me)_renderZeroDurationTween(this,ce,ue,fe);else if(be!==this._tTime||!ce||fe||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==_e||this._lazy){if(Ee=be,Ie=this.timeline,this._repeat){if(Be=me+this._rDelay,this._repeat<-1&&_e)return this.totalTime(Be*100+ce,ue,fe);if(Ee=_roundPrecise(be%Be),be===pe?(Re=this._repeat,Ee=me):(De=_roundPrecise(be/Be),Re=~~De,Re&&Re===De?(Ee=me,Re--):Ee>me&&(Ee=me)),Oe=this._yoyo&&Re&1,Oe&&(Fe=this._yEase,Ee=me-Ee),De=_animationCycle(this._tTime,Be),Ee===de&&!fe&&this._initted&&Re===De)return this._tTime=be,this;Re!==De&&(Ie&&this._yEase&&_propagateYoyoEase(Ie,Oe),this.vars.repeatRefresh&&!Oe&&!this._lock&&Ee!==Be&&this._initted&&(this._lock=fe=1,this.render(_roundPrecise(Be*Re),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,_e?ce:Ee,fe,ue,be))return this._tTime=0,this;if(de!==this._time&&!(fe&&this.vars.repeatRefresh&&Re!==De))return this;if(me!==this._dur)return this.render(ce,ue,fe)}if(this._tTime=be,this._time=Ee,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Pe=(Fe||this._ease)(Ee/me),this._from&&(this.ratio=Pe=1-Pe),Ee&&!de&&!ue&&!Re&&(_callback$1(this,"onStart"),this._tTime!==be))return this;for(Ae=this._pt;Ae;)Ae.r(Pe,Ae.d),Ae=Ae._next;Ie&&Ie.render(ce<0?ce:Ie._dur*Ie._ease(Ee/this._dur),ue,fe)||this._startAt&&(this._zTime=ce),this._onUpdate&&!ue&&(_e&&_rewindStartAt(this,ce,ue,fe),_callback$1(this,"onUpdate")),this._repeat&&Re!==De&&this.vars.onRepeat&&!ue&&this.parent&&_callback$1(this,"onRepeat"),(be===this._tDur||!be)&&this._tTime===be&&(_e&&!this._onUpdate&&_rewindStartAt(this,ce,!0,!0),(ce||!me)&&(be===this._tDur&&this._ts>0||!be&&this._ts<0)&&_removeFromParent(this,1),!ue&&!(_e&&!de)&&(be||de||Oe)&&(_callback$1(this,be===pe?"onComplete":"onReverseComplete",!0),this._prom&&!(be<pe&&this.timeScale()>0)&&this._prom()))}return this},ae.targets=function(){return this._targets},ae.invalidate=function(ce){return(!ce||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(ce),se.prototype.invalidate.call(this,ce)},ae.resetTo=function(ce,ue,fe,de,pe){_tickerActive||_ticker.wake(),this._ts||this.play();var me=Math.min(this._dur,(this._dp._time-this._start)*this._ts),_e;return this._initted||_initTween(this,me),_e=this._ease(me/this._dur),_updatePropTweens(this,ce,ue,fe,de,_e,me,pe)?this.resetTo(ce,ue,fe,de,1):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},ae.kill=function(ce,ue){if(ue===void 0&&(ue="all"),!ce&&(!ue||ue==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!_reverting$1),this;if(this.timeline){var fe=this.timeline.totalDuration();return this.timeline.killTweensOf(ce,ue,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&fe!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/fe,0,1),this}var de=this._targets,pe=ce?toArray(ce):de,me=this._ptLookup,_e=this._pt,be,Ee,Ae,Re,Be,De,Oe;if((!ue||ue==="all")&&_arraysMatch(de,pe))return ue==="all"&&(this._pt=0),_interrupt(this);for(be=this._op=this._op||[],ue!=="all"&&(_isString$1(ue)&&(Be={},_forEachName(ue,function(Pe){return Be[Pe]=1}),ue=Be),ue=_addAliasesToVars(de,ue)),Oe=de.length;Oe--;)if(~pe.indexOf(de[Oe])){Ee=me[Oe],ue==="all"?(be[Oe]=ue,Re=Ee,Ae={}):(Ae=be[Oe]=be[Oe]||{},Re=ue);for(Be in Re)De=Ee&&Ee[Be],De&&((!("kill"in De.d)||De.d.kill(Be)===!0)&&_removeLinkedListItem(this,De,"_pt"),delete Ee[Be]),Ae!=="all"&&(Ae[Be]=1)}return this._initted&&!this._pt&&_e&&_interrupt(this),this},te.to=function(ce,ue){return new te(ce,ue,arguments[2])},te.from=function(ce,ue){return _createTweenType(1,arguments)},te.delayedCall=function(ce,ue,fe,de){return new te(ue,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:ce,onComplete:ue,onReverseComplete:ue,onCompleteParams:fe,onReverseCompleteParams:fe,callbackScope:de})},te.fromTo=function(ce,ue,fe){return _createTweenType(2,arguments)},te.set=function(ce,ue){return ue.duration=0,ue.repeatDelay||(ue.repeat=0),new te(ce,ue)},te.killTweensOf=function(ce,ue,fe){return _globalTimeline.killTweensOf(ce,ue,fe)},te}(Animation);_setDefaults$1(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_forEachName("staggerTo,staggerFrom,staggerFromTo",function(se){Tween[se]=function(){var te=new Timeline,ae=_slice.call(arguments,0);return ae.splice(se==="staggerFromTo"?5:4,0,0),te[se].apply(te,ae)}});var _setterPlain=function se(te,ae,oe){return te[ae]=oe},_setterFunc=function se(te,ae,oe){return te[ae](oe)},_setterFuncWithParam=function se(te,ae,oe,ce){return te[ae](ce.fp,oe)},_setterAttribute=function se(te,ae,oe){return te.setAttribute(ae,oe)},_getSetter=function se(te,ae){return _isFunction$1(te[ae])?_setterFunc:_isUndefined(te[ae])&&te.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function se(te,ae){return ae.set(ae.t,ae.p,Math.round((ae.s+ae.c*te)*1e6)/1e6,ae)},_renderBoolean=function se(te,ae){return ae.set(ae.t,ae.p,!!(ae.s+ae.c*te),ae)},_renderComplexString=function se(te,ae){var oe=ae._pt,ce="";if(!te&&ae.b)ce=ae.b;else if(te===1&&ae.e)ce=ae.e;else{for(;oe;)ce=oe.p+(oe.m?oe.m(oe.s+oe.c*te):Math.round((oe.s+oe.c*te)*1e4)/1e4)+ce,oe=oe._next;ce+=ae.c}ae.set(ae.t,ae.p,ce,ae)},_renderPropTweens=function se(te,ae){for(var oe=ae._pt;oe;)oe.r(te,oe.d),oe=oe._next},_addPluginModifier=function se(te,ae,oe,ce){for(var ue=this._pt,fe;ue;)fe=ue._next,ue.p===ce&&ue.modifier(te,ae,oe),ue=fe},_killPropTweensOf=function se(te){for(var ae=this._pt,oe,ce;ae;)ce=ae._next,ae.p===te&&!ae.op||ae.op===te?_removeLinkedListItem(this,ae,"_pt"):ae.dep||(oe=1),ae=ce;return!oe},_setterWithModifier=function se(te,ae,oe,ce){ce.mSet(te,ae,ce.m.call(ce.tween,oe,ce.mt),ce)},_sortPropTweensByPriority=function se(te){for(var ae=te._pt,oe,ce,ue,fe;ae;){for(oe=ae._next,ce=ue;ce&&ce.pr>ae.pr;)ce=ce._next;(ae._prev=ce?ce._prev:fe)?ae._prev._next=ae:ue=ae,(ae._next=ce)?ce._prev=ae:fe=ae,ae=oe}te._pt=ue},PropTween=function(){function se(ae,oe,ce,ue,fe,de,pe,me,_e){this.t=oe,this.s=ue,this.c=fe,this.p=ce,this.r=de||_renderPlain,this.d=pe||this,this.set=me||_setterPlain,this.pr=_e||0,this._next=ae,ae&&(ae._prev=this)}var te=se.prototype;return te.modifier=function(oe,ce,ue){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=oe,this.mt=ue,this.tween=ce},se}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(se){return _reservedProps[se]=1});_globals.TweenMax=_globals.TweenLite=Tween;_globals.TimelineLite=_globals.TimelineMax=Timeline;_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults$1,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});_config.stringFilter=_colorStringFilter;var _media=[],_listeners$1={},_emptyArray$1=[],_lastMediaTime=0,_contextID=0,_dispatch$1=function se(te){return(_listeners$1[te]||_emptyArray$1).map(function(ae){return ae()})},_onMediaChange=function se(){var te=Date.now(),ae=[];te-_lastMediaTime>2&&(_dispatch$1("matchMediaInit"),_media.forEach(function(oe){var ce=oe.queries,ue=oe.conditions,fe,de,pe,me;for(de in ce)fe=_win$3.matchMedia(ce[de]).matches,fe&&(pe=1),fe!==ue[de]&&(ue[de]=fe,me=1);me&&(oe.revert(),pe&&ae.push(oe))}),_dispatch$1("matchMediaRevert"),ae.forEach(function(oe){return oe.onMatch(oe,function(ce){return oe.add(null,ce)})}),_lastMediaTime=te,_dispatch$1("matchMedia"))},Context=function(){function se(ae,oe){this.selector=oe&&selector(oe),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,ae&&this.add(ae)}var te=se.prototype;return te.add=function(oe,ce,ue){_isFunction$1(oe)&&(ue=ce,ce=oe,oe=_isFunction$1);var fe=this,de=function(){var me=_context$2,_e=fe.selector,be;return me&&me!==fe&&me.data.push(fe),ue&&(fe.selector=selector(ue)),_context$2=fe,be=ce.apply(fe,arguments),_isFunction$1(be)&&fe._r.push(be),_context$2=me,fe.selector=_e,fe.isReverted=!1,be};return fe.last=de,oe===_isFunction$1?de(fe,function(pe){return fe.add(null,pe)}):oe?fe[oe]=de:de},te.ignore=function(oe){var ce=_context$2;_context$2=null,oe(this),_context$2=ce},te.getTweens=function(){var oe=[];return this.data.forEach(function(ce){return ce instanceof se?oe.push.apply(oe,ce.getTweens()):ce instanceof Tween&&!(ce.parent&&ce.parent.data==="nested")&&oe.push(ce)}),oe},te.clear=function(){this._r.length=this.data.length=0},te.kill=function(oe,ce){var ue=this;if(oe?function(){for(var de=ue.getTweens(),pe=ue.data.length,me;pe--;)me=ue.data[pe],me.data==="isFlip"&&(me.revert(),me.getChildren(!0,!0,!1).forEach(function(_e){return de.splice(de.indexOf(_e),1)}));for(de.map(function(_e){return{g:_e._dur||_e._delay||_e._sat&&!_e._sat.vars.immediateRender?_e.globalTime(0):-1/0,t:_e}}).sort(function(_e,be){return be.g-_e.g||-1/0}).forEach(function(_e){return _e.t.revert(oe)}),pe=ue.data.length;pe--;)me=ue.data[pe],me instanceof Timeline?me.data!=="nested"&&(me.scrollTrigger&&me.scrollTrigger.revert(),me.kill()):!(me instanceof Tween)&&me.revert&&me.revert(oe);ue._r.forEach(function(_e){return _e(oe,ue)}),ue.isReverted=!0}():this.data.forEach(function(de){return de.kill&&de.kill()}),this.clear(),ce)for(var fe=_media.length;fe--;)_media[fe].id===this.id&&_media.splice(fe,1)},te.revert=function(oe){this.kill(oe||{})},se}(),MatchMedia=function(){function se(ae){this.contexts=[],this.scope=ae,_context$2&&_context$2.data.push(this)}var te=se.prototype;return te.add=function(oe,ce,ue){_isObject$1(oe)||(oe={matches:oe});var fe=new Context(0,ue||this.scope),de=fe.conditions={},pe,me,_e;_context$2&&!fe.selector&&(fe.selector=_context$2.selector),this.contexts.push(fe),ce=fe.add("onMatch",ce),fe.queries=oe;for(me in oe)me==="all"?_e=1:(pe=_win$3.matchMedia(oe[me]),pe&&(_media.indexOf(fe)<0&&_media.push(fe),(de[me]=pe.matches)&&(_e=1),pe.addListener?pe.addListener(_onMediaChange):pe.addEventListener("change",_onMediaChange)));return _e&&ce(fe,function(be){return fe.add(null,be)}),this},te.revert=function(oe){this.kill(oe||{})},te.kill=function(oe){this.contexts.forEach(function(ce){return ce.kill(oe,!0)})},se}(),_gsap={registerPlugin:function se(){for(var te=arguments.length,ae=new Array(te),oe=0;oe<te;oe++)ae[oe]=arguments[oe];ae.forEach(function(ce){return _createPlugin(ce)})},timeline:function se(te){return new Timeline(te)},getTweensOf:function se(te,ae){return _globalTimeline.getTweensOf(te,ae)},getProperty:function se(te,ae,oe,ce){_isString$1(te)&&(te=toArray(te)[0]);var ue=_getCache(te||{}).get,fe=oe?_passThrough$1:_numericIfPossible;return oe==="native"&&(oe=""),te&&(ae?fe((_plugins[ae]&&_plugins[ae].get||ue)(te,ae,oe,ce)):function(de,pe,me){return fe((_plugins[de]&&_plugins[de].get||ue)(te,de,pe,me))})},quickSetter:function se(te,ae,oe){if(te=toArray(te),te.length>1){var ce=te.map(function(_e){return gsap$2.quickSetter(_e,ae,oe)}),ue=ce.length;return function(_e){for(var be=ue;be--;)ce[be](_e)}}te=te[0]||{};var fe=_plugins[ae],de=_getCache(te),pe=de.harness&&(de.harness.aliases||{})[ae]||ae,me=fe?function(_e){var be=new fe;_quickTween._pt=0,be.init(te,oe?_e+oe:_e,_quickTween,0,[te]),be.render(1,be),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:de.set(te,pe);return fe?me:function(_e){return me(te,pe,oe?_e+oe:_e,de,1)}},quickTo:function se(te,ae,oe){var ce,ue=gsap$2.to(te,_setDefaults$1((ce={},ce[ae]="+=0.1",ce.paused=!0,ce.stagger=0,ce),oe||{})),fe=function(pe,me,_e){return ue.resetTo(ae,pe,me,_e)};return fe.tween=ue,fe},isTweening:function se(te){return _globalTimeline.getTweensOf(te,!0).length>0},defaults:function se(te){return te&&te.ease&&(te.ease=_parseEase(te.ease,_defaults$1.ease)),_mergeDeep(_defaults$1,te||{})},config:function se(te){return _mergeDeep(_config,te||{})},registerEffect:function se(te){var ae=te.name,oe=te.effect,ce=te.plugins,ue=te.defaults,fe=te.extendTimeline;(ce||"").split(",").forEach(function(de){return de&&!_plugins[de]&&!_globals[de]&&_warn(ae+" effect requires "+de+" plugin.")}),_effects[ae]=function(de,pe,me){return oe(toArray(de),_setDefaults$1(pe||{},ue),me)},fe&&(Timeline.prototype[ae]=function(de,pe,me){return this.add(_effects[ae](de,_isObject$1(pe)?pe:(me=pe)&&{},this),me)})},registerEase:function se(te,ae){_easeMap[te]=_parseEase(ae)},parseEase:function se(te,ae){return arguments.length?_parseEase(te,ae):_easeMap},getById:function se(te){return _globalTimeline.getById(te)},exportRoot:function se(te,ae){te===void 0&&(te={});var oe=new Timeline(te),ce,ue;for(oe.smoothChildTiming=_isNotFalse(te.smoothChildTiming),_globalTimeline.remove(oe),oe._dp=0,oe._time=oe._tTime=_globalTimeline._time,ce=_globalTimeline._first;ce;)ue=ce._next,(ae||!(!ce._dur&&ce instanceof Tween&&ce.vars.onComplete===ce._targets[0]))&&_addToTimeline(oe,ce,ce._start-ce._delay),ce=ue;return _addToTimeline(_globalTimeline,oe,0),oe},context:function se(te,ae){return te?new Context(te,ae):_context$2},matchMedia:function se(te){return new MatchMedia(te)},matchMediaRefresh:function se(){return _media.forEach(function(te){var ae=te.conditions,oe,ce;for(ce in ae)ae[ce]&&(ae[ce]=!1,oe=1);oe&&te.revert()})||_onMediaChange()},addEventListener:function se(te,ae){var oe=_listeners$1[te]||(_listeners$1[te]=[]);~oe.indexOf(ae)||oe.push(ae)},removeEventListener:function se(te,ae){var oe=_listeners$1[te],ce=oe&&oe.indexOf(ae);ce>=0&&oe.splice(ce,1)},utils:{wrap,wrapYoyo,distribute,random,snap,normalize,getUnit,clamp,splitColor,toArray,selector,mapRange,pipe,unitize,interpolate,shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween,globals:_addGlobal,Tween,Timeline,Animation,getCache:_getCache,_removeLinkedListItem,reverting:function se(){return _reverting$1},context:function se(te){return te&&_context$2&&(_context$2.data.push(te),te._ctx=_context$2),_context$2},suppressOverwrites:function se(te){return _suppressOverwrites$1=te}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(se){return _gsap[se]=Tween[se]});_ticker.add(Timeline.updateRoot);_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function se(te,ae){for(var oe=te._pt;oe&&oe.p!==ae&&oe.op!==ae&&oe.fp!==ae;)oe=oe._next;return oe},_addModifiers=function se(te,ae){var oe=te._targets,ce,ue,fe;for(ce in ae)for(ue=oe.length;ue--;)fe=te._ptLookup[ue][ce],fe&&(fe=fe.d)&&(fe._pt&&(fe=_getPluginPropTween(fe,ce)),fe&&fe.modifier&&fe.modifier(ae[ce],te,oe[ue],ce))},_buildModifierPlugin=function se(te,ae){return{name:te,rawVars:1,init:function(ce,ue,fe){fe._onInit=function(de){var pe,me;if(_isString$1(ue)&&(pe={},_forEachName(ue,function(_e){return pe[_e]=1}),ue=pe),ae){pe={};for(me in ue)pe[me]=ae(ue[me]);ue=pe}_addModifiers(de,ue)}}}},gsap$2=_gsap.registerPlugin({name:"attr",init:function se(te,ae,oe,ce,ue){var fe,de,pe;this.tween=oe;for(fe in ae)pe=te.getAttribute(fe)||"",de=this.add(te,"setAttribute",(pe||0)+"",ae[fe],ce,ue,0,0,fe),de.op=fe,de.b=pe,this._props.push(fe)},render:function se(te,ae){for(var oe=ae._pt;oe;)_reverting$1?oe.set(oe.t,oe.p,oe.b,oe):oe.r(te,oe.d),oe=oe._next}},{name:"endArray",init:function se(te,ae){for(var oe=ae.length;oe--;)this.add(te,oe,te[oe]||0,ae[oe],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap$2.version="3.12.7";_coreReady=1;_windowExists$2()&&_wake();_easeMap.Power0;_easeMap.Power1;_easeMap.Power2;_easeMap.Power3;_easeMap.Power4;_easeMap.Linear;_easeMap.Quad;_easeMap.Cubic;_easeMap.Quart;_easeMap.Quint;_easeMap.Strong;_easeMap.Elastic;_easeMap.Back;_easeMap.SteppedEase;_easeMap.Bounce;_easeMap.Sine;_easeMap.Expo;_easeMap.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _win$2,_doc$2,_docElement,_pluginInitted,_tempDiv,_recentSetterPlugin,_reverting,_windowExists$1=function se(){return typeof window<"u"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum=1e8,_capsExp$1=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function se(te,ae){return ae.set(ae.t,ae.p,Math.round((ae.s+ae.c*te)*1e4)/1e4+ae.u,ae)},_renderPropWithEnd=function se(te,ae){return ae.set(ae.t,ae.p,te===1?ae.e:Math.round((ae.s+ae.c*te)*1e4)/1e4+ae.u,ae)},_renderCSSPropWithBeginning=function se(te,ae){return ae.set(ae.t,ae.p,te?Math.round((ae.s+ae.c*te)*1e4)/1e4+ae.u:ae.b,ae)},_renderRoundedCSSProp=function se(te,ae){var oe=ae.s+ae.c*te;ae.set(ae.t,ae.p,~~(oe+(oe<0?-.5:.5))+ae.u,ae)},_renderNonTweeningValue=function se(te,ae){return ae.set(ae.t,ae.p,te?ae.e:ae.b,ae)},_renderNonTweeningValueOnlyAtEnd=function se(te,ae){return ae.set(ae.t,ae.p,te!==1?ae.b:ae.e,ae)},_setterCSSStyle=function se(te,ae,oe){return te.style[ae]=oe},_setterCSSProp=function se(te,ae,oe){return te.style.setProperty(ae,oe)},_setterTransform=function se(te,ae,oe){return te._gsap[ae]=oe},_setterScale=function se(te,ae,oe){return te._gsap.scaleX=te._gsap.scaleY=oe},_setterScaleWithRender=function se(te,ae,oe,ce,ue){var fe=te._gsap;fe.scaleX=fe.scaleY=oe,fe.renderTransform(ue,fe)},_setterTransformWithRender=function se(te,ae,oe,ce,ue){var fe=te._gsap;fe[ae]=oe,fe.renderTransform(ue,fe)},_transformProp$1="transform",_transformOriginProp=_transformProp$1+"Origin",_saveStyle=function se(te,ae){var oe=this,ce=this.target,ue=ce.style,fe=ce._gsap;if(te in _transformProps&&ue){if(this.tfm=this.tfm||{},te!=="transform")te=_propertyAliases[te]||te,~te.indexOf(",")?te.split(",").forEach(function(de){return oe.tfm[de]=_get(ce,de)}):this.tfm[te]=fe.x?fe[te]:_get(ce,te),te===_transformOriginProp&&(this.tfm.zOrigin=fe.zOrigin);else return _propertyAliases.transform.split(",").forEach(function(de){return se.call(oe,de,ae)});if(this.props.indexOf(_transformProp$1)>=0)return;fe.svg&&(this.svgo=ce.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,ae,"")),te=_transformProp$1}(ue||ae)&&this.props.push(te,ae,ue[te])},_removeIndependentTransforms=function se(te){te.translate&&(te.removeProperty("translate"),te.removeProperty("scale"),te.removeProperty("rotate"))},_revertStyle=function se(){var te=this.props,ae=this.target,oe=ae.style,ce=ae._gsap,ue,fe;for(ue=0;ue<te.length;ue+=3)te[ue+1]?te[ue+1]===2?ae[te[ue]](te[ue+2]):ae[te[ue]]=te[ue+2]:te[ue+2]?oe[te[ue]]=te[ue+2]:oe.removeProperty(te[ue].substr(0,2)==="--"?te[ue]:te[ue].replace(_capsExp$1,"-$1").toLowerCase());if(this.tfm){for(fe in this.tfm)ce[fe]=this.tfm[fe];ce.svg&&(ce.renderTransform(),ae.setAttribute("data-svg-origin",this.svgo||"")),ue=_reverting(),(!ue||!ue.isStart)&&!oe[_transformProp$1]&&(_removeIndependentTransforms(oe),ce.zOrigin&&oe[_transformOriginProp]&&(oe[_transformOriginProp]+=" "+ce.zOrigin+"px",ce.zOrigin=0,ce.renderTransform()),ce.uncache=1)}},_getStyleSaver=function se(te,ae){var oe={target:te,props:[],revert:_revertStyle,save:_saveStyle};return te._gsap||gsap$2.core.getCache(te),ae&&te.style&&te.nodeType&&ae.split(",").forEach(function(ce){return oe.save(ce)}),oe},_supports3D,_createElement=function se(te,ae){var oe=_doc$2.createElementNS?_doc$2.createElementNS((ae||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),te):_doc$2.createElement(te);return oe&&oe.style?oe:_doc$2.createElement(te)},_getComputedProperty=function se(te,ae,oe){var ce=getComputedStyle(te);return ce[ae]||ce.getPropertyValue(ae.replace(_capsExp$1,"-$1").toLowerCase())||ce.getPropertyValue(ae)||!oe&&se(te,_checkPropPrefix(ae)||ae,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function se(te,ae,oe){var ce=ae||_tempDiv,ue=ce.style,fe=5;if(te in ue&&!oe)return te;for(te=te.charAt(0).toUpperCase()+te.substr(1);fe--&&!(_prefixes[fe]+te in ue););return fe<0?null:(fe===3?"ms":fe>=0?_prefixes[fe]:"")+te},_initCore$1=function se(){_windowExists$1()&&window.document&&(_win$2=window,_doc$2=_win$2.document,_docElement=_doc$2.documentElement,_tempDiv=_createElement("div")||{style:{}},_createElement("div"),_transformProp$1=_checkPropPrefix(_transformProp$1),_transformOriginProp=_transformProp$1+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting=gsap$2.core.reverting,_pluginInitted=1)},_getReparentedCloneBBox=function se(te){var ae=te.ownerSVGElement,oe=_createElement("svg",ae&&ae.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),ce=te.cloneNode(!0),ue;ce.style.display="block",oe.appendChild(ce),_docElement.appendChild(oe);try{ue=ce.getBBox()}catch{}return oe.removeChild(ce),_docElement.removeChild(oe),ue},_getAttributeFallbacks=function se(te,ae){for(var oe=ae.length;oe--;)if(te.hasAttribute(ae[oe]))return te.getAttribute(ae[oe])},_getBBox=function se(te){var ae,oe;try{ae=te.getBBox()}catch{ae=_getReparentedCloneBBox(te),oe=1}return ae&&(ae.width||ae.height)||oe||(ae=_getReparentedCloneBBox(te)),ae&&!ae.width&&!ae.x&&!ae.y?{x:+_getAttributeFallbacks(te,["x","cx","x1"])||0,y:+_getAttributeFallbacks(te,["y","cy","y1"])||0,width:0,height:0}:ae},_isSVG=function se(te){return!!(te.getCTM&&(!te.parentNode||te.ownerSVGElement)&&_getBBox(te))},_removeProperty=function se(te,ae){if(ae){var oe=te.style,ce;ae in _transformProps&&ae!==_transformOriginProp&&(ae=_transformProp$1),oe.removeProperty?(ce=ae.substr(0,2),(ce==="ms"||ae.substr(0,6)==="webkit")&&(ae="-"+ae),oe.removeProperty(ce==="--"?ae:ae.replace(_capsExp$1,"-$1").toLowerCase())):oe.removeAttribute(ae)}},_addNonTweeningPT=function se(te,ae,oe,ce,ue,fe){var de=new PropTween(te._pt,ae,oe,0,1,fe?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return te._pt=de,de.b=ce,de.e=ue,te._props.push(oe),de},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function se(te,ae,oe,ce){var ue=parseFloat(oe)||0,fe=(oe+"").trim().substr((ue+"").length)||"px",de=_tempDiv.style,pe=_horizontalExp.test(ae),me=te.tagName.toLowerCase()==="svg",_e=(me?"client":"offset")+(pe?"Width":"Height"),be=100,Ee=ce==="px",Ae=ce==="%",Re,Be,De,Oe;if(ce===fe||!ue||_nonConvertibleUnits[ce]||_nonConvertibleUnits[fe])return ue;if(fe!=="px"&&!Ee&&(ue=se(te,ae,oe,"px")),Oe=te.getCTM&&_isSVG(te),(Ae||fe==="%")&&(_transformProps[ae]||~ae.indexOf("adius")))return Re=Oe?te.getBBox()[pe?"width":"height"]:te[_e],_round$1(Ae?ue/Re*be:ue/100*Re);if(de[pe?"width":"height"]=be+(Ee?fe:ce),Be=ce!=="rem"&&~ae.indexOf("adius")||ce==="em"&&te.appendChild&&!me?te:te.parentNode,Oe&&(Be=(te.ownerSVGElement||{}).parentNode),(!Be||Be===_doc$2||!Be.appendChild)&&(Be=_doc$2.body),De=Be._gsap,De&&Ae&&De.width&&pe&&De.time===_ticker.time&&!De.uncache)return _round$1(ue/De.width*be);if(Ae&&(ae==="height"||ae==="width")){var Pe=te.style[ae];te.style[ae]=be+ce,Re=te[_e],Pe?te.style[ae]=Pe:_removeProperty(te,ae)}else(Ae||fe==="%")&&!_nonStandardLayouts[_getComputedProperty(Be,"display")]&&(de.position=_getComputedProperty(te,"position")),Be===te&&(de.position="static"),Be.appendChild(_tempDiv),Re=_tempDiv[_e],Be.removeChild(_tempDiv),de.position="absolute";return pe&&Ae&&(De=_getCache(Be),De.time=_ticker.time,De.width=Be[_e]),_round$1(Ee?Re*ue/be:Re&&ue?be/Re*ue:0)},_get=function se(te,ae,oe,ce){var ue;return _pluginInitted||_initCore$1(),ae in _propertyAliases&&ae!=="transform"&&(ae=_propertyAliases[ae],~ae.indexOf(",")&&(ae=ae.split(",")[0])),_transformProps[ae]&&ae!=="transform"?(ue=_parseTransform(te,ce),ue=ae!=="transformOrigin"?ue[ae]:ue.svg?ue.origin:_firstTwoOnly(_getComputedProperty(te,_transformOriginProp))+" "+ue.zOrigin+"px"):(ue=te.style[ae],(!ue||ue==="auto"||ce||~(ue+"").indexOf("calc("))&&(ue=_specialProps[ae]&&_specialProps[ae](te,ae,oe)||_getComputedProperty(te,ae)||_getProperty(te,ae)||(ae==="opacity"?1:0))),oe&&!~(ue+"").trim().indexOf(" ")?_convertToUnit(te,ae,ue,oe)+oe:ue},_tweenComplexCSSString=function se(te,ae,oe,ce){if(!oe||oe==="none"){var ue=_checkPropPrefix(ae,te,1),fe=ue&&_getComputedProperty(te,ue,1);fe&&fe!==oe?(ae=ue,oe=fe):ae==="borderColor"&&(oe=_getComputedProperty(te,"borderTopColor"))}var de=new PropTween(this._pt,te.style,ae,0,1,_renderComplexString),pe=0,me=0,_e,be,Ee,Ae,Re,Be,De,Oe,Pe,Ie,Fe,$e;if(de.b=oe,de.e=ce,oe+="",ce+="",ce==="auto"&&(Be=te.style[ae],te.style[ae]=ce,ce=_getComputedProperty(te,ae)||ce,Be?te.style[ae]=Be:_removeProperty(te,ae)),_e=[oe,ce],_colorStringFilter(_e),oe=_e[0],ce=_e[1],Ee=oe.match(_numWithUnitExp)||[],$e=ce.match(_numWithUnitExp)||[],$e.length){for(;be=_numWithUnitExp.exec(ce);)De=be[0],Pe=ce.substring(pe,be.index),Re?Re=(Re+1)%5:(Pe.substr(-5)==="rgba("||Pe.substr(-5)==="hsla(")&&(Re=1),De!==(Be=Ee[me++]||"")&&(Ae=parseFloat(Be)||0,Fe=Be.substr((Ae+"").length),De.charAt(1)==="="&&(De=_parseRelative(Ae,De)+Fe),Oe=parseFloat(De),Ie=De.substr((Oe+"").length),pe=_numWithUnitExp.lastIndex-Ie.length,Ie||(Ie=Ie||_config.units[ae]||Fe,pe===ce.length&&(ce+=Ie,de.e+=Ie)),Fe!==Ie&&(Ae=_convertToUnit(te,ae,Be,Ie)||0),de._pt={_next:de._pt,p:Pe||me===1?Pe:",",s:Ae,c:Oe-Ae,m:Re&&Re<4||ae==="zIndex"?Math.round:0});de.c=pe<ce.length?ce.substring(pe,ce.length):""}else de.r=ae==="display"&&ce==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(ce)&&(de.e=0),this._pt=de,de},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function se(te){var ae=te.split(" "),oe=ae[0],ce=ae[1]||"50%";return(oe==="top"||oe==="bottom"||ce==="left"||ce==="right")&&(te=oe,oe=ce,ce=te),ae[0]=_keywordToPercent[oe]||oe,ae[1]=_keywordToPercent[ce]||ce,ae.join(" ")},_renderClearProps=function se(te,ae){if(ae.tween&&ae.tween._time===ae.tween._dur){var oe=ae.t,ce=oe.style,ue=ae.u,fe=oe._gsap,de,pe,me;if(ue==="all"||ue===!0)ce.cssText="",pe=1;else for(ue=ue.split(","),me=ue.length;--me>-1;)de=ue[me],_transformProps[de]&&(pe=1,de=de==="transformOrigin"?_transformOriginProp:_transformProp$1),_removeProperty(oe,de);pe&&(_removeProperty(oe,_transformProp$1),fe&&(fe.svg&&oe.removeAttribute("transform"),ce.scale=ce.rotate=ce.translate="none",_parseTransform(oe,1),fe.uncache=1,_removeIndependentTransforms(ce)))}},_specialProps={clearProps:function se(te,ae,oe,ce,ue){if(ue.data!=="isFromStart"){var fe=te._pt=new PropTween(te._pt,ae,oe,0,0,_renderClearProps);return fe.u=ce,fe.pr=-10,fe.tween=ue,te._props.push(oe),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function se(te){return te==="matrix(1, 0, 0, 1, 0, 0)"||te==="none"||!te},_getComputedTransformMatrixAsArray=function se(te){var ae=_getComputedProperty(te,_transformProp$1);return _isNullTransform(ae)?_identity2DMatrix:ae.substr(7).match(_numExp).map(_round$1)},_getMatrix=function se(te,ae){var oe=te._gsap||_getCache(te),ce=te.style,ue=_getComputedTransformMatrixAsArray(te),fe,de,pe,me;return oe.svg&&te.getAttribute("transform")?(pe=te.transform.baseVal.consolidate().matrix,ue=[pe.a,pe.b,pe.c,pe.d,pe.e,pe.f],ue.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:ue):(ue===_identity2DMatrix&&!te.offsetParent&&te!==_docElement&&!oe.svg&&(pe=ce.display,ce.display="block",fe=te.parentNode,(!fe||!te.offsetParent&&!te.getBoundingClientRect().width)&&(me=1,de=te.nextElementSibling,_docElement.appendChild(te)),ue=_getComputedTransformMatrixAsArray(te),pe?ce.display=pe:_removeProperty(te,"display"),me&&(de?fe.insertBefore(te,de):fe?fe.appendChild(te):_docElement.removeChild(te))),ae&&ue.length>6?[ue[0],ue[1],ue[4],ue[5],ue[12],ue[13]]:ue)},_applySVGOrigin=function se(te,ae,oe,ce,ue,fe){var de=te._gsap,pe=ue||_getMatrix(te,!0),me=de.xOrigin||0,_e=de.yOrigin||0,be=de.xOffset||0,Ee=de.yOffset||0,Ae=pe[0],Re=pe[1],Be=pe[2],De=pe[3],Oe=pe[4],Pe=pe[5],Ie=ae.split(" "),Fe=parseFloat(Ie[0])||0,$e=parseFloat(Ie[1])||0,Ve,ke,We,je;oe?pe!==_identity2DMatrix&&(ke=Ae*De-Re*Be)&&(We=Fe*(De/ke)+$e*(-Be/ke)+(Be*Pe-De*Oe)/ke,je=Fe*(-Re/ke)+$e*(Ae/ke)-(Ae*Pe-Re*Oe)/ke,Fe=We,$e=je):(Ve=_getBBox(te),Fe=Ve.x+(~Ie[0].indexOf("%")?Fe/100*Ve.width:Fe),$e=Ve.y+(~(Ie[1]||Ie[0]).indexOf("%")?$e/100*Ve.height:$e)),ce||ce!==!1&&de.smooth?(Oe=Fe-me,Pe=$e-_e,de.xOffset=be+(Oe*Ae+Pe*Be)-Oe,de.yOffset=Ee+(Oe*Re+Pe*De)-Pe):de.xOffset=de.yOffset=0,de.xOrigin=Fe,de.yOrigin=$e,de.smooth=!!ce,de.origin=ae,de.originIsAbsolute=!!oe,te.style[_transformOriginProp]="0px 0px",fe&&(_addNonTweeningPT(fe,de,"xOrigin",me,Fe),_addNonTweeningPT(fe,de,"yOrigin",_e,$e),_addNonTweeningPT(fe,de,"xOffset",be,de.xOffset),_addNonTweeningPT(fe,de,"yOffset",Ee,de.yOffset)),te.setAttribute("data-svg-origin",Fe+" "+$e)},_parseTransform=function se(te,ae){var oe=te._gsap||new GSCache(te);if("x"in oe&&!ae&&!oe.uncache)return oe;var ce=te.style,ue=oe.scaleX<0,fe="px",de="deg",pe=getComputedStyle(te),me=_getComputedProperty(te,_transformOriginProp)||"0",_e,be,Ee,Ae,Re,Be,De,Oe,Pe,Ie,Fe,$e,Ve,ke,We,je,He,tt,Ze,nt,at,mt,Ye,rt,lt,_t,Xe,et,ft,yt,st,gt;return _e=be=Ee=Be=De=Oe=Pe=Ie=Fe=0,Ae=Re=1,oe.svg=!!(te.getCTM&&_isSVG(te)),pe.translate&&((pe.translate!=="none"||pe.scale!=="none"||pe.rotate!=="none")&&(ce[_transformProp$1]=(pe.translate!=="none"?"translate3d("+(pe.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(pe.rotate!=="none"?"rotate("+pe.rotate+") ":"")+(pe.scale!=="none"?"scale("+pe.scale.split(" ").join(",")+") ":"")+(pe[_transformProp$1]!=="none"?pe[_transformProp$1]:"")),ce.scale=ce.rotate=ce.translate="none"),ke=_getMatrix(te,oe.svg),oe.svg&&(oe.uncache?(lt=te.getBBox(),me=oe.xOrigin-lt.x+"px "+(oe.yOrigin-lt.y)+"px",rt=""):rt=!ae&&te.getAttribute("data-svg-origin"),_applySVGOrigin(te,rt||me,!!rt||oe.originIsAbsolute,oe.smooth!==!1,ke)),$e=oe.xOrigin||0,Ve=oe.yOrigin||0,ke!==_identity2DMatrix&&(tt=ke[0],Ze=ke[1],nt=ke[2],at=ke[3],_e=mt=ke[4],be=Ye=ke[5],ke.length===6?(Ae=Math.sqrt(tt*tt+Ze*Ze),Re=Math.sqrt(at*at+nt*nt),Be=tt||Ze?_atan2(Ze,tt)*_RAD2DEG:0,Pe=nt||at?_atan2(nt,at)*_RAD2DEG+Be:0,Pe&&(Re*=Math.abs(Math.cos(Pe*_DEG2RAD))),oe.svg&&(_e-=$e-($e*tt+Ve*nt),be-=Ve-($e*Ze+Ve*at))):(gt=ke[6],yt=ke[7],Xe=ke[8],et=ke[9],ft=ke[10],st=ke[11],_e=ke[12],be=ke[13],Ee=ke[14],We=_atan2(gt,ft),De=We*_RAD2DEG,We&&(je=Math.cos(-We),He=Math.sin(-We),rt=mt*je+Xe*He,lt=Ye*je+et*He,_t=gt*je+ft*He,Xe=mt*-He+Xe*je,et=Ye*-He+et*je,ft=gt*-He+ft*je,st=yt*-He+st*je,mt=rt,Ye=lt,gt=_t),We=_atan2(-nt,ft),Oe=We*_RAD2DEG,We&&(je=Math.cos(-We),He=Math.sin(-We),rt=tt*je-Xe*He,lt=Ze*je-et*He,_t=nt*je-ft*He,st=at*He+st*je,tt=rt,Ze=lt,nt=_t),We=_atan2(Ze,tt),Be=We*_RAD2DEG,We&&(je=Math.cos(We),He=Math.sin(We),rt=tt*je+Ze*He,lt=mt*je+Ye*He,Ze=Ze*je-tt*He,Ye=Ye*je-mt*He,tt=rt,mt=lt),De&&Math.abs(De)+Math.abs(Be)>359.9&&(De=Be=0,Oe=180-Oe),Ae=_round$1(Math.sqrt(tt*tt+Ze*Ze+nt*nt)),Re=_round$1(Math.sqrt(Ye*Ye+gt*gt)),We=_atan2(mt,Ye),Pe=Math.abs(We)>2e-4?We*_RAD2DEG:0,Fe=st?1/(st<0?-st:st):0),oe.svg&&(rt=te.getAttribute("transform"),oe.forceCSS=te.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(te,_transformProp$1)),rt&&te.setAttribute("transform",rt))),Math.abs(Pe)>90&&Math.abs(Pe)<270&&(ue?(Ae*=-1,Pe+=Be<=0?180:-180,Be+=Be<=0?180:-180):(Re*=-1,Pe+=Pe<=0?180:-180)),ae=ae||oe.uncache,oe.x=_e-((oe.xPercent=_e&&(!ae&&oe.xPercent||(Math.round(te.offsetWidth/2)===Math.round(-_e)?-50:0)))?te.offsetWidth*oe.xPercent/100:0)+fe,oe.y=be-((oe.yPercent=be&&(!ae&&oe.yPercent||(Math.round(te.offsetHeight/2)===Math.round(-be)?-50:0)))?te.offsetHeight*oe.yPercent/100:0)+fe,oe.z=Ee+fe,oe.scaleX=_round$1(Ae),oe.scaleY=_round$1(Re),oe.rotation=_round$1(Be)+de,oe.rotationX=_round$1(De)+de,oe.rotationY=_round$1(Oe)+de,oe.skewX=Pe+de,oe.skewY=Ie+de,oe.transformPerspective=Fe+fe,(oe.zOrigin=parseFloat(me.split(" ")[2])||!ae&&oe.zOrigin||0)&&(ce[_transformOriginProp]=_firstTwoOnly(me)),oe.xOffset=oe.yOffset=0,oe.force3D=_config.force3D,oe.renderTransform=oe.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,oe.uncache=0,oe},_firstTwoOnly=function se(te){return(te=te.split(" "))[0]+" "+te[1]},_addPxTranslate=function se(te,ae,oe){var ce=getUnit(ae);return _round$1(parseFloat(ae)+parseFloat(_convertToUnit(te,"x",oe+"px",ce)))+ce},_renderNon3DTransforms=function se(te,ae){ae.z="0px",ae.rotationY=ae.rotationX="0deg",ae.force3D=0,_renderCSSTransforms(te,ae)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function se(te,ae){var oe=ae||this,ce=oe.xPercent,ue=oe.yPercent,fe=oe.x,de=oe.y,pe=oe.z,me=oe.rotation,_e=oe.rotationY,be=oe.rotationX,Ee=oe.skewX,Ae=oe.skewY,Re=oe.scaleX,Be=oe.scaleY,De=oe.transformPerspective,Oe=oe.force3D,Pe=oe.target,Ie=oe.zOrigin,Fe="",$e=Oe==="auto"&&te&&te!==1||Oe===!0;if(Ie&&(be!==_zeroDeg||_e!==_zeroDeg)){var Ve=parseFloat(_e)*_DEG2RAD,ke=Math.sin(Ve),We=Math.cos(Ve),je;Ve=parseFloat(be)*_DEG2RAD,je=Math.cos(Ve),fe=_addPxTranslate(Pe,fe,ke*je*-Ie),de=_addPxTranslate(Pe,de,-Math.sin(Ve)*-Ie),pe=_addPxTranslate(Pe,pe,We*je*-Ie+Ie)}De!==_zeroPx&&(Fe+="perspective("+De+_endParenthesis),(ce||ue)&&(Fe+="translate("+ce+"%, "+ue+"%) "),($e||fe!==_zeroPx||de!==_zeroPx||pe!==_zeroPx)&&(Fe+=pe!==_zeroPx||$e?"translate3d("+fe+", "+de+", "+pe+") ":"translate("+fe+", "+de+_endParenthesis),me!==_zeroDeg&&(Fe+="rotate("+me+_endParenthesis),_e!==_zeroDeg&&(Fe+="rotateY("+_e+_endParenthesis),be!==_zeroDeg&&(Fe+="rotateX("+be+_endParenthesis),(Ee!==_zeroDeg||Ae!==_zeroDeg)&&(Fe+="skew("+Ee+", "+Ae+_endParenthesis),(Re!==1||Be!==1)&&(Fe+="scale("+Re+", "+Be+_endParenthesis),Pe.style[_transformProp$1]=Fe||"translate(0, 0)"},_renderSVGTransforms=function se(te,ae){var oe=ae||this,ce=oe.xPercent,ue=oe.yPercent,fe=oe.x,de=oe.y,pe=oe.rotation,me=oe.skewX,_e=oe.skewY,be=oe.scaleX,Ee=oe.scaleY,Ae=oe.target,Re=oe.xOrigin,Be=oe.yOrigin,De=oe.xOffset,Oe=oe.yOffset,Pe=oe.forceCSS,Ie=parseFloat(fe),Fe=parseFloat(de),$e,Ve,ke,We,je;pe=parseFloat(pe),me=parseFloat(me),_e=parseFloat(_e),_e&&(_e=parseFloat(_e),me+=_e,pe+=_e),pe||me?(pe*=_DEG2RAD,me*=_DEG2RAD,$e=Math.cos(pe)*be,Ve=Math.sin(pe)*be,ke=Math.sin(pe-me)*-Ee,We=Math.cos(pe-me)*Ee,me&&(_e*=_DEG2RAD,je=Math.tan(me-_e),je=Math.sqrt(1+je*je),ke*=je,We*=je,_e&&(je=Math.tan(_e),je=Math.sqrt(1+je*je),$e*=je,Ve*=je)),$e=_round$1($e),Ve=_round$1(Ve),ke=_round$1(ke),We=_round$1(We)):($e=be,We=Ee,Ve=ke=0),(Ie&&!~(fe+"").indexOf("px")||Fe&&!~(de+"").indexOf("px"))&&(Ie=_convertToUnit(Ae,"x",fe,"px"),Fe=_convertToUnit(Ae,"y",de,"px")),(Re||Be||De||Oe)&&(Ie=_round$1(Ie+Re-(Re*$e+Be*ke)+De),Fe=_round$1(Fe+Be-(Re*Ve+Be*We)+Oe)),(ce||ue)&&(je=Ae.getBBox(),Ie=_round$1(Ie+ce/100*je.width),Fe=_round$1(Fe+ue/100*je.height)),je="matrix("+$e+","+Ve+","+ke+","+We+","+Ie+","+Fe+")",Ae.setAttribute("transform",je),Pe&&(Ae.style[_transformProp$1]=je)},_addRotationalPropTween=function se(te,ae,oe,ce,ue){var fe=360,de=_isString$1(ue),pe=parseFloat(ue)*(de&&~ue.indexOf("rad")?_RAD2DEG:1),me=pe-ce,_e=ce+me+"deg",be,Ee;return de&&(be=ue.split("_")[1],be==="short"&&(me%=fe,me!==me%(fe/2)&&(me+=me<0?fe:-360)),be==="cw"&&me<0?me=(me+fe*_bigNum)%fe-~~(me/fe)*fe:be==="ccw"&&me>0&&(me=(me-fe*_bigNum)%fe-~~(me/fe)*fe)),te._pt=Ee=new PropTween(te._pt,ae,oe,ce,me,_renderPropWithEnd),Ee.e=_e,Ee.u="deg",te._props.push(oe),Ee},_assign=function se(te,ae){for(var oe in ae)te[oe]=ae[oe];return te},_addRawTransformPTs=function se(te,ae,oe){var ce=_assign({},oe._gsap),ue="perspective,force3D,transformOrigin,svgOrigin",fe=oe.style,de,pe,me,_e,be,Ee,Ae,Re;ce.svg?(me=oe.getAttribute("transform"),oe.setAttribute("transform",""),fe[_transformProp$1]=ae,de=_parseTransform(oe,1),_removeProperty(oe,_transformProp$1),oe.setAttribute("transform",me)):(me=getComputedStyle(oe)[_transformProp$1],fe[_transformProp$1]=ae,de=_parseTransform(oe,1),fe[_transformProp$1]=me);for(pe in _transformProps)me=ce[pe],_e=de[pe],me!==_e&&ue.indexOf(pe)<0&&(Ae=getUnit(me),Re=getUnit(_e),be=Ae!==Re?_convertToUnit(oe,pe,me,Re):parseFloat(me),Ee=parseFloat(_e),te._pt=new PropTween(te._pt,de,pe,be,Ee-be,_renderCSSProp),te._pt.u=Re||0,te._props.push(pe));_assign(de,ce)};_forEachName("padding,margin,Width,Radius",function(se,te){var ae="Top",oe="Right",ce="Bottom",ue="Left",fe=(te<3?[ae,oe,ce,ue]:[ae+ue,ae+oe,ce+oe,ce+ue]).map(function(de){return te<2?se+de:"border"+de+se});_specialProps[te>1?"border"+se:se]=function(de,pe,me,_e,be){var Ee,Ae;if(arguments.length<4)return Ee=fe.map(function(Re){return _get(de,Re,me)}),Ae=Ee.join(" "),Ae.split(Ee[0]).length===5?Ee[0]:Ae;Ee=(_e+"").split(" "),Ae={},fe.forEach(function(Re,Be){return Ae[Re]=Ee[Be]=Ee[Be]||Ee[(Be-1)/2|0]}),de.init(pe,Ae,be)}});var CSSPlugin={name:"css",register:_initCore$1,targetTest:function se(te){return te.style&&te.nodeType},init:function se(te,ae,oe,ce,ue){var fe=this._props,de=te.style,pe=oe.vars.startAt,me,_e,be,Ee,Ae,Re,Be,De,Oe,Pe,Ie,Fe,$e,Ve,ke,We;_pluginInitted||_initCore$1(),this.styles=this.styles||_getStyleSaver(te),We=this.styles.props,this.tween=oe;for(Be in ae)if(Be!=="autoRound"&&(_e=ae[Be],!(_plugins[Be]&&_checkPlugin(Be,ae,oe,ce,te,ue)))){if(Ae=typeof _e,Re=_specialProps[Be],Ae==="function"&&(_e=_e.call(oe,ce,te,ue),Ae=typeof _e),Ae==="string"&&~_e.indexOf("random(")&&(_e=_replaceRandom(_e)),Re)Re(this,te,Be,_e,oe)&&(ke=1);else if(Be.substr(0,2)==="--")me=(getComputedStyle(te).getPropertyValue(Be)+"").trim(),_e+="",_colorExp.lastIndex=0,_colorExp.test(me)||(De=getUnit(me),Oe=getUnit(_e)),Oe?De!==Oe&&(me=_convertToUnit(te,Be,me,Oe)+Oe):De&&(_e+=De),this.add(de,"setProperty",me,_e,ce,ue,0,0,Be),fe.push(Be),We.push(Be,0,de[Be]);else if(Ae!=="undefined"){if(pe&&Be in pe?(me=typeof pe[Be]=="function"?pe[Be].call(oe,ce,te,ue):pe[Be],_isString$1(me)&&~me.indexOf("random(")&&(me=_replaceRandom(me)),getUnit(me+"")||me==="auto"||(me+=_config.units[Be]||getUnit(_get(te,Be))||""),(me+"").charAt(1)==="="&&(me=_get(te,Be))):me=_get(te,Be),Ee=parseFloat(me),Pe=Ae==="string"&&_e.charAt(1)==="="&&_e.substr(0,2),Pe&&(_e=_e.substr(2)),be=parseFloat(_e),Be in _propertyAliases&&(Be==="autoAlpha"&&(Ee===1&&_get(te,"visibility")==="hidden"&&be&&(Ee=0),We.push("visibility",0,de.visibility),_addNonTweeningPT(this,de,"visibility",Ee?"inherit":"hidden",be?"inherit":"hidden",!be)),Be!=="scale"&&Be!=="transform"&&(Be=_propertyAliases[Be],~Be.indexOf(",")&&(Be=Be.split(",")[0]))),Ie=Be in _transformProps,Ie){if(this.styles.save(Be),Fe||($e=te._gsap,$e.renderTransform&&!ae.parseTransform||_parseTransform(te,ae.parseTransform),Ve=ae.smoothOrigin!==!1&&$e.smooth,Fe=this._pt=new PropTween(this._pt,de,_transformProp$1,0,1,$e.renderTransform,$e,0,-1),Fe.dep=1),Be==="scale")this._pt=new PropTween(this._pt,$e,"scaleY",$e.scaleY,(Pe?_parseRelative($e.scaleY,Pe+be):be)-$e.scaleY||0,_renderCSSProp),this._pt.u=0,fe.push("scaleY",Be),Be+="X";else if(Be==="transformOrigin"){We.push(_transformOriginProp,0,de[_transformOriginProp]),_e=_convertKeywordsToPercentages(_e),$e.svg?_applySVGOrigin(te,_e,0,Ve,0,this):(Oe=parseFloat(_e.split(" ")[2])||0,Oe!==$e.zOrigin&&_addNonTweeningPT(this,$e,"zOrigin",$e.zOrigin,Oe),_addNonTweeningPT(this,de,Be,_firstTwoOnly(me),_firstTwoOnly(_e)));continue}else if(Be==="svgOrigin"){_applySVGOrigin(te,_e,1,Ve,0,this);continue}else if(Be in _rotationalProperties){_addRotationalPropTween(this,$e,Be,Ee,Pe?_parseRelative(Ee,Pe+_e):_e);continue}else if(Be==="smoothOrigin"){_addNonTweeningPT(this,$e,"smooth",$e.smooth,_e);continue}else if(Be==="force3D"){$e[Be]=_e;continue}else if(Be==="transform"){_addRawTransformPTs(this,_e,te);continue}}else Be in de||(Be=_checkPropPrefix(Be)||Be);if(Ie||(be||be===0)&&(Ee||Ee===0)&&!_complexExp.test(_e)&&Be in de)De=(me+"").substr((Ee+"").length),be||(be=0),Oe=getUnit(_e)||(Be in _config.units?_config.units[Be]:De),De!==Oe&&(Ee=_convertToUnit(te,Be,me,Oe)),this._pt=new PropTween(this._pt,Ie?$e:de,Be,Ee,(Pe?_parseRelative(Ee,Pe+be):be)-Ee,!Ie&&(Oe==="px"||Be==="zIndex")&&ae.autoRound!==!1?_renderRoundedCSSProp:_renderCSSProp),this._pt.u=Oe||0,De!==Oe&&Oe!=="%"&&(this._pt.b=me,this._pt.r=_renderCSSPropWithBeginning);else if(Be in de)_tweenComplexCSSString.call(this,te,Be,me,Pe?Pe+_e:_e);else if(Be in te)this.add(te,Be,me||te[Be],Pe?Pe+_e:_e,ce,ue);else if(Be!=="parseTransform"){_missingPlugin(Be,_e);continue}Ie||(Be in de?We.push(Be,0,de[Be]):typeof te[Be]=="function"?We.push(Be,2,te[Be]()):We.push(Be,1,me||te[Be])),fe.push(Be)}}ke&&_sortPropTweensByPriority(this)},render:function se(te,ae){if(ae.tween._time||!_reverting())for(var oe=ae._pt;oe;)oe.r(te,oe.d),oe=oe._next;else ae.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function se(te,ae,oe){var ce=_propertyAliases[ae];return ce&&ce.indexOf(",")<0&&(ae=ce),ae in _transformProps&&ae!==_transformOriginProp&&(te._gsap.x||_get(te,"x"))?oe&&_recentSetterPlugin===oe?ae==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=oe||{})&&(ae==="scale"?_setterScaleWithRender:_setterTransformWithRender):te.style&&!_isUndefined(te.style[ae])?_setterCSSStyle:~ae.indexOf("-")?_setterCSSProp:_getSetter(te,ae)},core:{_removeProperty,_getMatrix}};gsap$2.utils.checkPrefix=_checkPropPrefix;gsap$2.core.getStyleSaver=_getStyleSaver;(function(se,te,ae,oe){var ce=_forEachName(se+","+te+","+ae,function(ue){_transformProps[ue]=1});_forEachName(te,function(ue){_config.units[ue]="deg",_rotationalProperties[ue]=1}),_propertyAliases[ce[13]]=se+","+te,_forEachName(oe,function(ue){var fe=ue.split(":");_propertyAliases[fe[1]]=ce[fe[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(se){_config.units[se]="px"});gsap$2.registerPlugin(CSSPlugin);var gsapWithCSS=gsap$2.registerPlugin(CSSPlugin)||gsap$2;gsapWithCSS.core.Tween;const GOLDENRATIO=1.61803398875,calculateLookAtQuaternion=(se,te,ae=new Vector3(0,1,0))=>{const oe=new Matrix4;return oe.lookAt(se,te,ae),new Quaternion().setFromRotationMatrix(oe)};function Frames({images:se,setIsZoomed:te,section2Position:ae,section2LookAtTarget:oe}){const ce=reactExports.useRef(),ue=reactExports.useRef(),[,fe]=useRoute("/item/:id"),[,de]=useLocation(),{camera:pe}=useThree(),[me,_e]=reactExports.useState(!1),be=reactExports.useRef(new Vector3),Ee=reactExports.useRef(new Vector3),Ae=reactExports.useRef(new Quaternion),Re=reactExports.useRef(new Quaternion);reactExports.useEffect(()=>{ue.current=ce.current.getObjectByName(fe==null?void 0:fe.id),ue.current&&(ue.current.parent.updateWorldMatrix(!0,!0),ue.current.parent.localToWorld(be.current.set(0,GOLDENRATIO/2,1.25)),ue.current.parent.localToWorld(Ee.current.set(0,GOLDENRATIO/2,.7)),Ae.current.copy(calculateLookAtQuaternion(be.current,Ee.current)),te(!0),console.log("Frames: Zoomed IN, setting isZoomed = true"))},[fe==null?void 0:fe.id,te]),reactExports.useEffect(()=>{me&&(console.log("Frames: Starting zoom OUT animation"),Re.current.copy(calculateLookAtQuaternion(ae,oe)),gsapWithCSS.to(pe.position,{duration:1.2,x:ae.x,y:ae.y,z:ae.z,ease:"power1.inOut",onComplete:()=>{gsapWithCSS.delayedCall(.5,()=>{console.log("Frames: Zoom OUT animation complete (after delay)"),_e(!1),te(!1)})}}))},[me,pe,ae,oe,te]),useFrame((De,Oe)=>{me?easing.dampQ(De.camera.quaternion,Re.current,.5,Oe):fe!=null&&fe.id&&ue.current&&(easing.damp3(De.camera.position,be.current,.4,Oe),easing.dampQ(De.camera.quaternion,Ae.current,.4,Oe))}),reactExports.useEffect(()=>{if(fe!=null&&fe.id){const De=Oe=>{Oe.deltaY<0&&(console.log("Frames: Scroll UP detected while zoomed, zooming out."),Oe.preventDefault(),Be())};return window.addEventListener("wheel",De,{passive:!1}),()=>window.removeEventListener("wheel",De)}},[fe==null?void 0:fe.id,de]);const Be=()=>{!me&&(fe!=null&&fe.id)&&(console.log("Frames: Triggering zoom out"),_e(!0),de("/"))};return jsxRuntimeExports.jsx("group",{ref:ce,onClick:De=>{De.stopPropagation(),ue.current===De.object?Be():me||de("/item/"+De.object.name)},onPointerMissed:()=>{Be()},children:se.map(De=>jsxRuntimeExports.jsx(Frame,{...De},De.url))})}function Frame({url:se,c:te=new Color$1,...ae}){var be;const oe=reactExports.useRef(),ce=reactExports.useRef(),[,ue]=useRoute("/item/:id"),[fe,de]=reactExports.useState(!1),[pe]=reactExports.useState(()=>Math.random()),me=getUuid(se),_e=(ue==null?void 0:ue.id)===me;return useCursor(fe),useFrame((Ee,Ae)=>{oe.current.material.zoom=2+Math.sin(pe*1e4+Ee.clock.elapsedTime/3)/2,easing.damp3(oe.current.scale,[.85*(!_e&&fe?.85:1),.9*(!_e&&fe?.905:1),1],.1,Ae),easing.dampC(ce.current.material.color,fe?"orange":"white",.1,Ae)}),jsxRuntimeExports.jsxs("group",{...ae,children:[jsxRuntimeExports.jsxs("mesh",{name:me,onPointerOver:Ee=>(Ee.stopPropagation(),de(!0)),onPointerOut:()=>de(!1),scale:[1,GOLDENRATIO,.05],position:[0,GOLDENRATIO/2,0],children:[jsxRuntimeExports.jsx("boxGeometry",{}),jsxRuntimeExports.jsx("meshStandardMaterial",{color:"#151515",metalness:.5,roughness:.5,envMapIntensity:2}),jsxRuntimeExports.jsxs("mesh",{ref:ce,raycast:()=>null,scale:[.9,.93,.9],position:[0,0,.2],children:[jsxRuntimeExports.jsx("boxGeometry",{}),jsxRuntimeExports.jsx("meshBasicMaterial",{toneMapped:!1,fog:!1})]}),jsxRuntimeExports.jsx(Image$1,{raycast:()=>null,ref:oe,position:[0,0,.7],url:se})]}),jsxRuntimeExports.jsx(Text,{maxWidth:.1,anchorX:"left",anchorY:"top",position:[.55,GOLDENRATIO,0],fontSize:.025,children:((be=ae.name)==null?void 0:be.split("-").join(" "))||me.split("-").join(" ")})]})}function _defineProperties(se,te){for(var ae=0;ae<te.length;ae++){var oe=te[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(se,oe.key,oe)}}function _createClass(se,te,ae){return te&&_defineProperties(se.prototype,te),se}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap$1,_coreInitted$1,_win$1,_doc$1,_docEl$1,_body$1,_isTouch,_pointerType,ScrollTrigger$1,_root$1,_normalizer$1,_eventTypes,_context$1,_getGSAP$1=function se(){return gsap$1||typeof window<"u"&&(gsap$1=window.gsap)&&gsap$1.registerPlugin&&gsap$1},_startup$1=1,_observers=[],_scrollers=[],_proxies=[],_getTime$1=Date.now,_bridge=function se(te,ae){return ae},_integrate=function se(){var te=ScrollTrigger$1.core,ae=te.bridge||{},oe=te._scrollers,ce=te._proxies;oe.push.apply(oe,_scrollers),ce.push.apply(ce,_proxies),_scrollers=oe,_proxies=ce,_bridge=function(fe,de){return ae[fe](de)}},_getProxyProp=function se(te,ae){return~_proxies.indexOf(te)&&_proxies[_proxies.indexOf(te)+1][ae]},_isViewport$1=function se(te){return!!~_root$1.indexOf(te)},_addListener$1=function se(te,ae,oe,ce,ue){return te.addEventListener(ae,oe,{passive:ce!==!1,capture:!!ue})},_removeListener$1=function se(te,ae,oe,ce){return te.removeEventListener(ae,oe,!!ce)},_scrollLeft="scrollLeft",_scrollTop="scrollTop",_onScroll$1=function se(){return _normalizer$1&&_normalizer$1.isPressed||_scrollers.cache++},_scrollCacheFunc=function se(te,ae){var oe=function ce(ue){if(ue||ue===0){_startup$1&&(_win$1.history.scrollRestoration="manual");var fe=_normalizer$1&&_normalizer$1.isPressed;ue=ce.v=Math.round(ue)||(_normalizer$1&&_normalizer$1.iOS?1:0),te(ue),ce.cacheID=_scrollers.cache,fe&&_bridge("ss",ue)}else(ae||_scrollers.cache!==ce.cacheID||_bridge("ref"))&&(ce.cacheID=_scrollers.cache,ce.v=te());return ce.v+ce.offset};return oe.offset=0,te&&oe},_horizontal={s:_scrollLeft,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:_scrollCacheFunc(function(se){return arguments.length?_win$1.scrollTo(se,_vertical.sc()):_win$1.pageXOffset||_doc$1[_scrollLeft]||_docEl$1[_scrollLeft]||_body$1[_scrollLeft]||0})},_vertical={s:_scrollTop,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:_horizontal,sc:_scrollCacheFunc(function(se){return arguments.length?_win$1.scrollTo(_horizontal.sc(),se):_win$1.pageYOffset||_doc$1[_scrollTop]||_docEl$1[_scrollTop]||_body$1[_scrollTop]||0})},_getTarget=function se(te,ae){return(ae&&ae._ctx&&ae._ctx.selector||gsap$1.utils.toArray)(te)[0]||(typeof te=="string"&&gsap$1.config().nullTargetWarn!==!1?console.warn("Element not found:",te):null)},_getScrollFunc=function se(te,ae){var oe=ae.s,ce=ae.sc;_isViewport$1(te)&&(te=_doc$1.scrollingElement||_docEl$1);var ue=_scrollers.indexOf(te),fe=ce===_vertical.sc?1:2;!~ue&&(ue=_scrollers.push(te)-1),_scrollers[ue+fe]||_addListener$1(te,"scroll",_onScroll$1);var de=_scrollers[ue+fe],pe=de||(_scrollers[ue+fe]=_scrollCacheFunc(_getProxyProp(te,oe),!0)||(_isViewport$1(te)?ce:_scrollCacheFunc(function(me){return arguments.length?te[oe]=me:te[oe]})));return pe.target=te,de||(pe.smooth=gsap$1.getProperty(te,"scrollBehavior")==="smooth"),pe},_getVelocityProp=function se(te,ae,oe){var ce=te,ue=te,fe=_getTime$1(),de=fe,pe=ae||50,me=Math.max(500,pe*3),_e=function(Re,Be){var De=_getTime$1();Be||De-fe>pe?(ue=ce,ce=Re,de=fe,fe=De):oe?ce+=Re:ce=ue+(Re-ue)/(De-de)*(fe-de)},be=function(){ue=ce=oe?0:ce,de=fe=0},Ee=function(Re){var Be=de,De=ue,Oe=_getTime$1();return(Re||Re===0)&&Re!==ce&&_e(Re),fe===de||Oe-de>me?0:(ce+(oe?De:-De))/((oe?Oe:fe)-Be)*1e3};return{update:_e,reset:be,getVelocity:Ee}},_getEvent=function se(te,ae){return ae&&!te._gsapAllow&&te.preventDefault(),te.changedTouches?te.changedTouches[0]:te},_getAbsoluteMax=function se(te){var ae=Math.max.apply(Math,te),oe=Math.min.apply(Math,te);return Math.abs(ae)>=Math.abs(oe)?ae:oe},_setScrollTrigger=function se(){ScrollTrigger$1=gsap$1.core.globals().ScrollTrigger,ScrollTrigger$1&&ScrollTrigger$1.core&&_integrate()},_initCore=function se(te){return gsap$1=te||_getGSAP$1(),!_coreInitted$1&&gsap$1&&typeof document<"u"&&document.body&&(_win$1=window,_doc$1=document,_docEl$1=_doc$1.documentElement,_body$1=_doc$1.body,_root$1=[_win$1,_doc$1,_docEl$1,_body$1],gsap$1.utils.clamp,_context$1=gsap$1.core.context||function(){},_pointerType="onpointerenter"in _body$1?"pointer":"mouse",_isTouch=Observer.isTouch=_win$1.matchMedia&&_win$1.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in _win$1||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,_eventTypes=Observer.eventTypes=("ontouchstart"in _docEl$1?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in _docEl$1?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return _startup$1=0},500),_setScrollTrigger(),_coreInitted$1=1),_coreInitted$1};_horizontal.op=_vertical;_scrollers.cache=0;var Observer=function(){function se(ae){this.init(ae)}var te=se.prototype;return te.init=function(oe){_coreInitted$1||_initCore(gsap$1)||console.warn("Please gsap.registerPlugin(Observer)"),ScrollTrigger$1||_setScrollTrigger();var ce=oe.tolerance,ue=oe.dragMinimum,fe=oe.type,de=oe.target,pe=oe.lineHeight,me=oe.debounce,_e=oe.preventDefault,be=oe.onStop,Ee=oe.onStopDelay,Ae=oe.ignore,Re=oe.wheelSpeed,Be=oe.event,De=oe.onDragStart,Oe=oe.onDragEnd,Pe=oe.onDrag,Ie=oe.onPress,Fe=oe.onRelease,$e=oe.onRight,Ve=oe.onLeft,ke=oe.onUp,We=oe.onDown,je=oe.onChangeX,He=oe.onChangeY,tt=oe.onChange,Ze=oe.onToggleX,nt=oe.onToggleY,at=oe.onHover,mt=oe.onHoverEnd,Ye=oe.onMove,rt=oe.ignoreCheck,lt=oe.isNormalizer,_t=oe.onGestureStart,Xe=oe.onGestureEnd,et=oe.onWheel,ft=oe.onEnable,yt=oe.onDisable,st=oe.onClick,gt=oe.scrollSpeed,Et=oe.capture,bt=oe.allowClicks,Dt=oe.lockAxis,nn=oe.onLockAxis;this.target=de=_getTarget(de)||_docEl$1,this.vars=oe,Ae&&(Ae=gsap$1.utils.toArray(Ae)),ce=ce||1e-9,ue=ue||0,Re=Re||1,gt=gt||1,fe=fe||"wheel,touch,pointer",me=me!==!1,pe||(pe=parseFloat(_win$1.getComputedStyle(_body$1).lineHeight)||22);var ln,tn,Wt,on,pt,Sn,Nt,ht=this,Rt=0,kt=0,Bt=oe.passive||!_e&&oe.passive!==!1,Qe=_getScrollFunc(de,_horizontal),Ke=_getScrollFunc(de,_vertical),ct=Qe(),St=Ke(),Mt=~fe.indexOf("touch")&&!~fe.indexOf("pointer")&&_eventTypes[0]==="pointerdown",Ft=_isViewport$1(de),zt=de.ownerDocument||_doc$1,$t=[0,0,0],Jt=[0,0,0],Mn=0,rn=function(){return Mn=_getTime$1()},cn=function(wn,Fn){return(ht.event=wn)&&Ae&&~Ae.indexOf(wn.target)||Fn&&Mt&&wn.pointerType!=="touch"||rt&&rt(wn,Fn)},vn=function(){ht._vx.reset(),ht._vy.reset(),tn.pause(),be&&be(ht)},hn=function(){var wn=ht.deltaX=_getAbsoluteMax($t),Fn=ht.deltaY=_getAbsoluteMax(Jt),_n=Math.abs(wn)>=ce,On=Math.abs(Fn)>=ce;tt&&(_n||On)&&tt(ht,wn,Fn,$t,Jt),_n&&($e&&ht.deltaX>0&&$e(ht),Ve&&ht.deltaX<0&&Ve(ht),je&&je(ht),Ze&&ht.deltaX<0!=Rt<0&&Ze(ht),Rt=ht.deltaX,$t[0]=$t[1]=$t[2]=0),On&&(We&&ht.deltaY>0&&We(ht),ke&&ht.deltaY<0&&ke(ht),He&&He(ht),nt&&ht.deltaY<0!=kt<0&&nt(ht),kt=ht.deltaY,Jt[0]=Jt[1]=Jt[2]=0),(on||Wt)&&(Ye&&Ye(ht),Wt&&(De&&Wt===1&&De(ht),Pe&&Pe(ht),Wt=0),on=!1),Sn&&!(Sn=!1)&&nn&&nn(ht),pt&&(et(ht),pt=!1),ln=0},Qt=function(wn,Fn,_n){$t[_n]+=wn,Jt[_n]+=Fn,ht._vx.update(wn),ht._vy.update(Fn),me?ln||(ln=requestAnimationFrame(hn)):hn()},Cn=function(wn,Fn){Dt&&!Nt&&(ht.axis=Nt=Math.abs(wn)>Math.abs(Fn)?"x":"y",Sn=!0),Nt!=="y"&&($t[2]+=wn,ht._vx.update(wn,!0)),Nt!=="x"&&(Jt[2]+=Fn,ht._vy.update(Fn,!0)),me?ln||(ln=requestAnimationFrame(hn)):hn()},Tn=function(wn){if(!cn(wn,1)){wn=_getEvent(wn,_e);var Fn=wn.clientX,_n=wn.clientY,On=Fn-ht.x,Bn=_n-ht.y,In=ht.isDragging;ht.x=Fn,ht.y=_n,(In||(On||Bn)&&(Math.abs(ht.startX-Fn)>=ue||Math.abs(ht.startY-_n)>=ue))&&(Wt=In?2:1,In||(ht.isDragging=!0),Cn(On,Bn))}},Xn=ht.onPress=function(xn){cn(xn,1)||xn&&xn.button||(ht.axis=Nt=null,tn.pause(),ht.isPressed=!0,xn=_getEvent(xn),Rt=kt=0,ht.startX=ht.x=xn.clientX,ht.startY=ht.y=xn.clientY,ht._vx.reset(),ht._vy.reset(),_addListener$1(lt?de:zt,_eventTypes[1],Tn,Bt,!0),ht.deltaX=ht.deltaY=0,Ie&&Ie(ht))},xt=ht.onRelease=function(xn){if(!cn(xn,1)){_removeListener$1(lt?de:zt,_eventTypes[1],Tn,!0);var wn=!isNaN(ht.y-ht.startY),Fn=ht.isDragging,_n=Fn&&(Math.abs(ht.x-ht.startX)>3||Math.abs(ht.y-ht.startY)>3),On=_getEvent(xn);!_n&&wn&&(ht._vx.reset(),ht._vy.reset(),_e&&bt&&gsap$1.delayedCall(.08,function(){if(_getTime$1()-Mn>300&&!xn.defaultPrevented){if(xn.target.click)xn.target.click();else if(zt.createEvent){var Bn=zt.createEvent("MouseEvents");Bn.initMouseEvent("click",!0,!0,_win$1,1,On.screenX,On.screenY,On.clientX,On.clientY,!1,!1,!1,!1,0,null),xn.target.dispatchEvent(Bn)}}})),ht.isDragging=ht.isGesturing=ht.isPressed=!1,be&&Fn&&!lt&&tn.restart(!0),Wt&&hn(),Oe&&Fn&&Oe(ht),Fe&&Fe(ht,_n)}},sn=function(wn){return wn.touches&&wn.touches.length>1&&(ht.isGesturing=!0)&&_t(wn,ht.isDragging)},Gt=function(){return(ht.isGesturing=!1)||Xe(ht)},an=function(wn){if(!cn(wn)){var Fn=Qe(),_n=Ke();Qt((Fn-ct)*gt,(_n-St)*gt,1),ct=Fn,St=_n,be&&tn.restart(!0)}},mn=function(wn){if(!cn(wn)){wn=_getEvent(wn,_e),et&&(pt=!0);var Fn=(wn.deltaMode===1?pe:wn.deltaMode===2?_win$1.innerHeight:1)*Re;Qt(wn.deltaX*Fn,wn.deltaY*Fn,0),be&&!lt&&tn.restart(!0)}},un=function(wn){if(!cn(wn)){var Fn=wn.clientX,_n=wn.clientY,On=Fn-ht.x,Bn=_n-ht.y;ht.x=Fn,ht.y=_n,on=!0,be&&tn.restart(!0),(On||Bn)&&Cn(On,Bn)}},Un=function(wn){ht.event=wn,at(ht)},Hn=function(wn){ht.event=wn,mt(ht)},Pn=function(wn){return cn(wn)||_getEvent(wn,_e)&&st(ht)};tn=ht._dc=gsap$1.delayedCall(Ee||.25,vn).pause(),ht.deltaX=ht.deltaY=0,ht._vx=_getVelocityProp(0,50,!0),ht._vy=_getVelocityProp(0,50,!0),ht.scrollX=Qe,ht.scrollY=Ke,ht.isDragging=ht.isGesturing=ht.isPressed=!1,_context$1(this),ht.enable=function(xn){return ht.isEnabled||(_addListener$1(Ft?zt:de,"scroll",_onScroll$1),fe.indexOf("scroll")>=0&&_addListener$1(Ft?zt:de,"scroll",an,Bt,Et),fe.indexOf("wheel")>=0&&_addListener$1(de,"wheel",mn,Bt,Et),(fe.indexOf("touch")>=0&&_isTouch||fe.indexOf("pointer")>=0)&&(_addListener$1(de,_eventTypes[0],Xn,Bt,Et),_addListener$1(zt,_eventTypes[2],xt),_addListener$1(zt,_eventTypes[3],xt),bt&&_addListener$1(de,"click",rn,!0,!0),st&&_addListener$1(de,"click",Pn),_t&&_addListener$1(zt,"gesturestart",sn),Xe&&_addListener$1(zt,"gestureend",Gt),at&&_addListener$1(de,_pointerType+"enter",Un),mt&&_addListener$1(de,_pointerType+"leave",Hn),Ye&&_addListener$1(de,_pointerType+"move",un)),ht.isEnabled=!0,ht.isDragging=ht.isGesturing=ht.isPressed=on=Wt=!1,ht._vx.reset(),ht._vy.reset(),ct=Qe(),St=Ke(),xn&&xn.type&&Xn(xn),ft&&ft(ht)),ht},ht.disable=function(){ht.isEnabled&&(_observers.filter(function(xn){return xn!==ht&&_isViewport$1(xn.target)}).length||_removeListener$1(Ft?zt:de,"scroll",_onScroll$1),ht.isPressed&&(ht._vx.reset(),ht._vy.reset(),_removeListener$1(lt?de:zt,_eventTypes[1],Tn,!0)),_removeListener$1(Ft?zt:de,"scroll",an,Et),_removeListener$1(de,"wheel",mn,Et),_removeListener$1(de,_eventTypes[0],Xn,Et),_removeListener$1(zt,_eventTypes[2],xt),_removeListener$1(zt,_eventTypes[3],xt),_removeListener$1(de,"click",rn,!0),_removeListener$1(de,"click",Pn),_removeListener$1(zt,"gesturestart",sn),_removeListener$1(zt,"gestureend",Gt),_removeListener$1(de,_pointerType+"enter",Un),_removeListener$1(de,_pointerType+"leave",Hn),_removeListener$1(de,_pointerType+"move",un),ht.isEnabled=ht.isPressed=ht.isDragging=!1,yt&&yt(ht))},ht.kill=ht.revert=function(){ht.disable();var xn=_observers.indexOf(ht);xn>=0&&_observers.splice(xn,1),_normalizer$1===ht&&(_normalizer$1=0)},_observers.push(ht),lt&&_isViewport$1(de)&&(_normalizer$1=ht),ht.enable(Be)},_createClass(se,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),se}();Observer.version="3.12.7";Observer.create=function(se){return new Observer(se)};Observer.register=_initCore;Observer.getAll=function(){return _observers.slice()};Observer.getById=function(se){return _observers.filter(function(te){return te.vars.id===se})[0]};_getGSAP$1()&&gsap$1.registerPlugin(Observer);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context,_scrollRestoration,_div100vh,_100vh,_isReverted,_clampingMax,_limitCallbacks,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_parseClamp=function se(te,ae,oe){var ce=_isString(te)&&(te.substr(0,6)==="clamp("||te.indexOf("max")>-1);return oe["_"+ae+"Clamp"]=ce,ce?te.substr(6,te.length-7):te},_keepClamp=function se(te,ae){return ae&&(!_isString(te)||te.substr(0,6)!=="clamp(")?"clamp("+te+")":te},_rafBugFix=function se(){return _enabled&&requestAnimationFrame(se)},_pointerDownHandler=function se(){return _pointerIsDown=1},_pointerUpHandler=function se(){return _pointerIsDown=0},_passThrough=function se(te){return te},_round=function se(te){return Math.round(te*1e5)/1e5||0},_windowExists=function se(){return typeof window<"u"},_getGSAP=function se(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function se(te){return!!~_root.indexOf(te)},_getViewportDimension=function se(te){return(te==="Height"?_100vh:_win["inner"+te])||_docEl["client"+te]||_body["client"+te]},_getBoundsFunc=function se(te){return _getProxyProp(te,"getBoundingClientRect")||(_isViewport(te)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_100vh,_winOffsets}:function(){return _getBounds(te)})},_getSizeFunc=function se(te,ae,oe){var ce=oe.d,ue=oe.d2,fe=oe.a;return(fe=_getProxyProp(te,"getBoundingClientRect"))?function(){return fe()[ce]}:function(){return(ae?_getViewportDimension(ue):te["client"+ue])||0}},_getOffsetsFunc=function se(te,ae){return!ae||~_proxies.indexOf(te)?_getBoundsFunc(te):function(){return _winOffsets}},_maxScroll=function se(te,ae){var oe=ae.s,ce=ae.d2,ue=ae.d,fe=ae.a;return Math.max(0,(oe="scroll"+ce)&&(fe=_getProxyProp(te,oe))?fe()-_getBoundsFunc(te)()[ue]:_isViewport(te)?(_docEl[oe]||_body[oe])-_getViewportDimension(ce):te[oe]-te["offset"+ce])},_iterateAutoRefresh=function se(te,ae){for(var oe=0;oe<_autoRefresh.length;oe+=3)(!ae||~ae.indexOf(_autoRefresh[oe+1]))&&te(_autoRefresh[oe],_autoRefresh[oe+1],_autoRefresh[oe+2])},_isString=function se(te){return typeof te=="string"},_isFunction=function se(te){return typeof te=="function"},_isNumber=function se(te){return typeof te=="number"},_isObject=function se(te){return typeof te=="object"},_endAnimation=function se(te,ae,oe){return te&&te.progress(ae?0:1)&&oe&&te.pause()},_callback=function se(te,ae){if(te.enabled){var oe=te._ctx?te._ctx.add(function(){return ae(te)}):ae(te);oe&&oe.totalTime&&(te.callbackAnimation=oe)}},_abs=Math.abs,_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=function se(te){return _win.getComputedStyle(te)},_makePositionable=function se(te){var ae=_getComputedStyle(te).position;te.style.position=ae==="absolute"||ae==="fixed"?ae:"relative"},_setDefaults=function se(te,ae){for(var oe in ae)oe in te||(te[oe]=ae[oe]);return te},_getBounds=function se(te,ae){var oe=ae&&_getComputedStyle(te)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap.to(te,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),ce=te.getBoundingClientRect();return oe&&oe.progress(0).kill(),ce},_getSize=function se(te,ae){var oe=ae.d2;return te["offset"+oe]||te["client"+oe]||0},_getLabelRatioArray=function se(te){var ae=[],oe=te.labels,ce=te.duration(),ue;for(ue in oe)ae.push(oe[ue]/ce);return ae},_getClosestLabel=function se(te){return function(ae){return gsap.utils.snap(_getLabelRatioArray(te),ae)}},_snapDirectional=function se(te){var ae=gsap.utils.snap(te),oe=Array.isArray(te)&&te.slice(0).sort(function(ce,ue){return ce-ue});return oe?function(ce,ue,fe){fe===void 0&&(fe=.001);var de;if(!ue)return ae(ce);if(ue>0){for(ce-=fe,de=0;de<oe.length;de++)if(oe[de]>=ce)return oe[de];return oe[de-1]}else for(de=oe.length,ce+=fe;de--;)if(oe[de]<=ce)return oe[de];return oe[0]}:function(ce,ue,fe){fe===void 0&&(fe=.001);var de=ae(ce);return!ue||Math.abs(de-ce)<fe||de-ce<0==ue<0?de:ae(ue<0?ce-te:ce+te)}},_getLabelAtDirection=function se(te){return function(ae,oe){return _snapDirectional(_getLabelRatioArray(te))(ae,oe.direction)}},_multiListener=function se(te,ae,oe,ce){return oe.split(",").forEach(function(ue){return te(ae,ue,ce)})},_addListener=function se(te,ae,oe,ce,ue){return te.addEventListener(ae,oe,{passive:!ce,capture:!!ue})},_removeListener=function se(te,ae,oe,ce){return te.removeEventListener(ae,oe,!!ce)},_wheelListener=function se(te,ae,oe){oe=oe&&oe.wheelHandler,oe&&(te(ae,"wheel",oe),te(ae,"touchmove",oe))},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function se(te,ae){if(_isString(te)){var oe=te.indexOf("="),ce=~oe?+(te.charAt(oe-1)+1)*parseFloat(te.substr(oe+1)):0;~oe&&(te.indexOf("%")>oe&&(ce*=ae/100),te=te.substr(0,oe-1)),te=ce+(te in _keywords?_keywords[te]*ae:~te.indexOf("%")?parseFloat(te)*ae/100:parseFloat(te)||0)}return te},_createMarker=function se(te,ae,oe,ce,ue,fe,de,pe){var me=ue.startColor,_e=ue.endColor,be=ue.fontSize,Ee=ue.indent,Ae=ue.fontWeight,Re=_doc.createElement("div"),Be=_isViewport(oe)||_getProxyProp(oe,"pinType")==="fixed",De=te.indexOf("scroller")!==-1,Oe=Be?_body:oe,Pe=te.indexOf("start")!==-1,Ie=Pe?me:_e,Fe="border-color:"+Ie+";font-size:"+be+";color:"+Ie+";font-weight:"+Ae+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return Fe+="position:"+((De||pe)&&Be?"fixed;":"absolute;"),(De||pe||!Be)&&(Fe+=(ce===_vertical?_right:_bottom)+":"+(fe+parseFloat(Ee))+"px;"),de&&(Fe+="box-sizing:border-box;text-align:left;width:"+de.offsetWidth+"px;"),Re._isStart=Pe,Re.setAttribute("class","gsap-marker-"+te+(ae?" marker-"+ae:"")),Re.style.cssText=Fe,Re.innerText=ae||ae===0?te+"-"+ae:te,Oe.children[0]?Oe.insertBefore(Re,Oe.children[0]):Oe.appendChild(Re),Re._offset=Re["offset"+ce.op.d2],_positionMarker(Re,0,ce,Pe),Re},_positionMarker=function se(te,ae,oe,ce){var ue={display:"block"},fe=oe[ce?"os2":"p2"],de=oe[ce?"p2":"os2"];te._isFlipped=ce,ue[oe.a+"Percent"]=ce?-100:0,ue[oe.a]=ce?"1px":0,ue["border"+fe+_Width]=1,ue["border"+de+_Width]=0,ue[oe.p]=ae+"px",gsap.set(te,ue)},_triggers=[],_ids={},_rafID,_sync=function se(){return _getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)))},_onScroll=function se(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function se(){_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=function se(te){_scrollers.cache++,(te===!0||!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>_win.innerHeight*.25))&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=function se(){return _removeListener(ScrollTrigger,"scrollEnd",se)||_refreshAll(!0)},_dispatch=function se(te){return _listeners[te]&&_listeners[te].map(function(ae){return ae()})||_emptyArray},_savedStyles=[],_revertRecorded=function se(te){for(var ae=0;ae<_savedStyles.length;ae+=5)(!te||_savedStyles[ae+4]&&_savedStyles[ae+4].query===te)&&(_savedStyles[ae].style.cssText=_savedStyles[ae+1],_savedStyles[ae].getBBox&&_savedStyles[ae].setAttribute("transform",_savedStyles[ae+2]||""),_savedStyles[ae+3].uncache=1)},_revertAll=function se(te,ae){var oe;for(_i=0;_i<_triggers.length;_i++)oe=_triggers[_i],oe&&(!ae||oe._ctx===ae)&&(te?oe.kill(1):oe.revert(!0,!0));_isReverted=!0,ae&&_revertRecorded(ae),ae||_dispatch("revert")},_clearScrollMemory=function se(te,ae){_scrollers.cache++,(ae||!_refreshingAll)&&_scrollers.forEach(function(oe){return _isFunction(oe)&&oe.cacheID++&&(oe.rec=0)}),_isString(te)&&(_win.history.scrollRestoration=_scrollRestoration=te)},_refreshingAll,_refreshID=0,_queueRefreshID,_queueRefreshAll=function se(){if(_queueRefreshID!==_refreshID){var te=_queueRefreshID=_refreshID;requestAnimationFrame(function(){return te===_refreshID&&_refreshAll(!0)})}},_refresh100vh=function se(){_body.appendChild(_div100vh),_100vh=!_normalizer&&_div100vh.offsetHeight||_win.innerHeight,_body.removeChild(_div100vh)},_hideAllMarkers=function se(te){return _toArray(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(ae){return ae.style.display=te?"none":"block"})},_refreshAll=function se(te,ae){if(_docEl=_doc.documentElement,_body=_doc.body,_root=[_win,_doc,_docEl,_body],_lastScrollTime&&!te&&!_isReverted){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refresh100vh(),_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach(function(ce){return _isFunction(ce)&&++ce.cacheID&&(ce.rec=ce())});var oe=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),ae||_revertAll(),_scrollers.forEach(function(ce){_isFunction(ce)&&(ce.smooth&&(ce.target.style.scrollBehavior="auto"),ce(0))}),_triggers.slice(0).forEach(function(ce){return ce.refresh()}),_isReverted=!1,_triggers.forEach(function(ce){if(ce._subPinOffset&&ce.pin){var ue=ce.vars.horizontal?"offsetWidth":"offsetHeight",fe=ce.pin[ue];ce.revert(!0,1),ce.adjustPinSpacing(ce.pin[ue]-fe),ce.refresh()}}),_clampingMax=1,_hideAllMarkers(!0),_triggers.forEach(function(ce){var ue=_maxScroll(ce.scroller,ce._dir),fe=ce.vars.end==="max"||ce._endClamp&&ce.end>ue,de=ce._startClamp&&ce.start>=ue;(fe||de)&&ce.setPositions(de?ue-1:ce.start,fe?Math.max(de?ue:ce.start+1,ue):ce.end,!0)}),_hideAllMarkers(!1),_clampingMax=0,oe.forEach(function(ce){return ce&&ce.render&&ce.render(-1)}),_scrollers.forEach(function(ce){_isFunction(ce)&&(ce.smooth&&requestAnimationFrame(function(){return ce.target.style.scrollBehavior="smooth"}),ce.rec&&ce(ce.rec))}),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_refreshingAll=2,_updateAll(2),_triggers.forEach(function(ce){return _isFunction(ce.vars.onRefresh)&&ce.vars.onRefresh(ce)}),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_primary,_updateAll=function se(te){if(te===2||!_refreshingAll&&!_isReverted){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var ae=_triggers.length,oe=_getTime(),ce=oe-_time1>=50,ue=ae&&_triggers[0].scroll();if(_direction=_lastScroll>ue?-1:1,_refreshingAll||(_lastScroll=ue),ce&&(_lastScrollTime&&!_pointerIsDown&&oe-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=oe),_direction<0){for(_i=ae;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,ce);_direction=1}else for(_i=0;_i<ae;_i++)_triggers[_i]&&_triggers[_i].update(0,ce);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function se(te,ae,oe){_setState(oe);var ce=te._gsap;if(ce.spacerIsNative)_setState(ce.spacerState);else if(te._gsap.swappedIn){var ue=ae.parentNode;ue&&(ue.insertBefore(te,ae),ue.removeChild(ae))}te._gsap.swappedIn=!1},_swapPinIn=function se(te,ae,oe,ce){if(!te._gsap.swappedIn){for(var ue=_propNamesToCopy.length,fe=ae.style,de=te.style,pe;ue--;)pe=_propNamesToCopy[ue],fe[pe]=oe[pe];fe.position=oe.position==="absolute"?"absolute":"relative",oe.display==="inline"&&(fe.display="inline-block"),de[_bottom]=de[_right]="auto",fe.flexBasis=oe.flexBasis||"auto",fe.overflow="visible",fe.boxSizing="border-box",fe[_width]=_getSize(te,_horizontal)+_px,fe[_height]=_getSize(te,_vertical)+_px,fe[_padding]=de[_margin]=de[_top]=de[_left]="0",_setState(ce),de[_width]=de["max"+_Width]=oe[_width],de[_height]=de["max"+_Height]=oe[_height],de[_padding]=oe[_padding],te.parentNode!==ae&&(te.parentNode.insertBefore(ae,te),ae.appendChild(te)),te._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function se(te){if(te){var ae=te.t.style,oe=te.length,ce=0,ue,fe;for((te.t._gsap||gsap.core.getCache(te.t)).uncache=1;ce<oe;ce+=2)fe=te[ce+1],ue=te[ce],fe?ae[ue]=fe:ae[ue]&&ae.removeProperty(ue.replace(_capsExp,"-$1").toLowerCase())}},_getState=function se(te){for(var ae=_stateProps.length,oe=te.style,ce=[],ue=0;ue<ae;ue++)ce.push(_stateProps[ue],oe[_stateProps[ue]]);return ce.t=te,ce},_copyState=function se(te,ae,oe){for(var ce=[],ue=te.length,fe=oe?8:0,de;fe<ue;fe+=2)de=te[fe],ce.push(de,de in ae?ae[de]:te[fe+1]);return ce.t=te.t,ce},_winOffsets={left:0,top:0},_parsePosition=function se(te,ae,oe,ce,ue,fe,de,pe,me,_e,be,Ee,Ae,Re){_isFunction(te)&&(te=te(pe)),_isString(te)&&te.substr(0,3)==="max"&&(te=Ee+(te.charAt(4)==="="?_offsetToPx("0"+te.substr(3),oe):0));var Be=Ae?Ae.time():0,De,Oe,Pe;if(Ae&&Ae.seek(0),isNaN(te)||(te=+te),_isNumber(te))Ae&&(te=gsap.utils.mapRange(Ae.scrollTrigger.start,Ae.scrollTrigger.end,0,Ee,te)),de&&_positionMarker(de,oe,ce,!0);else{_isFunction(ae)&&(ae=ae(pe));var Ie=(te||"0").split(" "),Fe,$e,Ve,ke;Pe=_getTarget(ae,pe)||_body,Fe=_getBounds(Pe)||{},(!Fe||!Fe.left&&!Fe.top)&&_getComputedStyle(Pe).display==="none"&&(ke=Pe.style.display,Pe.style.display="block",Fe=_getBounds(Pe),ke?Pe.style.display=ke:Pe.style.removeProperty("display")),$e=_offsetToPx(Ie[0],Fe[ce.d]),Ve=_offsetToPx(Ie[1]||"0",oe),te=Fe[ce.p]-me[ce.p]-_e+$e+ue-Ve,de&&_positionMarker(de,Ve,ce,oe-Ve<20||de._isStart&&Ve>20),oe-=oe-Ve}if(Re&&(pe[Re]=te||-.001,te<0&&(te=0)),fe){var We=te+oe,je=fe._isStart;De="scroll"+ce.d2,_positionMarker(fe,We,ce,je&&We>20||!je&&(be?Math.max(_body[De],_docEl[De]):fe.parentNode[De])<=We+1),be&&(me=_getBounds(de),be&&(fe.style[ce.op.p]=me[ce.op.p]-ce.op.m-fe._offset+_px))}return Ae&&Pe&&(De=_getBounds(Pe),Ae.seek(Ee),Oe=_getBounds(Pe),Ae._caScrollDist=De[ce.p]-Oe[ce.p],te=te/Ae._caScrollDist*Ee),Ae&&Ae.seek(Be),Ae?te:Math.round(te)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function se(te,ae,oe,ce){if(te.parentNode!==ae){var ue=te.style,fe,de;if(ae===_body){te._stOrig=ue.cssText,de=_getComputedStyle(te);for(fe in de)!+fe&&!_prefixExp.test(fe)&&de[fe]&&typeof ue[fe]=="string"&&fe!=="0"&&(ue[fe]=de[fe]);ue.top=oe,ue.left=ce}else ue.cssText=te._stOrig;gsap.core.getCache(te).uncache=1,ae.appendChild(te)}},_interruptionTracker=function se(te,ae,oe){var ce=ae,ue=ce;return function(fe){var de=Math.round(te());return de!==ce&&de!==ue&&Math.abs(de-ce)>3&&Math.abs(de-ue)>3&&(fe=de,oe&&oe()),ue=ce,ce=Math.round(fe),ce}},_shiftMarker=function se(te,ae,oe){var ce={};ce[ae.p]="+="+oe,gsap.set(te,ce)},_getTweenCreator=function se(te,ae){var oe=_getScrollFunc(te,ae),ce="_scroll"+ae.p2,ue=function fe(de,pe,me,_e,be){var Ee=fe.tween,Ae=pe.onComplete,Re={};me=me||oe();var Be=_interruptionTracker(oe,me,function(){Ee.kill(),fe.tween=0});return be=_e&&be||0,_e=_e||de-me,Ee&&Ee.kill(),pe[ce]=de,pe.inherit=!1,pe.modifiers=Re,Re[ce]=function(){return Be(me+_e*Ee.ratio+be*Ee.ratio*Ee.ratio)},pe.onUpdate=function(){_scrollers.cache++,fe.tween&&_updateAll()},pe.onComplete=function(){fe.tween=0,Ae&&Ae.call(Ee)},Ee=fe.tween=gsap.to(te,pe),Ee};return te[ce]=oe,oe.wheelHandler=function(){return ue.tween&&ue.tween.kill()&&(ue.tween=0)},_addListener(te,"wheel",oe.wheelHandler),ScrollTrigger.isTouch&&_addListener(te,"touchmove",oe.wheelHandler),ue},ScrollTrigger=function(){function se(ae,oe){_coreInitted||se.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),_context(this),this.init(ae,oe)}var te=se.prototype;return te.init=function(oe,ce){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!_enabled){this.update=this.refresh=this.kill=_passThrough;return}oe=_setDefaults(_isString(oe)||_isNumber(oe)||oe.nodeType?{trigger:oe}:oe,_defaults);var ue=oe,fe=ue.onUpdate,de=ue.toggleClass,pe=ue.id,me=ue.onToggle,_e=ue.onRefresh,be=ue.scrub,Ee=ue.trigger,Ae=ue.pin,Re=ue.pinSpacing,Be=ue.invalidateOnRefresh,De=ue.anticipatePin,Oe=ue.onScrubComplete,Pe=ue.onSnapComplete,Ie=ue.once,Fe=ue.snap,$e=ue.pinReparent,Ve=ue.pinSpacer,ke=ue.containerAnimation,We=ue.fastScrollEnd,je=ue.preventOverlaps,He=oe.horizontal||oe.containerAnimation&&oe.horizontal!==!1?_horizontal:_vertical,tt=!be&&be!==0,Ze=_getTarget(oe.scroller||_win),nt=gsap.core.getCache(Ze),at=_isViewport(Ze),mt=("pinType"in oe?oe.pinType:_getProxyProp(Ze,"pinType")||at&&"fixed")==="fixed",Ye=[oe.onEnter,oe.onLeave,oe.onEnterBack,oe.onLeaveBack],rt=tt&&oe.toggleActions.split(" "),lt="markers"in oe?oe.markers:_defaults.markers,_t=at?0:parseFloat(_getComputedStyle(Ze)["border"+He.p2+_Width])||0,Xe=this,et=oe.onRefreshInit&&function(){return oe.onRefreshInit(Xe)},ft=_getSizeFunc(Ze,at,He),yt=_getOffsetsFunc(Ze,at),st=0,gt=0,Et=0,bt=_getScrollFunc(Ze,He),Dt,nn,ln,tn,Wt,on,pt,Sn,Nt,ht,Rt,kt,Bt,Qe,Ke,ct,St,Mt,Ft,zt,$t,Jt,Mn,rn,cn,vn,hn,Qt,Cn,Tn,Xn,xt,sn,Gt,an,mn,un,Un,Hn;if(Xe._startClamp=Xe._endClamp=!1,Xe._dir=He,De*=45,Xe.scroller=Ze,Xe.scroll=ke?ke.time.bind(ke):bt,tn=bt(),Xe.vars=oe,ce=ce||oe.animation,"refreshPriority"in oe&&(_sort=1,oe.refreshPriority===-9999&&(_primary=Xe)),nt.tweenScroll=nt.tweenScroll||{top:_getTweenCreator(Ze,_vertical),left:_getTweenCreator(Ze,_horizontal)},Xe.tweenTo=Dt=nt.tweenScroll[He.p],Xe.scrubDuration=function(_n){sn=_isNumber(_n)&&_n,sn?xt?xt.duration(_n):xt=gsap.to(ce,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:sn,paused:!0,onComplete:function(){return Oe&&Oe(Xe)}}):(xt&&xt.progress(1).kill(),xt=0)},ce&&(ce.vars.lazy=!1,ce._initted&&!Xe.isReverted||ce.vars.immediateRender!==!1&&oe.immediateRender!==!1&&ce.duration()&&ce.render(0,!0,!0),Xe.animation=ce.pause(),ce.scrollTrigger=Xe,Xe.scrubDuration(be),Tn=0,pe||(pe=ce.vars.id)),Fe&&((!_isObject(Fe)||Fe.push)&&(Fe={snapTo:Fe}),"scrollBehavior"in _body.style&&gsap.set(at?[_body,_docEl]:Ze,{scrollBehavior:"auto"}),_scrollers.forEach(function(_n){return _isFunction(_n)&&_n.target===(at?_doc.scrollingElement||_docEl:Ze)&&(_n.smooth=!1)}),ln=_isFunction(Fe.snapTo)?Fe.snapTo:Fe.snapTo==="labels"?_getClosestLabel(ce):Fe.snapTo==="labelsDirectional"?_getLabelAtDirection(ce):Fe.directional!==!1?function(_n,On){return _snapDirectional(Fe.snapTo)(_n,_getTime()-gt<500?0:On.direction)}:gsap.utils.snap(Fe.snapTo),Gt=Fe.duration||{min:.1,max:2},Gt=_isObject(Gt)?_clamp(Gt.min,Gt.max):_clamp(Gt,Gt),an=gsap.delayedCall(Fe.delay||sn/2||.1,function(){var _n=bt(),On=_getTime()-gt<500,Bn=Dt.tween;if((On||Math.abs(Xe.getVelocity())<10)&&!Bn&&!_pointerIsDown&&st!==_n){var In=(_n-on)/Qe,Ri=ce&&!tt?ce.totalProgress():In,qn=On?0:(Ri-Xn)/(_getTime()-_time2)*1e3||0,ti=gsap.utils.clamp(-In,1-In,_abs(qn/2)*qn/.185),si=In+(Fe.inertia===!1?0:ti),$n,gi,oi=Fe,or=oi.onStart,Ei=oi.onInterrupt,vi=oi.onComplete;if($n=ln(si,Xe),_isNumber($n)||($n=si),gi=Math.max(0,Math.round(on+$n*Qe)),_n<=pt&&_n>=on&&gi!==_n){if(Bn&&!Bn._initted&&Bn.data<=_abs(gi-_n))return;Fe.inertia===!1&&(ti=$n-In),Dt(gi,{duration:Gt(_abs(Math.max(_abs(si-Ri),_abs($n-Ri))*.185/qn/.05||0)),ease:Fe.ease||"power3",data:_abs(gi-_n),onInterrupt:function(){return an.restart(!0)&&Ei&&Ei(Xe)},onComplete:function(){Xe.update(),st=bt(),ce&&!tt&&(xt?xt.resetTo("totalProgress",$n,ce._tTime/ce._tDur):ce.progress($n)),Tn=Xn=ce&&!tt?ce.totalProgress():Xe.progress,Pe&&Pe(Xe),vi&&vi(Xe)}},_n,ti*Qe,gi-_n-ti*Qe),or&&or(Xe,Dt.tween)}}else Xe.isActive&&st!==_n&&an.restart(!0)}).pause()),pe&&(_ids[pe]=Xe),Ee=Xe.trigger=_getTarget(Ee||Ae!==!0&&Ae),Hn=Ee&&Ee._gsap&&Ee._gsap.stRevert,Hn&&(Hn=Hn(Xe)),Ae=Ae===!0?Ee:_getTarget(Ae),_isString(de)&&(de={targets:Ee,className:de}),Ae&&(Re===!1||Re===_margin||(Re=!Re&&Ae.parentNode&&Ae.parentNode.style&&_getComputedStyle(Ae.parentNode).display==="flex"?!1:_padding),Xe.pin=Ae,nn=gsap.core.getCache(Ae),nn.spacer?Ke=nn.pinState:(Ve&&(Ve=_getTarget(Ve),Ve&&!Ve.nodeType&&(Ve=Ve.current||Ve.nativeElement),nn.spacerIsNative=!!Ve,Ve&&(nn.spacerState=_getState(Ve))),nn.spacer=Mt=Ve||_doc.createElement("div"),Mt.classList.add("pin-spacer"),pe&&Mt.classList.add("pin-spacer-"+pe),nn.pinState=Ke=_getState(Ae)),oe.force3D!==!1&&gsap.set(Ae,{force3D:!0}),Xe.spacer=Mt=nn.spacer,Cn=_getComputedStyle(Ae),rn=Cn[Re+He.os2],zt=gsap.getProperty(Ae),$t=gsap.quickSetter(Ae,He.a,_px),_swapPinIn(Ae,Mt,Cn),St=_getState(Ae)),lt){kt=_isObject(lt)?_setDefaults(lt,_markerDefaults):_markerDefaults,ht=_createMarker("scroller-start",pe,Ze,He,kt,0),Rt=_createMarker("scroller-end",pe,Ze,He,kt,0,ht),Ft=ht["offset"+He.op.d2];var Pn=_getTarget(_getProxyProp(Ze,"content")||Ze);Sn=this.markerStart=_createMarker("start",pe,Pn,He,kt,Ft,0,ke),Nt=this.markerEnd=_createMarker("end",pe,Pn,He,kt,Ft,0,ke),ke&&(Un=gsap.quickSetter([Sn,Nt],He.a,_px)),!mt&&!(_proxies.length&&_getProxyProp(Ze,"fixedMarkers")===!0)&&(_makePositionable(at?_body:Ze),gsap.set([ht,Rt],{force3D:!0}),vn=gsap.quickSetter(ht,He.a,_px),Qt=gsap.quickSetter(Rt,He.a,_px))}if(ke){var xn=ke.vars.onUpdate,wn=ke.vars.onUpdateParams;ke.eventCallback("onUpdate",function(){Xe.update(0,0,1),xn&&xn.apply(ke,wn||[])})}if(Xe.previous=function(){return _triggers[_triggers.indexOf(Xe)-1]},Xe.next=function(){return _triggers[_triggers.indexOf(Xe)+1]},Xe.revert=function(_n,On){if(!On)return Xe.kill(!0);var Bn=_n!==!1||!Xe.enabled,In=_refreshing;Bn!==Xe.isReverted&&(Bn&&(mn=Math.max(bt(),Xe.scroll.rec||0),Et=Xe.progress,un=ce&&ce.progress()),Sn&&[Sn,Nt,ht,Rt].forEach(function(Ri){return Ri.style.display=Bn?"none":"block"}),Bn&&(_refreshing=Xe,Xe.update(Bn)),Ae&&(!$e||!Xe.isActive)&&(Bn?_swapPinOut(Ae,Mt,Ke):_swapPinIn(Ae,Mt,_getComputedStyle(Ae),cn)),Bn||Xe.update(Bn),_refreshing=In,Xe.isReverted=Bn)},Xe.refresh=function(_n,On,Bn,In){if(!((_refreshing||!Xe.enabled)&&!On)){if(Ae&&_n&&_lastScrollTime){_addListener(se,"scrollEnd",_softRefresh);return}!_refreshingAll&&et&&et(Xe),_refreshing=Xe,Dt.tween&&!Bn&&(Dt.tween.kill(),Dt.tween=0),xt&&xt.pause(),Be&&ce&&ce.revert({kill:!1}).invalidate(),Xe.isReverted||Xe.revert(!0,!0),Xe._subPinOffset=!1;var Ri=ft(),qn=yt(),ti=ke?ke.duration():_maxScroll(Ze,He),si=Qe<=.01,$n=0,gi=In||0,oi=_isObject(Bn)?Bn.end:oe.end,or=oe.endTrigger||Ee,Ei=_isObject(Bn)?Bn.start:oe.start||(oe.start===0||!Ee?0:Ae?"0 0":"0 100%"),vi=Xe.pinnedContainer=oe.pinnedContainer&&_getTarget(oe.pinnedContainer,Xe),pr=Ee&&Math.max(0,_triggers.indexOf(Xe))||0,qi=pr,Di,it,Ot,jt,Ct,Lt,pn,En,Rn,Dn,Vn,zn,Gn;for(lt&&_isObject(Bn)&&(zn=gsap.getProperty(ht,He.p),Gn=gsap.getProperty(Rt,He.p));qi-- >0;)Lt=_triggers[qi],Lt.end||Lt.refresh(0,1)||(_refreshing=Xe),pn=Lt.pin,pn&&(pn===Ee||pn===Ae||pn===vi)&&!Lt.isReverted&&(Dn||(Dn=[]),Dn.unshift(Lt),Lt.revert(!0,!0)),Lt!==_triggers[qi]&&(pr--,qi--);for(_isFunction(Ei)&&(Ei=Ei(Xe)),Ei=_parseClamp(Ei,"start",Xe),on=_parsePosition(Ei,Ee,Ri,He,bt(),Sn,ht,Xe,qn,_t,mt,ti,ke,Xe._startClamp&&"_startClamp")||(Ae?-.001:0),_isFunction(oi)&&(oi=oi(Xe)),_isString(oi)&&!oi.indexOf("+=")&&(~oi.indexOf(" ")?oi=(_isString(Ei)?Ei.split(" ")[0]:"")+oi:($n=_offsetToPx(oi.substr(2),Ri),oi=_isString(Ei)?Ei:(ke?gsap.utils.mapRange(0,ke.duration(),ke.scrollTrigger.start,ke.scrollTrigger.end,on):on)+$n,or=Ee)),oi=_parseClamp(oi,"end",Xe),pt=Math.max(on,_parsePosition(oi||(or?"100% 0":ti),or,Ri,He,bt()+$n,Nt,Rt,Xe,qn,_t,mt,ti,ke,Xe._endClamp&&"_endClamp"))||-.001,$n=0,qi=pr;qi--;)Lt=_triggers[qi],pn=Lt.pin,pn&&Lt.start-Lt._pinPush<=on&&!ke&&Lt.end>0&&(Di=Lt.end-(Xe._startClamp?Math.max(0,Lt.start):Lt.start),(pn===Ee&&Lt.start-Lt._pinPush<on||pn===vi)&&isNaN(Ei)&&($n+=Di*(1-Lt.progress)),pn===Ae&&(gi+=Di));if(on+=$n,pt+=$n,Xe._startClamp&&(Xe._startClamp+=$n),Xe._endClamp&&!_refreshingAll&&(Xe._endClamp=pt||-.001,pt=Math.min(pt,_maxScroll(Ze,He))),Qe=pt-on||(on-=.01)&&.001,si&&(Et=gsap.utils.clamp(0,1,gsap.utils.normalize(on,pt,mn))),Xe._pinPush=gi,Sn&&$n&&(Di={},Di[He.a]="+="+$n,vi&&(Di[He.p]="-="+bt()),gsap.set([Sn,Nt],Di)),Ae&&!(_clampingMax&&Xe.end>=_maxScroll(Ze,He)))Di=_getComputedStyle(Ae),jt=He===_vertical,Ot=bt(),Jt=parseFloat(zt(He.a))+gi,!ti&&pt>1&&(Vn=(at?_doc.scrollingElement||_docEl:Ze).style,Vn={style:Vn,value:Vn["overflow"+He.a.toUpperCase()]},at&&_getComputedStyle(_body)["overflow"+He.a.toUpperCase()]!=="scroll"&&(Vn.style["overflow"+He.a.toUpperCase()]="scroll")),_swapPinIn(Ae,Mt,Di),St=_getState(Ae),it=_getBounds(Ae,!0),En=mt&&_getScrollFunc(Ze,jt?_horizontal:_vertical)(),Re?(cn=[Re+He.os2,Qe+gi+_px],cn.t=Mt,qi=Re===_padding?_getSize(Ae,He)+Qe+gi:0,qi&&(cn.push(He.d,qi+_px),Mt.style.flexBasis!=="auto"&&(Mt.style.flexBasis=qi+_px)),_setState(cn),vi&&_triggers.forEach(function(ni){ni.pin===vi&&ni.vars.pinSpacing!==!1&&(ni._subPinOffset=!0)}),mt&&bt(mn)):(qi=_getSize(Ae,He),qi&&Mt.style.flexBasis!=="auto"&&(Mt.style.flexBasis=qi+_px)),mt&&(Ct={top:it.top+(jt?Ot-on:En)+_px,left:it.left+(jt?En:Ot-on)+_px,boxSizing:"border-box",position:"fixed"},Ct[_width]=Ct["max"+_Width]=Math.ceil(it.width)+_px,Ct[_height]=Ct["max"+_Height]=Math.ceil(it.height)+_px,Ct[_margin]=Ct[_margin+_Top]=Ct[_margin+_Right]=Ct[_margin+_Bottom]=Ct[_margin+_Left]="0",Ct[_padding]=Di[_padding],Ct[_padding+_Top]=Di[_padding+_Top],Ct[_padding+_Right]=Di[_padding+_Right],Ct[_padding+_Bottom]=Di[_padding+_Bottom],Ct[_padding+_Left]=Di[_padding+_Left],ct=_copyState(Ke,Ct,$e),_refreshingAll&&bt(0)),ce?(Rn=ce._initted,_suppressOverwrites(1),ce.render(ce.duration(),!0,!0),Mn=zt(He.a)-Jt+Qe+gi,hn=Math.abs(Qe-Mn)>1,mt&&hn&&ct.splice(ct.length-2,2),ce.render(0,!0,!0),Rn||ce.invalidate(!0),ce.parent||ce.totalTime(ce.totalTime()),_suppressOverwrites(0)):Mn=Qe,Vn&&(Vn.value?Vn.style["overflow"+He.a.toUpperCase()]=Vn.value:Vn.style.removeProperty("overflow-"+He.a));else if(Ee&&bt()&&!ke)for(it=Ee.parentNode;it&&it!==_body;)it._pinOffset&&(on-=it._pinOffset,pt-=it._pinOffset),it=it.parentNode;Dn&&Dn.forEach(function(ni){return ni.revert(!1,!0)}),Xe.start=on,Xe.end=pt,tn=Wt=_refreshingAll?mn:bt(),!ke&&!_refreshingAll&&(tn<mn&&bt(mn),Xe.scroll.rec=0),Xe.revert(!1,!0),gt=_getTime(),an&&(st=-1,an.restart(!0)),_refreshing=0,ce&&tt&&(ce._initted||un)&&ce.progress()!==un&&ce.progress(un||0,!0).render(ce.time(),!0,!0),(si||Et!==Xe.progress||ke||Be||ce&&!ce._initted)&&(ce&&!tt&&ce.totalProgress(ke&&on<-.001&&!Et?gsap.utils.normalize(on,pt,0):Et,!0),Xe.progress=si||(tn-on)/Qe===Et?0:Et),Ae&&Re&&(Mt._pinOffset=Math.round(Xe.progress*Mn)),xt&&xt.invalidate(),isNaN(zn)||(zn-=gsap.getProperty(ht,He.p),Gn-=gsap.getProperty(Rt,He.p),_shiftMarker(ht,He,zn),_shiftMarker(Sn,He,zn-(In||0)),_shiftMarker(Rt,He,Gn),_shiftMarker(Nt,He,Gn-(In||0))),si&&!_refreshingAll&&Xe.update(),_e&&!_refreshingAll&&!Bt&&(Bt=!0,_e(Xe),Bt=!1)}},Xe.getVelocity=function(){return(bt()-Wt)/(_getTime()-_time2)*1e3||0},Xe.endAnimation=function(){_endAnimation(Xe.callbackAnimation),ce&&(xt?xt.progress(1):ce.paused()?tt||_endAnimation(ce,Xe.direction<0,1):_endAnimation(ce,ce.reversed()))},Xe.labelToScroll=function(_n){return ce&&ce.labels&&(on||Xe.refresh()||on)+ce.labels[_n]/ce.duration()*Qe||0},Xe.getTrailing=function(_n){var On=_triggers.indexOf(Xe),Bn=Xe.direction>0?_triggers.slice(0,On).reverse():_triggers.slice(On+1);return(_isString(_n)?Bn.filter(function(In){return In.vars.preventOverlaps===_n}):Bn).filter(function(In){return Xe.direction>0?In.end<=on:In.start>=pt})},Xe.update=function(_n,On,Bn){if(!(ke&&!Bn&&!_n)){var In=_refreshingAll===!0?mn:Xe.scroll(),Ri=_n?0:(In-on)/Qe,qn=Ri<0?0:Ri>1?1:Ri||0,ti=Xe.progress,si,$n,gi,oi,or,Ei,vi,pr;if(On&&(Wt=tn,tn=ke?bt():In,Fe&&(Xn=Tn,Tn=ce&&!tt?ce.totalProgress():qn)),De&&Ae&&!_refreshing&&!_startup&&_lastScrollTime&&(!qn&&on<In+(In-Wt)/(_getTime()-_time2)*De?qn=1e-4:qn===1&&pt>In+(In-Wt)/(_getTime()-_time2)*De&&(qn=.9999)),qn!==ti&&Xe.enabled){if(si=Xe.isActive=!!qn&&qn<1,$n=!!ti&&ti<1,Ei=si!==$n,or=Ei||!!qn!=!!ti,Xe.direction=qn>ti?1:-1,Xe.progress=qn,or&&!_refreshing&&(gi=qn&&!ti?0:qn===1?1:ti===1?2:3,tt&&(oi=!Ei&&rt[gi+1]!=="none"&&rt[gi+1]||rt[gi],pr=ce&&(oi==="complete"||oi==="reset"||oi in ce))),je&&(Ei||pr)&&(pr||be||!ce)&&(_isFunction(je)?je(Xe):Xe.getTrailing(je).forEach(function(Ot){return Ot.endAnimation()})),tt||(xt&&!_refreshing&&!_startup?(xt._dp._time-xt._start!==xt._time&&xt.render(xt._dp._time-xt._start),xt.resetTo?xt.resetTo("totalProgress",qn,ce._tTime/ce._tDur):(xt.vars.totalProgress=qn,xt.invalidate().restart())):ce&&ce.totalProgress(qn,!!(_refreshing&&(gt||_n)))),Ae){if(_n&&Re&&(Mt.style[Re+He.os2]=rn),!mt)$t(_round(Jt+Mn*qn));else if(or){if(vi=!_n&&qn>ti&&pt+1>In&&In+1>=_maxScroll(Ze,He),$e)if(!_n&&(si||vi)){var qi=_getBounds(Ae,!0),Di=In-on;_reparent(Ae,_body,qi.top+(He===_vertical?Di:0)+_px,qi.left+(He===_vertical?0:Di)+_px)}else _reparent(Ae,Mt);_setState(si||vi?ct:St),hn&&qn<1&&si||$t(Jt+(qn===1&&!vi?Mn:0))}}Fe&&!Dt.tween&&!_refreshing&&!_startup&&an.restart(!0),de&&(Ei||Ie&&qn&&(qn<1||!_limitCallbacks))&&_toArray(de.targets).forEach(function(Ot){return Ot.classList[si||Ie?"add":"remove"](de.className)}),fe&&!tt&&!_n&&fe(Xe),or&&!_refreshing?(tt&&(pr&&(oi==="complete"?ce.pause().totalProgress(1):oi==="reset"?ce.restart(!0).pause():oi==="restart"?ce.restart(!0):ce[oi]()),fe&&fe(Xe)),(Ei||!_limitCallbacks)&&(me&&Ei&&_callback(Xe,me),Ye[gi]&&_callback(Xe,Ye[gi]),Ie&&(qn===1?Xe.kill(!1,1):Ye[gi]=0),Ei||(gi=qn===1?1:3,Ye[gi]&&_callback(Xe,Ye[gi]))),We&&!si&&Math.abs(Xe.getVelocity())>(_isNumber(We)?We:2500)&&(_endAnimation(Xe.callbackAnimation),xt?xt.progress(1):_endAnimation(ce,oi==="reverse"?1:!qn,1))):tt&&fe&&!_refreshing&&fe(Xe)}if(Qt){var it=ke?In/ke.duration()*(ke._caScrollDist||0):In;vn(it+(ht._isFlipped?1:0)),Qt(it)}Un&&Un(-In/ke.duration()*(ke._caScrollDist||0))}},Xe.enable=function(_n,On){Xe.enabled||(Xe.enabled=!0,_addListener(Ze,"resize",_onResize),at||_addListener(Ze,"scroll",_onScroll),et&&_addListener(se,"refreshInit",et),_n!==!1&&(Xe.progress=Et=0,tn=Wt=st=bt()),On!==!1&&Xe.refresh())},Xe.getTween=function(_n){return _n&&Dt?Dt.tween:xt},Xe.setPositions=function(_n,On,Bn,In){if(ke){var Ri=ke.scrollTrigger,qn=ke.duration(),ti=Ri.end-Ri.start;_n=Ri.start+ti*_n/qn,On=Ri.start+ti*On/qn}Xe.refresh(!1,!1,{start:_keepClamp(_n,Bn&&!!Xe._startClamp),end:_keepClamp(On,Bn&&!!Xe._endClamp)},In),Xe.update()},Xe.adjustPinSpacing=function(_n){if(cn&&_n){var On=cn.indexOf(He.d)+1;cn[On]=parseFloat(cn[On])+_n+_px,cn[1]=parseFloat(cn[1])+_n+_px,_setState(cn)}},Xe.disable=function(_n,On){if(Xe.enabled&&(_n!==!1&&Xe.revert(!0,!0),Xe.enabled=Xe.isActive=!1,On||xt&&xt.pause(),mn=0,nn&&(nn.uncache=1),et&&_removeListener(se,"refreshInit",et),an&&(an.pause(),Dt.tween&&Dt.tween.kill()&&(Dt.tween=0)),!at)){for(var Bn=_triggers.length;Bn--;)if(_triggers[Bn].scroller===Ze&&_triggers[Bn]!==Xe)return;_removeListener(Ze,"resize",_onResize),at||_removeListener(Ze,"scroll",_onScroll)}},Xe.kill=function(_n,On){Xe.disable(_n,On),xt&&!On&&xt.kill(),pe&&delete _ids[pe];var Bn=_triggers.indexOf(Xe);Bn>=0&&_triggers.splice(Bn,1),Bn===_i&&_direction>0&&_i--,Bn=0,_triggers.forEach(function(In){return In.scroller===Xe.scroller&&(Bn=1)}),Bn||_refreshingAll||(Xe.scroll.rec=0),ce&&(ce.scrollTrigger=null,_n&&ce.revert({kill:!1}),On||ce.kill()),Sn&&[Sn,Nt,ht,Rt].forEach(function(In){return In.parentNode&&In.parentNode.removeChild(In)}),_primary===Xe&&(_primary=0),Ae&&(nn&&(nn.uncache=1),Bn=0,_triggers.forEach(function(In){return In.pin===Ae&&Bn++}),Bn||(nn.spacer=0)),oe.onKill&&oe.onKill(Xe)},_triggers.push(Xe),Xe.enable(!1,!1),Hn&&Hn(Xe),ce&&ce.add&&!Qe){var Fn=Xe.update;Xe.update=function(){Xe.update=Fn,_scrollers.cache++,on||pt||Xe.refresh()},gsap.delayedCall(.01,Xe.update),Qe=.01,on=pt=0}else Xe.refresh();Ae&&_queueRefreshAll()},se.register=function(oe){return _coreInitted||(gsap=oe||_getGSAP(),_windowExists()&&window.document&&se.enable(),_coreInitted=_enabled),_coreInitted},se.defaults=function(oe){if(oe)for(var ce in oe)_defaults[ce]=oe[ce];return _defaults},se.disable=function(oe,ce){_enabled=0,_triggers.forEach(function(fe){return fe[ce?"kill":"disable"](oe)}),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var ue=0;ue<_scrollers.length;ue+=3)_wheelListener(_removeListener,_scrollers[ue],_scrollers[ue+1]),_wheelListener(_removeListener,_scrollers[ue],_scrollers[ue+2])},se.enable=function(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_context=gsap.core.context||_passThrough,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,_scrollRestoration=_win.history.scrollRestoration||"auto",_lastScroll=_win.pageYOffset||0,gsap.core.globals("ScrollTrigger",se),_body)){_enabled=1,_div100vh=document.createElement("div"),_div100vh.style.height="100vh",_div100vh.style.position="absolute",_refresh100vh(),_rafBugFix(),Observer.register(gsap),se.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_ignoreMobileResize=Observer.isTouch===1,_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap.matchMedia?(se.matchMedia=function(me){var _e=gsap.matchMedia(),be;for(be in me)_e.add(be,me[be]);return _e},gsap.addEventListener("matchMediaInit",function(){return _revertAll()}),gsap.addEventListener("matchMediaRevert",function(){return _revertRecorded()}),gsap.addEventListener("matchMedia",function(){_refreshAll(0,1),_dispatch("matchMedia")}),gsap.matchMedia().add("(orientation: portrait)",function(){return _setBaseDimensions(),_setBaseDimensions})):console.warn("Requires GSAP 3.11.0 or later"),_setBaseDimensions(),_addListener(_doc,"scroll",_onScroll);var oe=_body.hasAttribute("style"),ce=_body.style,ue=ce.borderTopStyle,fe=gsap.core.Animation.prototype,de,pe;for(fe.revert||Object.defineProperty(fe,"revert",{value:function(){return this.time(-.01,!0)}}),ce.borderTopStyle="solid",de=_getBounds(_body),_vertical.m=Math.round(de.top+_vertical.sc())||0,_horizontal.m=Math.round(de.left+_horizontal.sc())||0,ue?ce.borderTopStyle=ue:ce.removeProperty("border-top-style"),oe||(_body.setAttribute("style",""),_body.removeAttribute("style")),_syncInterval=setInterval(_sync,250),gsap.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var me=_win.innerWidth,_e=_win.innerHeight;_doc.hidden?(_prevWidth=me,_prevHeight=_e):(_prevWidth!==me||_prevHeight!==_e)&&_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach(function(me){return me.enable(0,1)}),pe=0;pe<_scrollers.length;pe+=3)_wheelListener(_removeListener,_scrollers[pe],_scrollers[pe+1]),_wheelListener(_removeListener,_scrollers[pe],_scrollers[pe+2])}},se.config=function(oe){"limitCallbacks"in oe&&(_limitCallbacks=!!oe.limitCallbacks);var ce=oe.syncInterval;ce&&clearInterval(_syncInterval)||(_syncInterval=ce)&&setInterval(_sync,ce),"ignoreMobileResize"in oe&&(_ignoreMobileResize=se.isTouch===1&&oe.ignoreMobileResize),"autoRefreshEvents"in oe&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,oe.autoRefreshEvents||"none"),_ignoreResize=(oe.autoRefreshEvents+"").indexOf("resize")===-1)},se.scrollerProxy=function(oe,ce){var ue=_getTarget(oe),fe=_scrollers.indexOf(ue),de=_isViewport(ue);~fe&&_scrollers.splice(fe,de?6:2),ce&&(de?_proxies.unshift(_win,ce,_body,ce,_docEl,ce):_proxies.unshift(ue,ce))},se.clearMatchMedia=function(oe){_triggers.forEach(function(ce){return ce._ctx&&ce._ctx.query===oe&&ce._ctx.kill(!0,!0)})},se.isInViewport=function(oe,ce,ue){var fe=(_isString(oe)?_getTarget(oe):oe).getBoundingClientRect(),de=fe[ue?_width:_height]*ce||0;return ue?fe.right-de>0&&fe.left+de<_win.innerWidth:fe.bottom-de>0&&fe.top+de<_win.innerHeight},se.positionInViewport=function(oe,ce,ue){_isString(oe)&&(oe=_getTarget(oe));var fe=oe.getBoundingClientRect(),de=fe[ue?_width:_height],pe=ce==null?de/2:ce in _keywords?_keywords[ce]*de:~ce.indexOf("%")?parseFloat(ce)*de/100:parseFloat(ce)||0;return ue?(fe.left+pe)/_win.innerWidth:(fe.top+pe)/_win.innerHeight},se.killAll=function(oe){if(_triggers.slice(0).forEach(function(ue){return ue.vars.id!=="ScrollSmoother"&&ue.kill()}),oe!==!0){var ce=_listeners.killAll||[];_listeners={},ce.forEach(function(ue){return ue()})}},se}();ScrollTrigger.version="3.12.7";ScrollTrigger.saveStyles=function(se){return se?_toArray(se).forEach(function(te){if(te&&te.style){var ae=_savedStyles.indexOf(te);ae>=0&&_savedStyles.splice(ae,5),_savedStyles.push(te,te.style.cssText,te.getBBox&&te.getAttribute("transform"),gsap.core.getCache(te),_context())}}):_savedStyles};ScrollTrigger.revert=function(se,te){return _revertAll(!se,te)};ScrollTrigger.create=function(se,te){return new ScrollTrigger(se,te)};ScrollTrigger.refresh=function(se){return se?_onResize(!0):(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)};ScrollTrigger.update=function(se){return++_scrollers.cache&&_updateAll(se===!0?2:0)};ScrollTrigger.clearScrollMemory=_clearScrollMemory;ScrollTrigger.maxScroll=function(se,te){return _maxScroll(se,te?_horizontal:_vertical)};ScrollTrigger.getScrollFunc=function(se,te){return _getScrollFunc(_getTarget(se),te?_horizontal:_vertical)};ScrollTrigger.getById=function(se){return _ids[se]};ScrollTrigger.getAll=function(){return _triggers.filter(function(se){return se.vars.id!=="ScrollSmoother"})};ScrollTrigger.isScrolling=function(){return!!_lastScrollTime};ScrollTrigger.snapDirectional=_snapDirectional;ScrollTrigger.addEventListener=function(se,te){var ae=_listeners[se]||(_listeners[se]=[]);~ae.indexOf(te)||ae.push(te)};ScrollTrigger.removeEventListener=function(se,te){var ae=_listeners[se],oe=ae&&ae.indexOf(te);oe>=0&&ae.splice(oe,1)};ScrollTrigger.batch=function(se,te){var ae=[],oe={},ce=te.interval||.016,ue=te.batchMax||1e9,fe=function(me,_e){var be=[],Ee=[],Ae=gsap.delayedCall(ce,function(){_e(be,Ee),be=[],Ee=[]}).pause();return function(Re){be.length||Ae.restart(!0),be.push(Re.trigger),Ee.push(Re),ue<=be.length&&Ae.progress(1)}},de;for(de in te)oe[de]=de.substr(0,2)==="on"&&_isFunction(te[de])&&de!=="onRefreshInit"?fe(de,te[de]):te[de];return _isFunction(ue)&&(ue=ue(),_addListener(ScrollTrigger,"refresh",function(){return ue=te.batchMax()})),_toArray(se).forEach(function(pe){var me={};for(de in oe)me[de]=oe[de];me.trigger=pe,ae.push(ScrollTrigger.create(me))}),ae};var _clampScrollAndGetDurationMultiplier=function se(te,ae,oe,ce){return ae>ce?te(ce):ae<0&&te(0),oe>ce?(ce-ae)/(oe-ae):oe<0?ae/(ae-oe):1},_allowNativePanning=function se(te,ae){ae===!0?te.style.removeProperty("touch-action"):te.style.touchAction=ae===!0?"auto":ae?"pan-"+ae+(Observer.isTouch?" pinch-zoom":""):"none",te===_docEl&&se(_body,ae)},_overflow={auto:1,scroll:1},_nestedScroll=function se(te){var ae=te.event,oe=te.target,ce=te.axis,ue=(ae.changedTouches?ae.changedTouches[0]:ae).target,fe=ue._gsap||gsap.core.getCache(ue),de=_getTime(),pe;if(!fe._isScrollT||de-fe._isScrollT>2e3){for(;ue&&ue!==_body&&(ue.scrollHeight<=ue.clientHeight&&ue.scrollWidth<=ue.clientWidth||!(_overflow[(pe=_getComputedStyle(ue)).overflowY]||_overflow[pe.overflowX]));)ue=ue.parentNode;fe._isScroll=ue&&ue!==oe&&!_isViewport(ue)&&(_overflow[(pe=_getComputedStyle(ue)).overflowY]||_overflow[pe.overflowX]),fe._isScrollT=de}(fe._isScroll||ce==="x")&&(ae.stopPropagation(),ae._gsapAllow=!0)},_inputObserver=function se(te,ae,oe,ce){return Observer.create({target:te,capture:!0,debounce:!1,lockAxis:!0,type:ae,onWheel:ce=ce&&_nestedScroll,onPress:ce,onDrag:ce,onScroll:ce,onEnable:function(){return oe&&_addListener(_doc,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_inputIsFocused,_captureInputs=function se(te){var ae=_inputExp.test(te.target.tagName);(ae||_inputIsFocused)&&(te._gsapAllow=!0,_inputIsFocused=ae)},_getScrollNormalizer=function se(te){_isObject(te)||(te={}),te.preventDefault=te.isNormalizer=te.allowClicks=!0,te.type||(te.type="wheel,touch"),te.debounce=!!te.debounce,te.id=te.id||"normalizer";var ae=te,oe=ae.normalizeScrollX,ce=ae.momentum,ue=ae.allowNestedScroll,fe=ae.onRelease,de,pe,me=_getTarget(te.target)||_docEl,_e=gsap.core.globals().ScrollSmoother,be=_e&&_e.get(),Ee=_fixIOSBug&&(te.content&&_getTarget(te.content)||be&&te.content!==!1&&!be.smooth()&&be.content()),Ae=_getScrollFunc(me,_vertical),Re=_getScrollFunc(me,_horizontal),Be=1,De=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,Oe=0,Pe=_isFunction(ce)?function(){return ce(de)}:function(){return ce||2.8},Ie,Fe,$e=_inputObserver(me,te.type,!0,ue),Ve=function(){return Fe=!1},ke=_passThrough,We=_passThrough,je=function(){pe=_maxScroll(me,_vertical),We=_clamp(_fixIOSBug?1:0,pe),oe&&(ke=_clamp(0,_maxScroll(me,_horizontal))),Ie=_refreshID},He=function(){Ee._gsap.y=_round(parseFloat(Ee._gsap.y)+Ae.offset)+"px",Ee.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(Ee._gsap.y)+", 0, 1)",Ae.offset=Ae.cacheID=0},tt=function(){if(Fe){requestAnimationFrame(Ve);var lt=_round(de.deltaY/2),_t=We(Ae.v-lt);if(Ee&&_t!==Ae.v+Ae.offset){Ae.offset=_t-Ae.v;var Xe=_round((parseFloat(Ee&&Ee._gsap.y)||0)-Ae.offset);Ee.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Xe+", 0, 1)",Ee._gsap.y=Xe+"px",Ae.cacheID=_scrollers.cache,_updateAll()}return!0}Ae.offset&&He(),Fe=!0},Ze,nt,at,mt,Ye=function(){je(),Ze.isActive()&&Ze.vars.scrollY>pe&&(Ae()>pe?Ze.progress(1)&&Ae(pe):Ze.resetTo("scrollY",pe))};return Ee&&gsap.set(Ee,{y:"+=0"}),te.ignoreCheck=function(rt){return _fixIOSBug&&rt.type==="touchmove"&&tt()||Be>1.05&&rt.type!=="touchstart"||de.isGesturing||rt.touches&&rt.touches.length>1},te.onPress=function(){Fe=!1;var rt=Be;Be=_round((_win.visualViewport&&_win.visualViewport.scale||1)/De),Ze.pause(),rt!==Be&&_allowNativePanning(me,Be>1.01?!0:oe?!1:"x"),nt=Re(),at=Ae(),je(),Ie=_refreshID},te.onRelease=te.onGestureStart=function(rt,lt){if(Ae.offset&&He(),!lt)mt.restart(!0);else{_scrollers.cache++;var _t=Pe(),Xe,et;oe&&(Xe=Re(),et=Xe+_t*.05*-rt.velocityX/.227,_t*=_clampScrollAndGetDurationMultiplier(Re,Xe,et,_maxScroll(me,_horizontal)),Ze.vars.scrollX=ke(et)),Xe=Ae(),et=Xe+_t*.05*-rt.velocityY/.227,_t*=_clampScrollAndGetDurationMultiplier(Ae,Xe,et,_maxScroll(me,_vertical)),Ze.vars.scrollY=We(et),Ze.invalidate().duration(_t).play(.01),(_fixIOSBug&&Ze.vars.scrollY>=pe||Xe>=pe-1)&&gsap.to({},{onUpdate:Ye,duration:_t})}fe&&fe(rt)},te.onWheel=function(){Ze._ts&&Ze.pause(),_getTime()-Oe>1e3&&(Ie=0,Oe=_getTime())},te.onChange=function(rt,lt,_t,Xe,et){if(_refreshID!==Ie&&je(),lt&&oe&&Re(ke(Xe[2]===lt?nt+(rt.startX-rt.x):Re()+lt-Xe[1])),_t){Ae.offset&&He();var ft=et[2]===_t,yt=ft?at+rt.startY-rt.y:Ae()+_t-et[1],st=We(yt);ft&&yt!==st&&(at+=st-yt),Ae(st)}(_t||lt)&&_updateAll()},te.onEnable=function(){_allowNativePanning(me,oe?!1:"x"),ScrollTrigger.addEventListener("refresh",Ye),_addListener(_win,"resize",Ye),Ae.smooth&&(Ae.target.style.scrollBehavior="auto",Ae.smooth=Re.smooth=!1),$e.enable()},te.onDisable=function(){_allowNativePanning(me,!0),_removeListener(_win,"resize",Ye),ScrollTrigger.removeEventListener("refresh",Ye),$e.kill()},te.lockAxis=te.lockAxis!==!1,de=new Observer(te),de.iOS=_fixIOSBug,_fixIOSBug&&!Ae()&&Ae(1),_fixIOSBug&&gsap.ticker.add(_passThrough),mt=de._dc,Ze=gsap.to(de,{ease:"power4",paused:!0,inherit:!1,scrollX:oe?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:_interruptionTracker(Ae,Ae(),function(){return Ze.pause()})},onUpdate:_updateAll,onComplete:mt.vars.onComplete}),de};ScrollTrigger.sort=function(se){if(_isFunction(se))return _triggers.sort(se);var te=_win.pageYOffset||0;return ScrollTrigger.getAll().forEach(function(ae){return ae._sortY=ae.trigger?te+ae.trigger.getBoundingClientRect().top:ae.start+_win.innerHeight}),_triggers.sort(se||function(ae,oe){return(ae.vars.refreshPriority||0)*-1e6+(ae.vars.containerAnimation?1e6:ae._sortY)-((oe.vars.containerAnimation?1e6:oe._sortY)+(oe.vars.refreshPriority||0)*-1e6)})};ScrollTrigger.observe=function(se){return new Observer(se)};ScrollTrigger.normalizeScroll=function(se){if(typeof se>"u")return _normalizer;if(se===!0&&_normalizer)return _normalizer.enable();if(se===!1){_normalizer&&_normalizer.kill(),_normalizer=se;return}var te=se instanceof Observer?se:_getScrollNormalizer(se);return _normalizer&&_normalizer.target===te.target&&_normalizer.kill(),_isViewport(te.target)&&(_normalizer=te),te};ScrollTrigger.core={_getVelocityProp,_inputObserver,_scrollers,_proxies,bridge:{ss:function se(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function se(){return _refreshing}}};_getGSAP()&&gsap.registerPlugin(ScrollTrigger);function Heading(se){const{nodes:te,materials:ae}=useGLTF("/models/site-headings.glb"),oe=React.useRef();React.useRef();const ce=React.useRef();return useFrame(()=>{if(oe.current){const ue=Date.now()*.001,fe=Math.sin(ue*.7)*.5+Math.sin(ue*1.3)*.3,de=Math.cos(ue*.5)*.4+Math.cos(ue*1.1)*.2;oe.current.position.x=Math.sin(ue)*2+fe,oe.current.position.z=Math.cos(ue)*.6+de,oe.current.position.y=Math.sin(ue*.3)*.2}}),jsxRuntimeExports.jsxs("group",{...se,dispose:null,children:[jsxRuntimeExports.jsx("pointLight",{ref:oe,position:[0,0,1],intensity:5,color:"#ffffff"}),jsxRuntimeExports.jsxs("group",{ref:ce,position:[0,0,0],children:[jsxRuntimeExports.jsx("mesh",{geometry:te.Text008.geometry,material:ae.blau,position:[1.963,-.031,-.366],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text009.geometry,material:ae.weiß,position:[-1.388,-.025,-.386],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text011.geometry,material:ae.weiß,position:[1.951,-.013,-.366],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text044.geometry,material:ae.blau,position:[1.443,-.031,-.474],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text045.geometry,material:ae.blau,position:[.792,-.031,-.369],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text046.geometry,material:ae.blau,position:[.256,-.031,-.366],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text047.geometry,material:ae.blau,position:[-.187,-.031,-.305],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text048.geometry,material:ae.blau,position:[-.784,-.031,-.363],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text050.geometry,material:ae.blau,position:[-1.98,-.031,-.421],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text067.geometry,material:ae.weiß,position:[1.443,-.013,-.48],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text068.geometry,material:ae.weiß,position:[.782,-.013,-.368],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text069.geometry,material:ae.weiß,position:[.244,-.013,-.366],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text070.geometry,material:ae.weiß,position:[-.184,-.013,-.297],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text071.geometry,material:ae.weiß,position:[-.784,-.013,-.363],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text073.geometry,material:ae.weiß,position:[-1.979,-.013,-.425],scale:[1,.423,1]}),jsxRuntimeExports.jsx("mesh",{geometry:te.Text074.geometry,material:ae.blau,position:[-1.383,-.044,-.377],scale:[1,.423,1]})]})]})}useGLTF.preload("/models/site-headings.glb");const getApiData=async()=>{const te=await fetchImageData("https://webhook.creative-directors.com/webhook/7bd04d17-2d35-49e1-a2aa-10b5c8ee3429");console.log("Endpoint Response:",te);const ae=[{position:[0,0,1.5],rotation:[0,0,0]},{position:[-.8,0,-.6],rotation:[0,0,0]},{position:[.8,0,-.6],rotation:[0,0,0]},{position:[-1.75,0,.25],rotation:[0,Math.PI/2.5,0]},{position:[-2.15,0,1.5],rotation:[0,Math.PI/2.5,0]},{position:[-2,0,2.75],rotation:[0,Math.PI/2.5,0]},{position:[1.75,0,.25],rotation:[0,-Math.PI/2.5,0]},{position:[2.15,0,1.5],rotation:[0,-Math.PI/2.5,0]},{position:[2,0,2.75],rotation:[0,-Math.PI/2.5,0]}];return te.slice(0,9).map((ce,ue)=>({position:ae[ue].position,rotation:ae[ue].rotation,url:ce.images[0]||"https://placehold.co/600x400",name:ce.name}))},fetchImageData=async se=>{try{const te=await fetch(se);if(!te.ok)throw new Error(`Failed to fetch image data: ${te.status} ${te.statusText}`);return await te.json()}catch(te){return console.error("Error fetching image data:",te),[]}};gsapWithCSS.registerPlugin(ScrollTrigger);const section1Position=new Vector3(0,8,5),section2Position=new Vector3(0,.8,7.5),section2LookAtTarget=new Vector3(0,0,-5);function CameraUpdater({lookAtTarget:se,isZoomed:te}){const{camera:ae}=useThree();return useFrame(()=>{te||ae.lookAt(se.current)}),null}function SceneSetup({projectTextRef:se,isZoomed:te}){const{camera:ae}=useThree(),oe=reactExports.useRef(new Vector3(0,8,-10)).current,ce=reactExports.useRef(new Vector3().copy(oe)),ue=reactExports.useRef(null);return reactExports.useEffect(()=>{ae.position.copy(section1Position),ae.lookAt(ce.current);const fe=gsapWithCSS.timeline({scrollTrigger:{trigger:document.documentElement,start:"top top",end:"+=100%",scrub:1,snap:{snapTo:"labels",duration:{min:.2,max:1},delay:.1,ease:"power1.inOut"},onInit:de=>ue.current=de}});return fe.addLabel("section1").to(ae.position,{x:section1Position.x,y:section1Position.y,z:section1Position.z,duration:1},"section1").to(ce.current,{x:oe.x,y:oe.y,z:oe.z,duration:1},"section1"),fe.addLabel("section2").to(ae.position,{x:section2Position.x,y:section2Position.y,z:section2Position.z,duration:1},"section2").to(ce.current,{x:section2LookAtTarget.x,y:section2LookAtTarget.y,z:section2LookAtTarget.z,duration:1},"section2"),()=>{var de;(de=ue.current)==null||de.kill(),fe.kill()}},[ae,oe]),reactExports.useEffect(()=>{const fe=ue.current;fe&&(te?(console.log("Disabling ScrollTrigger"),fe.disable(!1)):(console.log("Enabling ScrollTrigger and updating"),fe.enable(),fe.update()))},[te]),jsxRuntimeExports.jsx(CameraUpdater,{lookAtTarget:ce,isZoomed:te})}const App=({})=>{const se=reactExports.useRef(),te=reactExports.useRef(),[ae,oe]=reactExports.useState(!1),[ce,ue]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const de=await getApiData();ue(de)})()},[]),console.log("Images:",ce),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(Canvas$1,{shadows:!0,dpr:[1,1.5],gl:{antialias:!0},camera:{fov:50,position:section1Position.toArray()},flat:!0,children:[jsxRuntimeExports.jsx("color",{attach:"background",args:["#000000"]}),jsxRuntimeExports.jsx("fog",{attach:"fog",args:["#000000",0,50]}),jsxRuntimeExports.jsx(SceneSetup,{projectTextRef:te,isZoomed:ae}),jsxRuntimeExports.jsx(Heading,{position:[.2,7.8,-5],scale:2.5,rotation:[Math.PI/2,0,0],castShadow:!0}),jsxRuntimeExports.jsx(InnerScene,{images:ce,ref:se,setIsZoomed:oe,section2Position,section2LookAtTarget}),jsxRuntimeExports.jsxs(dt,{children:[jsxRuntimeExports.jsx(qt,{eskil:!1,offset:.1,darkness:1.1}),jsxRuntimeExports.jsx(wt,{mipmapBlur:!0,luminanceThreshold:1,intensity:1})]})]})})},AnimatedMoon=({position:se,rotation:te,scale:ae})=>{const oe=reactExports.useRef(),ce=reactExports.useRef(),ue=reactExports.useRef(new TextureLoader().load("/terrain_color_4x_blobby.jpg",pe=>{pe.wrapS=pe.wrapT=RepeatWrapping,pe.repeat.set(1,1)})),fe=reactExports.useRef(new TextureLoader().load("/terrain_normal_4x_blobby.jpg",pe=>{pe.wrapS=pe.wrapT=RepeatWrapping,pe.repeat.set(1,1)})),de=reactExports.useRef(new TextureLoader().load("/terrain_height_4x_blobby.jpg"));return useFrame(pe=>{}),jsxRuntimeExports.jsxs("mesh",{ref:oe,name:"moon",position:se,rotation:te,scale:ae,children:[jsxRuntimeExports.jsx("planeGeometry",{args:[50,50,64,64]}),jsxRuntimeExports.jsx("meshPhysicalMaterial",{ref:ce,roughness:.8,metalness:.2,map:ue.current,normalMap:fe.current,displacementMap:de.current,displacementScale:8,displacementBias:0})]})},InnerScene=({images:se,setIsZoomed:te,section2Position:ae,section2LookAtTarget:oe})=>jsxRuntimeExports.jsxs("group",{name:"innerScene",children:[jsxRuntimeExports.jsx(Stars,{}),jsxRuntimeExports.jsx("ambientLight",{intensity:1}),jsxRuntimeExports.jsx("pointLight",{position:[2,5,4],intensity:50,color:"#ffffff",castShadow:!0,"shadow-mapSize":[1024,1024],"shadow-camera-near":.1,"shadow-camera-far":50,"shadow-camera-top":10,"shadow-camera-right":10,"shadow-camera-bottom":-10,"shadow-camera-left":-10,"shadow-radius":100,"shadow-bias":-1e-4}),jsxRuntimeExports.jsx(Kreaton,{position:[0,-.6,4],scale:.5,rotation:[0,Math.PI,0]}),jsxRuntimeExports.jsx(Armchair,{position:[0,-.6,4],scale:.5,rotation:[0,Math.PI,0],castShadow:!0,receiveShadow:!0}),jsxRuntimeExports.jsxs("group",{position:[0,-.5,0],children:[jsxRuntimeExports.jsx(Frames,{images:se,setIsZoomed:te,section2Position:ae,section2LookAtTarget:oe}),jsxRuntimeExports.jsx(AnimatedMoon,{position:[1,-.74,-3],rotation:[-Math.PI/2,0,-Math.PI/3],scale:.7})]}),jsxRuntimeExports.jsx(ContactShadows,{frames:1,opacity:1,scale:10,blur:1,far:10,position:[0,-.6,0],resolution:256,color:"#000000"})]});clientExports.createRoot(document.getElementById("projects-root-threed")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
